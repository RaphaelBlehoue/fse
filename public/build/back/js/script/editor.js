/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/build/back/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./assets/back/js/editor.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/back/js/editor.js":
/*!**********************************!*\
  !*** ./assets/back/js/editor.js ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic__ = __webpack_require__(/*! @ckeditor/ckeditor5-build-classic */ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic__);


__WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic___default.a.create(document.querySelector('.ckeditor'), {
    heading: {
        options: [{ model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' }, { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' }, { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }, { model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' }, { model: 'heading4', view: 'h4', title: 'Heading 4', class: 'ck-heading_heading4' }, { model: 'heading5', view: 'h5', title: 'Heading 5', class: 'ck-heading_heading5' }]
    },
    toolbar: ['heading', '|', 'bold', 'italic', 'link', 'Underline', 'bulletedList', 'numberedList', 'blockQuote', 'undo', 'redo']
}).then(function (editor) {
    window.editor = editor;
}).catch(function (err) {
    console.error(err.stack);
});

/***/ }),

/***/ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(function(e){e.en=Object.assign(e.en||{},{a:'Cannot upload file:',b:'Block quote',c:'Italic',d:'Bold',e:'Choose heading',f:'Heading',g:'image widget',h:'Enter image caption',i:'Full size image',j:'Side image',k:'Left aligned image',l:'Centered image',m:'Right aligned image',n:'Insert image',o:'Upload failed',p:'Link',q:'Numbered List',r:'Bulleted List',s:'Paragraph',t:'Heading 1',u:'Heading 2',v:'Heading 3',w:'Change image text alternative',x:'Unlink',y:'Edit link',z:'Open link in new tab',aa:'This link has no URL',ab:'Save',ac:'Cancel',ad:'Link URL',ae:'Upload in progress',af:'Rich Text Editor, %0',ag:'Rich Text Editor',ah:'Text alternative',ai:'Undo',aj:'Redo'})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e,t){ true?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.ClassicEditor=t():e.ClassicEditor=t()}('undefined'==typeof self?this:self,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=6)}([function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=g[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(c(n.parts[r],t))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(c(n.parts[r],t));g[n.id]={id:n.id,refs:1,parts:a}}}}function i(e,t){for(var o=[],n={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s=i[1],l=i[2],d=i[3],c={css:s,media:l,sourceMap:d};n[a]?n[a].parts.push(c):o.push(n[a]={id:a,parts:[c]})}return o}function r(e,t){var o=b(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var n=w[w.length-1];if('top'===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),w.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var i=b(e.insertInto+' '+e.insertAt.before);o.insertBefore(t,i)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=w.indexOf(e);0<=t&&w.splice(t,1)}function s(e){var t=document.createElement('style');return e.attrs.type='text/css',d(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',d(t,e.attrs),r(e,t),t}function d(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function c(e,t){var o,n,i,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var d=_++;o=k||(k=s(t)),n=m.bind(null,o,d,!1),i=m.bind(null,o,d,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=l(t),n=p.bind(null,o,t),i=function(){a(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(t),n=u.bind(null,o),i=function(){a(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function m(e,t,o,n){var i=o?'':n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function u(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute('media',n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function p(e,t,o){var n=o.css,i=o.sourceMap,r=t.convertToAbsoluteUrls===void 0&&i;(t.convertToAbsoluteUrls||r)&&(n=v(n)),i&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+' */');var a=new Blob([n],{type:'text/css'}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var g={},f=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){return document.querySelector(e)},b=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var o=h.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),k=null,_=0,w=[],v=o(13);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=i(e,t);return n(o,t),function(e){for(var r=[],a=0;a<o.length;a++){var s=o[a],l=g[s.id];l.refs--,r.push(l)}if(e){var d=i(e,t);n(d,t)}for(var a=0,l;a<r.length;a++)if(l=r[a],0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete g[l.id]}}};var y=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e,t,o){'use strict';(function(e,n){var i=o(8),r={function:!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,s=r[typeof e]&&e&&!e.nodeType?e:void 0,l=Object(i.a)(a&&s&&'object'==typeof n&&n),d=Object(i.a)(r[typeof self]&&self),c=Object(i.a)(r[typeof window]&&window),m=Object(i.a)(r[typeof this]&&this),u=l||c!==(m&&m.window)&&c||d||m||Function('return this')();t.a=u}).call(t,o(2)(e),o(7))},function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,'loaded',{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,'id',{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,'exports',{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z" fill="#000" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(63);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e,t,o){'use strict';function n(e){const t=e.match(/^([^:]+):/);return t?e+` Read more: ${ks}#error-${t[1]}\n`:e}function i(){let e='e';for(let t=0;8>t;t++)e+=as(65536*(1+Math.random())).toString(16).substring(1);return e}function r(e,t){return e[Cs]&&e[Cs][t]?e[Cs][t].emitter:null}function a(e,t){e[As]||(e[As]=t||i())}function s(e){return e[As]}function l(e){return e._events||Object.defineProperty(e,'_events',{value:{}}),e._events}function d(){return{callbacks:[],childEvents:[]}}function c(e,t){const o=l(e);if(o[t])return;let n=t,i=null;const r=[];for(;''!==n&&!o[n];)o[n]=d(),r.push(o[n]),i&&o[n].childEvents.push(i),i=n,n=n.substr(0,n.lastIndexOf(':'));if(''!==n){for(const e of r)e.callbacks=o[n].callbacks.slice();o[n].childEvents.push(i)}}function m(e,t){const o=l(e)[t];if(!o)return[];let n=[o.callbacks];for(let r=0;r<o.childEvents.length;r++){const t=m(e,o.childEvents[r]);n=n.concat(t)}return n}function u(e,t){let o;return e._events&&(o=e._events[t])&&o.callbacks.length?o.callbacks:-1<t.indexOf(':')?u(e,t.substr(0,t.lastIndexOf(':'))):null}function p(e,t,o){for(let[n,i]of e){i?'function'==typeof i&&(i=i(t.name)):i=t.name;const e=new vs(t.source,i);e.path=[...t.path],n.fire(e,...o)}}function g(e,t,o){const n=m(e,t);for(const r of n)for(let e=0;e<r.length;e++)r[e].callback==o&&(r.splice(e,1),e--)}function f(e,...t){t.forEach((t)=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((o)=>{if(!(o in e.prototype)){const n=Object.getOwnPropertyDescriptor(t,o);n.enumerable=!1,Object.defineProperty(e.prototype,o,n)}})})}function h(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function b(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function _(e){this.__data__=new Rs(e)}function w(e,t,o){var n=e[t];dl.call(e,t)&&Es(n,o)&&(o!==void 0||t in e)||(e[t]=o)}function v(e,t){return pl.call(e,t)||'object'==typeof e&&t in e&&null===ls(e)}function y(e){return ql(Object(e))}function x(e){return ld.call(e)}function C(e,t,o,n,i,r,a){var s;if(n&&(s=r?n(e,i,r,a):n(e)),void 0!==s)return s;if(!Vs(e))return e;var l=Sl(e);if(!l){var d=gd(e),c=d==Wd||d==Ud;if(Object(jd.a)(e))return zl(e,t);if(d==Hd||d==qd||c&&!r){if(ds(e))return r?e:{};if(s=zd(c?{}:e),!t)return Ul(e,Ll(s,e))}else{if(!Kd[d])return r?e:{};s=Md(e,d,C,t)}}else if(s=bd(e),!t)return jl(e,s);a||(a=new al);var m=a.get(e);if(m)return m;if(a.set(e,s),!l)var u=o?Gl(e):Bl(e);return sl(u||e,function(i,r){u&&(r=i,i=e[r]),cl(s,r,C(i,t,o,n,r,e,a))}),s}function A(e,t){const o=rs(e.length,t.length);for(let n=0;n<o;n++)if(e[n]!=t[n])return n;return e.length==t.length?'same':e.length<t.length?'prefix':'extension'}function T(e){const t=new Map;for(const o in e)t.set(o,e[o]);return t}function P(e){return!!(e&&e[Symbol.iterator])}function E(e,t){if('function'==typeof t)return t(e);const o={};return t.name&&(o.name=S(t.name,e.name),!o.name)?null:t.attributes&&(o.attributes=O(t.attributes,e),!o.attributes)?null:!(t.classes&&(o.classes=I(t.classes,e),!o.classes))&&!(t.styles&&(o.styles=R(t.styles,e),!o.styles))&&o}function S(e,t){return e instanceof RegExp?e.test(t):e===t}function O(e,t){const o=[];for(const n in e){const i=e[n];if(t.hasAttribute(n)){const e=t.getAttribute(n);if(!0===i)o.push(n);else if(i instanceof RegExp){if(i.test(e))o.push(n);else return null;}else if(e===i)o.push(n);else return null}else return null}return o}function I(e,t){const o=[];for(const n of e)if(n instanceof RegExp){const e=t.getClassNames();for(const t of e)n.test(t)&&o.push(t);if(0===o.length)return null}else if(t.hasClass(n))o.push(n);else return null;return o}function R(e,t){const o=[];for(const n in e){const i=e[n];if(t.hasStyle(n)){const e=t.getStyle(n);if(i instanceof RegExp){if(i.test(e))o.push(n);else return null;}else if(e===i)o.push(n);else return null}else return null}return o}function V(e){e=hs(e)?T(e):new Map(e);for(const[t,o]of e)null===o?e.delete(t):'string'!=typeof o&&e.set(t,o+'');return e}function F(e,t){let o=null,n=0,r=0,a=null;if(e.clear(),''!==t){';'!=t.charAt(t.length-1)&&(t+=';');for(let s=0;s<t.length;s++){const i=t.charAt(s);if(null===o)switch(i){case':':a||(a=t.substr(n,s-n),r=s+1);break;case'"':case'\'':o=i;break;case';':const l=t.substr(r,s-r);a&&e.set(a.trim(),l.trim()),a=null,n=s+1;}else i===o&&(o=null)}}}function N(e,t){const o=t.split(/\s+/);e.clear(),o.forEach((t)=>e.add(t))}function D(e){return'string'==typeof e?[new Qd(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Qd(e):e instanceof Yd?new Qd(e.data):e))}function M(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is('element','br'))return this.childCount;for(const t of e)if(!t.is('uiElement'))return null;return this.childCount}function B(e,t,o){if(!Vs(o))return!1;var n=typeof t;return!('number'==n?!(vl(o)&&Nl(t,o.length)):!('string'==n&&t in o))&&Es(o[t],e)}function L(e){e=null==e?e:Object(e);var t=[];for(var o in e)t.push(o);return t}function z(e){Vc in e||(Object.defineProperty(e,Vc,{value:new Map}),Object.defineProperty(e,Fc,{value:new Map}),Object.defineProperty(e,Nc,{value:new Map}))}function j(...e){const t=H(...e),o=Array.from(this._bindings.keys()),n=o.length;if(!t.callback&&1<t.to.length)throw new _s('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<n&&t.callback)throw new _s('observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.');t.to.forEach((e)=>{if(e.properties.length&&e.properties.length!==n)throw new _s('observable-bind-to-properties-length: The number of properties must match.');e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(o[0]).callback=t.callback),J(this._observable,this._to),G(this),this._bindProperties.forEach((e)=>{$(this._observable,e)})}function q(e,t,o){if(1<this._bindings.size)throw new _s('observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().');this.to(...W(e,t),o)}function W(e,t){const o=e.map((e)=>[e,t]);return Array.prototype.concat.apply([],o)}function U(e){return e.every((e)=>'string'==typeof e)}function H(...e){if(!e.length)throw new _s('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const t={to:[]};let o;return'function'==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach((e)=>{if('string'==typeof e)o.properties.push(e);else if('object'==typeof e)o={observable:e,properties:[]},t.to.push(o);else throw new _s('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),t}function K(e,t,o,n){const i=e[Fc],r=i.get(o),a=r||{};a[n]||(a[n]=new Set),a[n].add(t),r||i.set(o,a)}function G(e){let t;e._bindings.forEach((o,n)=>{e._to.forEach((i)=>{t=i.properties[o.callback?0:e._bindProperties.indexOf(n)],o.to.push([i.observable,t]),K(e._observable,o,i.observable,t)})})}function $(e,t){const o=e[Nc],n=o.get(t);let i;n.callback?i=n.callback.apply(e,n.to.map((e)=>e[0][e[1]])):(i=n.to[0],i=i[0][i[1]]),e.hasOwnProperty(t)?e[t]=i:e.set(t,i)}function J(e,t){t.forEach((t)=>{const o=e[Fc];let n;o.get(t.observable)||e.listenTo(t.observable,'change',(i,r)=>{n=o.get(t.observable)[r],n&&n.forEach((t)=>{$(e,t.property)})})})}function Q(e){return!!(e.item.is('attributeElement')||e.item.is('uiElement'))}function Y(e){let t=0;for(const o of e)t++;return t}function X(){if(Z(this))return null;let e=this.parent;for(;e&&e.is('attributeElement');){if(1<Z(e))return null;e=e.parent}return!e||1<Z(e)?null:this.childCount}function Z(e){return Array.from(e.getChildren()).filter((e)=>!e.is('uiElement')).length}function ee(){return null}function te(e){let t;if('string'!=typeof e)t=e.keyCode+(e.altKey?nm.alt:0)+(e.ctrlKey?nm.ctrl:0)+(e.shiftKey?nm.shift:0);else if(t=nm[e.toLowerCase()],!t)throw new _s('keyboard-unknown-key: Unknown key name.',{key:e});return t}function oe(e){return'string'==typeof e&&(e=ie(e)),e.map((e)=>'string'==typeof e?te(e):e).reduce((e,t)=>t+e,0)}function ne(e){return em.isMac?ie(e).map((e)=>om[e.toLowerCase()]||e).reduce((e,t)=>e.slice(-1)in tm?e+t:e+'+'+t):e}function ie(e){return e.split(/\s*\+\s*/)}function re(e){e.document.on('keydown',(t,o)=>se(t,o,e.domConverter))}function ae(){return null}function se(e,t,o){if(t.keyCode==nm.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),n=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(n||t.shiftKey){const t=e.focusNode,i=e.focusOffset,r=o.domPositionToView(t,i);if(null===r)return;let a=!1;const s=r.getLastMatchingPosition((e)=>(e.item.is('uiElement')&&(a=!0),!!(e.item.is('uiElement')||e.item.is('attributeElement'))));if(a){const t=o.viewPositionToDom(s);n?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}function le(e){return'string'==typeof e?[new Qd(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Qd(e):e instanceof Yd?new Qd(e.data):e))}function de(e){return Array.from(e.getChildren()).some((e)=>!e.is('uiElement'))}function ce(e){let t=e.parent;for(;!be(t);){if(!t)return;t=t.parent}return t}function me(e,t){if(e.priority<t.priority)return!0;return!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function ue(e){const t=e.nodeBefore;if(t&&t.is('text'))return new Wc(t,t.data.length);const o=e.nodeAfter;return o&&o.is('text')?new Wc(o,0):e}function pe(e){if(e.offset==e.parent.data.length)return new Wc(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Wc(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new Qd(t)),new Wc(e.parent.parent,e.parent.index+1)}function ge(e,t){const o=e.data.length;return e._data+=t.data,t._remove(),new Wc(e,o)}function fe(e){return e.start.parent==e.end.parent&&e.start.parent.is('attributeElement')&&0===e.start.offset&&e.end.offset===e.start.parent.childCount}function he(e){for(const t of e){if(!sm.some((e)=>t instanceof e))throw new _s('view-writer-insert-invalid-node');t.is('text')||he(t.getChildren())}}function be(e){return e&&(e.is('containerElement')||e.is('documentFragment'))}function ke(e){const t=ce(e.start),o=ce(e.end);if(!t||!o||t!==o)throw new _s('view-writer-invalid-range-container')}function _e(e,t){return null===e.id&&null===t.id}function we(e){return e instanceof Text&&e.data.substr(0,cm)===mm}function ve(e){return e.data.length==cm&&we(e)}function ye(e){return we(e)?e.data.slice(cm):e.data}function xe(e,t){let o=um.get(t);return o||(o=t(window.document),um.set(t,o)),e.isEqualNode(o)}function Ce(e){e.document.on('keydown',Ae)}function Ae(e,t){if(t.keyCode==nm.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;we(t)&&o<=cm&&e.collapse(t,0)}}}function Te(e,t,o){function i(n){const i=(c[n-1]===void 0?-1:c[n-1])+1,m=c[n+1]===void 0?-1:c[n+1],u=i>m?-1:1;d[n+u]&&(d[n]=d[n+u].slice(0)),d[n]||(d[n]=[]),d[n].push(i>m?r:a);let p=is(i,m),g=p-n;for(;g<s&&p<l&&o(e[g],t[p]);)g++,p++,d[n].push('equal');return p}o=o||function(e,t){return e===t};let r,a;if(t.length<e.length){const o=e;e=t,t=o,r='delete',a='insert'}else r='insert',a='delete';const s=e.length,l=t.length,n=l-s,d={},c={};let m=0,u;do{for(u=-m;u<n;u++)c[u]=i(u);for(u=n+m;u>n;u--)c[u]=i(u);c[n]=i(n),m++}while(c[n]!==l);return d[n].slice(1)}function Pe(e,t,o){e.insertBefore(o,e.childNodes[t]||null)}function Ee(e){const t=e.parentNode;t&&t.removeChild(e)}function Se(e){return'[object Text]'==Object.prototype.toString.call(e)}function Oe(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function Ie(e,t){if(e===t)return[];const o=Re(e,t);return Ne(t,o)}function Re(e,t){const o=Ve(e,t),n=Fe(e,o),i=Fe(t,o),r=Ve(n,i),a=e.length-r,s=t.length-r;return{firstIndex:o,lastIndexOld:a,lastIndexNew:s}}function Ve(e,t){for(let o=0;o<is(e.length,t.length);o++)if(e[o]!==t[o])return o}function Fe(e,t){return e.substring(t).split('').reverse().join('')}function Ne(e,t){const o=[],{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=t;return 0<r-n&&o.push({index:n,type:'insert',values:e.substring(n,r).split('')}),0<i-n&&o.push({index:n+(r-n),type:'delete',howMany:i-n}),o}function De(e){if('false'==e.getAttribute('contenteditable'))return!1;const t=e.findAncestor((e)=>e.hasAttribute('contenteditable'));return!t||'true'==t.getAttribute('contenteditable')}function Me(e,t){return Oe(e)&&Oe(t)&&!Se(e)&&!Se(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function Be(e,t,o){if(t===o)return!0;return Se(t)&&Se(o)?t.data===o.data:!!(xe(t,e)&&xe(o,e))}function Le(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function ze(e){const t=[];for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}function je(e,t){const o=ze(e),n=ze(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}function qe(e,t,o){let n=ze(e);return o&&(n=n.slice(n.indexOf(o)+1)),n.some((e)=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function We(e,t){for(;e&&e!=gm.document;)t(e),e=e.parentNode}function Ue(e){return'[object Window]'==Object.prototype.toString.apply(e)}function He(e){return e['data-ck-expando']||(e['data-ck-expando']=i())}function Ke(e){var t=-1,o=e?e.length:0;for(this.__data__=new rl;++t<o;)this.add(e[t])}function Ge(e,t,o,n,i,r){var a=i&Pm,s=Bl(e),l=s.length,d=Bl(t),c=d.length;if(l!=c&&!a)return!1;for(var m=l,u;m--;)if(u=s[m],a?!(u in t):!gl(t,u))return!1;var p=r.get(e);if(p)return p==t;var g=!0;r.set(e,t);for(var f=a;++m<l;){u=s[m];var h=e[u],b=t[u];if(n)var k=a?n(b,h,u,t,e,r):n(h,b,u,e,t,r);if(void 0===k?!(h===b||o(h,b,n,i,r)):!k){g=!1;break}f||(f='constructor'==u)}if(g&&!f){var _=e.constructor,w=t.constructor;_!=w&&'constructor'in e&&'constructor'in t&&!('function'==typeof _&&_ instanceof _&&'function'==typeof w&&w instanceof w)&&(g=!1)}return r['delete'](e),g}function $e(e,t,o,n,i){return!(e!==t)||(null!=e&&null!=t&&(Vs(e)||cs(t))?Mm(e,t,$e,o,n,i):e!==e&&t!==t)}function Je(e,t,o){function n(t){var o=b,n=k;return b=k=void 0,p=t,w=e.apply(n,o),w}function i(e){return p=e,v=setTimeout(s,t),g?n(e):w}function r(e){var o=e-u,n=e-p,i=t-o;return f?$m(i,_-n):i}function a(e){var o=e-u,n=e-p;return!u||o>=t||0>o||f&&n>=_}function s(){var e=Hm();return a(e)?l(e):void(v=setTimeout(s,r(e)))}function l(e){return(clearTimeout(v),v=void 0,h&&b)?n(e):(b=k=void 0,w)}function d(){void 0!==v&&clearTimeout(v),u=p=0,b=k=v=void 0}function c(){return void 0===v?w:l(Hm())}function m(){var e=Hm(),o=a(e);if(b=arguments,k=this,u=e,o){if(void 0===v)return i(u);if(f)return clearTimeout(v),v=setTimeout(s,t),n(u)}return void 0===v&&(v=setTimeout(s,t)),w}var u=0,p=0,g=!1,f=!1,h=!0,b,k,_,w,v;if('function'!=typeof e)throw new TypeError(Km);return t=uc(t)||0,Vs(o)&&(g=!!o.leading,f='maxWait'in o,_=f?Gm(uc(o.maxWait)||0,t):_,h='trailing'in o?!!o.trailing:h),m.cancel=d,m.flush=c,m}function Qe(e){return e==nm.arrowright||e==nm.arrowleft||e==nm.arrowup||e==nm.arrowdown}function Ye(e){return'[object Range]'==Object.prototype.toString.apply(e)}function Xe(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Ze(e,t){for(const o of nu)e[o]=t[o]}function et(e){return!!fm(e)&&e===e.ownerDocument.body}function tt({target:e,viewportOffset:t=0}){const o=dt(e);for(let n=o,i=null;n;){let r;r=n==o?ct(e):ct(i),it(r,()=>mt(e,n));const a=mt(e,n);if(nt(n,a,t),n.parent==n)n=null;else if(i=n.frameElement,n=n.parent,!i)return}}function nt(e,t,o){const n=t.clone().moveBy(0,o),i=t.clone().moveBy(0,-o),r=new ou(e).excludeScrollbarsAndBorders();if(![i,n].every((e)=>r.contains(e))){let{scrollX:a,scrollY:s}=e;at(i,r)?s-=r.top-t.top+o:rt(n,r)&&(s+=t.bottom-r.bottom+o),st(t,r)?a-=r.left-t.left+o:lt(t,r)&&(a+=t.right-r.right+o),e.scrollTo(a,s)}}function it(e,t){const o=dt(e);for(let n,i;e!=o.document.body;)i=t(),n=new ou(e).excludeScrollbarsAndBorders(),n.contains(i)||(at(i,n)?e.scrollTop-=n.top-i.top:rt(i,n)&&(e.scrollTop+=i.bottom-n.bottom),st(i,n)?e.scrollLeft-=n.left-i.left:lt(i,n)&&(e.scrollLeft+=i.right-n.right)),e=e.parentNode}function rt(e,t){return e.bottom>t.bottom}function at(e,t){return e.top<t.top}function st(e,t){return e.left<t.left}function lt(e,t){return e.right>t.right}function dt(e){return Ye(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function ct(e){if(Ye(e)){let t=e.commonAncestorContainer;return Se(t)&&(t=t.parentNode),t}return e.parentNode}function mt(e,t){const o=dt(e),n=new ou(e);if(o===t)return n;for(let i=o;i!=t;){const e=i.frameElement,t=new ou(e).excludeScrollbarsAndBorders();n.moveBy(t.left,t.top),i=i.parent}return n}function ut(e){return hs(e)?T(e):new Map(e)}function pt(e){return'string'==typeof e?[new au(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new au(e):e instanceof su?new au(e.data,e.getAttributes()):e))}function gt(e,t,o,n,i){return{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:i}}}function ft(e){const t=e.split(':');return 1<t.length?t[0]+':'+t[1]:t[0]}function ht(e,t,o){const n=t.getRange(),i=Array.from(e.getAncestors());i.shift(),i.reverse();const r=i.some((e)=>{if(n.containsItem(e)){const t=o.toViewElement(e);return!!t.getCustomProperty('addHighlight')}});return!r}function bt(e,t){return!t.has(e)&&(t.add(e),e.document.model.schema.isBlock(e)&&e.parent)}function kt(e,t){const o=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),n=o.find((e)=>bt(e,t));return o.forEach((e)=>t.add(e)),n}function _t(){const e=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(t,o)=>{const n=o[0];!n.isDocumentOperation||e.has(n.type)&&wt.call(this,n)},{priority:'low'})}function wt(e){const t=e.type,o=e.delta.batch;let n,i;'insert'==t?n=pu.createFromPositionAndShift(e.position,e.nodes.maxOffset):(n=pu.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),i=e.sourcePosition);const r=n.end.offset-n.start.offset;let a=n.start;('move'==t||'remove'==t||'reinsert'==t)&&(a=a._getTransformedByInsertion(i,r));const s=this._getTransformedByDocumentChange(t,e.delta.type,a,r,i);('move'==t||'remove'==t||'reinsert'==t)&&3==s.length&&(s[2]=n);const l=pu.createFromRanges(s),d=!l.isEqual(this),c=this.containsPosition(a),m=i&&(this.containsPosition(i)||this.start.isEqual(i));if(d){const e=pu.createFromRange(this);this.start=l.start,this.end=l.end,this.fire('change:range',e,{type:t,batch:o,range:n,sourcePosition:i})}else(c||m)&&this.fire('change:content',pu.createFromRange(this),{type:t,batch:o,range:n,sourcePosition:i})}function vt(e){return e instanceof su||e instanceof au?e.getAttributes():null}function yt(e,t){const o=e.document.differ;for(const n of o.getChanges()){if('insert'!=n.type)continue;const o=n.position.parent,i=n.length===o.maxOffset;i&&e.enqueueChange(t,(e)=>{const t=Array.from(o.getAttributeKeys()).filter((e)=>e.startsWith(_u));for(const n of t)e.removeAttribute(n,o)})}}function xt(e){return e=yu(e),e.view=Tt(e.view,'container'),(t)=>{t.on('insert:'+e.model,Ot(e.view),{priority:e.converterPriority||'normal'})}}function Ct(e){e=yu(e);const t=e.model.key?e.model.key:e.model;let o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values)for(const t of e.model.values)e.view[t]=Tt(e.view[t],'attribute');else e.view=Tt(e.view,'attribute');const n=Et(e);return(t)=>{t.on(o,Ft(n),{priority:e.converterPriority||'normal'})}}function At(e){e=yu(e);const t=e.model.key?e.model.key:e.model;let o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values)for(const t of e.model.values)e.view[t]=St(e.view[t]);else e.view=St(e.view);const n=Et(e);return(t)=>{t.on(o,Vt(n),{priority:e.converterPriority||'normal'})}}function Tt(e,t){return'function'==typeof e?e:(o,n)=>Pt(e,n,t)}function Pt(e,t,o){'string'==typeof e&&(e={name:e});let n;const i=Object.assign({},e.attributes);if('container'==o)n=t.createContainerElement(e.name,i);else if('attribute'==o){const o={priority:e.priority||Qc.DEFAULT_PRIORITY};n=t.createAttributeElement(e.name,i,o)}else n=t.createUIElement(e.name,i);if(e.styles){const o=Object.keys(e.styles);for(const i of o)t.setStyle(i,e.styles[i],n)}if(e.classes){const o=e.classes;if('string'==typeof o)t.addClass(o,n);else for(const e of o)t.addClass(e,n)}return n}function Et(e){return e.model.values?(t,o)=>{const n=e.view[t];return n?n(t,o):null}:e.view}function St(e){return'string'==typeof e?(t)=>({key:e,value:t}):'object'==typeof e?e.value?()=>e:(t)=>({key:e.key,value:t}):e}function Ot(e){return(t,o,n)=>{const i=e(o.item,n.writer);if(i&&n.consumable.consume(o.item,'insert')){const e=n.mapper.toViewPosition(o.range.start);n.mapper.bindElements(o.item,i),n.writer.insert(e,i)}}}function It(){return(e,t,o)=>{if(o.consumable.consume(t.item,'insert')){const e=o.writer,n=o.mapper.toViewPosition(t.range.start),i=e.createText(t.item.data);e.insert(n,i)}}}function Rt(){return(e,t,o)=>{const n=o.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),r=o.mapper.toViewPosition(i,{isPhantom:!0}),a=new Uc(n,r),s=o.writer.remove(a.getTrimmed());for(const n of Uc.createIn(s).getItems())o.mapper.unbindViewElement(n)}}function Vt(e){return e=e||((e,t)=>({value:e,key:t.attributeKey})),(t,o,n)=>{const i=e(o.attributeOldValue,o),r=e(o.attributeNewValue,o);if((i||r)&&n.consumable.consume(o.item,t.name)){const e=n.mapper.toViewElement(o.item),t=n.writer;if(null!==o.attributeOldValue&&i)if('class'==i.key){const o=Array.isArray(i.value)?i.value:[i.value];for(const n of o)t.removeClass(n,e)}else if('style'==i.key){const o=Object.keys(i.value);for(const n of o)t.removeStyle(n,e)}else t.removeAttribute(i.key,e);if(null!==o.attributeNewValue&&r)if('class'==r.key){const o=Array.isArray(r.value)?r.value:[r.value];for(const n of o)t.addClass(n,e)}else if('style'==r.key){const o=Object.keys(r.value);for(const n of o)t.setStyle(n,r.value[n],e)}else t.setAttribute(r.key,r.value,e)}}}function Ft(e){return(t,o,n)=>{const i=e(o.attributeOldValue,n.writer),r=e(o.attributeNewValue,n.writer);if((i||r)&&n.consumable.consume(o.item,t.name)){const e=n.writer,t=e.document.selection;if(o.item instanceof bu||o.item instanceof wu)e.wrap(t.getFirstRange(),r);else{let t=n.mapper.toViewRange(o.range);null!==o.attributeOldValue&&i&&(t=e.unwrap(t,i)),null!==o.attributeNewValue&&r&&e.wrap(t,r)}}}}function Nt(e,t){return(o,n)=>{const i=n.newSelection,r=new bu,a=[];for(const e of i.getRanges())a.push(t.toModelRange(e));r.setTo(a,{backward:i.isBackward}),r.isEqual(e.document.selection)||e.change((e)=>{e.setSelection(r)})}}function Dt(){return(e,t,o)=>{const n=t.selection;if(!n.isCollapsed&&o.consumable.consume(n,'selection')){const e=[];for(const t of n.getRanges()){const n=o.mapper.toViewRange(t);e.push(n)}o.writer.setSelection(e,{backward:n.isBackward})}}}function Mt(){return(e,t,o)=>{const n=t.selection;if(n.isCollapsed&&o.consumable.consume(n,'selection')){const e=o.writer,t=n.getFirstPosition(),i=o.mapper.toViewPosition(t),r=e.breakAttributes(i);e.setSelection(r)}}}function Bt(){return(e,t,o)=>{const n=o.writer,i=n.document.selection;for(const n of i.getRanges())n.isCollapsed&&n.end.parent.document&&o.writer.mergeAttributes(n.start);n.setSelection(null)}}function Lt(e,t){const o=jt();if(1===o&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0===o||!zt(e,t))return t.replace(/ \[context: [^\]]+\]$/,'');const n=window.CKEDITOR_TRANSLATIONS[e];return n[t].replace(/ \[context: [^\]]+\]$/,'')}function zt(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}function jt(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}function qt(e,t){const o={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return Jt(e,o),Qt(e,o,'allowIn'),Qt(e,o,'allowContentOf'),Qt(e,o,'allowWhere'),Qt(e,o,'allowAttributes'),Qt(e,o,'allowAttributesOf'),Qt(e,o,'inheritTypesFrom'),Yt(e,o),o}function Wt(e,t){for(const o of e[t].allowContentOf)if(e[o]){const n=Xt(e,o);n.forEach((e)=>{e.allowIn.push(t)})}delete e[t].allowContentOf}function Ut(e,t){for(const o of e[t].allowWhere){const n=e[o];if(n){const o=n.allowIn;e[t].allowIn.push(...o)}}delete e[t].allowWhere}function Ht(e,t){for(const o of e[t].allowAttributesOf){const n=e[o];if(n){const o=n.allowAttributes;e[t].allowAttributes.push(...o)}}delete e[t].allowAttributesOf}function Kt(e,t){const o=e[t];for(const n of o.inheritTypesFrom){const t=e[n];if(t){const e=Object.keys(t).filter((e)=>e.startsWith('is'));for(const n of e)n in o||(o[n]=t[n])}}delete o.inheritTypesFrom}function Gt(e,t){const o=e[t],n=o.allowIn.filter((t)=>e[t]);o.allowIn=Array.from(new Set(n))}function $t(e,t){const o=e[t];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Jt(e,t){for(const o of e){const e=Object.keys(o).filter((e)=>e.startsWith('is'));for(const n of e)t[n]=o[n]}}function Qt(e,t,o){for(const n of e)'string'==typeof n[o]?t[o].push(n[o]):Array.isArray(n[o])&&t[o].push(...n[o])}function Yt(e,t){for(const o of e){const e=o.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}function Xt(e,t){const o=e[t];return Zt(e).filter((e)=>e.allowIn.includes(o.name))}function Zt(e){return Object.keys(e).map((t)=>e[t])}function eo(e){return'string'==typeof e?{name:e,*getAttributeKeys(){},getAttribute(){}}:{name:e.is('element')?e.name:'$text',*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute(t){return e.getAttribute(t)}}}function*to(e,t){for(let o=!1;!o;){if(o=!0,e){const t=e.next();t.done||(o=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(o=!1,yield{walker:t,value:e.value})}}}function oo(e,t){const o=new Set,n=new Map,i=pu.createIn(e).getItems();for(const n of i)'$marker'==n.name&&o.add(n);for(const i of o){const e=i.getAttribute('data-name'),o=uu.createBefore(i);n.has(e)?n.get(e).end=uu.createFromPosition(o):n.set(e,new pu(uu.createFromPosition(o))),t.remove(i)}return n}function no(e,t){let o;for(const n of new Ou(e)){const e={};for(const t of n.getAttributeKeys())e[t]=n.getAttribute(t);const i=t.createElement(n.name,e);o&&t.append(i,o),o=uu.createAt(i)}return o}function io(e){e=yu(e);const t=lo(e),o=so(e),n=o?'element:'+o:'element';return(o)=>{o.on(n,t,{priority:e.converterPriority||'normal'})}}function ro(e){e=yu(e),uo(e);const t=po(e),o=so(e),n=o?'element:'+o:'element';return(o)=>{o.on(n,t,{priority:e.converterPriority||'normal'})}}function ao(e){e=yu(e);let t=null;('string'==typeof e.view||e.view.key)&&(t=mo(e)),uo(e,t);const o=po(e);return(t)=>{t.on('element',o,{priority:e.converterPriority||'low'})}}function so(e){return'string'==typeof e.view?e.view:'object'==typeof e.view&&'string'==typeof e.view.name?e.view.name:null}function lo(e){const t=new Xd(e.view);return(o,n,i)=>{const r=t.match(n.viewItem);if(r){r.match.name=!0;const t=co(e.model,n.viewItem,i.writer);if(t&&i.consumable.test(n.viewItem,r.match)){const e=i.splitToAllowedParent(t,n.modelCursor);if(e){i.writer.insert(t,e.position);const o=i.convertChildren(n.viewItem,uu.createAt(t));i.consumable.consume(n.viewItem,r.match),n.modelRange=new pu(uu.createBefore(t),uu.createAfter(o.modelCursor.parent)),n.modelCursor=e.cursorParent?uu.createAt(e.cursorParent):n.modelRange.end}}}}}function co(e,t,o){return e instanceof Function?e(t,o):o.createElement(e)}function mo(e){'string'==typeof e.view&&(e.view={key:e.view});const t=e.view.key;let o;if('class'==t||'style'==t){const n='class'==t?'classes':'styles';o={[n]:e.view.value}}else{const n='undefined'==typeof e.view.value?/[\s\S]*/:e.view.value;o={attributes:{[t]:n}}}return e.view.name&&(o.name=e.view.name),e.view=o,t}function uo(e,t=null){const o='object'==typeof e.model?e.model.key:e.model,n='object'!=typeof e.model||'undefined'==typeof e.model.value?!(null!==t)||((e)=>e.getAttribute(t)):e.model.value;e.model={key:o,value:n}}function po(e){const t=new Xd(e.view);return(o,n,i)=>{const r=t.match(n.viewItem);if(r){const t=e.model.key,o='function'==typeof e.model.value?e.model.value(n.viewItem):e.model.value;if(null!==o&&(go(e)?r.match.name=!0:delete r.match.name,!!i.consumable.test(n.viewItem,r.match))){n.modelRange||(n=Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)));const e=fo(n.modelRange,{key:t,value:o},i);e&&i.consumable.consume(n.viewItem,r.match)}}}}function go(e){return!!('object'!=typeof e.view||so(e))&&!e.view.classes&&!e.view.attributes&&!e.view.styles}function fo(e,t,o){let n=!1;for(const i of Array.from(e.getItems()))o.schema.checkAttribute(i,t.key)&&(o.writer.setAttribute(t.key,t.value,i),n=!0);return n}function ho(){return(e,t,o)=>{if(!t.modelRange&&o.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:n}=o.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=n}}}function bo(){return(e,t,o)=>{if(o.schema.checkChild(t.modelCursor,'$text')&&o.consumable.consume(t.viewItem)){const e=o.writer.createText(t.viewItem.data);o.writer.insert(e,t.modelCursor),t.modelRange=pu.createFromPositionAndShift(t.modelCursor,e.offsetSize),t.modelCursor=t.modelRange.end}}}function ko(e){const t=[],o=e.root.document;if(!o)return[];const n=pu.createIn(e);for(const i of o.model.markers){const e=n.getIntersection(i.getRange());e&&t.push([i.name,e])}return t}function _o(e,t){for(const o of e)t(o)}function*wo(e){if(e.model.values)for(const t of e.model.values){const o={key:e.model.key,value:t},n=e.view[t],i=e.upcastAlso?e.upcastAlso[t]:void 0;yield*vo(o,n,i)}else yield*vo(e.model,e.view,e.upcastAlso)}function*vo(e,t,o){if(yield{model:e,view:t},o){o=Array.isArray(o)?o:[o];for(const t of o)yield{model:e,view:t}}}function yo(e){return'string'==typeof e?[new au(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new au(e):e instanceof su?new au(e.data,e.getAttributes()):e))}function xo(e,t){t=Po(t);const o=t.reduce((e,t)=>e+t.offsetSize,0),n=e.parent;So(e);const i=e.index;return n._insertChild(i,t),Eo(n,i+t.length),Eo(n,i),new pu(e,e.getShiftedBy(o))}function Co(e){if(!e.isFlat)throw new _s('operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.');const t=e.start.parent;So(e.start),So(e.end);const o=t._removeChildren(e.start.index,e.end.index-e.start.index);return Eo(t,e.start.index),o}function Ao(e,t){if(!e.isFlat)throw new _s('operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.');const o=Co(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),xo(t,o)}function To(e,t,o){So(e.start),So(e.end);for(const n of e.getItems()){const e=n.is('textProxy')?n.textNode:n;null===o?e._removeAttribute(t):e._setAttribute(t,o),Eo(e.parent,e.index)}Eo(e.end.parent,e.end.index)}function Po(e){const t=[];e instanceof Array||(e=[e]);for(let o=0;o<e.length;o++)if('string'==typeof e[o])t.push(new au(e[o]));else if(e[o]instanceof su)t.push(new au(e[o].data,e[o].getAttributes()));else if(e[o]instanceof Nu||e[o]instanceof lu)for(const n of e[o])t.push(n);else e[o]instanceof ru&&t.push(e[o]);for(let o=1;o<t.length;o++){const e=t[o],n=t[o-1];e instanceof au&&n instanceof au&&Oo(e,n)&&(t.splice(o-1,2,new au(n.data+e.data,n.getAttributes())),o--)}return t}function Eo(e,t){const o=e.getChild(t-1),n=e.getChild(t);if(o&&n&&o.is('text')&&n.is('text')&&Oo(o,n)){const i=new au(o.data+n.data,o.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function So(e){const t=e.textNode,o=e.parent;if(t){const n=e.offset-t.startOffset,i=t.index;o._removeChildren(i,1);const r=new au(t.data.substr(0,n),t.getAttributes()),a=new au(t.data.substr(n),t.getAttributes());o._insertChild(i,[r,a])}}function Oo(e,t){const o=e.getAttributes(),n=t.getAttributes();for(const i of o){if(i[1]!==t.getAttribute(i[0]))return!1;n.next()}return n.next().done}function Io(e){return[e.clone()]}function Ro(e,t){for(let o=0;o<t.length;o++)t[o].baseVersion=e+o+1;return t}function Vo(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function Fo(e){return 0===e.length?null:1==e.length?e[0]:(e[0].end=e[e.length-1].end,e[0])}function No(e,t,o){const n=[];for(let r=0;r<e.length;r++){const i=Do(e[r],t,o.isSticky);n.push(i);for(let t=r+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];t=t._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!0,!1)}return n}function Do(e,t,o){let n='$graveyard'==t.root.rootName?zu:'$graveyard'==e.start.root.rootName?Lu:Bu;const i=new n(e.start,e.end.offset-e.start.offset,t,0);return i.isSticky=o,i}function Mo(e,t,o,n,i){var r=-1,a=e.length;for(o||(o=cp),i||(i=[]);++r<a;){var s=e[r];0<t&&o(s)?1<t?Mo(s,t-1,o,n,i):Hl(i,s):!n&&(i[i.length]=s)}return i}function Bo(e,t,o,n){var i=o.length,r=i,a=!n;if(null==e)return!r;for(e=Object(e);i--;){var s=o[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<r;){s=o[i];var l=s[0],d=e[l],c=s[1];if(!(a&&s[2])){var m=new al;if(n)var u=n(d,c,l,e,t,m);if(void 0===u?!Bm(c,d,n,vp|yp,m):!u)return!1}else if(void 0===d&&!(l in e))return!1}return!0}function Lo(e,t){if('function'!=typeof e||t&&'function'!=typeof t)throw new TypeError(Op);var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=o.cache;if(r.has(i))return r.get(i);var a=e.apply(this,n);return o.cache=r.set(i,a),a};return o.cache=new(Lo.Cache||rl),o}function zo(e,t){if(Sl(e))return!1;var o=typeof e;return!!('number'==o||'symbol'==o||'boolean'==o||null==e||rc(e))||zp.test(e)||!Lp.test(e)||null!=t&&e in Object(t)}function jo(e,t){return t in Object(e)}function qo(e,t){for(const o of t)for(const t of o.operations)t.baseVersion=++e;return t}function Wo(e){return e.reduce((e,t)=>e+t.operations.length,0)}function Uo(e,t){const o=e[e.length-1];let n=o.operations.length+o.baseVersion;const r=new Qu;for(let o=0;o<t;o++)r.addOperation(new Wu(n++));e.push(r)}function Ho(e,t,o){Jo(e,t,o),Ko(e,t,o),$o(t,o),Go(t,o)}function Ko(e,t,o){const n=o.originalDelta.get(t);if(o.document.history.isUndoingDelta(n)){const t=o.document.history.getUndoneDelta(n),i=o.wasAffected.get(e),r=i.get(t);r!==void 0&&(o.insertBefore=r)}}function Go(e,t){const o=t.originalDelta.get(e),n=t.document.history;t.forceNotSticky=n.isUndoneDelta(o)||n.isUndoingDelta(o)}function $o(e,t){const o=t.document.history,n=t.originalDelta.get(e);t.forceWeakRemove=o.isUndoneDelta(n)}function Jo(e,t,o){o.wasAffected.get(e)||o.wasAffected.set(e,new Map);const n=o.originalDelta.get(t);let i=!!o.wasAffected.get(e).get(n);for(const n of e.operations){for(const e of t.operations)if(n instanceof Bu&&e instanceof Bu&&Qo(n,e)){i=!0;break}if(i)break}o.wasAffected.get(e).set(n,i)}function Qo(e,t){const o=e.targetPosition,n=t.sourcePosition,i=A(n.getParentPath(),o.getParentPath());return!(o.root!=n.root)&&'same'==i&&n.offset<o.offset}function Yo(e,t,o){delete o.insertBefore,delete o.forceNotSticky,delete o.forceWeakRemove;const n=o.wasAffected.get(e);o.wasAffected.delete(e);for(const i of t)o.wasAffected.set(i,new Map(n))}function Xo(e,t){let n=[],i=null,o;switch(e){case ep:case tp:for(const e of t)i=e instanceof Wu?new Qu:e instanceof zu?new tp:new ep,i.addOperation(e),n.push(i);return n;case Xu:case np:return i=new e,i.addOperation(t[0]),i.addOperation(t[1]),n=Xo(ep,t.slice(2)),[i].concat(n);case Zu:case ip:return n=Xo(ep,t.slice(0,-2)),i=new e,i.addOperation(t[t.length-2]),i.addOperation(t[t.length-1]),n.concat(i);case op:return i=t[0]instanceof Wu?new Qu:new op,i.addOperation(t[0]),[i];case Yu:for(o=0;o<t.length&&!!(t[o]instanceof Wu);o++);o==t.length?i=new Qu:(i=new Yu,0!=o&&t.unshift(t.splice(o,1)[0]));for(const e of t)i.addOperation(e);return[i];default:i=new e;for(const e of t)i.addOperation(e);return[i];}}function Zo(e,t){const o=e.clone(),n=o.operations[0];return n.oldRange&&(n.oldRange=n.oldRange.getTransformedByDelta(t)[0]),n.newRange&&(n.newRange=n.newRange.getTransformedByDelta(t)[0]),[o]}function en(e,t){function o(){const o=new pu(e.position.getShiftedBy(s),e.position.getShiftedBy(l)),i=new Mu(o,t.key,a,t.value,0);n.addOperation(i)}const n=new Yu,r=e.nodes;let a=r.getNode(0).getAttribute(t.key),s=0,l=r.getNode(0).offsetSize;for(let n=1;n<r.length;n++){const e=r.getNode(n),i=e.getAttribute(t.key);i!=a&&(a!=t.value&&o(),a=i,s=l),l+=e.offsetSize}return o(),n}function tn(){const e=new Qu;return e.addOperation(new Wu(0)),e}function on(e,t,o,n){function i(){0===r.operations.length&&e.batch.addDelta(r);const n=new pu(l,d),i=n.root.document?s.version:null,m=new Mu(n,t,c,o,i);r.addOperation(m),a.applyOperation(m)}const r=new Yu,a=e.model,s=a.document;let l=n.start,d,c,m;for(const r of n)m=r.item.getAttribute(t),d&&c!=m&&(c!=o&&i(),l=d),d=r.nextPosition,c=m;d instanceof uu&&d!=l&&c!=o&&i()}function nn(e,t,o,n){const i=e.model,r=i.document,a=n.getAttribute(t);let s,l;if(a!=o){const d=n.root===n,c=d?new af:new Yu;if(e.batch.addDelta(c),d){const e=n.document?r.version:null;l=new Hu(n,t,a,o,e)}else{s=n.is('element')?new pu(uu.createBefore(n),uu.createFromParentAndOffset(n,0)):new pu(uu.createBefore(n),uu.createAfter(n));const e=s.root.document?r.version:null;l=new Mu(s,t,a,o,e)}c.addOperation(l),i.applyOperation(l)}}function rn(e,t,o,n,i){const r=e.model,a=r.document,s=new tf,l=new qu(t,o,n,r.markers,a.version,i);e.batch.addDelta(s),s.addOperation(l),r.applyOperation(l)}function an(e,t,o,n){let i;if(e.root.document){const o=n.document,r=new uu(o.graveyard,[0]);i=new zu(e,t,r,o.version)}else i=new sf(e,t);o.addOperation(i),n.applyOperation(i)}function sn(e,t){return!(e!==t)||!!(e instanceof lf&&t instanceof lf)}function ln(e){const t=[];for(const o of e)if(o.is('text'))for(let e=0;e<o.data.length;e++)t.push({name:'$text',attributes:new Map(o.getAttributes())});else t.push({name:o.name,attributes:new Map(o.getAttributes())});return t}function dn(e,t){const o=[];let n=0,i=0;for(const r of t)r.offset>n&&(o.push(...'e'.repeat(r.offset-n).split('')),i+=r.offset-n),'insert'==r.type?(o.push(...'i'.repeat(r.howMany).split('')),n=r.offset+r.howMany):'remove'==r.type?(o.push(...'r'.repeat(r.howMany).split('')),n=r.offset,i+=r.howMany):(o.push(...'a'.repeat(r.howMany).split('')),n=r.offset+r.howMany,i+=r.howMany);return i<e&&o.push(...'e'.repeat(e-i).split('')),o}function cn(e){const t=e.position&&'$graveyard'==e.position.root.rootName,o=e.range&&'$graveyard'==e.range.root.rootName;return!t&&!o}function mn(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function un(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}function pn(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}function gn(e,t){return un(e.charAt(t-1))&&pn(e.charAt(t))}function fn(e,t){return mn(e.charAt(t))}function hn(e){const t=e.textNode;if(t){const o=t.data,n=e.offset-t.startOffset;return!gn(o,n)&&!fn(o,n)}return!0}function bn(){const e=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(t,o)=>{const n=o[0];!n.isDocumentOperation||e.has(n.type)&&kn.call(this,n)},{priority:'low'})}function kn(e){let t,o;'insert'==e.type?t=pu.createFromPositionAndShift(e.position,e.nodes.maxOffset):(t=pu.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),o=e.sourcePosition);const n=t.end.offset-t.start.offset;let i;switch(e.type){case'insert':const r='sticksToNext'==this.stickiness;i=this._getTransformedByInsertion(t.start,n,r);break;case'move':case'remove':case'reinsert':const a=pu.createFromPositionAndShift(o,n),s=a.containsPosition(this)||a.start.isEqual(this)&&'sticksToNext'==this.stickiness||a.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(s)i=this._getCombined(o,t.start);else{const e='sticksToNext'==this.stickiness,r=t.start._getTransformedByInsertion(o,n);i=this._getTransformedByMove(o,r,n,e)}}if(!this.isEqual(i)){const e=uu.createFromPosition(this);this.path=i.path,this.root=i.root,this.fire('change',e)}}function _n(e,t,o){e.change((n)=>{o.isCollapsed||e.deleteContent(o);const i=new bf(e,n,o.anchor);let r;r=t.is('documentFragment')?t.getChildren():[t],i.handleNodes(r,{isFirst:!0,isLast:!0});const a=i.getSelectionRange();a?o instanceof wu?n.setSelection(a):o.setTo(a):Xm.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')})}function wn(e,t,o={}){if(t.isCollapsed)return;const n=e.schema;e.change((e)=>{if(!o.doNotResetEntireContent&&Tn(n,t))return void An(e,t,n);const i=t.getFirstRange(),r=i.start,a=hf.createFromPosition(i.end);i.start.isTouching(i.end)||e.remove(i),o.leaveUnmerged||(vn(e,r,a),n.removeDisallowedAttributes(r.parent.getChildren(),e)),t instanceof wu?e.setSelection(r):t.setTo(r),yn(n,r)&&Cn(e,r,t),a.detach()})}function vn(e,t,o){const n=t.parent,i=o.parent;if(n!=i&&n.parent&&i.parent&&xn(t,o,e.model.schema)){for(t=uu.createAfter(n),o=uu.createBefore(i),o.isEqual(t)||e.insert(i,t),e.merge(t);o.parent.isEmpty;){const t=o.parent;o=uu.createBefore(t),e.remove(t)}vn(e,t,o)}}function yn(e,t){const o=e.checkChild(t,'$text'),n=e.checkChild(t,'paragraph');return!o&&n}function xn(e,t,o){const n=new pu(e,t);for(const i of n.getWalker())if(o.isLimit(i.item))return!1;return!0}function Cn(e,t,o){const n=e.createElement('paragraph');e.insert(n,t),o instanceof wu?e.setSelection(n,0):o.setTo(n,0)}function An(e,t){const o=e.model.schema.getLimitElement(t);e.remove(pu.createIn(o)),Cn(e,uu.createAt(o),t)}function Tn(e,t){const o=e.getLimitElement(t);if(!t.containsEntireContent(o))return!1;const n=t.getFirstRange();return n.start.parent!=n.end.parent&&e.checkChild(o,'paragraph')}function Pn(e,t,o={}){const n=e.schema,i='backward'!=o.direction,r=o.unit?o.unit:'character',a=t.focus,s=new cu({boundaries:In(a,i),singleCharacters:!0,direction:i?'forward':'backward'}),l={walker:s,schema:n,isForward:i,unit:r};for(let n;n=s.next();){if(n.done)return;const o=En(l,n.value);if(o)return void(t instanceof wu?e.change((e)=>{e.setSelectionFocus(o)}):t.setFocus(o))}}function En(e,t){if('text'==t.type)return'word'===e.unit?On(e.walker,e.isForward):Sn(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?'elementStart':'elementEnd')){if(e.schema.isObject(t.item))return uu.createAt(t.item,e.isForward?'after':'before');if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip(()=>!0);if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}}function Sn(e,t){const o=e.position.textNode;if(o){const n=o.data;for(let i=e.position.offset-o.startOffset;gn(n,i)||'character'==t&&fn(n,i);)e.next(),i=e.position.offset-o.startOffset}return e.position}function On(e,t){let o=e.position.textNode;if(o)for(let n=e.position.offset-o.startOffset;!Rn(o.data,n,t)&&!Vn(o,n,t);){e.next();const i=t?e.position.nodeAfter:e.position.nodeBefore;if(i){const n=i.data.charAt(t?0:i.data.length-1);kf.includes(n)||(e.next(),o=e.position.textNode)}n=e.position.offset-o.startOffset}return e.position}function In(e,t){const o=e.root,n=uu.createAt(o,t?'end':0);return t?new pu(e,n):new pu(n,e)}function Rn(e,t,o){const n=t+(o?0:-1);return kf.includes(e.charAt(n))}function Vn(e,t,o){return t===(o?e.endOffset:0)}function Fn(e,t){return e.change((e)=>{const o=e.createDocumentFragment(),n=t.getFirstRange();if(!n||n.isCollapsed)return o;const i=n.start.root,r=n.start.getCommonPath(n.end),a=i.getNodeByPath(r);let s=n.start.parent==n.end.parent?n:pu.createFromParentsAndOffsets(a,n.start.path[r.length],a,n.end.path[r.length]+1);const l=s.end.offset-s.start.offset;for(const t of s.getItems({shallow:!0}))t.is('textProxy')?e.appendText(t.data,t.getAttributes(),o):e.append(t._clone(!0),o);if(s!=n){const t=n._getTransformedByMove(s.start,uu.createAt(o,0),l)[0],i=new pu(uu.createAt(o),t.start),r=new pu(t.end,uu.createAt(o,'end'));Nn(r,e),Nn(i,e)}return o})}function Nn(e,t){const o=[];Array.from(e.getItems({direction:'backward'})).map((e)=>pu.createOn(e)).filter((t)=>{const o=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return o}).forEach((e)=>{o.push(e.start.parent),t.remove(e)}),o.forEach((e)=>{for(let o=e;o.parent&&o.isEmpty;){const e=pu.createOn(o);o=o.parent,t.remove(e)}})}function Dn(e){e.document.registerPostFixer((t)=>Mn(t,e))}function Mn(e,t){const o=t.document.selection,n=t.schema,i=[];let r=!1;for(const a of o.getRanges()){const e=Bn(a,n);e?(i.push(e),r=!0):i.push(a)}if(r){const t=qn(i);e.setSelection(t,{backward:o.isBackward})}}function Bn(e,t){return e.isCollapsed?Ln(e,t):zn(e,t)}function Ln(e,t){const o=e.start,n=t.getNearestSelectionRange(o);if(!n)return null;const i=n.start;return o.isEqual(i)?null:i.nodeAfter&&t.isLimit(i.nodeAfter)?new pu(i,uu.createAfter(i.nodeAfter)):new pu(i)}function zn(e,t){if(e.isFlat)return null;const o=e.start,n=e.end,i=jn(o,t,'start'),r=jn(n,t,'end');return o.isEqual(i)&&n.isEqual(r)?null:new pu(i,r)}function jn(e,t,o){let n=e.parent,i=n;for(;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n===i?e:'start'===o?uu.createBefore(n):uu.createAfter(n)}function qn(e){const t=[];let o=e[0];t.push(o);for(const n of e)if(!n.isEqual(o)){if(n.isIntersecting(o)){const e=o.start.isBefore(n.start)?o.start:n.start,i=n.end.isAfter(o.end)?n.end:o.end,r=new pu(e,i);t.splice(t.indexOf(o),1,r),o=r;continue}o=n,t.push(n)}return t}function Wn(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function Un(e){if(!Ds(e.updateElement))throw new _s('attachtoform-missing-elementapi-interface: ElementApi interface is required.');const t=e.element;if(t&&'textarea'===t.tagName.toLowerCase()&&t.form){let o;const n=t.form,i=()=>e.updateElement();Ds(n.submit)&&(o=n.submit,n.submit=()=>{i(),o.apply(n)}),n.addEventListener('submit',i),e.on('destroy',()=>{n.removeEventListener('submit',i),o&&(n.submit=o)})}}function Hn(e){return(e+'').toLowerCase()}function Kn({origin:e,originKeystrokeHandler:t,originFocusTracker:o,toolbar:n,beforeFocus:i,afterBlur:r}){o.add(n.element),t.set('Alt+F10',(e,t)=>{o.isFocused&&!n.focusTracker.isFocused&&(i&&i(),n.focus(),t())}),n.keystrokes.set('Esc',(t,o)=>{n.focusTracker.isFocused&&(e.focus(),r&&r(),o())})}function Gn(e){return Array.isArray(e)?{items:e}:e?Object.assign({items:[]},e):{items:[]}}function $n(e){return e.every((e)=>'string'==typeof e)}function Jn(e){return!!e&&((e.value&&(e=e.value),Array.isArray(e))?e.some(Jn):!!(e instanceof Vf))}function Qn(e,t){return e.map((e)=>e instanceof Vf?e.getValue(t):e)}function Yn(e,t,{node:o}){let n=Qn(e,o);n=1==e.length&&e[0]instanceof Nf?n[0]:n.reduce(li,''),mi(n)?t.remove():t.set(n)}function Xn(e){return{set(t){e.textContent=t},remove(){e.textContent=''}}}function Zn(e,t,o){return{set(n){e.setAttributeNS(o,t,n)},remove(){e.removeAttributeNS(o,t)}}}function ei(e,t){return{set(o){e.style[t]=o},remove(){e.style[t]=null}}}function ti(e){const t=If(e,(e)=>{if(e&&(e instanceof Vf||pi(e)||ui(e)||gi(e)))return e});return t}function oi(e){if('string'==typeof e?e=ri(e):e.text&&ai(e),e.on&&(e.eventListeners=ii(e.on),delete e.on),!e.text){e.attributes&&ni(e.attributes);const t=[];if(e.children)if(gi(e.children))t.push(e.children);else for(const o of e.children)pi(o)||ui(o)||Oe(o)?t.push(o):t.push(new Rf(o));e.children=t}return e}function ni(e){for(const t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),si(e,t)}function ii(e){for(const t in e)si(e,t);return e}function ri(e){return{text:[e]}}function ai(e){Array.isArray(e.text)||(e.text=[e.text])}function si(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function li(e,t){return mi(t)?e:mi(e)?t:`${e} ${t}`}function di(e,t){for(const o in t)e[o]?e[o].push(...t[o]):e[o]=t[o]}function ci(e,t){if(t.attributes&&(!e.attributes&&(e.attributes={}),di(e.attributes,t.attributes)),t.eventListeners&&(!e.eventListeners&&(e.eventListeners={}),di(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new _s('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let o=0;for(const n of t.children)ci(e.children[o++],n)}}function mi(e){return!e&&0!==e}function ui(e){return e instanceof Bf}function pi(e){return e instanceof Rf}function gi(e){return e instanceof Of}function fi(){return{children:[],bindings:[],attributes:{}}}function hi(e){return'class'==e||'style'==e}function bi(e){return(t)=>t+e}function ki(e){return!!(e.focus&&'none'!=gm.window.getComputedStyle(e.element).display)}function _i(e){return e.bindTemplate.to((t)=>{t.target===e.element&&t.preventDefault()})}function wi(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}function vi(e){const t=e.files?Array.from(e.files):[],o=e.items?Array.from(e.items):[];return t.length?t:o.filter((e)=>'file'===e.kind).map((e)=>e.getAsFile())}function yi(e,t){const o=t.target.ownerDocument,n=t.clientX,i=t.clientY;let r;return o.caretRangeFromPoint&&o.caretRangeFromPoint(n,i)?r=o.caretRangeFromPoint(n,i):t.rangeParent&&(r=o.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?e.domConverter.domRangeToView(r):e.document.selection.getFirstRange()}function xi(e){return e=e.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,'<br>').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<e.indexOf('</p><p>')&&(e=`<p>${e}</p>`),e}function Ci(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?' ':t)}function Ai(e){let t='';if(e.is('text')||e.is('textProxy'))t=e.data;else if(e.is('img')&&e.hasAttribute('alt'))t=e.getAttribute('alt');else{let o=null;for(const n of e.getChildren()){const e=Ai(n);o&&(o.is('containerElement')||n.is('containerElement'))&&(mh.includes(o.name)||mh.includes(n.name)?t+='\n':t+='\n\n'),t+=e,o=n}}return t}function Ti(e){e.return=!1,e.stop()}function Pi(e,t,o,n){const i=o.isCollapsed,r=o.getFirstRange(),a=r.start.parent,s=r.end.parent;if(n.isLimit(a)||n.isLimit(s))return void(i||a!=s||e.deleteContent(o));if(i)Ei(t,o,r.start);else{const n=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(o,{leaveUnmerged:n}),n&&(a==s?Ei(t,o,o.focus):t.setSelection(s,0))}}function Ei(e,t,o){const n=o.parent,i=new n.constructor(n.name,n.getAttributes());o.isAtEnd?e.insert(i,o.parent,'after'):o.isAtStart?e.insert(i,o.parent,'before'):e.split(o),e.setSelection(o.parent.nextSibling,0)}function Si(e,t){if(1<t.rangeCount)return!1;const o=t.anchor;if(!o||!e.checkChild(o,'softBreak'))return!1;const n=t.getFirstRange(),i=n.start.parent,r=n.end.parent;return!((Ri(i,e)||Ri(r,e))&&i!==r)}function Oi(e,t,o){const n=o.isCollapsed,i=o.getFirstRange(),r=i.start.parent,a=i.end.parent;if(n)Ii(t,i.end);else{const n=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(o,{leaveUnmerged:n}),r==a?Ii(t,o.focus):n&&t.setSelection(a,0)}}function Ii(e,t){const o=e.createElement('softBreak');e.insert(o,t),e.setSelection(o,'after')}function Ri(e,t){return!e.is('rootElement')&&(t.isLimit(e)||Ri(e.parent,t))}function Vi(e,t){function o(){a&&(i.push(a),a=null)}function n(e){return a&&a.type==e}const i=[];let r=0,a;return e.forEach((e)=>{'equal'==e?(o(),r++):'insert'==e?(n('insert')?a.values.push(t[r]):(o(),a={type:'insert',index:r,values:[t[r]]}),r++):n('delete')?a.howMany++:(o(),a={type:'delete',index:r,howMany:1})}),o(),i}function Fi(e){return!!e.ctrlKey||xh.includes(e.keyCode)}function Ni(e,t){return e instanceof Qd&&t instanceof Qd?e.data===t.data:e===t}function Di(e){if(1==e.newChildren.length-e.oldChildren.length){const t=Te(e.oldChildren,e.newChildren,Ni),o=Vi(t,e.newChildren);if(!(1<o.length)){const e=o[0];return e.values[0]instanceof Qd?e:void 0}}}function Mi(e){const t=e.map((e)=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:!0}));return t?t.getAncestors({includeSelf:!0,parentFirst:!0}).find((e)=>e.is('containerElement')||e.is('rootElement')):void 0}function Bi(e){if(0==e.length)return!1;for(const t of e)if('children'===t.type&&!Di(t))return!0;return!1}function Li(e){return e.every((e)=>e.is('text')||e.is('softBreak'))}function zi(e){let t=null,o=null;for(let n=0;n<e.length;n++){const i=e[n];'equal'!=i&&(t=null===t?n:t,o=n)}let n=0,r=0;for(let a=t;a<=o;a++)'insert'!=e[a]&&n++,'delete'!=e[a]&&r++;return{insertions:r,deletions:n,firstChangeAt:t}}function ji(e,t){const o=qi([e],t);o.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let n=1;n<o.length;n++){const e=o[n-1],t=o[n];e.end.isTouching(t.start)&&(e.end=t.end,o.splice(n,1),n--)}return o}function qi(e,t){for(const o of t)for(const t of o.operations)for(let o=0;o<e.length;o++){let n;switch(t.type){case'insert':n=e[o]._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':n=e[o]._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0);}n&&(e.splice(o,1,...n),o=o+n.length-1)}return e}function Wi(){let e=Ui(Xh);return e&&e.length==Zh||(e=Ki(Zh),Hi(Xh,e)),e}function Ui(e){e=e.toLowerCase();const t=document.cookie.split(';');for(const o of t){const t=o.split('='),n=decodeURIComponent(t[0].trim().toLowerCase());if(n===e)return decodeURIComponent(t[1])}return null}function Hi(e,t){document.cookie=encodeURIComponent(e)+'='+encodeURIComponent(t)+';path=/'}function Ki(e){let t='';const o=new Uint8Array(e);window.crypto.getRandomValues(o);for(let n=0;n<o.length;n++){const e=eb.charAt(o[n]%eb.length);t+=.5<Math.random()?e.toUpperCase():e}return t}function Gi(e){return Array.from(e.getChildren()).reduce((e,t)=>e+t.data,'')}function $i(e,t){return t.filter((e)=>e[0]!==void 0&&e[1]!==void 0).map((t)=>pu.createFromParentsAndOffsets(e,t[0],e,t[1]))}function Ji(e){const t=e.next();return t.done?null:t.value}function Qi(e){return'blockQuote'==e.parent.name?e.parent:null}function Yi(e){let t=0,o;const n=[];for(;t<e.length;){const i=e[t],r=e[t+1];o||(o=uu.createBefore(i)),r&&i.nextSibling==r||(n.push(new pu(o,uu.createAfter(i))),o=null),t++}return n}function Xi(e,t){const o=e.checkChild(t.parent,'blockQuote'),n=e.checkChild(['$root','blockQuote'],t);return o&&n}function Zi(e,t=512){try{const o=e.match(Sb)[1],n=atob(e.replace(Sb,'')),i=[];for(let e=0;e<n.length;e+=t){const o=n.slice(e,e+t),r=Array(o.length);for(let e=0;e<o.length;e++)r[e]=o.charCodeAt(e);i.push(new Uint8Array(r))}return new Blob(i,{type:o})}catch(e){throw new Error('Problem with decoding Base64 image data.')}}function er(e){if('string'!=typeof e)return!1;const t=e.match(Sb);return!!(t&&t.length)}function tr(){function e(e,t,o){if(o.consumable.test(t.viewItem,{name:!0,classes:'image'})){const e=Array.from(t.viewItem.getChildren()).find((e)=>e.is('img'));if(e&&e.hasAttribute('src')&&o.consumable.test(e,{name:!0})){const n=o.convertItem(e,t.modelCursor),i=Ji(n.modelRange.getItems());i&&(o.convertChildren(t.viewItem,uu.createAt(i)),t.modelRange=n.modelRange,t.modelCursor=n.modelCursor)}}}return(t)=>{t.on('element:figure',e)}}function or(){function e(e,t,o){if(o.consumable.consume(t.item,e.name)){const e=o.writer,n=o.mapper.toViewElement(t.item),i=n.getChild(0);if(null===t.attributeNewValue){const o=t.attributeOldValue;o.data&&(e.removeAttribute('srcset',i),e.removeAttribute('sizes',i),o.width&&e.removeAttribute('width',i))}else{const o=t.attributeNewValue;o.data&&(e.setAttribute('srcset',o.data,i),e.setAttribute('sizes','100vw',i),o.width&&e.setAttribute('width',o.width,i))}}}return(t)=>{t.on('attribute:srcset:image',e)}}function nr(e){function t(e,t,o){if(o.consumable.consume(t.item,e.name)){const e=o.writer,n=o.mapper.toViewElement(t.item),i=n.getChild(0);null===t.attributeNewValue?e.removeAttribute(t.attributeKey,i):e.setAttribute(t.attributeKey,t.attributeNewValue,i)}}return(o)=>{o.on(`attribute:${e}:image`,t)}}function ir(e,t){return e&&t&&e.priority==t.priority&&ar(e.classes)==ar(t.classes)}function rr(e,t){if(e.priority>t.priority)return!0;return!(e.priority<t.priority)&&ar(e.classes)>ar(t.classes)}function ar(e){return Array.isArray(e)?e.sort().join(','):e}function sr(e){return!!e.getCustomProperty(Mb)}function lr(e,t,o={}){function n(e){return Array.isArray(e)?e:[e]}return t.setAttribute('contenteditable','false',e),t.addClass(Lb,e),t.setCustomProperty(Mb,!0,e),e.getFillerOffset=pr,o.label&&cr(e,o.label,t),dr(e,t,(e,t,o)=>o.addClass(n(t.classes),e),(e,t,o)=>o.removeClass(n(t.classes),e)),e}function dr(e,t,o,n){const i=new Db;i.on('change:top',(t,i)=>{i.oldDescriptor&&n(e,i.oldDescriptor,i.writer),i.newDescriptor&&o(e,i.newDescriptor,i.writer)}),t.setCustomProperty('addHighlight',(e,t,o)=>i.add(t,o),e),t.setCustomProperty('removeHighlight',(e,t,o)=>i.remove(t,o),e)}function cr(e,t,o){o.setCustomProperty(Bb,t,e)}function mr(e){const t=e.getCustomProperty(Bb);return t?'function'==typeof t?t():t:''}function ur(e,t){return t.addClass(['ck-editor__editable','ck-editor__nested-editable'],e),t.setAttribute('contenteditable',e.isReadOnly?'false':'true',e),e.on('change:isReadOnly',(o,n,i)=>{t.setAttribute('contenteditable',i?'false':'true',e)}),e.on('change:isFocused',(o,n,i)=>{i?t.addClass('ck-editor__nested-editable_focused',e):t.removeClass('ck-editor__nested-editable_focused',e)}),e}function pr(){return null}function gr(e,t,o){return t.setCustomProperty(jb,!0,e),lr(e,t,{label:function(){const t=e.getChild(0),n=t.getAttribute('alt');return n?`${n} ${o}`:o}})}function fr(e){return!!e.getCustomProperty(jb)&&sr(e)}function hr(e){const t=e.getSelectedElement();return!!(t&&fr(t))}function br(e){return e instanceof du&&'image'==e.name}function kr(e){const t=e.createEmptyElement('img'),o=e.createContainerElement('figure',{class:'image'});return e.insert(Wc.createAt(o),t),o}function _r(e){return e==nm.arrowright||e==nm.arrowleft||e==nm.arrowup||e==nm.arrowdown}function wr(e){return te(e)==Kb}function vr(e){for(;e;){if(e instanceof Lc&&!(e instanceof jc))return!0;e=e.parent}return!1}function yr({emitter:e,activator:t,callback:o,contextElements:n}){e.listenTo(document,'mousedown',(e,{target:i})=>{if(t()){for(const e of n)if(e.contains(i))return;o()}})}function xr({view:e}){e.listenTo(e.element,'submit',(t,o)=>{o.preventDefault(),e.fire('submit')},{useCapture:!0})}function Cr(e){for(;e&&'html'!=e.tagName.toLowerCase();){if('static'!=gm.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}function Ar({element:e,target:t,positions:o,limiter:n,fitInViewport:i}){Ds(t)&&(t=t()),Ds(n)&&(n=n());const r=Cr(e.parentElement),a=new ou(e),s=new ou(t);let l,d;if(!n&&!i)[d,l]=Tr(o[0],s,a);else{const e=n&&new ou(n).getVisible(),t=i&&new ou(gm.window);[d,l]=Pr(o,s,a,e,t)||Tr(o[0],s,a)}let{left:c,top:m}=Er(l);if(r){const e=Er(new ou(r)),t=Xe(r);c-=e.left,m-=e.top,c+=r.scrollLeft,m+=r.scrollTop,c-=t.left,m-=t.top}return{left:c,top:m,name:d}}function Tr(e,t,o){const{left:n,top:i,name:r}=e(t,o);return[r,o.clone().moveTo(n,i)]}function Pr(e,t,o,n,i){let r=0,a=0,s,l;const d=o.getArea();return e.some((e)=>{function c(){a=g,r=p,s=u,l=m}const[m,u]=Tr(e,t,o);let p,g;if(n)if(i){const e=n.getIntersection(i);p=e?e.getIntersectionArea(u):0}else p=n.getIntersectionArea(u);return i&&(g=i.getIntersectionArea(u)),i&&!n?g>a&&c():!i&&n?p>r&&c():g>a&&p>=r?c():g>=a&&p>r&&c(),p===d}),s?[l,s]:null}function Er({left:e,top:t}){const{scrollX:o,scrollY:n}=gm.window;return{left:e+o,top:t+n}}function Sr(e){return fm(e)?e:Ye(e)?e.commonAncestorContainer:'function'==typeof e?Sr(e()):null}function Or(e,t){return e.top-t.height-mk.arrowVerticalOffset}function Ir(e){return e.bottom+mk.arrowVerticalOffset}function Rr(e){const t=e.plugins.get('ContextualBalloon');if(hr(e.editing.view.document.selection)){const o=Vr(e);t.updatePosition(o)}}function Vr(e){const t=e.editing.view,o=mk.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast]}}function Fr(e){const t=/^image\/(jpeg|png|gif|bmp)$/;return t.test(e.type)}function Nr(e){const t=e.getSelectedElement();if(t)return uu.createAfter(t);const o=e.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return uu.createAt(o);const t=uu.createAfter(o);return e.focus.isTouching(t)?t:uu.createBefore(o)}return e.focus}function Dr(e,t){e.hasClass('ck-appear')||t.addClass('ck-appear',e)}function Mr(e,t){t.removeClass('ck-appear',e)}function Br(e,t,o){t.hasClass('ck-image-upload-placeholder')||o.addClass('ck-image-upload-placeholder',t),t.hasClass('ck-infinite-progress')||o.addClass('ck-infinite-progress',t);const n=t.getChild(0);n.getAttribute('src')!==e&&o.setAttribute('src',e,n)}function Lr(e,t){e.hasClass('ck-image-upload-placeholder')&&t.removeClass('ck-image-upload-placeholder',e),e.hasClass('ck-infinite-progress')&&t.removeClass('ck-infinite-progress',e)}function zr(e,t,o,n){const i=Wr(t);t.insert(Wc.createAt(e,'end'),i),o.on('change:uploadedPercent',(e,t,o)=>{n.change((e)=>{e.setStyle('width',o+'%',i)})})}function jr(e,t){const o=Ur(e);o&&t.remove(Uc.createOn(o))}function qr(e,t,o){const n=new im('div',{class:'ck-image-upload-complete-icon'});t.insert(Wc.createAt(e,'end'),n),setTimeout(()=>{o.change((e)=>e.remove(Uc.createOn(n)))},3e3)}function Wr(e){const t=e.createUIElement('div',{class:'ck-progress-bar'});return e.setCustomProperty(Rk,!0,t),t}function Ur(e){for(const t of e.getChildren())if(t.getCustomProperty(Rk))return t}function Hr(e){return Array.from(e.types).includes('text/html')&&''!==e.getData('text/html')}function Kr(e,t){return t.checkChild(e.parent,'paragraph')&&!t.isObject(e)}function Gr(e,t,o){const n=o.writer.createElement('paragraph');return o.writer.insert(n,t),o.convertItem(e,uu.createAt(n))}function $r(e,t,o){const n=new Ou(t);return!!o.checkChild(n,'paragraph')&&!!o.checkChild(n.push('paragraph'),e)}function Jr(e,t,o){return o.checkChild(e.parent,t)&&!o.isObject(e)}function Qr(e,t=Qk){const o=new t(e),n=new Uk(e),i=new Gk(e,o,n);return o.bind('isEnabled').to(i),o instanceof Qk?o.bind('isOn').to(i,'isOpen'):o.arrowView.bind('isOn').to(i,'isOpen'),Xr(i),i}function Yr(e,t){const o=e.locale,n=e.listView=new Zk(o);n.items.bindTo(t).using((e)=>{let t;return e.isSeparator?t=new t_(o):(t=new e_(o),t.bind(...Object.keys(e)).to(e)),t}),e.panelView.children.add(n),n.items.delegate('execute').to(e)}function Xr(e){Zr(e),ea(e),ta(e)}function Zr(e){e.on('render',()=>{yr({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:[e.element]})})}function ea(e){e.on('execute',()=>{e.isOpen=!1})}function ta(e){e.keystrokes.set('arrowdown',(t,o)=>{e.isOpen&&(e.panelView.focus(),o())}),e.keystrokes.set('arrowup',(t,o)=>{e.isOpen&&(e.panelView.focusLast(),o())})}function oa(e){const o=e.t,t={Paragraph:o('s'),"Heading 1":o('t'),"Heading 2":o('u'),"Heading 3":o('v')};return e.config.get('heading.options').map((e)=>{const o=t[e.title];return o&&o!=e.title&&(e=Object.assign({},e,{title:o})),e})}function na(e,t,o,n){const i=e.document;u_.has(i)||(u_.set(i,new Map),i.registerPostFixer((e)=>ia(i,e))),u_.get(i).set(t,{placeholderText:o,checkFunction:n}),e.render()}function ia(e,t){const o=u_.get(e);let n=!1;for(const[i,r]of o)ra(t,i,r)&&(n=!0);return n}function ra(e,t,o){const n=t.document,i=o.placeholderText;let r=!1;if(!n)return!1;t.getAttribute('data-placeholder')!==i&&(e.setAttribute('data-placeholder',i,t),r=!0);const a=n.selection,s=a.anchor,l=o.checkFunction;if(l&&!l())return t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r;const d=!Array.from(t.getChildren()).some((e)=>!e.is('uiElement'));return!n.isFocused&&d?(t.hasClass('ck-placeholder')||(e.addClass('ck-placeholder',t),r=!0),r):(d&&s&&s.parent!==t?!t.hasClass('ck-placeholder')&&(e.addClass('ck-placeholder',t),r=!0):t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r)}function aa(e,t){return(o)=>{const n=o.createEditableElement('figcaption');return o.setCustomProperty(p_,!0,n),na(e,n,t),ur(n,o)}}function sa(e){for(const t of e.getChildren())if(t instanceof du&&'caption'==t.name)return t;return null}function la(e){const t=e.parent;return'figcaption'==e.name&&t&&'figure'==t.name&&t.hasClass('image')?{name:!0}:null}function da(e,t=!0){return(o,n,i)=>{const r=n.item;if((r.childCount||t)&&br(r.parent)){if(!i.consumable.consume(n.item,'insert'))return;const t=i.mapper.toViewElement(n.range.start.parent),o=e(i.writer),a=i.writer;r.childCount||a.addClass('ck-hidden',o),ca(o,n.item,t,i)}}}function ca(e,t,o,n){const i=Wc.createAt(o,'end');n.writer.insert(i,e),n.mapper.bindElements(t,e)}function ma(e){const t=e.getAncestors({includeSelf:!0}),o=t.find((e)=>'caption'==e.name);return o&&o.parent&&'image'==o.parent.name?o:null}function ua(e,t){return!(e.childCount||e.hasClass('ck-hidden'))&&(t.addClass('ck-hidden',e),!0)}function pa(e,t){return!!e.hasClass('ck-hidden')&&(t.removeClass('ck-hidden',e),!0)}function ga(e){return(t,o,n)=>{if(n.consumable.consume(o.item,t.name)){const t=ha(o.attributeNewValue,e),i=ha(o.attributeOldValue,e),r=n.mapper.toViewElement(o.item),a=n.writer;i&&a.removeClass(i.className,r),t&&a.addClass(t.className,r)}}}function fa(e){const t=e.filter((e)=>!e.isDefault);return(e,o,n)=>{if(o.modelRange){const e=o.viewItem,i=Ji(o.modelRange.getItems());if(n.schema.checkAttribute(i,'imageStyle'))for(const o of t)n.consumable.consume(e,{classes:o.className})&&n.writer.setAttribute('imageStyle',o.name,i)}}}function ha(e,t){for(const o of t)if(o.name===e)return o}function ba(e=[]){return e.map(ka).map((e)=>Object.assign({},e))}function ka(e){if('string'==typeof e){const t=e;P_[t]?e=Object.assign({},P_[t]):(Xm.warn('image-style-not-found: There is no such image style of given name.',{name:t}),e={name:t})}else if(P_[e.name]){const t=P_[e.name],o=Object.assign({},e);for(const n in t)e.hasOwnProperty(n)||(o[n]=t[n]);e=o}return'string'==typeof e.icon&&E_[e.icon]&&(e.icon=E_[e.icon]),e}function _a(e,t){for(const o of e)t[o.title]&&(o.title=t[o.title]);return e}function wa(e,t){return new pu(va(e,t,!0),va(e,t,!1))}function va(e,t,o){let n=e.textNode||(o?e.nodeBefore:e.nodeAfter),i=null;for(;n&&n.getAttribute('linkHref')==t;)i=n,n=o?n.previousSibling:n.nextSibling;return i?uu.createAt(i,o?'before':'after'):e}function ya(e){return e.is('attributeElement')&&!!e.getCustomProperty(M_)}function xa(e,t){const o=t.createAttributeElement('a',{href:e},{priority:5});return t.setCustomProperty(M_,!0,o),o}function Ca(e){return e+='',Aa(e)?e:'#'}function Aa(e){const t=e.replace(B_,'');return t.match(L_)}function Ta(e,t,o,n){const i=new z_(t,o,n),r=t.document.selection;o.listenTo(e.document,'keydown',(e,t)=>{if(!r.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const o=t.keyCode==nm.arrowright,n=t.keyCode==nm.arrowleft;if(!o&&!n)return;const a=r.getFirstPosition();let s;s=o?i.handleForwardMovement(a,t):i.handleBackwardMovement(a,t),s&&e.stop()},{priority:xs.get('high')+1})}function Pa(e,t){return Ea(e,t)||Sa(e,t)}function Ea(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&(!i||o.getAttribute(t)!==n.getAttribute(t))}function Sa(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return i&&(!r||o.getAttribute(t)!==n.getAttribute(t))}function Oa(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&i?n.getAttribute(t)!==o.getAttribute(t):void 0}function Ia(e,t){return Pa(e.getShiftedBy(-1),t)}function Ra(e){return e.getAncestors().find((e)=>ya(e))}function Va(e,t,o){const n=t?e[0]:e[e.length-1];if(n.is('listItem'))for(let i=n[t?'previousSibling':'nextSibling'],r=n.getAttribute('listIndent');i&&i.is('listItem')&&i.getAttribute('listIndent')>=o;)r>i.getAttribute('listIndent')&&(r=i.getAttribute('listIndent')),i.getAttribute('listIndent')==r&&e[t?'unshift':'push'](i),i=i[t?'previousSibling':'nextSibling']}function Fa(e,t){return t.checkChild(e.parent,'listItem')&&!t.isObject(e)}function Na(e){const t=e.createContainerElement('li');return t.getFillerOffset=Da,t}function Da(){const e=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||e?0:null}function Ma(e,t,o){const n=o.consumable;if(n.test(t.item,'insert')&&n.test(t.item,'attribute:listType')&&n.test(t.item,'attribute:listIndent')){n.consume(t.item,'insert'),n.consume(t.item,'attribute:listType'),n.consume(t.item,'attribute:listIndent');const e=t.item,i=Qa(e,o);Za(e,i,o)}}function Ba(e,t,o){const n=o.mapper.toViewPosition(t.position).getLastMatchingPosition((e)=>!e.item.is('li')),i=n.nodeAfter,r=o.writer;r.breakContainer(Wc.createBefore(i)),r.breakContainer(Wc.createAfter(i));const a=i.parent,s=a.previousSibling,l=Uc.createOn(a),d=r.remove(l);s&&s.nextSibling&&Xa(r,s,s.nextSibling);const c=o.mapper.toModelElement(i);es(c.getAttribute('listIndent')+1,t.position,l.start,i,o);for(const n of Uc.createIn(d).getItems())o.mapper.unbindViewElement(n);e.stop()}function La(e,t,o){if(!o.consumable.consume(t.item,'attribute:listType'))return;const n=o.mapper.toViewElement(t.item),i=o.writer;i.breakContainer(Wc.createBefore(n)),i.breakContainer(Wc.createAfter(n));let r=n.parent;const a='numbered'==t.attributeNewValue?'ol':'ul';r=i.rename(r,a),Xa(i,r,r.nextSibling),Xa(i,r.previousSibling,r);for(const n of t.item.getChildren())o.consumable.consume(n,'insert')}function za(e,t,o){if(o.consumable.consume(t.item,'attribute:listIndent')){const e=o.mapper.toViewElement(t.item),n=o.writer;n.breakContainer(Wc.createBefore(e)),n.breakContainer(Wc.createAfter(e));const i=e.parent,r=i.previousSibling,a=Uc.createOn(i);n.remove(a),r&&r.nextSibling&&Xa(n,r,r.nextSibling),es(t.attributeOldValue+1,t.range.start,a.start,e,o),Za(t.item,e,o);for(const e of t.item.getChildren())o.consumable.consume(e,'insert')}}function ja(e,t,o){if('listItem'!=t.item.name){let e=o.mapper.toViewPosition(t.range.start);const n=o.writer,r=[];for(;('ul'==e.parent.name||'ol'==e.parent.name)&&(e=n.breakContainer(e),'li'==e.parent.name);){const t=e,o=Wc.createAt(e.parent,'end');if(!t.isEqual(o)){const e=n.remove(new Uc(t,o));r.push(e)}e=Wc.createAfter(e.parent)}if(0<r.length){for(let t=0;t<r.length;t++){const o=e.nodeBefore,i=n.insert(e,r[t]);if(e=i.end,0<t){const t=Xa(n,o,o.nextSibling);t&&t.parent==o&&e.offset--}}Xa(n,e.nodeBefore,e.nodeAfter)}}}function qa(e,t,o){const n=o.mapper.toViewPosition(t.position),i=n.nodeBefore,r=n.nodeAfter;Xa(o.writer,i,r)}function Wa(e,t,o){if(o.consumable.consume(t.viewItem,{name:!0})){const e=o.writer,n=this.conversionApi.store,i=e.createElement('listItem');n.indent=n.indent||0,e.setAttribute('listIndent',n.indent,i);const r=t.viewItem.parent&&'ol'==t.viewItem.parent.name?'numbered':'bulleted';e.setAttribute('listType',r,i),n.indent++;const a=o.splitToAllowedParent(i,t.modelCursor);if(!a)return;e.insert(i,a.position);let s=uu.createAfter(i);for(const e of t.viewItem.getChildren())'ul'==e.name||'ol'==e.name?s=o.convertItem(e,s).modelCursor:o.convertItem(e,uu.createAt(i,'end'));n.indent--,t.modelRange=new pu(t.modelCursor,s),t.modelCursor=a.cursorParent?uu.createAt(a.cursorParent):t.modelRange.end}}function Ua(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e)t.is('li')||t._remove()}}function Ha(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;const e=[...t.viewItem.getChildren()];let o=!1,n=!0;for(const t of e)!o||t.is('ul')||t.is('ol')||t._remove(),t.is('text')?(n&&(t._data=t.data.replace(/^\s+/,'')),(!t.nextSibling||t.nextSibling.is('ul')||t.nextSibling.is('ol'))&&(t._data=t.data.replace(/\s+$/,''))):(t.is('ul')||t.is('ol'))&&(o=!0),n=!1}}function Ka(e,t){if(!t.isPhantom){const e=t.modelPosition.nodeBefore;if(e&&e.is('listItem')){const o=t.mapper.toViewElement(e),n=o.getAncestors().find((e)=>e.is('ul')||e.is('ol')),i=new qc({startPosition:Wc.createAt(o,0)});for(const e of i)if('elementStart'==e.type&&e.item.is('li')){t.viewPosition=e.previousPosition;break}else if('elementEnd'==e.type&&e.item==n){t.viewPosition=e.nextPosition;break}}}}function Ga(e,t){const o=t.viewPosition,n=o.parent,i=t.mapper;if('ul'==n.name||'ol'==n.name){if(!o.isAtEnd){const e=i.toModelElement(o.nodeAfter);t.modelPosition=uu.createBefore(e)}else{const e=i.toModelElement(o.nodeBefore),n=i.getModelLength(o.nodeBefore);t.modelPosition=uu.createBefore(e).getShiftedBy(n)}e.stop()}else if('li'==n.name&&o.nodeBefore&&('ul'==o.nodeBefore.name||'ol'==o.nodeBefore.name)){const r=i.toModelElement(n);let a=1,s=o.nodeBefore;for(;s&&(s.is('ul')||s.is('ol'));)a+=i.getModelLength(s),s=s.previousSibling;t.modelPosition=uu.createBefore(r).getShiftedBy(a),e.stop()}}function $a(e,t){function o(e){const t=e.nodeBefore;if(!t||!t.is('listItem')){const t=e.nodeAfter;t&&t.is('listItem')&&a.set(t,t)}else{let o=t;if(a.has(o))return;for(;o.previousSibling&&o.previousSibling.is('listItem');)if(o=o.previousSibling,a.has(o))return;a.set(e.nodeBefore,o)}}function n(e){for(let o=0,n=null;e&&e.is('listItem');){const i=e.getAttribute('listIndent');if(i>o){let r;null===n?(n=i-o,r=o):(n>i&&(n=i),r=i-n),t.setAttribute('listIndent',r,e),s=!0}else n=null,o=e.getAttribute('listIndent')+1;e=e.nextSibling}}function i(e){for(let o=[],n=null;e&&e.is('listItem');){const i=e.getAttribute('listIndent');if(n&&n.getAttribute('listIndent')>i&&(o=o.slice(0,i+1)),0!=i)if(o[i]){const n=o[i];e.getAttribute('listType')!=n&&(t.setAttribute('listType',n,e),s=!0)}else o[i]=e.getAttribute('listType');n=e,e=e.nextSibling}}const r=e.document.differ.getChanges(),a=new Map;let s=!1;for(const n of r)if('insert'==n.type&&'listItem'==n.name)o(n.position);else if('insert'==n.type&&'listItem'!=n.name){if('$text'!=n.name){const e=n.position.nodeAfter;e.hasAttribute('listIndent')&&(t.removeAttribute('listIndent',e),s=!0),e.hasAttribute('listType')&&(t.removeAttribute('listType',e),s=!0)}const e=n.position.getShiftedBy(n.length);o(e)}else'remove'==n.type&&'listItem'==n.name?o(n.position):'attribute'==n.type&&'listIndent'==n.attributeKey?o(n.range.start):'attribute'==n.type&&'listType'==n.attributeKey&&o(n.range.start);for(const o of a.values())n(o),i(o);return s}function Ja(e,[t,o]){let n=t.is('documentFragment')?t.getChild(0):t;if(n&&n.is('listItem')){const e=o.getFirstPosition();let t=null;if(e.parent.is('listItem')?t=e.parent:e.nodeBefore&&e.nodeBefore.is('listItem')&&(t=e.nodeBefore),t){const e=t.getAttribute('listIndent');if(0<e)for(;n&&n.is('listItem');)n._setAttribute('listIndent',n.getAttribute('listIndent')+e),n=n.nextSibling}}}function Qa(e,t){const o=t.mapper,n=t.writer,i='numbered'==e.getAttribute('listType')?'ol':'ul',r=Na(n),a=n.createContainerElement(i,null);return n.insert(Wc.createAt(a),r),o.bindElements(e,r),r}function Ya(e,t){const o=!!t.sameIndent,n=!!t.smallerIndent,i=e instanceof du?e.getAttribute('listIndent'):t.listIndent;for(let r=e instanceof du?e.previousSibling:e.nodeBefore;r&&'listItem'==r.name;){const e=r.getAttribute('listIndent');if(o&&i==e||n&&i>e)return r;r=r.previousSibling}return null}function Xa(e,t,o){return t&&o&&('ul'==t.name||'ol'==t.name)&&t.name==o.name?e.mergeContainers(Wc.createAfter(t)):null}function Za(e,t,o){const n=t.parent,i=o.mapper,r=o.writer;let a=i.toViewPosition(uu.createBefore(e));const s=Ya(e,{sameIndent:!0,smallerIndent:!0}),l=e.previousSibling;if(s&&s.getAttribute('listIndent')==e.getAttribute('listIndent')){const e=i.toViewElement(s);a=r.breakContainer(Wc.createAfter(e))}else a=l&&'listItem'==l.name?i.toViewPosition(uu.createAt(l,'end')):i.toViewPosition(uu.createBefore(e));if(a=ts(a),r.insert(a,n),l&&'listItem'==l.name){const e=i.toViewElement(l),o=new qc({boundaries:new Uc(Wc.createAt(e,0),a),ignoreElementEnd:!0});for(const e of o)if(e.item.is('li')){const n=r.breakContainer(Wc.createBefore(e.item)),i=e.item.parent,a=Wc.createAt(t,'end');Xa(r,a.nodeBefore,a.nodeAfter),r.move(Uc.createOn(i),a),o.position=n}}else{const o=n.nextSibling;if(o&&(o.is('ul')||o.is('ol'))){let n=null;for(const t of o.getChildren()){const o=i.toModelElement(t);if(o&&o.getAttribute('listIndent')>e.getAttribute('listIndent'))n=t;else break}n&&(r.breakContainer(Wc.createAfter(n)),r.move(Uc.createOn(n.parent),Wc.createAt(t,'end')))}}Xa(r,n,n.nextSibling),Xa(r,n.previousSibling,n)}function es(e,t,o,n,i){const r=Ya(t,{sameIndent:!0,smallerIndent:!0,listIndent:e}),a=i.mapper,s=i.writer,l=r?r.getAttribute('listIndent'):null;let d;if(!r)d=o;else if(l==e){const e=a.toViewElement(r).parent;d=Wc.createAfter(e)}else{const e=uu.createAt(r,'end');d=a.toViewPosition(e)}d=ts(d);for(const r of[...n.getChildren()])(r.is('ul')||r.is('ol'))&&(d=s.move(Uc.createOn(r),d).end,Xa(s,r,r.nextSibling),Xa(s,r.previousSibling,r))}function ts(e){return e.getLastMatchingPosition((e)=>e.item.is('uiElement'))}function os(e){let t=1;for(const o of e.getChildren())if('ul'==o.name||'ol'==o.name)for(const e of o.getChildren())t+=os(e);return t}var ns=Number.POSITIVE_INFINITY,is=Math.max,rs=Math.min,as=Math.floor;Object.defineProperty(t,'__esModule',{value:!0});var ss=Object.getPrototypeOf,ls=function(e){return ss(Object(e))},ds=function(e){var t=!1;if(null!=e&&'function'!=typeof e.toString)try{t=!!(e+'')}catch(t){}return t},cs=function(e){return!!e&&'object'==typeof e},ms=Object.prototype,us=Function.prototype.toString,ps=ms.hasOwnProperty,gs=us.call(Object),fs=ms.toString,hs=function(e){if(!cs(e)||fs.call(e)!='[object Object]'||ds(e))return!1;var t=ls(e);if(null===t)return!0;var o=ps.call(t,'constructor')&&t.constructor;return'function'==typeof o&&o instanceof o&&us.call(o)==gs};class bs{constructor(e,t){this._config={},t&&this.define(t),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}_setToTarget(e,t,o,n=!1){if(hs(t))return void this._setObjectToTarget(e,t,n);const i=t.split('.');t=i.pop();for(const r of i)hs(e[r])||(e[r]={}),e=e[r];return hs(o)?(hs(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,o,n)):void(n&&'undefined'!=typeof e[t]||(e[t]=o))}_getFromSource(e,t){const o=t.split('.');t=o.pop();for(const n of o){if(!hs(e[n])){e=null;break}e=e[n]}return e?e[t]:void 0}_setObjectToTarget(e,t,o){Object.keys(t).forEach((n)=>{this._setToTarget(e,n,t[n],o)})}}const ks='https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html';class _s extends Error{constructor(e,t){e=n(e),t&&(e+=' '+JSON.stringify(t)),super(e),this.name='CKEditorError',this.data=t}static isCKEditorError(e){return e instanceof _s}}var ws=function(){return function e(){e.called=!0}};class vs{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=ws(),this.off=ws()}}const ys={get(e){return'number'==typeof e?e:this[e]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};var xs=ys;const Cs=Symbol('listeningTo'),As=Symbol('emitterId'),Ts={on(e,t,o={}){this.listenTo(this,e,t,o)},once(e,t,o){this.listenTo(this,e,function(e,...o){e.off(),t.call(this,e,...o)},o)},off(e,t){this.stopListening(this,e,t)},listenTo(e,t,o,n={}){let i,r;this[Cs]||(this[Cs]={});const l=this[Cs];s(e)||a(e);const d=s(e);(i=l[d])||(i=l[d]={emitter:e,callbacks:{}}),(r=i.callbacks[t])||(r=i.callbacks[t]=[]),r.push(o),c(e,t);const u=m(e,t),p=xs.get(n.priority),g={callback:o,priority:p};for(const r of u){let e=!1;for(let t=0;t<r.length;t++)if(r[t].priority<p){r.splice(t,0,g),e=!0;break}e||r.push(g)}},stopListening(e,t,o){const n=this[Cs];let i=e&&s(e);const r=n&&i&&n[i],a=r&&t&&r.callbacks[t];if(n&&(!e||r)&&(!t||a))if(o)g(e,t,o);else if(a){for(;o=a.pop();)g(e,t,o);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete n[i]}else{for(i in n)this.stopListening(n[i].emitter);delete this[Cs]}},fire(e,...t){const o=e instanceof vs?e:new vs(this,e),n=o.name;let r=u(this,n);if(o.path.push(this),r){const e=[o,...t];r=Array.from(r);for(let t=0;t<r.length&&(r[t].callback.apply(this,e),o.off.called&&(delete o.off.called,g(this,n,r[t].callback)),!o.stop.called);t++);}if(this._delegations){const e=this._delegations.get(n),i=this._delegations.get('*');e&&p(e,o,t),i&&p(i,o,t)}return o.return},delegate(...e){return{to:(t,o)=>{this._delegations||(this._delegations=new Map);for(const n of e){const e=this._delegations.get(n);e?e.set(t,o):this._delegations.set(n,new Map([[t,o]]))}}}},stopDelegating(e,t){if(this._delegations)if(!e)this._delegations.clear();else if(!t)this._delegations.delete(e);else{const o=this._delegations.get(e);o&&o.delete(t)}}};var Ps=Ts,Es=function(e,t){return e===t||e!==e&&t!==t},Ss=function(e,t){for(var o=e.length;o--;)if(Es(e[o][0],t))return o;return-1},Os=Array.prototype,Is=Os.splice;h.prototype.clear=function(){this.__data__=[]},h.prototype['delete']=function(e){var t=this.__data__,o=Ss(t,e);if(0>o)return!1;var n=t.length-1;return o==n?t.pop():Is.call(t,o,1),!0},h.prototype.get=function(e){var t=this.__data__,o=Ss(t,e);return 0>o?void 0:t[o][1]},h.prototype.has=function(e){return-1<Ss(this.__data__,e)},h.prototype.set=function(e,t){var o=this.__data__,n=Ss(o,e);return 0>n?o.push([e,t]):o[n][1]=t,this};var Rs=h,Vs=function(e){var t=typeof e;return!!e&&('object'==t||'function'==t)},Fs=Object.prototype,Ns=Fs.toString,Ds=function(e){var t=Vs(e)?Ns.call(e):'';return t=='[object Function]'||t=='[object GeneratorFunction]'},Ms=Function.prototype.toString,Bs=function(e){if(null!=e){try{return Ms.call(e)}catch(t){}try{return e+''}catch(t){}}return''},Ls=/[\\^$.*+?()[\]{}|]/g,zs=/^\[object .+?Constructor\]$/,js=Object.prototype,qs=Function.prototype.toString,Ws=js.hasOwnProperty,Us=RegExp('^'+qs.call(Ws).replace(Ls,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),Hs=function(e){if(!Vs(e))return!1;var t=Ds(e)||ds(e)?Us:zs;return t.test(Bs(e))},Ks=function(e,t){var o=e[t];return Hs(o)?o:void 0},Gs=Ks(Object,'create'),$s=Gs,Js=Object.prototype,Qs=Js.hasOwnProperty,Ys=Object.prototype,Xs=Ys.hasOwnProperty;b.prototype.clear=function(){this.__data__=$s?$s(null):{}},b.prototype['delete']=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if($s){var o=t[e];return o==='__lodash_hash_undefined__'?void 0:o}return Qs.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return $s?t[e]!==void 0:Xs.call(t,e)},b.prototype.set=function(e,t){var o=this.__data__;return o[e]=$s&&void 0===t?'__lodash_hash_undefined__':t,this};var Zs=b,el=o(1),tl=Ks(el.a,'Map'),ol=tl,nl=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e},il=function(e,t){var o=e.__data__;return nl(t)?o['string'==typeof t?'string':'hash']:o.map};k.prototype.clear=function(){this.__data__={hash:new Zs,map:new(ol||Rs),string:new Zs}},k.prototype['delete']=function(e){return il(this,e)['delete'](e)},k.prototype.get=function(e){return il(this,e).get(e)},k.prototype.has=function(e){return il(this,e).has(e)},k.prototype.set=function(e,t){return il(this,e).set(e,t),this};var rl=k;_.prototype.clear=function(){this.__data__=new Rs},_.prototype['delete']=function(e){return this.__data__['delete'](e)},_.prototype.get=function(e){return this.__data__.get(e)},_.prototype.has=function(e){return this.__data__.has(e)},_.prototype.set=function(e,t){var o=this.__data__;return o instanceof Rs&&o.__data__.length==200&&(o=this.__data__=new rl(o.__data__)),o.set(e,t),this};var al=_,sl=function(e,t){for(var o=-1,n=e.length;++o<n&&!(!1===t(e[o],o,e)););return e},ll=Object.prototype,dl=ll.hasOwnProperty,cl=w,ml=function(e,t,o,n){o||(o={});for(var i=-1,r=t.length;++i<r;){var a=t[i],s=n?n(o[a],e[a],a,o,e):e[a];cl(o,a,s)}return o},ul=Object.prototype,pl=ul.hasOwnProperty,gl=v,fl=Object.keys,hl=function(e){return fl(Object(e))},bl=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n},kl=function(e){return function(t){return null==t?void 0:t[e]}},_l=kl('length'),wl=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991},vl=function(e){return null!=e&&wl(_l(e))&&!Ds(e)},yl=function(e){return cs(e)&&vl(e)},xl=Object.prototype,Cl=xl.hasOwnProperty,Al=xl.toString,Tl=xl.propertyIsEnumerable,Pl=function(e){return yl(e)&&Cl.call(e,'callee')&&(!Tl.call(e,'callee')||Al.call(e)=='[object Arguments]')},El=Array.isArray,Sl=El,Ol=Object.prototype,Il=Ol.toString,Rl=function(e){return'string'==typeof e||!Sl(e)&&cs(e)&&Il.call(e)=='[object String]'},Vl=function(e){var t=e?e.length:void 0;return wl(t)&&(Sl(e)||Rl(e)||Pl(e))?bl(t,String):null},Fl=/^(?:0|[1-9]\d*)$/,Nl=function(e,t){return t=null==t?9007199254740991:t,!!t&&('number'==typeof e||Fl.test(e))&&-1<e&&0==e%1&&e<t},Dl=Object.prototype,Ml=function(e){var t=e&&e.constructor,o='function'==typeof t&&t.prototype||Dl;return e===o},Bl=function(e){var t=Ml(e);if(!(t||vl(e)))return hl(e);var o=Vl(e),n=o||[],i=n.length;for(var r in e)!gl(e,r)||!!o&&('length'==r||Nl(r,i))||t&&'constructor'==r||n.push(r);return n},Ll=function(e,t){return e&&ml(t,Bl(t),e)},zl=function(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o},jl=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t},ql=Object.getOwnPropertySymbols;ql||(y=function(){return[]});var Wl=y,Ul=function(e,t){return ml(e,Wl(e),t)},Hl=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e},Kl=function(e,t,o){var n=t(e);return Sl(e)?n:Hl(n,o(e))},Gl=function(e){return Kl(e,Bl,Wl)},$l=Ks(el.a,'DataView'),Jl=$l,Ql=Ks(el.a,'Promise'),Yl=Ql,Xl=Ks(el.a,'Set'),Zl=Xl,ed=Ks(el.a,'WeakMap'),td=ed,od='[object Map]',nd='[object Promise]',id='[object Set]',rd='[object WeakMap]',ad='[object DataView]',sd=Object.prototype,ld=sd.toString,dd=Bs(Jl),cd=Bs(ol),md=Bs(Yl),ud=Bs(Zl),pd=Bs(td);(Jl&&x(new Jl(new ArrayBuffer(1)))!=ad||ol&&x(new ol)!=od||Yl&&x(Yl.resolve())!=nd||Zl&&x(new Zl)!=id||td&&x(new td)!=rd)&&(x=function(e){var t=ld.call(e),o=t=='[object Object]'?e.constructor:void 0,n=o?Bs(o):void 0;if(n)switch(n){case dd:return ad;case cd:return od;case md:return nd;case ud:return id;case pd:return rd;}return t});var gd=x,fd=Object.prototype,hd=fd.hasOwnProperty,bd=function(e){var t=e.length,o=e.constructor(t);return t&&'string'==typeof e[0]&&hd.call(e,'index')&&(o.index=e.index,o.input=e.input),o},kd=el.a.Uint8Array,_d=kd,wd=function(e){var t=new e.constructor(e.byteLength);return new _d(t).set(new _d(e)),t},vd=function(e,t){var o=t?wd(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)},yd=function(e,t){return e.set(t[0],t[1]),e},xd=function(e,t,o,n){var i=-1,r=e.length;for(n&&r&&(o=e[++i]);++i<r;)o=t(o,e[i],i,e);return o},Cd=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o},Ad=function(e,t,o){var n=t?o(Cd(e),!0):Cd(e);return xd(n,yd,new e.constructor)},Td=/\w*$/,Pd=function(e){var t=new e.constructor(e.source,Td.exec(e));return t.lastIndex=e.lastIndex,t},Ed=function(e,t){return e.add(t),e},Sd=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o},Od=function(e,t,o){var n=t?o(Sd(e),!0):Sd(e);return xd(n,Ed,new e.constructor)},Id=el.a.Symbol,Rd=Id,Vd=Rd?Rd.prototype:void 0,Fd=Vd?Vd.valueOf:void 0,Nd=function(e){return Fd?Object(Fd.call(e)):{}},Dd=function(e,t){var o=t?wd(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)},Md=function(e,t,o,n){var i=e.constructor;return t==='[object ArrayBuffer]'?wd(e):t==='[object Boolean]'||t==='[object Date]'?new i(+e):t==='[object DataView]'?vd(e,n):t==='[object Float32Array]'||t==='[object Float64Array]'||t==='[object Int8Array]'||t==='[object Int16Array]'||t==='[object Int32Array]'||t==='[object Uint8Array]'||t==='[object Uint8ClampedArray]'||t==='[object Uint16Array]'||t==='[object Uint32Array]'?Dd(e,n):t==='[object Map]'?Ad(e,n,o):t==='[object Number]'||t==='[object String]'?new i(e):t==='[object RegExp]'?Pd(e):t==='[object Set]'?Od(e,n,o):t==='[object Symbol]'?Nd(e):void 0},Bd=Object.create,Ld=function(e){return Vs(e)?Bd(e):{}},zd=function(e){return'function'!=typeof e.constructor||Ml(e)?{}:Ld(ls(e))},jd=o(9),qd='[object Arguments]',Wd='[object Function]',Ud='[object GeneratorFunction]',Hd='[object Object]',Kd={};Kd[qd]=Kd['[object Array]']=Kd['[object ArrayBuffer]']=Kd['[object DataView]']=Kd['[object Boolean]']=Kd['[object Date]']=Kd['[object Float32Array]']=Kd['[object Float64Array]']=Kd['[object Int8Array]']=Kd['[object Int16Array]']=Kd['[object Int32Array]']=Kd['[object Map]']=Kd['[object Number]']=Kd[Hd]=Kd['[object RegExp]']=Kd['[object Set]']=Kd['[object String]']=Kd['[object Symbol]']=Kd['[object Uint8Array]']=Kd['[object Uint8ClampedArray]']=Kd['[object Uint16Array]']=Kd['[object Uint32Array]']=!0,Kd['[object Error]']=Kd[Wd]=Kd['[object WeakMap]']=!1;var Gd=C,$d=function(e){return Gd(e,!1,!0)};class Jd{constructor(){this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new _s('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.parent instanceof Jd?this.parent.document:null}getPath(){const e=[];for(let t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),n=e.getAncestors(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),n=A(t,o);return!('prefix'!==n)||'extension'!==n&&t[n]<o[n]}isAfter(e){return this!=e&&!(this.root!==e.root)&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire('change:'+e,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=$d(this);return delete e.parent,e}is(e){return'node'==e}}f(Jd,Ps);class Qd extends Jd{constructor(e){super(),this._textData=e}is(e){return'text'==e||super.is(e)}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange('text',this),this._textData=e}isSimilar(e){return!!(e instanceof Qd)&&(this===e||this.data===e.data)}_clone(){return new Qd(this.data)}}class Yd{constructor(e,t,o){if(this.textNode=e,0>t||t>e.data.length)throw new _s('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>o||t+o>e.data.length)throw new _s('view-textproxy-wrong-length: Given length value is incorrect.');this.data=e.data.substring(t,t+o),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return'textProxy'==e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this.textNode:this.parent;null!==o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}}class Xd{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)('string'==typeof t||t instanceof RegExp)&&(t={name:t}),t.classes&&('string'==typeof t.classes||t.classes instanceof RegExp)&&(t.classes=[t.classes]),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const o=E(t,e);if(o)return{element:t,pattern:e,match:o}}return null}matchAll(...e){const t=[];for(const o of e)for(const e of this._patterns){const n=E(o,e);n&&t.push({element:o,pattern:e,match:n})}return 0<t.length?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return'function'!=typeof e&&t&&!(t instanceof RegExp)?t:null}}class Zd extends Jd{constructor(e,t,o){if(super(),this.name=e,this._attrs=V(t),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has('class')){const e=this._attrs.get('class');N(this._classes,e),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(F(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,t=null){return t?'element'==e&&t==this.name:'element'==e||e==this.name||super.is(e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(const e of this._attrs.keys())yield e}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(e){if('class'==e)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==e){if(0<this._styles.size){let e='';for(const[t,o]of this._styles)e+=`${t}:${o};`;return e}return}return this._attrs.get(e)}hasAttribute(e){return'class'==e?0<this._classes.size:'style'==e?0<this._styles.size:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Zd))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,o]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==o)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const[t,o]of this._styles)if(!e._styles.has(t)||e._styles.get(t)!==o)return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.get(e)}getStyleNames(){return this._styles.keys()}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Xd(...e);for(let o=this.parent;o;){if(t.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(','),t=Array.from(this._styles).map((e)=>`${e[0]}:${e[1]}`).sort().join(';'),o=Array.from(this._attrs).map((e)=>`${e[0]}="${e[1]}"`).sort().join(' ');return this.name+(''==e?'':` class="${e}"`)+(''==t?'':` style="${t}"`)+(''==o?'':` ${o}`)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const o=new this.constructor(this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles=new Map(this._styles),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange('children',this);let o=0;const n=D(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,o++;return o}_removeChildren(e,t=1){this._fireChange('children',this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=t+'',this._fireChange('attributes',this),'class'==e?N(this._classes,t):'style'==e?F(this._styles,t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange('attributes',this),'class'==e?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==e?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._classes.add(e))}_removeClass(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._classes.delete(e))}_setStyle(e,t){if(this._fireChange('attributes',this),hs(e)){const t=Object.keys(e);for(const o of t)this._styles.set(o,e[o])}else this._styles.set(e,t)}_removeStyle(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._styles.delete(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}class ec extends Zd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=M}is(e,t=null){return t?'containerElement'==e&&t==this.name||super.is(e,t):'containerElement'==e||super.is(e)}}var tc=B,oc=function(e,t,o){var n=o.length;return 0===n?e.call(t):1===n?e.call(t,o[0]):2===n?e.call(t,o[0],o[1]):3===n?e.call(t,o[0],o[1],o[2]):e.apply(t,o)},nc=Object.prototype,ic=nc.toString,rc=function(e){return'symbol'==typeof e||cs(e)&&ic.call(e)=='[object Symbol]'},ac=0/0,sc=/^\s+|\s+$/g,lc=/^[-+]0x[0-9a-f]+$/i,dc=/^0b[01]+$/i,cc=/^0o[0-7]+$/i,mc=parseInt,uc=function(e){if('number'==typeof e)return e;if(rc(e))return ac;if(Vs(e)){var t=Ds(e.valueOf)?e.valueOf():e;e=Vs(t)?t+'':t}if('string'!=typeof e)return 0===e?e:+e;e=e.replace(sc,'');var o=dc.test(e);return o||cc.test(e)?mc(e.slice(2),o?2:8):lc.test(e)?ac:+e},pc=1/0,gc=function(e){if(!e)return 0===e?e:0;if(e=uc(e),e===pc||e===-pc){var t=0>e?-1:1;return t*17976931348623157e292}return e===e?e:0},fc=function(e){var t=gc(e),o=t%1;return t===t?o?t-o:t:0},hc=is,bc=function(e,t){if('function'!=typeof e)throw new TypeError('Expected a function');return t=hc(void 0===t?e.length-1:fc(t),0),function(){for(var o=arguments,n=-1,i=hc(o.length-t,0),r=Array(i);++n<i;)r[n]=o[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,o[0],r);case 2:return e.call(this,o[0],o[1],r);}var a=Array(t+1);for(n=-1;++n<t;)a[n]=o[n];return a[t]=r,oc(e,this,a)}},kc=el.a.Reflect,_c=kc,wc=function(e){for(var t=[],o;!(o=e.next()).done;)t.push(o.value);return t},vc=Object.prototype,yc=_c?_c.enumerate:void 0,xc=vc.propertyIsEnumerable;yc&&!xc.call({valueOf:1},'valueOf')&&(L=function(e){return wc(yc(e))});var Cc=L,Ac=Object.prototype,Tc=Ac.hasOwnProperty,Pc=function(e){for(var t=-1,o=Ml(e),n=Cc(e),i=n.length,r=Vl(e),a=r||[],s=a.length;++t<i;){var l=n[t];!!r&&('length'==l||Nl(l,s))||'constructor'==l&&(o||!Tc.call(e,l))||a.push(l)}return a},Ec=Object.prototype,Sc=Ec.propertyIsEnumerable,Oc=!Sc.call({valueOf:1},'valueOf'),Ic=function(e){return bc(function(t,o){var n=-1,i=o.length,r=1<i?o[i-1]:void 0,a=2<i?o[2]:void 0;for(r=3<e.length&&'function'==typeof r?(i--,r):void 0,a&&tc(o[0],o[1],a)&&(r=3>i?void 0:r,i=1),t=Object(t);++n<i;){var s=o[n];s&&e(t,s,n,r)}return t})}(function(e,t){if(Oc||Ml(t)||vl(t))return void ml(t,Pc(t),e);for(var o in t)cl(e,o,t[o])}),Rc=Ic;const Vc=Symbol('observableProperties'),Fc=Symbol('boundObservables'),Nc=Symbol('boundProperties'),Dc={set(e,t){if(Vs(e))return void Object.keys(e).forEach((t)=>{this.set(t,e[t])},this);z(this);const o=this[Vc];if(e in this&&!o.has(e))throw new _s('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get(){return o.get(e)},set(t){const n=o.get(e);let i=this.fire('set:'+e,e,t,n);i===void 0&&(i=t),n===i&&o.has(e)||(o.set(e,i),this.fire('change:'+e,e,i,n))}}),this[e]=t},bind(...e){if(!e.length||!U(e))throw new _s('observable-bind-wrong-properties: All properties must be strings.');if(new Set(e).size!==e.length)throw new _s('observable-bind-duplicate-properties: Properties must be unique.');z(this);const t=this[Nc];e.forEach((e)=>{if(t.has(e))throw new _s('observable-bind-rebind: Cannot bind the same property more that once.')});const o=new Map;return e.forEach((e)=>{const n={property:e,to:[]};t.set(e,n),o.set(e,n)}),{to:j,toMany:q,_observable:this,_bindProperties:e,_to:[],_bindings:o}},unbind(...e){if(!(Vc in this))return;const t=this[Nc],o=this[Fc];if(e.length){if(!U(e))throw new _s('observable-unbind-wrong-properties: Properties must be strings.');e.forEach((e)=>{const n=t.get(e);if(!n)return;let i,r,a,s;n.to.forEach((e)=>{i=e[0],r=e[1],a=o.get(i),s=a[r],s.delete(n),s.size||delete a[r],Object.keys(a).length||(o.delete(i),this.stopListening(i,'change'))}),t.delete(e)})}else o.forEach((e,t)=>{this.stopListening(t,'change')}),o.clear(),t.clear()},decorate(e){const t=this[e];if(!t)throw new _s('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:e});this.on(e,(e,o)=>{e.return=t.apply(this,o)}),this[e]=function(...t){return this.fire(e,t)}}};Rc(Dc,Ps);var Mc=Dc;const Bc=Symbol('document');class Lc extends ec{constructor(e,t,o){super(e,t,o),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(Bc)}set _document(e){if(this.getCustomProperty(Bc))throw new _s('view-editableelement-document-already-set: View document is already set.');this._setCustomProperty(Bc,e),this.bind('isReadOnly').to(e),this.bind('isFocused').to(e,'isFocused',(t)=>t&&e.selection.editableElement==this),this.listenTo(e.selection,'change',()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}}f(Lc,Mc);const zc=Symbol('rootName');class jc extends Lc{constructor(e){super(e),this.rootName='main'}is(e,t=null){return t?'rootElement'==e&&t==this.name||super.is(e,t):'rootElement'==e||super.is(e)}get rootName(){return this.getCustomProperty(zc)}set rootName(e){this._setCustomProperty(zc,e)}set _name(e){this.name=e}}class qc{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new _s('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(e.direction&&'forward'!=e.direction&&'backward'!=e.direction)throw new _s('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:e.direction});this.boundaries=e.boundaries||null,this.position=e.startPosition?Wc.createFromPosition(e.startPosition):Wc.createFromPosition(e.boundaries['backward'==e.direction?'end':'start']),this.direction=e.direction||'forward',this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,o,n;do n=this.position,({done:t,value:o}=this.next());while(!t&&e(o));t||(this.position=n)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let e=Wc.createFromPosition(this.position);const t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let n;if(o instanceof Qd){if(e.isAtEnd)return this.position=Wc.createAfter(o),this._next();n=o.data[e.offset]}else n=o.getChild(e.offset);if(n instanceof Zd)return this.shallow?e.offset++:e=new Wc(n,0),this.position=e,this._formatReturnValue('elementStart',n,t,e,1);if(!(n instanceof Qd)){if('string'==typeof n){let n;if(this.singleCharacters)n=1;else{const t=o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length;n=t-e.offset}const i=new Yd(o,e.offset,n);return e.offset+=n,this.position=e,this._formatReturnValue('text',i,t,e,n)}return e=Wc.createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',o,t,e)}if(this.singleCharacters)return e=new Wc(n,0),this.position=e,this._next();else{let o=n.data.length,i;return n==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new Yd(n,0,o),e=Wc.createAfter(i)):(i=new Yd(n,0,n.data.length),e.offset++),this.position=e,this._formatReturnValue('text',i,t,e,o)}}_previous(){let e=Wc.createFromPosition(this.position);const t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let n;if(o instanceof Qd){if(e.isAtStart)return this.position=Wc.createBefore(o),this._previous();n=o.data[e.offset-1]}else n=o.getChild(e.offset-1);if(n instanceof Zd)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue('elementStart',n,t,e,1)):(e=new Wc(n,n.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',n,t,e));if(!(n instanceof Qd)){if('string'==typeof n){let n;if(!this.singleCharacters){const t=o===this._boundaryStartParent?this.boundaries.start.offset:0;n=e.offset-t}else n=1;e.offset-=n;const i=new Yd(o,e.offset,n);return this.position=e,this._formatReturnValue('text',i,t,e,n)}return e=Wc.createBefore(o),this.position=e,this._formatReturnValue('elementStart',o,t,e,1)}if(this.singleCharacters)return e=new Wc(n,n.data.length),this.position=e,this._previous();else{let o=n.data.length,i;if(n==this._boundaryStartParent){const t=this.boundaries.start.offset;i=new Yd(n,t,n.data.length-t),o=i.data.length,e=Wc.createBefore(i)}else i=new Yd(n,0,n.data.length),e.offset--;return this.position=e,this._formatReturnValue('text',i,t,e,o)}}_formatReturnValue(e,t,o,n,i){return t instanceof Yd&&(t.offsetInText+t.data.length==t.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=Wc.createAfter(t.textNode):(n=Wc.createAfter(t.textNode),this.position=n)),0===t.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=Wc.createBefore(t.textNode):(n=Wc.createBefore(t.textNode),this.position=n))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:i}}}}class Wc{constructor(e,t){this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Lc);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Wc.createFromPosition(this),o=t.offset+e;return t.offset=0>o?0:o,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new qc(t);return o.skip(e),o.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return'before'==this.compareWith(e)}isAfter(e){return'after'==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return'different';if(this.isEqual(e))return'same';const t=this.parent.is('node')?this.parent.getPath():[],o=e.parent.is('node')?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);const n=A(t,o);return'prefix'===n?'before':'extension'===n?'after':t[n]<o[n]?'before':'after'}static createAt(e,t){if(e instanceof Wc)return this.createFromPosition(e);else{const o=e;if('end'==t)t=o.is('text')?o.data.length:o.childCount;else{if('before'==t)return this.createBefore(o);if('after'==t)return this.createAfter(o);t||(t=0)}return new Wc(o,t)}}static createAfter(e){if(e.is('textProxy'))return new Wc(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new _s('view-position-after-root: You can not make position after root.',{root:e});return new Wc(e.parent,e.index+1)}static createBefore(e){if(e.is('textProxy'))return new Wc(e.textNode,e.offsetInText);if(!e.parent)throw new _s('view-position-before-root: You can not make position before root.',{root:e});return new Wc(e.parent,e.index)}static createFromPosition(e){return new this(e.parent,e.offset)}}class Uc{constructor(e,t=null){this.start=Wc.createFromPosition(e),this.end=t?Wc.createFromPosition(t):Wc.createFromPosition(e)}*[Symbol.iterator](){yield*new qc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Q,{direction:'backward'}),t=this.end.getLastMatchingPosition(Q);return e.parent.is('text')&&e.isAtStart&&(e=Wc.createBefore(e.parent)),t.parent.is('text')&&t.isAtEnd&&(t=Wc.createAfter(t.parent)),new Uc(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Q);if(e.isAfter(this.end)||e.isEqual(this.end))return new Uc(e,e);let t=this.end.getLastMatchingPosition(Q,{direction:'backward'});const o=e.nodeAfter,n=t.nodeBefore;return o&&o.is('text')&&(e=new Wc(o,0)),n&&n.is('text')&&(t=new Wc(n,n.data.length)),new Uc(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Uc(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Uc(e.end,this.end))):t.push(Uc.createFromRange(this)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Uc(t,o)}return null}getWalker(e={}){return e.boundaries=this,new qc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new qc(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new qc(e);yield t.position;for(const o of t)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static createFromParentsAndOffsets(e,t,o,n){return new this(new Wc(e,t),new Wc(o,n))}static createFromRange(e){return new this(e.start,e.end)}static createFromPositionAndShift(e,t){const o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}static createIn(e){return this.createFromParentsAndOffsets(e,0,e,e.childCount)}static createOn(e){const t=e.is('textProxy')?e.offsetSize:1;return this.createFromPositionAndShift(Wc.createBefore(e),t)}static createCollapsedAt(e,t){const o=Wc.createAt(e,t),n=Wc.createFromPosition(o);return new Uc(o,n)}}class Hc{constructor(e=null,t,o){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',this.setTo(e,t,o)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.end:e.start;return Wc.createFromPosition(t)}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.start:e.end;return Wc.createFromPosition(t)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield Uc.createFromRange(e)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?Uc.createFromRange(e):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?Uc.createFromRange(e):null}getFirstPosition(){const e=this.getFirstRange();return e?Wc.createFromPosition(e.start):null}getLastPosition(){const e=this.getLastRange();return e?Wc.createFromPosition(e.end):null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const n of e._ranges)if(t.isEqual(n)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Y(this.getRanges()),o=Y(e.getRanges());if(t!=o)return!1;if(0==t)return!0;for(let t of this.getRanges()){t=t.getTrimmed();let o=!1;for(let n of e.getRanges())if(n=n.getTrimmed(),t.start.isEqual(n.start)&&t.end.isEqual(n.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof Zd&&t==o?t:null}setTo(e,t,o){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof Hc||e instanceof Kc)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Uc)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof Wc)this._setRanges([new Uc(e)]),this._setFakeOptions(t);else if(e instanceof Jd){const n=!!o&&!!o.backward;let i;if(t===void 0)throw new _s('view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');else i='in'==t?Uc.createIn(e):'on'==t?Uc.createOn(e):Uc.createCollapsedAt(e,t);this._setRanges([i],n),this._setFakeOptions(o)}else if(P(e))this._setRanges(e,t&&t.backward),this._setFakeOptions(t);else throw new _s('view-selection-setTo-not-selectable: Cannot set selection to given place.');this.fire('change')}setFocus(e,t){if(null===this.anchor)throw new _s('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const o=Wc.createAt(e,t);if('same'!=o.compareWith(this.focus)){const e=this.anchor;this._ranges.pop(),'before'==o.compareWith(e)?this._addRange(new Uc(o,e),!0):this._addRange(new Uc(e,o)),this.fire('change')}}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake?e.label||'':''}_addRange(e,t=!1){if(!(e instanceof Uc))throw new _s('view-selection-invalid-range: Invalid Range.');this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new _s('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:t});this._ranges.push(Uc.createFromRange(e))}}f(Hc,Ps);class Kc{constructor(e=null,t,o){this._selection=new Hc,this._selection.delegate('change').to(this),this._selection.setTo(e,t,o)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(e,t,o){this._selection.setTo(e,t,o)}_setFocus(e,t){this._selection.setFocus(e,t)}}f(Kc,Ps);class Gc{constructor(e={}){this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){let o;const n=this._idProperty;if(n in e){if(o=e[n],'string'!=typeof o)throw new _s('collection-add-invalid-id');if(this.get(o))throw new _s('collection-add-item-already-exists')}else e[n]=o=i();if(void 0===t)t=this._items.length;else if(t>this._items.length||0>t)throw new _s('collection-add-item-invalid-index');return this._items.splice(t,0,e),this._itemMap.set(o,e),this.fire('add',e,t),this}get(e){let t;if('string'==typeof e)t=this._itemMap.get(e);else if('number'==typeof e)t=this._items[e];else throw new _s('collection-get-invalid-arg: Index or id must be given.');return t||null}getIndex(e){let t;return t='string'==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}remove(e){let t=!1,o,n,i;const r=this._idProperty;if('string'==typeof e?(n=e,i=this._itemMap.get(n),t=!i,i&&(o=this._items.indexOf(i))):'number'==typeof e?(o=e,i=this._items[o],t=!i,i&&(n=i[r])):(i=e,n=i[r],o=this._items.indexOf(i),t=-1==o||!this._itemMap.get(n)),t)throw new _s('collection-remove-404: Item not found.');this._items.splice(o,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire('remove',i,o),i}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(e){if(this._bindToCollection)throw new _s('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=e,{as:(e)=>{this._setUpBindToBinding((t)=>new e(t))},using:(e)=>{'function'==typeof e?this._setUpBindToBinding((t)=>e(t)):this._setUpBindToBinding((t)=>t[e])}}}_setUpBindToBinding(e){const t=this._bindToCollection,o=(o,n,i)=>{const r=t._bindToCollection==this,a=t._bindToInternalToExternalMap.get(n);if(r&&a)this._bindToExternalToInternalMap.set(n,a),this._bindToInternalToExternalMap.set(a,n);else{const o=e(n);if(!o)return void this._skippedIndexesFromExternal.push(i);let r=i;for(const e of this._skippedIndexesFromExternal)i>e&&r--;for(const e of t._skippedIndexesFromExternal)r>=e&&r++;this._bindToExternalToInternalMap.set(n,o),this._bindToInternalToExternalMap.set(o,n),this.add(o,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)r<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const n of t)o(null,n,t.getIndex(n));this.listenTo(t,'add',o),this.listenTo(t,'remove',(e,t,o)=>{const n=this._bindToExternalToInternalMap.get(t);n&&this.remove(n),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(o<t&&e.push(t-1),o>t&&e.push(t),e),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}f(Gc,Ps);class $c{constructor(){this.selection=new Kc,this.roots=new Gc({idProperty:'rootName'}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.set('isComposing',!1),this._postFixers=new Set}getRoot(e='main'){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(t=o(e),t)break;while(t)}}f($c,Mc);const Jc=10;class Qc extends Zd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=X,this._priority=Jc,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new _s('attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.');return new Set(this._clonesGroup)}is(e,t=null){return t?'attributeElement'==e&&t==this.name||super.is(e,t):'attributeElement'==e||super.is(e)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Qc.DEFAULT_PRIORITY=Jc;class Yc extends Zd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=ee}is(e,t=null){return t?'emptyElement'==e&&t==this.name||super.is(e,t):'emptyElement'==e||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Jd||0<Array.from(t).length))throw new _s('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}const Xc=navigator.userAgent.toLowerCase(),Zc={isMac:function(e){return-1<e.indexOf('macintosh')}(Xc)};var em=Zc;const tm={"⌘":'ctrl',"⇧":'shift',"⌥":'alt'},om={ctrl:'\u2318',shift:'\u21E7',alt:'\u2325'},nm=function(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;90>=t;t++){const o=String.fromCharCode(t);e[o.toLowerCase()]=t}for(let t=48;57>=t;t++)e[t-48]=t;for(let t=112;123>=t;t++)e['f'+(t-111)]=t;return e}();class im extends Zd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=ae}is(e,t=null){return t?'uiElement'==e&&t==this.name||super.is(e,t):'uiElement'==e||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Jd||0<Array.from(t).length))throw new _s('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const o of this.getAttributeKeys())t.setAttribute(o,this.getAttribute(o));return t}}class rm{constructor(e){this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return'documentFragment'==e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange('children',this);let o=0;const n=le(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,o++;return o}_removeChildren(e,t=1){this._fireChange('children',this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire('change:'+e,t)}}f(rm,Ps);class am{constructor(e){this.document=e,this._cloneGroups=new Map}setSelection(e,t,o){this.document.selection._setTo(e,t,o)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new Qd(e)}createAttributeElement(e,t,o={}){const n=new Qc(e,t);return o.priority&&(n._priority=o.priority),o.id&&(n._id=o.id),n}createContainerElement(e,t){return new ec(e,t)}createEditableElement(e,t){const o=new Lc(e,t);return o._document=this.document,o}createEmptyElement(e,t){return new Yc(e,t)}createUIElement(e,t,o){const n=new im(e,t);return o&&(n.render=o),n}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){hs(e)&&o===void 0&&(o=t),o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Wc?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is('containerElement'))throw new _s('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!t.parent)throw new _s('view-writer-break-root: Trying to break root element.');if(e.isAtStart)return Wc.createBefore(t);if(!e.isAtEnd){const o=t._clone(!1);this.insert(Wc.createAfter(t),o);const n=new Uc(e,Wc.createAt(t,'end')),i=new Wc(o,0);this.move(n,i)}return Wc.createAfter(t)}mergeAttributes(e){const t=e.offset,o=e.parent;if(o.is('text'))return e;if(o.is('attributeElement')&&0===o.childCount){const e=o.parent,t=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Wc(e,t))}const n=o.getChild(t-1),i=o.getChild(t);if(!n||!i)return e;if(n.is('text')&&i.is('text'))return ge(n,i);if(n.is('attributeElement')&&i.is('attributeElement')&&n.isSimilar(i)){const e=n.childCount;return n._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Wc(n,e))}return e}mergeContainers(e){const t=e.nodeBefore,o=e.nodeAfter;if(!t||!o||!t.is('containerElement')||!o.is('containerElement'))throw new _s('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const n=t.getChild(t.childCount-1),i=n instanceof Qd?Wc.createAt(n,'end'):Wc.createAt(t,'end');return this.move(Uc.createIn(o),Wc.createAt(t,'end')),this.remove(Uc.createOn(o)),i}insert(e,t){t=P(t)?[...t]:[t],he(t);const o=ce(e);if(!o)throw new _s('view-writer-invalid-position-container');const n=this._breakAttributes(e,!0),i=o._insertChild(n.offset,t);for(const o of t)this._addToClonedElementsGroup(o);const r=n.getShiftedBy(i),a=this.mergeAttributes(n);if(0===i)return new Uc(a,a);else{a.isEqual(n)||r.offset--;const e=this.mergeAttributes(r);return new Uc(a,e)}}remove(e){if(ke(e),e.isCollapsed)return new rm;const{start:t,end:o}=this._breakAttributesRange(e,!0),n=t.parent,i=o.offset-t.offset,r=n._removeChildren(t.offset,i);for(const t of r)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(t);return e.start=a,e.end=Wc.createFromPosition(a),new rm(r)}clear(e,t){ke(e);const o=e.getWalker({direction:'backward',ignoreElementEnd:!0});for(const n of o){const o=n.item;let i;if(o.is('element')&&t.isSimilar(o))i=Uc.createOn(o);else if(!n.nextPosition.isAfter(e.start)&&o.is('textProxy')){const e=o.getAncestors().find((e)=>e.is('element')&&t.isSimilar(e));e&&(i=Uc.createIn(e))}i&&(i.end.isAfter(e.end)&&(i.end=e.end),i.start.isBefore(e.start)&&(i.start=e.start),this.remove(i))}}move(e,t){let o;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const n=t.parent,i=n.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=n.childCount-i}else o=this.remove(e);return this.insert(t,o)}wrap(e,t){if(!(t instanceof Qc))throw new _s('view-writer-wrap-invalid-attribute');if(ke(e),!e.isCollapsed)return this._wrapRange(e,t);else{let o=e.start;o.parent.is('element')&&!de(o.parent)&&(o=o.getLastMatchingPosition((e)=>e.item.is('uiElement'))),o=this._wrapPosition(o,t);const n=this.document.selection;return n.isCollapsed&&n.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new Uc(o)}}unwrap(e,t){if(!(t instanceof Qc))throw new _s('view-writer-unwrap-invalid-attribute');if(ke(e),e.isCollapsed)return e;const{start:o,end:n}=this._breakAttributesRange(e,!0);if(n.isEqual(o.getShiftedBy(1))){const e=o.nodeAfter;if(!t.isSimilar(e)&&e instanceof Qc&&this._unwrapAttributeElement(t,e)){const e=this.mergeAttributes(o);e.isEqual(o)||n.offset--;const t=this.mergeAttributes(n);return new Uc(e,t)}}const i=o.parent,r=this._unwrapChildren(i,o.offset,n.offset,t),a=this.mergeAttributes(r.start);a.isEqual(r.start)||r.end.offset--;const s=this.mergeAttributes(r.end);return new Uc(a,s)}rename(e,t){const o=new ec(t,e.getAttributes());return this.insert(Wc.createAfter(e),o),this.move(Uc.createIn(e),Wc.createAt(o)),this.remove(Uc.createOn(e)),o}_wrapChildren(e,t,o,n){let r=t;const i=[];for(;r<o;){const t=e.getChild(r),o=t.is('text'),a=t.is('attributeElement'),s=t.is('emptyElement'),l=t.is('uiElement');if(o||s||l||a&&me(n,t)){const o=n._clone();t._remove(),o._appendChild(t),e._insertChild(r,o),this._addToClonedElementsGroup(o),i.push(new Wc(e,r))}else a&&this._wrapChildren(t,0,t.childCount,n);r++}let a=0;for(const r of i){if(r.offset-=a,r.offset==t)continue;const e=this.mergeAttributes(r);e.isEqual(r)||(a++,o--)}return Uc.createFromParentsAndOffsets(e,t,e,o)}_unwrapChildren(e,t,o,n){let r=t;const i=[];for(;r<o;){const t=e.getChild(r);if(t.isSimilar(n)){const n=t.getChildren(),a=t.childCount;t._remove(),e._insertChild(r,n),this._removeFromClonedElementsGroup(t),i.push(new Wc(e,r),new Wc(e,r+a)),r+=a,o+=a-1}else t.is('attributeElement')&&this._unwrapChildren(t,0,t.childCount,n),r++}let a=0;for(const r of i){if(r.offset-=a,r.offset==t||r.offset==o)continue;const e=this.mergeAttributes(r);e.isEqual(r)||(a++,o--)}return Uc.createFromParentsAndOffsets(e,t,e,o)}_wrapRange(e,t){if(fe(e)&&this._wrapAttributeElement(t,e.start.parent)){const t=e.start.parent,o=this.mergeAttributes(Wc.createAfter(t)),n=this.mergeAttributes(Wc.createBefore(t));return new Uc(n,o)}const{start:o,end:n}=this._breakAttributesRange(e,!0);if(n.isEqual(o.getShiftedBy(1))){const e=o.nodeAfter;if(e instanceof Qc&&this._wrapAttributeElement(t,e)){const e=this.mergeAttributes(o);e.isEqual(o)||n.offset--;const t=this.mergeAttributes(n);return new Uc(e,t)}}const i=o.parent,r=this._unwrapChildren(i,o.offset,n.offset,t),a=this._wrapChildren(i,r.start.offset,r.end.offset,t),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;const l=this.mergeAttributes(a.end);return new Uc(s,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return ue(Wc.createFromPosition(e));e.parent.is('text')&&(e=pe(e));const o=this.createAttributeElement();o._priority=ns,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const n=new Uc(e,e.getShiftedBy(1));this.wrap(n,t);const i=new Wc(o.parent,o.index);o._remove();const r=i.nodeBefore,a=i.nodeAfter;return r instanceof Qd&&a instanceof Qd?ge(r,a):ue(i)}_wrapAttributeElement(e,t){if(!_e(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if('class'!==o&&'style'!==o&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())'class'!==o&&'style'!==o&&(t.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),t));for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const o of e.getClassNames())t.hasClass(o)||this.addClass(o,t);return!0}_unwrapAttributeElement(e,t){if(!_e(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if('class'!==o&&'style'!==o&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())'class'!==o&&'style'!==o&&this.removeAttribute(o,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const o=e.start,n=e.end;if(ke(e),e.isCollapsed){const o=this._breakAttributes(e.start,t);return new Uc(o,o)}const i=this._breakAttributes(n,t),r=i.parent.childCount,a=this._breakAttributes(o,t);return i.offset+=i.parent.childCount-r,new Uc(a,i)}_breakAttributes(e,t=!1){const o=e.offset,n=e.parent;if(e.parent.is('emptyElement'))throw new _s('view-writer-cannot-break-empty-element');if(e.parent.is('uiElement'))throw new _s('view-writer-cannot-break-ui-element');if(!t&&n.is('text')&&be(n.parent))return Wc.createFromPosition(e);if(be(n))return Wc.createFromPosition(e);if(n.is('text'))return this._breakAttributes(pe(e),t);const i=n.childCount;if(o==i){const e=new Wc(n.parent,n.index+1);return this._breakAttributes(e,t)}if(0===o){const e=new Wc(n.parent,n.index);return this._breakAttributes(e,t)}else{const e=n.index+1,i=n._clone();n.parent._insertChild(e,i),this._addToClonedElementsGroup(i);const r=n.childCount-o,a=n._removeChildren(o,r);i._appendChild(a);const s=new Wc(n.parent,e);return this._breakAttributes(s,t)}}_addToClonedElementsGroup(e){if(!e.root.is('rootElement'))return;if(e.is('element'))for(const t of e.getChildren())this._addToClonedElementsGroup(t);const t=e.id;if(!t)return;let o=this._cloneGroups.get(t);o||(o=new Set,this._cloneGroups.set(t,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is('element'))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(t){const o=this._cloneGroups.get(t);o&&(o.delete(e),0===o.size&&this._cloneGroups.delete(t))}}}const sm=[Qd,Qc,ec,Yc,im],lm=(e)=>{const t=e.createElement('br');return t.dataset.ckeFiller=!0,t},dm=(e)=>e.createTextNode('\xA0'),cm=7;let mm='';for(let n=0;n<cm;n++)mm+='\u200B';const um=new WeakMap;class pm{constructor(e,t){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,t){if('text'===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if('attributes'===e)this.markedAttributes.add(t);else if('children'===e)this.markedChildren.add(t);else throw new _s('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let e;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(e){const t=this.domConverter.viewPositionToDom(e),o=t.parent.ownerDocument;this._inlineFiller=we(t.parent)?t.parent:this._addInlineFiller(o,t.parent,t.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(t){const t=this._diffChildren(e),o=this._findReplaceActions(t.actions,t.actualDomChildren,t.expectedDomChildren);if(-1!==o.indexOf('replace')){const n={equal:0,insert:0,delete:0};for(const i of o)if('replace'===i){const o=n.equal+n.insert,i=n.equal+n.delete,r=e.getChild(o);r&&!r.is('uiElement')&&this._updateElementMappings(r,t.actualDomChildren[i]),Ee(t.expectedDomChildren[o]),n.equal++}else n[i]++}}}_updateElementMappings(e,t){const o=this.domConverter.mapDomToView(t);o&&(!o||o.isSimilar(e))||this.markedAttributes.add(e),this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e)}_addInlineFiller(e,t,o){const n=t instanceof Array?t:t.childNodes,i=n[o];if(Se(i))return i.data=mm+i.data,i;else{const i=e.createTextNode(mm);return Array.isArray(t)?n.splice(o,0,i):Pe(t,o,i),i}}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is('text')?Wc.createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Se(t.parent)&&we(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!we(e))throw new _s('view-renderer-filler-was-lost: The inline filler node was lost.');ve(e)?e.parentNode.removeChild(e):e.data=e.data.substr(cm),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is('element'))return!1;if(!De(t))return!1;if(o===t.getFillerOffset())return!1;const n=e.nodeBefore,i=e.nodeAfter;return!(n instanceof Qd||i instanceof Qd)}_updateText(e,t){const o=this.domConverter.findCorrespondingDomText(e),n=this.domConverter.viewToDom(e,o.ownerDocument),i=o.data;let r=n.data;const a=t.inlineFillerPosition;if(a&&a.parent==e.parent&&a.offset==e.index&&(r=mm+r),i!=r){const e=Ie(i,r);for(const t of e)'insert'===t.type?o.insertData(t.index,t.values.join('')):o.deleteData(t.index,t.howMany)}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(t){const o=Array.from(t.attributes).map((e)=>e.name),n=e.getAttributeKeys();for(const o of n)t.setAttribute(o,e.getAttribute(o));for(const n of o)e.hasAttribute(n)||t.removeAttribute(n)}}_updateChildren(e,t){const o=this.domConverter.mapViewToDom(e);if(o){const n=t.inlineFillerPosition,r=this._getElementExpectedChildren(e,o,{bind:!0,inlineFillerPosition:n}),a=this._diffChildren(e,n),s=a.actualDomChildren;let l=0;const i=new Set;for(const e of a.actions)'insert'===e?(Pe(o,l,r[l]),l++):'delete'===e?(i.add(s[l]),Ee(s[l])):(this._markDescendantTextToSync(this.domConverter.domToView(r[l])),l++);for(const e of i)e.parentNode||this.domConverter.unbindDomElement(e)}}_diffChildren(e,t=null){const o=this.domConverter.mapViewToDom(e),n=o.childNodes,i=this._getElementExpectedChildren(e,o,{withChildren:!1,inlineFillerPosition:t});return{actions:Te(n,i,Be.bind(null,this.domConverter.blockFiller)),actualDomChildren:n,expectedDomChildren:i}}_getElementExpectedChildren(e,t,o){const n=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,o)),i=o.inlineFillerPosition;return i&&i.parent===e&&this._addInlineFiller(t.ownerDocument,n,i.offset),n}_findReplaceActions(e,t,o){if(-1===e.indexOf('insert')||-1===e.indexOf('delete'))return e;let n=[],i=[],r=[];const a={equal:0,insert:0,delete:0};for(const s of e)'insert'===s?r.push(o[a.equal+a.insert]):'delete'===s?i.push(t[a.equal+a.delete]):(n=n.concat(Te(i,r,Me).map((e)=>'equal'===e?'replace':e)),n.push('equal'),i=[],r=[]),a[s]++;return n.concat(Te(i,r,Me).map((e)=>'equal'===e?'replace':e))}_markDescendantTextToSync(e){if(e)if(e.is('text'))this.markedTexts.add(e);else if(e.is('element'))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const t=e.ownerDocument;let o=this._fakeSelectionContainer;o||(this._fakeSelectionContainer=o=t.createElement('div'),Object.assign(o.style,{position:'fixed',top:0,left:'-9999px',width:'42px'}),o.appendChild(t.createTextNode('\xA0'))),o.parentElement||e.appendChild(o),o.firstChild.data=this.selection.fakeSelectionLabel||'\xA0';const n=t.getSelection(),i=t.createRange();n.removeAllRanges(),i.selectNodeContents(o),n.addRange(i),this.domConverter.bindFakeSelection(o,this.selection)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){const o=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(o.parent,o.offset),t.extend(n.parent,n.offset)}}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t))&&(this.selection.isCollapsed||!this.selection.isSimilar(t))}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const t=e.activeElement,o=this.domConverter.mapDomToView(t);t&&o&&e.getSelection().removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}f(pm,Mc);var gm={window,document},fm=function(e){return!!e&&1===e.nodeType&&cs(e)&&!hs(e)};class hm{constructor(e={}){this.blockFiller=e.blockFiller||lm,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Hc(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.childNodes))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}viewToDom(e,t,o={}){if(e.is('text')){const o=this._processDataFromViewText(e);return t.createTextNode(o)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is('documentFragment'))n=t.createDocumentFragment(),o.bind&&this.bindDocumentFragments(n,e);else{if(e.is('uiElement'))return n=e.render(t),o.bind&&this.bindElements(n,e),n;n=t.createElement(e.name),o.bind&&this.bindElements(n,e);for(const t of e.getAttributeKeys())n.setAttribute(t,e.getAttribute(t))}if(o.withChildren||void 0===o.withChildren)for(const i of this.viewChildrenToDom(e,t,o))n.appendChild(i);return n}}*viewChildrenToDom(e,t,o={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const r of e.getChildren())n===i&&(yield this.blockFiller(t)),yield this.viewToDom(r,t,o),i++;n===i&&(yield this.blockFiller(t))}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),n=document.createRange();return n.setStart(t.parent,t.offset),n.setEnd(o.parent,o.offset),n}viewPositionToDom(e){const t=e.parent;if(t.is('text')){const o=this.findCorrespondingDomText(t);if(!o)return null;let n=e.offset;return we(o)&&(n+=cm),{parent:o,offset:n}}else{let o,n,i;if(0===e.offset){if(o=this.mapViewToDom(t),!o)return null;i=o.childNodes[0]}else{const t=e.nodeBefore;if(n=t.is('text')?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore),!n)return null;o=n.parentNode,i=n.nextSibling}if(Se(i)&&we(i))return{parent:i,offset:cm};const r=n?Le(n)+1:0;return{parent:o,offset:r}}}domToView(e,t={}){if(xe(e,this.blockFiller))return null;const o=this.getParentUIElement(e,this._domToViewMapping);if(o)return o;if(Se(e)){if(ve(e))return null;else{const t=this._processDataFromDomText(e);return''===t?null:new Qd(t)}}else if(this.isComment(e))return null;else{if(this.mapDomToView(e))return this.mapDomToView(e);let o;if(this.isDocumentFragment(e))o=new rm,t.bind&&this.bindDocumentFragments(e,o);else{const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();o=new Zd(n),t.bind&&this.bindElements(e,o);const r=e.attributes;for(let e=r.length-1;0<=e;e--)o._setAttribute(r[e].name,r[e].value)}if(t.withChildren||void 0===t.withChildren)for(const n of this.domChildrenToView(e,t))o._appendChild(n);return o}}*domChildrenToView(e,t={}){for(let o=0;o<e.childNodes.length;o++){const n=e.childNodes[o],i=this.domToView(n,t);null!==i&&(yield i)}}domSelectionToView(e){if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;Se(t)&&(t=t.parentNode);const o=this.fakeSelectionToView(t);if(o)return o}const t=this.isDomSelectionBackward(e),o=[];for(let t=0;t<e.rangeCount;t++){const n=e.getRangeAt(t),i=this.domRangeToView(n);i&&o.push(i)}return new Hc(o,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new Uc(t,o):null}domPositionToView(e,t){if(xe(e,this.blockFiller))return this.domPositionToView(e.parentNode,Le(e));const o=this.mapDomToView(e);if(o&&o.is('uiElement'))return Wc.createBefore(o);if(Se(e)){if(ve(e))return this.domPositionToView(e.parentNode,Le(e));const o=this.findCorrespondingViewText(e);let n=t;return o?(we(e)&&(n-=cm,n=0>n?0:n),new Wc(o,n)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new Wc(t,0)}else{const o=e.childNodes[t-1],n=Se(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(n&&n.parent)return new Wc(n.parent,n.index+1)}return null}mapDomToView(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ve(e))return null;const t=this.getParentUIElement(e);if(t)return t;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const e=this.mapDomToView(o);if(e){const t=e.nextSibling;return t instanceof Qd?e.nextSibling:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof Qd?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:o}=gm.window,n=[];We(t,(e)=>{const{scrollLeft:t,scrollTop:o}=e;n.push([t,o])}),t.focus(),We(t,(e)=>{const[t,o]=n.shift();e.scrollLeft=t,e.scrollTop=o}),gm.window.scrollTo(e,o)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const o=t.collapsed;return t.detach(),o}getParentUIElement(e){const t=ze(e);for(t.pop();t.length;){const e=t.pop(),o=this._domToViewMapping.get(e);if(o&&o.is('uiElement'))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(Se(e)&&we(e)&&t<cm)return!1;if(this.isElement(e)&&we(e.childNodes[t]))return!1;const o=this.mapDomToView(e);return!(o&&o.is('uiElement'))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some((e)=>this.preElements.includes(e.name)))return t;if(' '==t.charAt(0)){const o=this._getTouchingViewTextNode(e,!1),n=o&&this._nodeEndsWithSpace(o);(n||!o)&&(t='\xA0'+t.substr(1))}if(' '==t.charAt(t.length-1)){const o=this._getTouchingViewTextNode(e,!0);o||(t=t.substr(0,t.length-1)+'\xA0')}return t.replace(/ {2}/g,' \xA0')}_nodeEndsWithSpace(e){if(e.getAncestors().some((e)=>this.preElements.includes(e.name)))return!1;const t=this._processDataFromViewText(e);return' '==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(qe(e,this.preElements))return ye(e);t=t.replace(/[ \n\t\r]{1,}/g,' ');const o=this._getTouchingInlineDomNode(e,!1),n=this._getTouchingInlineDomNode(e,!0),i=this._checkShouldLeftTrimDomText(o),r=this._checkShouldRightTrimDomText(e,n);return i&&(t=t.replace(/^ /,'')),r&&(t=t.replace(/ $/,'')),t=ye(new Text(t)),t=t.replace(/ \u00A0/g,'  '),i&&(t=t.replace(/^\u00A0/,' ')),(!Se(n)||'\xA0'==n.data.charAt(0))&&(t=t.replace(/\u00A0( *)$/,' $1')),t}_checkShouldLeftTrimDomText(e){return!e||!!fm(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}_checkShouldRightTrimDomText(e,t){return!t&&!we(e)}_getTouchingViewTextNode(e,t){const o=new qc({startPosition:t?Wc.createAfter(e):Wc.createBefore(e),direction:t?'forward':'backward'});for(const n of o){if(n.item.is('containerElement'))return null;if(n.item.is('br'))return null;if(n.item.is('textProxy'))return n.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const o=t?'nextNode':'previousNode',n=e.ownerDocument,i=ze(e)[0],r=n.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(e){return Se(e)?NodeFilter.FILTER_ACCEPT:'BR'==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});r.currentNode=e;const a=r[o]();if(null!==a){const t=je(e,a);if(t&&!qe(e,this.blockElements,t)&&!qe(a,this.blockElements,t))return a}return null}}const bm=Rc({},Ps,{listenTo(e,...t){if(Oe(e)||Ue(e)){const o=this._getProxyEmitter(e)||new _m(e);o.attach(...t),e=o}Ps.listenTo.call(this,e,...t)},stopListening(e,t,o){if(Oe(e)||Ue(e)){const t=this._getProxyEmitter(e);if(!t)return;e=t}Ps.stopListening.call(this,e,t,o),e instanceof _m&&e.detach(t)},_getProxyEmitter(e){return r(this,He(e))}});var km=bm;class _m{constructor(e){a(this,He(e)),this._domNode=e}}Rc(_m.prototype,Ps,{attach(e,t,o={}){if(!(this._domListeners&&this._domListeners[e])){const t=this._createDomListener(e,!!o.useCapture);this._domNode.addEventListener(e,t,!!o.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}},detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener(e,t){const o=(t)=>{this.fire(e,t)};return o.removeListener=()=>{this._domNode.removeEventListener(e,o,t),delete this._domListeners[e]},o}});class wm{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}f(wm,km);Ke.prototype.add=Ke.prototype.push=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this},Ke.prototype.has=function(e){return this.__data__.has(e)};var vm=Ke,ym=function(e,t){for(var o=-1,n=e.length;++o<n;)if(t(e[o],o,e))return!0;return!1},xm=function(e,t,o,n,i,r){var a=i&2,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var d=r.get(e);if(d)return d==t;var c=-1,m=!0,u=i&1?new vm:void 0;for(r.set(e,t);++c<s;){var p=e[c],g=t[c];if(n)var f=a?n(g,p,c,t,e,r):n(p,g,c,e,t,r);if(void 0!==f){if(f)continue;m=!1;break}if(u){if(!ym(t,function(e,t){if(!u.has(t)&&(p===e||o(p,e,n,i,r)))return u.add(t)})){m=!1;break}}else if(!(p===g||o(p,g,n,i,r))){m=!1;break}}return r['delete'](e),m},Cm=Rd?Rd.prototype:void 0,Am=Cm?Cm.valueOf:void 0,Tm=function(e,t,o,n,i,r,a){switch(o){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return!!(e.byteLength==t.byteLength&&n(new _d(e),new _d(t)));case'[object Boolean]':case'[object Date]':return+e==+t;case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object Number]':return e==+e?e==+t:t!=+t;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var s=Cd;case'[object Set]':var l=r&2;if(s||(s=Sd),e.size!=t.size&&!l)return!1;var d=a.get(e);return d?d==t:(r|=1,a.set(e,t),xm(s(e),s(t),n,i,r,a));case'[object Symbol]':if(Am)return Am.call(e)==Am.call(t);}return!1},Pm=2,Em={};Em['[object Float32Array]']=Em['[object Float64Array]']=Em['[object Int8Array]']=Em['[object Int16Array]']=Em['[object Int32Array]']=Em['[object Uint8Array]']=Em['[object Uint8ClampedArray]']=Em['[object Uint16Array]']=Em['[object Uint32Array]']=!0,Em['[object Arguments]']=Em['[object Array]']=Em['[object ArrayBuffer]']=Em['[object Boolean]']=Em['[object DataView]']=Em['[object Date]']=Em['[object Error]']=Em['[object Function]']=Em['[object Map]']=Em['[object Number]']=Em['[object Object]']=Em['[object RegExp]']=Em['[object Set]']=Em['[object String]']=Em['[object WeakMap]']=!1;var Sm=Object.prototype,Om=Sm.toString,Im=function(e){return cs(e)&&wl(e.length)&&!!Em[Om.call(e)]},Rm='[object Arguments]',Vm='[object Array]',Fm='[object Object]',Nm=Object.prototype,Dm=Nm.hasOwnProperty,Mm=function(e,t,o,n,i,r){var a=Sl(e),s=Sl(t),l=Vm,d=Vm;a||(l=gd(e),l=l==Rm?Fm:l),s||(d=gd(t),d=d==Rm?Fm:d);var c=l==Fm&&!ds(e),m=d==Fm&&!ds(t),u=l==d;if(u&&!c)return r||(r=new al),a||Im(e)?xm(e,t,o,n,i,r):Tm(e,t,l,o,n,i,r);if(!(i&2)){var p=c&&Dm.call(e,'__wrapped__'),g=m&&Dm.call(t,'__wrapped__');if(p||g){var f=p?e.value():e,h=g?t.value():t;return r||(r=new al),o(f,h,n,i,r)}}return!!u&&(r||(r=new al),Ge(e,t,o,n,i,r))},Bm=$e,Lm=function(e,t,o){o='function'==typeof o?o:void 0;var n=o?o(e,t):void 0;return n===void 0?Bm(e,t,o):!!n};class zm extends wm{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){function t(e,t){if(!Array.isArray(e))return e===t||!!(e.is('text')&&t.is('text'))&&e.data===t.data}if(0===e.length)return;const o=this.domConverter,n=new Map,i=new Set;for(const t of e)if('childList'===t.type){const e=o.mapDomToView(t.target);if(e&&e.is('uiElement'))continue;e&&!this._isBogusBrMutation(t)&&i.add(e)}for(const t of e){const e=o.mapDomToView(t.target);if(!(e&&e.is('uiElement'))&&'characterData'===t.type){const e=o.findCorrespondingViewText(t.target);e&&!i.has(e.parent)?n.set(e,{type:'text',oldText:e.data,newText:ye(t.target),node:e}):!e&&we(t.target)&&i.add(o.mapDomToView(t.target.parentNode))}}const r=[];for(const t of n.values())this.renderer.markToSync('text',t.node),r.push(t);for(const n of i){const e=o.mapViewToDom(n),i=Array.from(n.getChildren()),a=Array.from(o.domChildrenToView(e,{withChildren:!1}));Lm(i,a,t)||(this.renderer.markToSync('children',n),r.push({type:'children',oldChildren:i,newChildren:a,node:n}))}const a=e[0].target.ownerDocument.getSelection();let s=null;if(a&&a.anchorNode){const e=o.domPositionToView(a.anchorNode,a.anchorOffset),t=o.domPositionToView(a.focusNode,a.focusOffset);e&&t&&(s=new Hc(e),s.setFocus(t))}this.document.fire('mutations',r,s),this.view.render()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is('element','br')}}class jm{constructor(e,t,o){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Rc(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class qm extends wm{constructor(e){super(e),this.useCapture=!1}observe(e){const t='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;t.forEach((t)=>{this.listenTo(e,t,(e,t)=>{this.isEnabled&&this.onDomEvent(t)},{useCapture:this.useCapture})})}fire(e,t,o){this.isEnabled&&this.document.fire(e,new jm(this.view,t,o))}}class Wm extends qm{constructor(e){super(e),this.domEventType=['keydown','keyup']}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return te(this)}})}}var Um=Date.now,Hm=Um,Km='Expected a function',Gm=is,$m=rs,Jm=Je;class Qm extends wm{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Jm((e)=>this.document.fire('selectionChangeDone',e),200)}observe(){const e=this.document;e.on('keydown',(t,o)=>{const n=e.selection;n.isFake&&Qe(o.keyCode)&&this.isEnabled&&(o.preventDefault(),this._handleSelectionMove(o.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,o=new Hc(t.getRanges(),{backward:t.isBackward,fake:!1});(e==nm.arrowleft||e==nm.arrowup)&&o.setTo(o.getFirstPosition()),(e==nm.arrowright||e==nm.arrowdown)&&o.setTo(o.getLastPosition());const n={oldSelection:t,newSelection:o,domSelection:null};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}const Ym={error(e,t){console.error(n(e),t)},warn(e,t){console.warn(n(e),t)}};var Xm=Ym;class Zm extends wm{constructor(e){super(e),this.mutationObserver=e.getObserver(zm),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Jm((e)=>this.document.fire('selectionChangeDone',e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument;this._documents.has(t)||(this.listenTo(t,'selectionchange',()=>{this._handleSelectionChange(t)}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();const t=e.defaultView.getSelection(),o=this.domConverter.domSelectionToView(t);if(!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(t))){if(60<++this._loopbackCounter)return void Xm.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(o))this.view.render();else{const e={oldSelection:this.selection,newSelection:o,domSelection:t};this.document.fire('selectionChange',e),this._fireSelectionChangeDoneDebounced(e)}}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class eu extends qm{constructor(e){super(e),this.domEventType=['focus','blur'],this.useCapture=!0;const t=this.document;t.on('focus',()=>{t.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.render(),50)}),t.on('blur',(o,n)=>{const i=t.selection.editableElement;(null===i||i===n.target)&&(t.isFocused=!1,e.render())})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class tu extends qm{constructor(e){super(e),this.domEventType=['compositionstart','compositionupdate','compositionend'];const t=this.document;t.on('compositionstart',()=>{t.isComposing=!0}),t.on('compositionend',()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}class ou{constructor(e){const t=Ye(e);if(Object.defineProperty(this,'_source',{value:e._source||e,writable:!0,enumerable:!1}),fm(e)||t){const o=t?e.startContainer:e;o.ownerDocument&&o.ownerDocument.body.contains(o)||Xm.warn('rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',{source:e}),t?Ze(this,ou.getDomRangeRects(e)[0]):Ze(this,e.getBoundingClientRect())}else if(Ue(e)){const{innerWidth:t,innerHeight:o}=e;Ze(this,{top:0,right:t,bottom:o,left:0,width:t,height:o})}else Ze(this,e)}clone(){return new ou(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:is(this.top,e.top),right:rs(this.right,e.right),bottom:rs(this.bottom,e.bottom),left:is(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,0>t.width||0>t.height?null:new ou(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!et(e))for(let o=e.parentNode||e.commonAncestorContainer;o&&!et(o);){const e=new ou(o),n=t.getIntersection(e);if(n)n.getArea()<t.getArea()&&(t=n);else return null;o=o.parentNode}return t}isEqual(e){for(const t of nu)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,o;if(Ue(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight;else{const n=Xe(this._source);t=e.offsetWidth-e.clientWidth,o=e.offsetHeight-e.clientHeight,this.moveBy(n.left,n.top)}return this.width-=t,this.right-=t,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const t=[],o=Array.from(e.getClientRects());if(o.length)for(const e of o)t.push(new ou(e));else{let o=e.startContainer;Se(o)&&(o=o.parentNode);const n=new ou(o.getBoundingClientRect());n.right=n.left,n.width=0,t.push(n)}return t}}const nu=['top','right','bottom','left','width','height'];Object.assign({},{scrollViewportToShowTarget:tt,scrollAncestorsToShowTarget:function(e){const t=ct(e);it(t,()=>new ou(e))}});class iu{constructor(){this.document=new $c,this.domConverter=new hm,this._renderer=new pm(this.domConverter,this.document.selection),this._renderer.bind('isFocused').to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._writer=new am(this.document),this.addObserver(zm),this.addObserver(Zm),this.addObserver(eu),this.addObserver(Wm),this.addObserver(Qm),this.addObserver(tu),Ce(this),re(this),this.on('render',()=>{this._render()})}attachDomRoot(e,t='main'){const o=this.document.getRoot(t);o._name=e.tagName.toLowerCase(),this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this._renderer.markToSync('children',o),this._renderer.domDocuments.add(e.ownerDocument),o.on('change:children',(e,t)=>this._renderer.markToSync('children',t)),o.on('change:attributes',(e,t)=>this._renderer.markToSync('attributes',t)),o.on('change:text',(e,t)=>this._renderer.markToSync('text',t));for(const o of this._observers.values())o.observe(e,t)}getDomRoot(e='main'){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[o,n]of this.domRoots)t.observe(n,o);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&tt({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e?(this.domConverter.focus(e),this.render()):Xm.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}change(e){if(this._renderingInProgress||this._postFixersInProgress)throw new _s('cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.');return this._ongoingChange?void e(this._writer):void(this._ongoingChange=!0,e(this._writer),this._ongoingChange=!1,this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire('render'))}render(){this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.stopListening()}_render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}f(iu,Mc);class ru{constructor(e){this.parent=null,this._attrs=ut(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new _s('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new _s('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.root==this?null:this.root.document||null}getPath(){const e=[];for(let t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),n=e.getAncestors(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),n=A(t,o);return!('prefix'!==n)||'extension'!==n&&t[n]<o[n]}isAfter(e){return this!=e&&!(this.root!==e.root)&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=[...this._attrs]),e}_clone(){return new ru(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=ut(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}is(e){return'node'==e}}class au extends ru{constructor(e,t){super(t),this._data=e||''}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return'text'==e||super.is(e)}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new au(this.data,this.getAttributes())}static fromJSON(e){return new au(e.data,e.attributes)}}class su{constructor(e,t,o){if(this.textNode=e,0>t||t>e.offsetSize)throw new _s('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>o||t+o>e.offsetSize)throw new _s('model-textproxy-wrong-length: Given length value is incorrect.');this.data=e.data.substring(t,t+o),this.offsetInText=t}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return'textProxy'==e}getPath(){const e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class lu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new _s('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const o of this._nodes){if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}if(t!=e)throw new _s('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.',{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const o of t)if(!(o instanceof ru))throw new _s('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e)=>e.toJSON())}}class du extends ru{constructor(e,t,o){super(t),this.name=e,this._children=new lu,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,t=null){return t?'element'==e&&t==this.name:'element'==e||e==this.name||super.is(e)}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}toJSON(){const e=super.toJSON();if(e.name=this.name,0<this._children.length){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map((e)=>e._clone(!0)):null;return new du(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=pt(t);for(const n of o)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const n of o)n.parent=null;return o}static fromJSON(e){let t=null;if(e.children){t=[];for(const o of e.children)o.name?t.push(du.fromJSON(o)):t.push(au.fromJSON(o))}return new du(e.name,e.attributes,t)}}class cu{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new _s('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const t=e.direction||'forward';if('forward'!=t&&'backward'!=t)throw new _s('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?uu.createFromPosition(e.startPosition):uu.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,o,n,i;do n=this.position,i=this._visitedParent,({done:t,value:o}=this.next());while(!t&&e(o));t||(this.position=n,this._visitedParent=i)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const e=this.position,t=uu.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};const n=t.textNode?t.textNode:t.nodeAfter;if(n instanceof du)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=n),this.position=t,gt('elementStart',n,e,t,1);if(n instanceof au){let i;if(this.singleCharacters)i=1;else{let e=n.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),i=e-t.offset}const r=t.offset-n.startOffset,a=new su(n,r,i);return t.offset+=i,this.position=t,gt('text',a,e,t,i)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():gt('elementEnd',o,e,t)}_previous(){const e=this.position,t=uu.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};const n=t.textNode?t.textNode:t.nodeBefore;if(n instanceof du)return t.offset--,this.shallow?(this.position=t,gt('elementStart',n,e,t,1)):(t.path.push(n.maxOffset),this.position=t,this._visitedParent=n,this.ignoreElementEnd?this._previous():gt('elementEnd',n,e,t));if(n instanceof au){let i;if(this.singleCharacters)i=1;else{let e=n.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),i=t.offset-e}const r=t.offset-n.startOffset,a=new su(n,r-i,i);return t.offset-=i,this.position=t,gt('text',a,e,t,i)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,gt('elementStart',o,e,t,1)}}var mu=function(e){var t=e?e.length:0;return t?e[t-1]:void 0};class uu{constructor(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new _s('model-position-root-invalid: Position root invalid.');if(!(t instanceof Array)||0===t.length)throw new _s('model-position-path-incorrect: Position path must be an array with at least one item.',{path:t});t=e.getPath().concat(t),e=e.root,this.root=e,this.path=t}get offset(){return mu(this.path)}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)e=e.getChild(e.offsetToIndex(this.path[t]));return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const e=this.parent.getChild(this.index);return e instanceof au&&e.startOffset<this.offset?e:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return'different';const t=A(this.path,e.path);return'same'===t?'same':'prefix'===t?'before':'extension'===t?'after':this.path[t]<e.path[t]?'before':'after'}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new cu(t);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(e){if(this.root!=e.root)return[];const t=A(this.path,e.path),o='string'==typeof t?rs(this.path.length,e.path.length):t;return this.path.slice(0,o)}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}getShiftedBy(e){const t=uu.createFromPosition(this),o=t.offset+e;return t.offset=0>o?0:o,t}isAfter(e){return'after'==this.compareWith(e)}isBefore(e){return'before'==this.compareWith(e)}isEqual(e){return'same'==this.compareWith(e)}isTouching(e){let t=null,o=null;const n=this.compareWith(e);switch(n){case'same':return!0;case'before':t=uu.createFromPosition(this),o=uu.createFromPosition(e);break;case'after':t=uu.createFromPosition(e),o=uu.createFromPosition(this);break;default:return!1;}for(let n=t.parent;t.path.length+o.path.length;){if(t.isEqual(o))return!0;if(t.path.length>o.path.length){if(t.offset!==n.maxOffset)return!1;t.path=t.path.slice(0,-1),n=n.parent,t.offset++}else{if(0!==o.offset)return!1;o.path=o.path.slice(0,-1)}}}_getTransformedByDeletion(e,t){const o=uu.createFromPosition(this);if(this.root!=e.root)return o;if('same'==A(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;o.offset-=t}}else if('prefix'==A(e.getParentPath(),this.getParentPath())){const n=e.path.length-1;if(e.offset<=this.path[n]){if(e.offset+t>this.path[n])return null;o.path[n]-=t}}return o}_getTransformedByInsertion(e,t,o){const n=uu.createFromPosition(this);if(this.root!=e.root)return n;if('same'==A(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&o)&&(n.offset+=t);else if('prefix'==A(e.getParentPath(),this.getParentPath())){const o=e.path.length-1;e.offset<=this.path[o]&&(n.path[o]+=t)}return n}_getTransformedByMove(e,t,o,n,i){let r=this._getTransformedByDeletion(e,o);return t=t._getTransformedByDeletion(e,o),r=null===r||i&&r.isEqual(e)?this._getCombined(e,t):r._getTransformedByInsertion(t,o,n),r}_getCombined(e,t){const o=e.path.length-1,n=uu.createFromPosition(t);return n.offset=n.offset+this.path[o]-e.offset,n.path=n.path.concat(this.path.slice(o+1)),n}static createAt(e,t){if(e instanceof uu)return this.createFromPosition(e);else{const o=e;if('end'==t)t=o.maxOffset;else{if('before'==t)return this.createBefore(o);if('after'==t)return this.createAfter(o);t||(t=0)}return this.createFromParentAndOffset(o,t)}}static createAfter(e){if(!e.parent)throw new _s('model-position-after-root: You cannot make a position after root.',{root:e});return this.createFromParentAndOffset(e.parent,e.endOffset)}static createBefore(e){if(!e.parent)throw new _s('model-position-before-root: You cannot make a position before root.',{root:e});return this.createFromParentAndOffset(e.parent,e.startOffset)}static createFromParentAndOffset(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new _s('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const o=e.getPath();return o.push(t),new this(e.root,o)}static createFromPosition(e){return new this(e.root,e.path.slice())}static fromJSON(e,t){if('$graveyard'===e.root)return new uu(t.graveyard,e.path);if(!t.getRoot(e.root))throw new _s('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:e.root});return new uu(t.getRoot(e.root),e.path)}}class pu{constructor(e,t=null){this.start=uu.createFromPosition(e),this.end=t?uu.createFromPosition(t):uu.createFromPosition(e)}*[Symbol.iterator](){yield*new cu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}containsItem(e){const t=uu.createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new pu(this.start,e.start)),this.containsPosition(e.end)&&t.push(new pu(e.end,this.end))):t.push(pu.createFromRange(this)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new pu(t,o)}return null}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,o=uu.createFromPosition(this.start);for(let n=o.parent;o.path.length>t+1;){const t=n.maxOffset-o.offset;0!=t&&e.push(new pu(o,o.getShiftedBy(t))),o.path=o.path.slice(0,-1),o.offset++,n=n.parent}for(;o.path.length<=this.end.path.length;){const t=this.end.path[o.path.length-1],n=t-o.offset;0!=n&&e.push(new pu(o,o.getShiftedBy(n))),o.offset=t,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new cu(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new cu(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new cu(e);yield t.position;for(const o of t)yield o.nextPosition}getTransformedByDelta(e){const t=[pu.createFromRange(this)],o=new Set(['insert','move','remove','reinsert']);for(const n of e.operations)if(o.has(n.type))for(let o=0;o<t.length;o++){let i;i='insert'==n.type?t[o]._getTransformedByDocumentChange(n.type,e.type,n.position,n.nodes.maxOffset):t[o]._getTransformedByDocumentChange(n.type,e.type,n.targetPosition,n.howMany,n.sourcePosition),t.splice(o,1,...i),o+=i.length-1}return t}getTransformedByDeltas(e){const t=[pu.createFromRange(this)];for(const o of e)for(let e=0;e<t.length;e++){const n=t[e].getTransformedByDelta(o);t.splice(e,1,...n),e+=n.length-1}for(let o=0;o<t.length;o++){const e=t[o];for(let n=o+1;n<t.length;n++){const o=t[n];(e.containsRange(o)||o.containsRange(e)||e.isEqual(o))&&t.splice(n,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}_getTransformedByDocumentChange(e,t,o,n,i){if('insert'==e)return this._getTransformedByInsertion(o,n,!1,!1);else{const e=pu.createFromPositionAndShift(i,n);if('merge'==t&&this.isCollapsed&&(this.start.isEqual(e.start)||this.start.isEqual(e.end))){const t=this.start.offset-e.start.offset;return[new pu(o.getShiftedBy(t))]}if('split'==t&&this.isCollapsed&&this.end.isEqual(e.end))return[new pu(o.getShiftedBy(n))];if((e.containsPosition(this.start)||e.start.isEqual(this.start))&&this.containsPosition(e.end)&&this.end.isAfter(o)){const e=this.start._getCombined(i,o._getTransformedByDeletion(i,n)),t=this.end._getTransformedByMove(i,o,n,!1,!1);return[new pu(e,t)]}if((e.containsPosition(this.end)||e.end.isEqual(this.end))&&this.containsPosition(e.start)&&this.start.isBefore(o)){const e=this.start._getTransformedByMove(i,o,n,!0,!1),t=this.end._getCombined(i,o._getTransformedByDeletion(i,n));return[new pu(e,t)]}return this._getTransformedByMove(i,o,n)}}_getTransformedByInsertion(e,t,o=!1,n=!1){if(o&&this.containsPosition(e))return[new pu(this.start,e),new pu(e._getTransformedByInsertion(e,t,!0),this.end._getTransformedByInsertion(e,t,this.isCollapsed))];else{const o=pu.createFromRange(this),i=!!o.isCollapsed||n;return o.start=o.start._getTransformedByInsertion(e,t,!n),o.end=o.end._getTransformedByInsertion(e,t,i),[o]}}_getTransformedByMove(e,t,o){if(this.isCollapsed){const n=this.start._getTransformedByMove(e,t,o,!0,!1);return[new pu(n)]}let n;const i=new pu(e,e.getShiftedBy(o)),r=this.getDifference(i);let a=null;const s=this.getIntersection(i);1==r.length?a=new pu(r[0].start._getTransformedByDeletion(e,o),r[0].end._getTransformedByDeletion(e,o)):2==r.length&&(a=new pu(this.start,this.end._getTransformedByDeletion(e,o)));const l=t._getTransformedByDeletion(e,o);return n=a?a._getTransformedByInsertion(l,o,null!==s):[],s&&n.push(new pu(s.start._getCombined(i.start,l),s.end._getCombined(i.start,l))),n}static createFromPositionAndShift(e,t){const o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}static createFromParentsAndOffsets(e,t,o,n){return new this(uu.createFromParentAndOffset(e,t),uu.createFromParentAndOffset(o,n))}static createFromRange(e){return new this(e.start,e.end)}static createIn(e){return this.createFromParentsAndOffsets(e,0,e,e.maxOffset)}static createOn(e){return this.createFromPositionAndShift(uu.createBefore(e),e.offsetSize)}static createCollapsedAt(e,t){const o=uu.createAt(e,t),n=uu.createFromPosition(o);return new pu(o,n)}static createFromRanges(e){if(0===e.length)throw new _s('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==e.length)return this.createFromRange(e[0]);const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const o=e.indexOf(t),n=new this(t.start,t.end);for(let t=o-1;0<=t&&e[t].end.isEqual(n.start);t++)n.start=uu.createFromPosition(e[t].start);for(let t=o+1;t<e.length&&e[t].start.isEqual(n.end);t++)n.end=uu.createFromPosition(e[t].end);return n}static fromJSON(e,t){return new this(uu.fromJSON(e.start,t),uu.fromJSON(e.end,t))}}class gu{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on('modelToViewPosition',(e,t)=>{if(!t.viewPosition){const e=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this._findPositionIn(e,t.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(e,t)=>{if(t.modelPosition)return;let o=t.viewPosition.parent,n=this._viewToModelMapping.get(o);for(;!n;)o=o.parent,n=this._viewToModelMapping.get(o);const i=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,o);t.modelPosition=uu.createFromParentAndOffset(n,i)},{priority:'low'})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);this._viewToModelMapping.delete(e),this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const o=this._markerNameToElements.get(t)||new Set;o.add(e),this._markerNameToElements.set(t,o)}unbindElementsFromMarkerName(e){this._markerNameToElements.delete(e)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new pu(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Uc(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire('viewToModelPosition',t),t.modelPosition}toViewPosition(e,t={isPhantom:!1}){const o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire('modelToViewPosition',o),o.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const o=new Set;for(const n of t)if(n.is('attributeElement'))for(const e of n.getElementsWithSameId())o.add(e);else o.add(n);return o}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}_toModelOffset(e,t,o){if(o!=e){const n=this._toModelOffset(e.parent,e.index,o),i=this._toModelOffset(e,t,e);return n+i}if(e.is('text'))return t;let n=0;for(let r=0;r<t;r++)n+=this.getModelLength(e.getChild(r));return n}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){const t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is('text'))return e.data.length;if(e.is('uiElement'))return 0;else{let t=0;for(const o of e.getChildren())t+=this.getModelLength(o);return t}}_findPositionIn(e,t){let o=0,n=0,i=0,r;if(e.is('text'))return new Wc(e,t);for(;n<t;)r=e.getChild(i),o=this.getModelLength(r),n+=o,i++;return n==t?this._moveViewPositionToTextNode(new Wc(e,i)):this._findPositionIn(r,t-(n-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,o=e.nodeAfter;if(t instanceof Qd)return new Wc(t,t.data.length);return o instanceof Qd?new Wc(o,0):e}}f(gu,Ps);class fu{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=ft(t),e instanceof su&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=ft(t),e instanceof su&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=ft(t),e instanceof su&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const n=o.get(t);return void 0===n?null:n}revert(e,t){t=ft(t),e instanceof su&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}_getSymbolForTextProxy(e){let t=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const n=o.get(e.endOffset);n&&(t=n.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}_addSymbolForTextProxy(e,t,o){const n=Symbol('textProxySymbol');let i,r;return i=this._textProxyRegistry.get(e),i||(i=new Map,this._textProxyRegistry.set(e,i)),r=i.get(t),r||(r=new Map,i.set(t,r)),r.set(o,n),n}}class hu{constructor(e={}){this.conversionApi=Rc({dispatcher:this},e)}convertChanges(e,t){for(const o of e.getMarkersToRemove())this.convertMarkerRemove(o.name,o.range,t);for(const o of e.getChanges())'insert'==o.type?this.convertInsert(pu.createFromPositionAndShift(o.position,o.length),t):'remove'==o.type?this.convertRemove(o.position,o.length,o.name,t):this.convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,t);for(const o of e.getMarkersToAdd())this.convertMarkerAdd(o.name,o.range,t)}convertInsert(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);for(const o of e){const e=o.item,t=pu.createFromPositionAndShift(o.previousPosition,o.length),n={item:e,range:t};this._testAndFire('insert',n);for(const t of e.getAttributeKeys())n.attributeKey=t,n.attributeOldValue=null,n.attributeNewValue=e.getAttribute(t),this._testAndFire(`attribute:${t}`,n)}this._clearConversionApi()}convertRemove(e,t,o,n){this.conversionApi.writer=n,this.fire('remove:'+o,{position:e,length:t},this.conversionApi),this._clearConversionApi()}convertAttribute(e,t,o,n,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const r of e){const e=r.item,i=pu.createFromPositionAndShift(r.previousPosition,r.length);this._testAndFire(`attribute:${t}`,{item:e,range:i,attributeKey:t,attributeOldValue:o,attributeNewValue:n})}this._clearConversionApi()}convertSelection(e,t,o){const n=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=o,this.conversionApi.consumable=this._createSelectionConsumable(e,n),this.fire('selection',{selection:e},this.conversionApi),!!e.isCollapsed){for(const t of n){const o=t.getRange();if(!ht(e.getFirstPosition(),t,this.conversionApi.mapper))continue;const n={item:e,markerName:t.name,markerRange:o};this.conversionApi.consumable.test(e,'addMarker:'+t.name)&&this.fire('addMarker:'+t.name,n,this.conversionApi)}for(const t of e.getAttributeKeys()){const o={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.conversionApi.consumable.test(e,'attribute:'+o.attributeKey)&&this.fire('attribute:'+o.attributeKey,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(e,t,o){if(t.root.document&&'$graveyard'!=t.root.rootName){this.conversionApi.writer=o;const n='addMarker:'+e;if(t.isCollapsed){const o=new fu;return o.add(t,n),this.conversionApi.consumable=o,void this.fire(n,{markerName:e,markerRange:t},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(t,n);for(const o of t.getItems()){if(!this.conversionApi.consumable.test(o,n))continue;const i={item:o,range:pu.createOn(o),markerName:e,markerRange:t};this.fire(n,i,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(e,t,o){t.root.document&&'$graveyard'!=t.root.rootName&&(this.conversionApi.writer=o,this.fire('removeMarker:'+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(e){const t=new fu;for(const o of e){const e=o.item;t.add(e,'insert');for(const o of e.getAttributeKeys())t.add(e,'attribute:'+o)}return t}_createConsumableForRange(e,t){const o=new fu;for(const n of e.getItems())o.add(n,t);return o}_createSelectionConsumable(e,t){const o=new fu;o.add(e,'selection');for(const n of t)o.add(e,'addMarker:'+n.name);for(const n of e.getAttributeKeys())o.add(e,'attribute:'+n);return o}_testAndFire(e,t){if(this.conversionApi.consumable.test(t.item,e)){const o=t.item.name||'$text';this.fire(e+':'+o,t,this.conversionApi)}}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}f(hu,Ps);class bu{constructor(e,t,o){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,o)}get anchor(){if(0<this._ranges.length){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(0<this._ranges.length){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){const e=this._ranges.length;return!(1!==e)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const n of e._ranges)if(t.isEqual(n)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield pu.createFromRange(e)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?pu.createFromRange(e):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?pu.createFromRange(e):null}getFirstPosition(){const e=this.getFirstRange();return e?uu.createFromPosition(e.start):null}getLastPosition(){const e=this.getLastRange();return e?uu.createFromPosition(e.end):null}setTo(e,t,o){if(null===e)this._setRanges([]);else if(e instanceof bu)this._setRanges(e.getRanges(),e.isBackward);else if(e&&'function'==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof pu)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof uu)this._setRanges([new pu(e)]);else if(e instanceof ru){const n=!!o&&!!o.backward;let i;if('in'==t)i=pu.createIn(e);else if('on'==t)i=pu.createOn(e);else if(t!==void 0)i=pu.createCollapsedAt(e,t);else throw new _s('model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');this._setRanges([i],n)}else if(P(e))this._setRanges(e,t&&!!t.backward);else throw new _s('model-selection-setTo-not-selectable: Cannot set selection to given place.')}_setRanges(e,t=!1){e=Array.from(e);const o=e.some((e)=>{if(!(e instanceof pu))throw new _s('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((t)=>!t.isEqual(e))});if(e.length!==this._ranges.length||o){this._removeAllRanges();for(const t of e)this._pushRange(t);this._lastRangeBackward=!!t,this.fire('change:range',{directChange:!0})}}setFocus(e,t){if(null===this.anchor)throw new _s('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const o=uu.createAt(e,t);if('same'!=o.compareWith(this.focus)){const e=this.anchor;this._ranges.length&&this._popRange(),'before'==o.compareWith(e)?(this._pushRange(new pu(o,e)),this._lastRangeBackward=!0):(this._pushRange(new pu(e,o)),this._lastRangeBackward=!1),this.fire('change:range',{directChange:!0})}}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof du&&t==o?t:null}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const o=kt(t.start,e);o&&(yield o);for(const o of t.getWalker())'elementEnd'==o.type&&bt(o.item,e)&&(yield o.item);const n=kt(t.end,e);n&&!t.end.isTouching(uu.createAt(n))&&(yield n)}}containsEntireContent(e=this.anchor.root){const t=uu.createAt(e),o=uu.createAt(e,'end');return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(pu.createFromRange(e))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new _s('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:this._ranges[t]})}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}_popRange(){this._ranges.pop()}}f(bu,Ps);class ku extends pu{constructor(e,t){super(e,t),_t.call(this)}detach(){this.stopListening()}}f(ku,Ps);const _u='selection:';class wu{constructor(e){this._selection=new vu(e),this._selection.delegate('change:range').to(this),this._selection.delegate('change:attribute').to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,o){this._selection.setTo(e,t,o)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return _u+e}static _isStoreAttributeKey(e){return e.startsWith(_u)}}f(wu,Ps);class vu extends bu{constructor(e){super(),this._model=e.model,this._document=e,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on('change:range',()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new _s('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:e})}),this.listenTo(this._document,'change',(e,t)=>{this._updateAttributes(!1),yt(this._model,t)}),this.listenTo(this._model,'applyOperation',()=>{for(;this._fixGraveyardRangesData.length;){const{liveRange:e,sourcePosition:t}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(e,t)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire('change:range',{directChange:!1}))},{priority:'lowest'})}get isCollapsed(){const e=this._ranges.length;return 0===e?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return 0<this._ranges.length}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,o){super.setTo(e,t,o),this._refreshAttributes()}setFocus(e,t){super.setFocus(e,t),this._refreshAttributes()}setAttribute(e,t){if(this._setAttribute(e,t)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}overrideGravity(){const e=i();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new _s('document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.',{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return void Xm.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');const t=ku.createFromRange(e);return t.on('change:range',(e,o,n)=>{this._hasChangedRange=!0,t.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:t,sourcePosition:n.sourcePosition})}),t}_updateAttributes(e){const t=ut(this._getSurroundingAttributes()),o=ut(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)'low'==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const n=[];for(const[t,i]of this.getAttributes())o.has(t)&&o.get(t)===i||n.push(t);for(const[t]of o)this.hasAttribute(t)||n.push(t);0<n.length&&this.fire('change:attribute',{attributeKeys:n,directChange:!1})}_setAttribute(e,t,o=!0){const n=o?'normal':'low';if('low'==n&&'normal'==this._attributePriority.get(e))return!1;const i=super.getAttribute(e);return i!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}_removeAttribute(e,t=!0){const o=t?'normal':'low';return('low'!=o||'normal'!=this._attributePriority.get(e))&&(this._attributePriority.set(e,o),!!super.hasAttribute(e))&&(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[t,o]of this.getAttributes())e.get(t)!==o&&this._removeAttribute(t,!1);for(const[o,n]of e){const e=this._setAttribute(o,n,!1);e&&t.add(o)}return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(_u)){const o=t.substr(_u.length);yield[o,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let o=null;if(!this.isCollapsed){const e=this.getFirstRange();for(const n of e){if(n.item.is('element')&&t.isObject(n.item))break;'text'==n.type&&null===o&&(o=n.item.getAttributes())}}else{const t=e.textNode?e.textNode:e.nodeBefore,n=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=vt(t)),o||(o=vt(n)),!this.isGravityOverridden&&!o)for(let e=t;e&&!o;)e=e.previousSibling,o=vt(e);if(!o)for(let e=n;e&&!o;)e=e.nextSibling,o=vt(e);o||(o=this._getStoredAttributes())}return o}_fixGraveyardSelection(e,t){const o=uu.createFromPosition(t),n=this._model.schema.getNearestSelectionRange(o),i=this._ranges.indexOf(e);if(this._ranges.splice(i,1),e.detach(),n){const e=this._prepareRange(n);this._ranges.splice(i,0,e)}}}var yu=function(e){return Gd(e,!0,!0)};class xu{constructor(e){this.model=e,this.view=new iu,this.mapper=new gu,this.downcastDispatcher=new hu({mapper:this.mapper});const t=this.model.document,o=t.selection,n=this.model.markers;this.listenTo(t,'change',()=>{this.view.change((e)=>{this.downcastDispatcher.convertChanges(t.differ,e),this.downcastDispatcher.convertSelection(o,n,e)})},{priority:'low'}),this.listenTo(this.view.document,'selectionChange',Nt(this.model,this.mapper)),this.downcastDispatcher.on('insert:$text',It(),{priority:'lowest'}),this.downcastDispatcher.on('remove',Rt(),{priority:'low'}),this.downcastDispatcher.on('selection',Bt(),{priority:'low'}),this.downcastDispatcher.on('selection',Dt(),{priority:'low'}),this.downcastDispatcher.on('selection',Mt(),{priority:'low'}),this.view.document.roots.bindTo(this.model.document.roots).using((e)=>{if('$graveyard'==e.rootName)return null;const t=new jc(e.name);return t.rootName=e.rootName,t._document=this.view.document,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}}f(xu,Mc);class Cu{constructor(e,t=[]){this._editor=e,this._availablePlugins=new Map,this._plugins=new Map;for(const o of t)this._availablePlugins.set(o,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)'function'==typeof e[0]&&(yield e)}get(e){return this._plugins.get(e)}load(e,t=[]){function o(e){return m.includes(e)||a.get(e)||l.has(e)?void 0:n(e).catch((t)=>{throw Xm.error('plugincollection-load: It was not possible to load the plugin.',{plugin:e}),t})}function n(e){return new Promise((n)=>{l.add(e),e.requires&&e.requires.forEach((n)=>{const r=i(n);if(t.includes(r))throw new _s('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:r,requiredBy:e});o(r)});const r=new e(s);a._add(e,r),d.push(r),n()})}function i(e){return'function'==typeof e?e:a._availablePlugins.get(e)}function r(e){return e.map((e)=>i(e)).filter((e)=>!!e)}const a=this,s=this._editor,l=new Set,d=[],c=r(e),m=r(t),u=function(e){const t=[];for(const o of e)i(o)||t.push(o);return t.length?t:null}(e);if(u){const e='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return Xm.error(e,{plugins:u}),Promise.reject(new _s(e,{plugins:u}))}return Promise.all(c.map(o)).then(()=>d)}destroy(){const e=Array.from(this).map(([,e])=>e).filter((e)=>'function'==typeof e.destroy).map((e)=>e.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const o=e.pluginName;o&&(this._plugins.has(o)?Xm.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e}):this._plugins.set(o,t))}}class Au{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const o=this.get(e);if(!o)throw new _s('commandcollection-command-not-found: Command does not exist.',{commandName:e});o.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class Tu{constructor(e){this.language=e||'en',this.t=(...e)=>this._t(...e)}_t(e,t){let o=Lt(this.language,e);return t&&(o=o.replace(/%(\d+)/g,(e,o)=>o<t.length?t[o]:e)),o}}class Pu{constructor(){this._consumables=new Map}add(e,t){let o;return e.is('text')||e.is('documentFragment')?void this._consumables.set(e,!0):void(this._consumables.has(e)?o=this._consumables.get(e):(o=new Eu,this._consumables.set(e,o)),o.add(t))}test(e,t){const o=this._consumables.get(e);return void 0===o?null:e.is('text')||e.is('documentFragment')?o:o.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const o=this._consumables.get(e);o!==void 0&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!0):o.revert(t))}static consumablesFromElement(e){const t={name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const n of o)'style'!=n&&'class'!=n&&t.attributes.push(n);const n=e.getClassNames();for(const o of n)t.classes.push(o);const i=e.getStyleNames();for(const o of i)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new Pu),e.is('text'))return t.add(e),t;e.is('element')&&t.add(e,Pu.consumablesFromElement(e)),e.is('documentFragment')&&t.add(e);for(const o of e.getChildren())t=Pu.createFrom(o,t);return t}}class Eu{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){for(const t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t in this._consumables)if(t in e){const o=this._test(t,e[t]);if(!0!==o)return o}return!0}consume(e){for(const t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}revert(e){for(const t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}_add(e,t){const o=Sl(t)?t:[t],n=this._consumables[e];for(const i of o){if('attributes'===e&&('class'===i||'style'===i))throw new _s('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');n.set(i,!0)}}_test(e,t){const o=Sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles',t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}else{const e=n.get(i);if(e===void 0)return null;if(!e)return!1}return!0}_consume(e,t){const o=Sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles';this._consume(e,[...this._consumables[e].keys()])}else n.set(i,!1)}_revert(e,t){const o=Sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles';this._revert(e,[...this._consumables[e].keys()])}else{const e=n.get(i);!1===e&&n.set(i,!0)}}}class Su{constructor(){this._sourceDefinitions={},this.decorate('checkChild'),this.decorate('checkAttribute'),this.on('checkAttribute',(e,t)=>{t[0]=new Ou(t[0])},{priority:'highest'}),this.on('checkChild',(e,t)=>{t[0]=new Ou(t[0]),t[1]=this.getDefinition(t[1])},{priority:'highest'})}register(e,t){if(this._sourceDefinitions[e])throw new _s('schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.',{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new _s('schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.',{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t='string'==typeof e?e:e.is&&(e.is('text')||e.is('textProxy'))?'$text':e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!!(t.isLimit||t.isObject)}isObject(e){const t=this.getDefinition(e);return!!(t&&t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof uu){const t=e.nodeBefore,o=e.nodeAfter;if(!(t instanceof du))throw new _s('schema-check-merge-no-element-before: The node before the merge position must be an element.');if(!(o instanceof du))throw new _s('schema-check-merge-no-element-after: The node after the merge position must be an element.');return this.checkMerge(t,o)}for(const o of t.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on('checkChild',(t,[o,n])=>{if(n){const i=e(o,n);'boolean'==typeof i&&(t.stop(),t.return=i)}},{priority:'high'})}addAttributeCheck(e){this.on('checkAttribute',(t,[o,n])=>{const i=e(o,n);'boolean'==typeof i&&(t.stop(),t.return=i)},{priority:'high'})}getLimitElement(e){let t=Array.from(e.getRanges()).reduce((e,t)=>{const o=t.getCommonAncestor();return e?e.getCommonAncestor(o,{includeSelf:!0}):o},null);for(;!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed)return this.checkAttribute([...e.getFirstPosition().getAncestors(),'$text'],t);else{const o=e.getRanges();for(const e of o)for(const o of e)if(this.checkAttribute(o.item,t))return!0}return!1}getValidRanges(e,t){const o=[];for(const n of e){let e=n.start,i=n.start;const r=n.end;for(const r of n.getWalker())this.checkAttribute(r.item,t)||(!i.isEqual(e)&&o.push(new pu(i,e)),i=r.nextPosition),e=r.nextPosition;i&&!i.isEqual(r)&&o.push(new pu(i,r))}return o}getNearestSelectionRange(e,t='both'){if(this.checkChild(e,'$text'))return new pu(e);let o,n;('both'==t||'backward'==t)&&(o=new cu({startPosition:e,direction:'backward'})),('both'==t||'forward'==t)&&(n=new cu({startPosition:e}));for(const i of to(o,n)){const e=i.walker==o?'elementEnd':'elementStart',t=i.value;if(t.type==e&&this.isObject(t.item))return pu.createOn(t.item);if(this.checkChild(t.nextPosition,'$text'))return new pu(t.nextPosition)}return null}findAllowedParent(e,t){for(let o=t.parent;o;){if(this.checkChild(o,e))return o;if(this.isLimit(o))return null;o=o.parent}return null}removeDisallowedAttributes(e,t){for(const o of e){for(const e of o.getAttributeKeys())this.checkAttribute(o,e)||t.removeAttribute(e,o);o.is('element')&&this.removeDisallowedAttributes(o.getChildren(),t)}}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,o=Object.keys(t);for(const n of o)e[n]=qt(t[n],n);for(const t of o)Wt(e,t);for(const t of o)Ut(e,t);for(const t of o)Ht(e,t),Kt(e,t);for(const t of o)Gt(e,t),$t(e,t);this._compiledDefinitions=e}_checkContextMatch(e,t,o=t.length-1){const n=t.getItem(o);if(!e.allowIn.includes(n.name))return!1;else if(0==o)return!0;else{const e=this.getDefinition(n);return this._checkContextMatch(e,t,o-1)}}}f(Su,Mc);class Ou{constructor(e){return e instanceof Ou?e:void('string'==typeof e?e=[e]:!Array.isArray(e)&&(e=e.getAncestors({includeSelf:!0})),e[0]&&'string'!=typeof e[0]&&e[0].is('documentFragment')&&e.shift(),this._items=e.map(eo))}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Ou([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e)=>e.name)}endsWith(e){return Array.from(this.getNames()).join(' ').endsWith(e)}}class Iu{constructor(e={}){this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}convert(e,t,o=['$root']){this.fire('viewCleanup',e),this._modelCursor=no(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=Pu.createFrom(e),this.conversionApi.store={};const{modelRange:n}=this._convertItem(e,this._modelCursor),i=t.createDocumentFragment();if(n){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=oo(i,t)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){const o=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is('element')?this.fire('element:'+e.name,o,this.conversionApi):e.is('text')?this.fire('text',o,this.conversionApi):this.fire('documentFragment',o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof pu))throw new _s('view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.');return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,t){const o=new pu(t);let n=t;for(const i of Array.from(e.getChildren())){const e=this._convertItem(i,n);e.modelRange instanceof pu&&(o.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:o,modelCursor:n}}_splitToAllowedParent(e,t){const o=this.conversionApi.schema.findAllowedParent(e,t);if(!o)return null;if(o===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(o))return null;const n=this.conversionApi.writer.split(t,o);for(const o of n.range.getPositions())o.isEqual(n.position)||this._removeIfEmpty.add(o.parent);return{position:n.position,cursorParent:n.range.end.parent}}_removeEmptyElements(){let e=!1;for(const t of this._removeIfEmpty)t.isEmpty&&(this.conversionApi.writer.remove(t),this._removeIfEmpty.delete(t),e=!0);e&&this._removeEmptyElements()}}f(Iu,Ps);class Ru{constructor(e,t){this.model=e,this.processor=t,this.mapper=new gu,this.downcastDispatcher=new hu({mapper:this.mapper}),this.downcastDispatcher.on('insert:$text',It(),{priority:'lowest'}),this.upcastDispatcher=new Iu({schema:e.schema}),this.upcastDispatcher.on('text',bo(),{priority:'lowest'}),this.upcastDispatcher.on('element',ho(),{priority:'lowest'}),this.upcastDispatcher.on('documentFragment',ho(),{priority:'lowest'}),this.decorate('init')}get(e='main'){return this.stringify(this.model.document.getRoot(e))}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){const t=pu.createIn(e),o=new rm,n=new am(new $c());if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(t,n),!e.is('documentFragment')){const t=ko(e);for(const[e,o]of t)this.downcastDispatcher.convertMarkerAdd(e,o,n)}return this.mapper.clearBindings(),o}init(e,t='main'){if(this.model.document.version)throw new _s('datacontroller-init-document-not-empty: Trying to set initial data to not empty document.');const o=this.model.document.getRoot(t);return this.model.enqueueChange('transparent',(t)=>{t.insert(this.parse(e,o),o)}),Promise.resolve()}set(e,t='main'){const o=this.model.document.getRoot(t);this.model.enqueueChange('transparent',(t)=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()),t.remove(pu.createIn(o)),t.insert(this.parse(e,o),o)})}parse(e,t='$root'){const o=this.processor.toView(e);return this.toModel(o,t)}toModel(e,t='$root'){return this.model.change((o)=>this.upcastDispatcher.convert(e,o,t))}destroy(){}}f(Ru,Mc);class Vu{constructor(){this._dispatchersGroups=new Map}register(e,t){if(this._dispatchersGroups.has(e))throw new _s('conversion-register-group-exists: Trying to register a group name that was already registered.');this._dispatchersGroups.set(e,t)}for(e){const t=this._getDispatchers(e);return{add(e){return _o(t,e),this}}}elementToElement(e){this.for('downcast').add(xt(e));for(const{model:t,view:o}of wo(e))this.for('upcast').add(io({model:t,view:o,converterPriority:e.converterPriority}))}attributeToElement(e){this.for('downcast').add(Ct(e));for(const{model:t,view:o}of wo(e))this.for('upcast').add(ro({view:o,model:t,priority:e.priority}))}attributeToAttribute(e){this.for('downcast').add(At(e));for(const{model:t,view:o}of wo(e))this.for('upcast').add(ao({view:o,model:t}))}_getDispatchers(e){const t=this._dispatchersGroups.get(e);if(!t)throw new _s('conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.');return t}}class Fu{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion}_validate(){}toJSON(){const e=$d(this,!0);return e.__className=this.constructor.className,delete e.delta,delete e.isDocumentOperation,e}static get className(){return'engine.model.operation.Operation'}static fromJSON(e){return new this(e.baseVersion)}}class Nu{constructor(e){this.markers=new Map,this._children=new lu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return'documentFragment'==e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const o of e)o.name?t.push(du.fromJSON(o)):t.push(au.fromJSON(o));return new Nu(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=yo(t);for(const n of o)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const n of o)n.parent=null;return o}}var Du=function(e,t){return Bm(e,t)};class Mu extends Fu{constructor(e,t,o,n,i){super(i),this.range=pu.createFromRange(e),this.key=t,this.oldValue=o===void 0?null:o,this.newValue=n===void 0?null:n}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new Mu(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Mu(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){for(const e of this.range.getItems()){if(null!==this.oldValue&&!Du(e.getAttribute(this.key),this.oldValue))throw new _s('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new _s('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:e,key:this.key})}}_execute(){Du(this.oldValue,this.newValue)||To(this.range,this.key,this.newValue)}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(e,t){return new Mu(pu.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Bu extends Fu{constructor(e,t,o,n){super(n),this.sourcePosition=uu.createFromPosition(e),this.howMany=t,this.targetPosition=uu.createFromPosition(o),this.isSticky=!1}get type(){return'move'}clone(){const e=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return e.isSticky=this.isSticky,e}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),t=new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1);return t.isSticky=this.isSticky,t}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(!e||!t)throw new _s('move-operation-position-invalid: Source position or target position is invalid.');else if(o+this.howMany>e.maxOffset)throw new _s('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(e===t&&o<n&&n<o+this.howMany)throw new _s('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==A(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=o&&this.targetPosition.path[e]<o+this.howMany)throw new _s('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}}_execute(){Ao(pu.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(e,t){const o=uu.fromJSON(e.sourcePosition,t),n=uu.fromJSON(e.targetPosition,t),i=new this(o,e.howMany,n,e.baseVersion);return e.isSticky&&(i.isSticky=!0),i}}class Lu extends Bu{get position(){return this.targetPosition}set position(e){this.targetPosition=e}get type(){return'reinsert'}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new zu(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new _s('reinsert-operation-on-detached-item: Cannot reinsert detached item.');if(!this.targetPosition.root.document)throw new _s('reinsert-operation-to-detached-parent: Cannot reinsert item to detached parent.')}static get className(){return'engine.model.operation.ReinsertOperation'}}class zu extends Bu{get type(){return'remove'}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Lu(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new _s('remove-operation-on-detached-item: Cannot remove detached item.')}static get className(){return'engine.model.operation.RemoveOperation'}}class ju extends Fu{constructor(e,t,o){super(o),this.position=uu.createFromPosition(e),this.nodes=new lu(Po(t))}get type(){return'insert'}clone(){const e=new lu([...this.nodes].map((e)=>e._clone(!0)));return new ju(this.position,e,this.baseVersion)}getReversed(){const e=this.position.root.document.graveyard,t=new uu(e,[0]);return new zu(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new _s('insert-operation-position-invalid: Insertion position is invalid.')}_execute(){const e=this.nodes;this.nodes=new lu([...e].map((e)=>e._clone(!0))),xo(this.position,e)}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(e,t){const o=[];for(const n of e.nodes)n.name?o.push(du.fromJSON(n)):o.push(au.fromJSON(n));return new ju(uu.fromJSON(e.position,t),o,e.baseVersion)}}class qu extends Fu{constructor(e,t,o,n,i,r){super(i),this.name=e,this.oldRange=t?pu.createFromRange(t):null,this.newRange=o?pu.createFromRange(o):null,this.affectsData=r,this._markers=n}get type(){return'marker'}clone(){return new qu(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion,this.affectsData)}getReversed(){return new qu(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1,this.affectsData)}_execute(){const e=this.newRange?'_set':'_remove';this._markers[e](this.name,this.newRange,!0,this.affectsData)}toJSON(){const e=super.toJSON();return delete e._markers,e}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(e,t){return new qu(e.name,e.oldRange?pu.fromJSON(e.oldRange,t):null,e.newRange?pu.fromJSON(e.newRange,t):null,t.model.markers,e.baseVersion,e.affectsData)}}class Wu extends Fu{get type(){return'noop'}clone(){return new Wu(this.baseVersion)}getReversed(){return new Wu(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}class Uu extends Fu{constructor(e,t,o,n){super(n),this.position=e,this.oldName=t,this.newName=o}get type(){return'rename'}clone(){return new Uu(uu.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Uu(uu.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof du))throw new _s('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(e.name!==this.oldName)throw new _s('rename-operation-wrong-name: Element to change has different name than operation\'s old name.')}_execute(){const e=this.position.nodeAfter;e.name=this.newName}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(e,t){return new Uu(uu.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Hu extends Fu{constructor(e,t,o,n,i){super(i),this.root=e,this.key=t,this.oldValue=o,this.newValue=n}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new Hu(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Hu(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is('documentFragment'))throw new _s('rootattribute-operation-not-a-root: The element to change is not a root element.',{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new _s('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new _s('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key})}_execute(){null===this.newValue?this.root._removeAttribute(this.key):this.root._setAttribute(this.key,this.newValue)}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(e,t){if(!t.getRoot(e.root))throw new _s('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:e});return new Hu(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}const Ku={};Ku[Mu.className]=Mu,Ku[ju.className]=ju,Ku[qu.className]=qu,Ku[Bu.className]=Bu,Ku[Wu.className]=Wu,Ku[Fu.className]=Fu,Ku[Lu.className]=Lu,Ku[zu.className]=zu,Ku[Uu.className]=Uu,Ku[Hu.className]=Hu;class Gu{static fromJSON(e,t){return Ku[e.__className].fromJSON(e,t)}}const $u=new Map;class Ju{static fromJSON(e,t){if(!$u.has(e.__className))throw new _s('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:e.__className});const o=$u.get(e.__className),n=new o;for(const o of e.operations)n.addOperation(Gu.fromJSON(o,t));for(const o in e)'__className'!=o&&void 0===n[o]&&(n[o]=e[o]);return n}static register(e){$u.set(e.className,e)}}class Qu{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(e){for(const t of this.operations)t.baseVersion=e++}get _reverseDeltaClass(){return Qu}addOperation(e){return e.delta=this,this.operations.push(e),e}clone(){const e=new this.constructor;for(const t of this.operations)e.addOperation(t.clone());return e}getReversed(){const e=new this._reverseDeltaClass;for(const t of this.operations)e.addOperation(t.getReversed());e.operations.reverse();for(let t=0;t<e.operations.length;t++)e.operations[t].baseVersion=this.operations[this.operations.length-1].baseVersion+t+1;return e}toJSON(){const e=$d(this);return e.__className=this.constructor.className,delete e.batch,e}static get className(){return'engine.model.delta.Delta'}}Ju.register(Qu);class Yu extends Qu{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let e=null,t=null;for(const o of this.operations)o instanceof Wu||((null===e||e.isAfter(o.range.start))&&(e=o.range.start),(null===t||t.isBefore(o.range.end))&&(t=o.range.end));return e&&t?(this._range=new pu(e,t),this._range):null}get _reverseDeltaClass(){return Yu}toJSON(){const e=super.toJSON();return delete e._range,e}static get className(){return'engine.model.delta.AttributeDelta'}}Ju.register(Yu);class Xu extends Qu{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]&&this.operations[1]instanceof Bu?this.operations[1]:null}get _reverseDeltaClass(){return Zu}static get className(){return'engine.model.delta.SplitDelta'}}Ju.register(Xu);class Zu extends Qu{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Xu}static get className(){return'engine.model.delta.MergeDelta'}}Ju.register(Zu);class ep extends Qu{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return ep}static get className(){return'engine.model.delta.MoveDelta'}}Ju.register(ep);class tp extends ep{static get className(){return'engine.model.delta.RemoveDelta'}}Ju.register(tp);class op extends Qu{get type(){return'rename'}get _reverseDeltaClass(){return op}static get className(){return'engine.model.delta.RenameDelta'}}Ju.register(op);class np extends Qu{get type(){return'wrap'}get range(){const e=this._moveOperation;return e?pu.createFromPositionAndShift(e.sourcePosition,e.howMany):null}get howMany(){const e=this.range;return e?e.end.offset-e.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return ip}static get className(){return'engine.model.delta.WrapDelta'}}Ju.register(np);class ip extends Qu{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return np}static get className(){return'engine.model.delta.UnwrapDelta'}}Ju.register(ip);class rp extends Qu{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return tp}static get className(){return'engine.model.delta.InsertDelta'}}Ju.register(rp);class ap extends rp{static get className(){return'engine.model.delta.WeakInsertDelta'}}Ju.register(ap);var sp=function(e,t,o={isStrong:!1}){let n,i;e instanceof ju?n=lp.InsertOperation:e instanceof Mu?n=lp.AttributeOperation:e instanceof Hu?n=lp.RootAttributeOperation:e instanceof Uu?n=lp.RenameOperation:e instanceof qu?n=lp.MarkerOperation:e instanceof Bu?n=lp.MoveOperation:i=Io,n&&(t instanceof ju?i=n.InsertOperation:t instanceof Mu?i=n.AttributeOperation:t instanceof Hu?i=n.RootAttributeOperation:t instanceof Uu?i=n.RenameOperation:t instanceof qu?i=n.MarkerOperation:t instanceof Bu?i=n.MoveOperation:i=Io);const r=i(e,t,o);return Ro(e.baseVersion,r)};const lp={InsertOperation:{InsertOperation(e,t,o){const n=e.clone(),i=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=n.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,i),[n]},AttributeOperation:Io,RootAttributeOperation:Io,RenameOperation:Io,MarkerOperation:Io,MoveOperation(e,t,o){const n=e.clone(),i=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=e.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,i,t.isSticky&&!o.forceNotSticky),[n]}},AttributeOperation:{InsertOperation(e,t){const o=e.range._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0,!1);return o.reverse().map((t)=>new Mu(t,e.key,e.oldValue,e.newValue,e.baseVersion))},AttributeOperation(e,t,o){if(e.key===t.key){const n=e.range.getDifference(t.range).map((t)=>new Mu(t,e.key,e.oldValue,e.newValue,e.baseVersion)),i=e.range.getIntersection(t.range);return i&&(o.isStrong?n.push(new Mu(i,t.key,t.newValue,e.newValue,e.baseVersion)):0===n.length&&n.push(new Wu(0))),n}return[e.clone()]},RootAttributeOperation:Io,RenameOperation:Io,MarkerOperation:Io,MoveOperation(e,t){const o=pu.createFromPositionAndShift(t.sourcePosition,t.howMany);let n=[];const i=Fo(e.range.getDifference(o)),r=e.range.getIntersection(o);return null!==i&&(i.start=i.start._getTransformedByDeletion(t.sourcePosition,t.howMany),i.end=i.end._getTransformedByDeletion(t.sourcePosition,t.howMany),n=i._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,!0,!1).reverse()),null!==r&&(r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.push(r)),n.map((t)=>new Mu(t,e.key,e.oldValue,e.newValue,e.baseVersion))}},RootAttributeOperation:{InsertOperation:Io,AttributeOperation:Io,RootAttributeOperation(e,t,o){return e.root!==t.root||e.key!==t.key||(e.newValue===t.newValue||o.isStrong)&&e.newValue!==t.newValue?[e.clone()]:[new Wu(e.baseVersion)]},RenameOperation:Io,MarkerOperation:Io,MoveOperation:Io},RenameOperation:{InsertOperation(e,t){const o=e.clone();return o.position=o.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0),[o]},AttributeOperation:Io,RootAttributeOperation:Io,RenameOperation(e,t,o){const n=e.clone();if(e.position.isEqual(t.position))if(o.isStrong)n.oldName=t.newName;else return[new Wu(e.baseVersion)];return[n]},MarkerOperation:Io,MoveOperation(e,t){const o=e.clone(),n=o.position.isEqual(t.sourcePosition);return o.position=o.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0,n),[o]}},MarkerOperation:{InsertOperation(e,t){const o=e.clone();return o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),[o]},AttributeOperation:Io,RootAttributeOperation:Io,RenameOperation:Io,MarkerOperation(e,t,o){const n=e.clone();if(e.name==t.name)if(o.isStrong)n.oldRange=t.newRange;else return[new Wu(e.baseVersion)];return[n]},MoveOperation(e,t){const o=e.clone();if(o.oldRange){const e=o.oldRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.oldRange=pu.createFromRanges(e)}if(o.newRange){const e=o.newRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.newRange=pu.createFromRanges(e)}return[o]}},MoveOperation:{InsertOperation(e,t,o){let n=pu.createFromPositionAndShift(e.sourcePosition,e.howMany);const i=e.isSticky&&!o.forceNotSticky;n=n._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,i)[0];const r=void 0===o.insertBefore?!o.isStrong:o.insertBefore,a=new e.constructor(n.start,n.end.offset-n.start.offset,e.targetPosition._getTransformedByInsertion(t.position,t.nodes.maxOffset,r),e.baseVersion);return a.isSticky=e.isSticky,[a]},AttributeOperation:Io,RootAttributeOperation:Io,RenameOperation:Io,MarkerOperation:Io,MoveOperation(e,t,o){const n=pu.createFromPositionAndShift(e.sourcePosition,e.howMany),i=pu.createFromPositionAndShift(t.sourcePosition,t.howMany);let r=o.isStrong;const a=e.isSticky&&!o.forceNotSticky,s=void 0===o.insertBefore?!r:o.insertBefore,l=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,s,t.isSticky&&!o.forceNotSticky);if(Vo(e,t)&&Vo(t,e))return[t.getReversed()];const d=n.containsPosition(t.targetPosition)||n.start.isEqual(t.targetPosition)&&a||n.end.isEqual(t.targetPosition)&&a;if(d&&n.containsRange(i,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!a),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a),No([n],l,e);const c=i.containsPosition(e.targetPosition)||i.start.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky||i.end.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky;if(c&&i.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),No([n],l,e);const m=A(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if('prefix'==m||'extension'==m)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!a),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a),No([n],l,e);o.forceWeakRemove||(e instanceof zu&&!(t instanceof zu)?r=!0:!(e instanceof zu)&&t instanceof zu&&(r=!1));const u=[],p=n.getDifference(i);for(const n of p){n.start=n.start._getTransformedByDeletion(t.sourcePosition,t.howMany),n.end=n.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e='same'==A(n.start.getParentPath(),t.getMovedRangeStart().getParentPath()),o=n._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e,a);u.push(...o)}const g=n.getIntersection(i);return null!==g&&r&&!d&&(g.start=g.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),g.end=g.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===u.length?u.push(g):1==u.length?i.start.isBefore(n.start)||i.start.isEqual(n.start)?u.unshift(g):u.push(g):u.splice(1,0,g)),0===u.length?[new Wu(e.baseVersion)]:No(u,l,e)}}};var ot=function(e,t,o){var n=-1,i=e.length;0>t&&(t=-t>i?0:i+t),o=o>i?i:o,0>o&&(o+=i),i=t>o?0:o-t>>>0,t>>>=0;for(var r=Array(i);++n<i;)r[n]=e[n+t];return r},dp=Math.ceil,cp=function(e){return Sl(e)||Pl(e)},mp=Mo,up=function(e,t,o){for(var n=e.length,i=t+(o?0:-1);o?i--:++i<n;){var r=e[i];if(r!==r)return i}return-1},pp=function(e,t,o){if(t!==t)return up(e,o);for(var n=o-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1},gp=function(e,t){return!!e.length&&-1<pp(e,t,0)},fp=function(e,t,o){for(var n=-1,i=e.length;++n<i;)if(o(t,e[n]))return!0;return!1},hp=function(e,t){for(var o=-1,n=e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i},bp=function(e){return function(t){return e(t)}},kp=function(e,t){return e.has(t)},_p=function(e,t,o,n){var i=-1,r=gp,a=!0,s=e.length,l=[],d=t.length;if(!s)return l;o&&(t=hp(t,bp(o))),n?(r=fp,a=!1):t.length>=200&&(r=kp,a=!1,t=new vm(t));outer:for(;++i<s;){var c=e[i],m=o?o(c):c;if(c=n||0!==c?c:0,a&&m===m){for(var u=d;u--;)if(t[u]===m)continue outer;l.push(c)}else r(t,m,n)||l.push(c)}return l},wp=bc(function(e,t){return yl(e)?_p(e,mp(t,1,yl,!0)):[]}),vp=1,yp=2,xp=function(e){return e===e&&!Vs(e)},Cp=function(e,t){return hp(t,function(t){return[t,e[t]]})},Ap=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=[e,e]}),o},Tp=function(e){return function(t){var o=gd(t);return o=='[object Map]'?Cd(t):o=='[object Set]'?Ap(t):Cp(t,e(t))}}(Bl),Pp=function(e){for(var t=Tp(e),o=t.length;o--;)t[o][2]=xp(t[o][1]);return t},Ep=function(e,t){return function(o){return null!=o&&o[e]===t&&(t!==void 0||e in Object(o))}},Sp=function(e){var t=Pp(e);return 1==t.length&&t[0][2]?Ep(t[0][0],t[0][1]):function(o){return o===e||Bo(o,e,t)}},Op='Expected a function';Lo.Cache=rl;var Ip=Rd?Rd.prototype:void 0,Rp=Ip?Ip.toString:void 0,Vp=function(e){if('string'==typeof e)return e;if(rc(e))return Rp?Rp.call(e):'';var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t},Fp=function(e){return null==e?'':Vp(e)},Np=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Dp=/\\(\\)?/g,Mp=Lo(function(e){var t=[];return Fp(e).replace(Np,function(e,o,n,i){t.push(n?i.replace(Dp,'$1'):o||e)}),t}),Bp=function(e){return Sl(e)?e:Mp(e)},Lp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zp=/^\w*$/,jp=zo,qp=function(e){if('string'==typeof e||rc(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t},Wp=function(e,t){t=jp(t,e)?[t]:Bp(t);for(var o=0,n=t.length;null!=e&&o<n;)e=e[qp(t[o++])];return o&&o==n?e:void 0},Up=function(e,t,o){var n=null==e?void 0:Wp(e,t);return n===void 0?o:n},Hp=function(e,t,o){t=jp(t,e)?[t]:Bp(t);for(var n=-1,i=t.length,r;++n<i;){var a=qp(t[n]);if(!(r=null!=e&&o(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&wl(i)&&Nl(a,i)&&(Sl(e)||Rl(e)||Pl(e))},Kp=function(e,t){return null!=e&&Hp(e,t,jo)},Gp=function(e,t){return jp(e)&&xp(t)?Ep(qp(e),t):function(o){var n=Up(o,e);return n===void 0&&n===t?Kp(o,e):Bm(t,n,void 0,1|2)}},$p=function(e){return e},Jp=function(e){return function(t){return Wp(t,e)}},Qp=function(e){return jp(e)?kl(qp(e)):Jp(e)},Yp=function(e){return'function'==typeof e?e:null==e?$p:'object'==typeof e?Sl(e)?Gp(e[0],e[1]):Sp(e):Qp(e)},Xp=bc(function(e,t){var o=mu(t);return yl(o)&&(o=void 0),yl(e)?_p(e,mp(t,1,yl,!0),Yp(o)):[]}),Zp=bc(function(e,t){var o=mu(t);return yl(o)&&(o=void 0),yl(e)?_p(e,mp(t,1,yl,!0),void 0,o):[]}),eg=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:fc(t),ot(e,0>t?0:t,n)):[]},tg=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:fc(t),t=n-t,ot(e,0,0>t?0:t)):[]},og=function(e,t,o,n){for(var i=e.length,r=n?i:-1;(n?r--:++r<i)&&t(e[r],r,e););return o?ot(e,n?0:r,n?r+1:i):ot(e,n?r+1:0,n?i:r)},ng=function(e,t,o){return e===e&&(void 0!==o&&(e=e<=o?e:o),void 0!==t&&(e=e>=t?e:t)),e},ig=function(e){return e?ng(fc(e),0,4294967295):0},rg=function(e,t,o,n){var i=e.length;for(o=fc(o),0>o&&(o=-o>i?0:i+o),n=void 0===n||n>i?i:fc(n),0>n&&(n+=i),n=o>n?0:ig(n);o<n;)e[o++]=t;return e},ag=function(e,t,o){for(var n=e.length,i=o?n:-1;o?i--:++i<n;)if(t(e[i],i,e))return i;return-1},sg=function(e){return e&&e.length?e[0]:void 0},lg=function(e,t,o){for(var n=o?fp:gp,i=e[0].length,r=e.length,a=r,s=Array(r),l=Infinity,d=[];a--;){var c=e[a];a&&t&&(c=hp(c,bp(t))),l=rs(c.length,l),s[a]=!o&&(t||120<=i&&120<=c.length)?new vm(a&&c):void 0}c=e[0];var m=-1,u=s[0];outer:for(;++m<i&&d.length<l;){var p=c[m],g=t?t(p):p;if(p=o||0!==p?p:0,u?!kp(u,g):!n(d,g,o)){for(a=r;--a;){var f=s[a];if(f?!kp(f,g):!n(e[a],g,o))continue outer}u&&u.push(g),d.push(p)}}return d},dg=function(e){return yl(e)?e:[]},cg=bc(function(e){var t=hp(e,dg);return t.length&&t[0]===e[0]?lg(t):[]}),mg=bc(function(e){var t=mu(e),o=hp(e,dg);return t===mu(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?lg(o,Yp(t)):[]}),ug=bc(function(e){var t=mu(e),o=hp(e,dg);return t===mu(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?lg(o,void 0,t):[]}),pg=Array.prototype,gg=pg.join,fg=function(e,t){var o=e.length;if(o)return t+=0>t?o:0,Nl(t,o)?e[t]:void 0},hg=function(e,t,o,n){for(var i=o-1,r=e.length;++i<r;)if(n(e[i],t))return i;return-1},bg=Array.prototype,kg=bg.splice,_g=function(e,t,o,n){var i=n?hg:pp,r=-1,a=t.length,s=e;for(o&&(s=hp(e,bp(o)));++r<a;)for(var l=0,d=t[r],c=o?o(d):d;-1<(l=i(s,c,l,n));)s!==e&&kg.call(s,l,1),kg.call(e,l,1);return e},wg=function(e,t){return e&&e.length&&t&&t.length?_g(e,t):e},vg=bc(wg),yg=function(e,t){for(var o=-1,n=t.length,i=Array(n);++o<n;)i[o]=null==e?void 0:Up(e,t[o]);return i},xg=function(e,t){return 1==t.length?e:Wp(e,ot(t,0,-1))},Cg=Array.prototype,Ag=Cg.splice,Tg=function(e,t){for(var o=e?t.length:0,n=o-1;o--;){var i=t[o];if(o==n||i!==r){var r=i;if(Nl(i))Ag.call(e,i,1);else if(!jp(i,e)){var a=Bp(i),s=xg(e,a);null!=s&&delete s[qp(mu(a))]}else delete e[qp(i)]}}return e},Pg=function(e,t){if(e!==t){var o=e!==void 0,n=null===e,i=e===e,r=rc(e),a=t!==void 0,s=null===t,l=t===t,d=rc(t);if(!s&&!d&&!r&&e>t||r&&a&&l&&!s&&!d||n&&a&&l||!o&&l||!i)return 1;if(!n&&!r&&!d&&e<t||d&&o&&i&&!n&&!r||s&&o&&i||!a&&i||!l)return-1}return 0},Eg=bc(function(e,t){t=mp(t,1);var o=e?e.length:0,n=yg(e,t);return Tg(e,hp(t,function(e){return Nl(e,o)?+e:e}).sort(Pg)),n}),Sg=Array.prototype,Og=Sg.reverse,Ig=function(e,t,o,n){t=o(t);for(var i=0,r=e?e.length:0,a=t!==t,s=null===t,l=rc(t),d=void 0===t;i<r;){var c=as((i+r)/2),m=o(e[c]),u=m!==void 0,p=null===m,g=m===m,f=rc(m);if(a)var h=n||g;else h=d?g&&(n||u):s?g&&u&&(n||!p):l?g&&u&&!p&&(n||!f):!(p||f)&&(n?m<=t:m<t);h?i=c+1:r=c}return rs(r,4294967295-1)},Rg=function(e,t,o){var n=0,i=e?e.length:n;if('number'==typeof t&&t===t&&i<=4294967295>>>1){for(;n<i;){var r=n+i>>>1,a=e[r];null!==a&&!rc(a)&&(o?a<=t:a<t)?n=r+1:i=r}return i}return Ig(e,t,$p,o)},Vg=function(e,t){for(var o=-1,n=e.length,i=0,r=[];++o<n;){var a=e[o],s=t?t(a):a;if(!o||!Es(s,l)){var l=s;r[i++]=0===a?0:a}}return r},Fg=Zl&&1/Sd(new Zl([,-0]))[1]==1/0?function(e){return new Zl(e)}:function(){},Ng=function(e,t,o){var n=-1,i=gp,r=e.length,a=!0,s=[],l=s;if(o)a=!1,i=fp;else if(r>=200){var d=t?null:Fg(e);if(d)return Sd(d);a=!1,i=kp,l=new vm}else l=t?[]:s;outer:for(;++n<r;){var c=e[n],m=t?t(c):c;if(c=o||0!==c?c:0,a&&m===m){for(var u=l.length;u--;)if(l[u]===m)continue outer;t&&l.push(m),s.push(c)}else i(l,m,o)||(l!==s&&l.push(m),s.push(c))}return s},Dg=bc(function(e){return Ng(mp(e,1,yl,!0))}),Mg=bc(function(e){var t=mu(e);return yl(t)&&(t=void 0),Ng(mp(e,1,yl,!0),Yp(t))}),Bg=bc(function(e){var t=mu(e);return yl(t)&&(t=void 0),Ng(mp(e,1,yl,!0),void 0,t)}),Lg=function(e,t){for(var o=-1,n=e.length,i=0,r=[];++o<n;){var a=e[o];t(a,o,e)&&(r[i++]=a)}return r},zg=function(e){if(!(e&&e.length))return[];var t=0;return e=Lg(e,function(e){if(yl(e))return t=is(e.length,t),!0}),bl(t,function(t){return hp(e,kl(t))})},jg=function(e,t){if(!(e&&e.length))return[];var o=zg(e);return null==t?o:hp(o,function(e){return oc(t,void 0,e)})},qg=bc(function(e,t){return yl(e)?_p(e,t):[]}),Wg=function(e,t,o){for(var n=-1,i=e.length;++n<i;)var r=r?Hl(_p(r,e[n],t,o),_p(e[n],r,t,o)):e[n];return r&&r.length?Ng(r,t,o):[]},Ug=bc(function(e){return Wg(Lg(e,yl))}),Hg=bc(function(e){var t=mu(e);return yl(t)&&(t=void 0),Wg(Lg(e,yl),Yp(t))}),Kg=bc(function(e){var t=mu(e);return yl(t)&&(t=void 0),Wg(Lg(e,yl),void 0,t)}),Gg=bc(zg),$g=function(e,t,o){for(var n=-1,i=e.length,r=t.length,a={};++n<i;){var s=n<r?t[n]:void 0;o(a,e[n],s)}return a},Jg=function(e,t,o,n){t=jp(t,e)?[t]:Bp(t);for(var i=-1,r=t.length,a=e;null!=a&&++i<r;){var s=qp(t[i]);if(Vs(a)){var l=o;if(i!=r-1){var d=a[s];l=n?n(d,s,a):void 0,l===void 0&&(l=null==d?Nl(t[i+1])?[]:{}:d)}cl(a,s,l)}a=a[s]}return e},Qg=bc(function(e){var t=e.length,o=1<t?e[t-1]:void 0;return o='function'==typeof o?(e.pop(),o):void 0,jg(e,o)}),Yg={chunk:function(e,t,o){t=(o?tc(e,t,o):void 0===t)?1:is(fc(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var i=0,r=0,a=Array(dp(n/t));i<n;)a[r++]=ot(e,i,i+=t);return a},compact:function(e){for(var t=-1,o=e?e.length:0,n=0,i=[];++t<o;){var r=e[t];r&&(i[n++]=r)}return i},concat:function(){for(var e=arguments.length,t=Array(e?e-1:0),o=arguments[0],n=e;n--;)t[n-1]=arguments[n];return e?Hl(Sl(o)?jl(o):[o],mp(t,1)):[]},difference:wp,differenceBy:Xp,differenceWith:Zp,drop:eg,dropRight:tg,dropRightWhile:function(e,t){return e&&e.length?og(e,Yp(t,3),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?og(e,Yp(t,3),!0):[]},fill:function(e,t,o,n){var i=e?e.length:0;return i?(o&&'number'!=typeof o&&tc(e,t,o)&&(o=0,n=i),rg(e,t,o,n)):[]},findIndex:function(e,t){return e&&e.length?ag(e,Yp(t,3)):-1},findLastIndex:function(e,t){return e&&e.length?ag(e,Yp(t,3),!0):-1},first:sg,flatten:function(e){var t=e?e.length:0;return t?mp(e,1):[]},flattenDeep:function(e){var t=e?e.length:0;return t?mp(e,1/0):[]},flattenDepth:function(e,t){var o=e?e.length:0;return o?(t=void 0===t?1:fc(t),mp(e,t)):[]},fromPairs:function(e){for(var t=-1,o=e?e.length:0,n={};++t<o;){var i=e[t];n[i[0]]=i[1]}return n},head:sg,indexOf:function(e,t,o){var n=e?e.length:0;return n?(o=fc(o),0>o&&(o=is(n+o,0)),pp(e,t,o)):-1},initial:function(e){return tg(e,1)},intersection:cg,intersectionBy:mg,intersectionWith:ug,join:function(e,t){return e?gg.call(e,t):''},last:mu,lastIndexOf:function(e,t,o){var n=e?e.length:0;if(!n)return-1;var i=n;if(void 0!==o&&(i=fc(o),i=(0>i?is(n+i,0):rs(i,n-1))+1),t!==t)return up(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},nth:function(e,t){return e&&e.length?fg(e,fc(t)):void 0},pull:vg,pullAll:wg,pullAllBy:function(e,t,o){return e&&e.length&&t&&t.length?_g(e,t,Yp(o)):e},pullAllWith:function(e,t,o){return e&&e.length&&t&&t.length?_g(e,t,void 0,o):e},pullAt:Eg,remove:function(e,t){var o=[];if(!(e&&e.length))return o;var n=-1,i=[],r=e.length;for(t=Yp(t,3);++n<r;){var a=e[n];t(a,n,e)&&(o.push(a),i.push(n))}return Tg(e,i),o},reverse:function(e){return e?Og.call(e):e},slice:function(e,t,o){var n=e?e.length:0;return n?(o&&'number'!=typeof o&&tc(e,t,o)?(t=0,o=n):(t=null==t?0:fc(t),o=void 0===o?n:fc(o)),ot(e,t,o)):[]},sortedIndex:function(e,t){return Rg(e,t)},sortedIndexBy:function(e,t,o){return Ig(e,t,Yp(o))},sortedIndexOf:function(e,t){var o=e?e.length:0;if(o){var n=Rg(e,t);if(n<o&&Es(e[n],t))return n}return-1},sortedLastIndex:function(e,t){return Rg(e,t,!0)},sortedLastIndexBy:function(e,t,o){return Ig(e,t,Yp(o),!0)},sortedLastIndexOf:function(e,t){var o=e?e.length:0;if(o){var n=Rg(e,t,!0)-1;if(Es(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?Vg(e):[]},sortedUniqBy:function(e,t){return e&&e.length?Vg(e,Yp(t)):[]},tail:function(e){return eg(e,1)},take:function(e,t,o){return e&&e.length?(t=o||void 0===t?1:fc(t),ot(e,0,0>t?0:t)):[]},takeRight:function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:fc(t),t=n-t,ot(e,0>t?0:t,n)):[]},takeRightWhile:function(e,t){return e&&e.length?og(e,Yp(t,3),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?og(e,Yp(t,3)):[]},union:Dg,unionBy:Mg,unionWith:Bg,uniq:function(e){return e&&e.length?Ng(e):[]},uniqBy:function(e,t){return e&&e.length?Ng(e,Yp(t)):[]},uniqWith:function(e,t){return e&&e.length?Ng(e,void 0,t):[]},unzip:zg,unzipWith:jg,without:qg,xor:Ug,xorBy:Hg,xorWith:Kg,zip:Gg,zipObject:function(e,t){return $g(e||[],t||[],cl)},zipObjectDeep:function(e,t){return $g(e||[],t||[],Jg)},zipWith:Qg};const Xg=new Map,Zg={transform(e,t,o){const n=Zg.getTransformationCase(e,t)||Zg.defaultTransform,i=n(e,t,Object.assign({},o)),r=Yg.last(t.operations).baseVersion;return qo(r,i)},defaultTransform(e,t,o){const n=[];let i=t.operations,r=[];for(const a of e.operations){const e=[a];for(const t of i)for(let n=0;n<e.length;n++){const i=e[n],a=sp(i,t,o);Array.prototype.splice.apply(e,[n,1].concat(a)),n+=a.length-1;const s=Object.assign({},o);s.isStrong=!o.isStrong,s.insertBefore=o.insertBefore===void 0?void 0:!o.insertBefore;const l=sp(t,i,s);Array.prototype.push.apply(r,l)}i=r,r=[];for(const t of e)n.push(t)}return Xo(e.constructor,n)},addTransformationCase(e,t,o){let n=Xg.get(e);n||(n=new Map,Xg.set(e,n)),n.set(t,o)},getTransformationCase(e,t){let o=Xg.get(e.constructor);if(!o||!o.get(t.constructor)){const n=Xg.keys();for(const i of n)if(e instanceof i&&Xg.get(i).get(t.constructor)){o=Xg.get(i);break}}return o?o.get(t.constructor):void 0},transformDeltaSets(e,t,o=null){const n=Array.from(e),i=Array.from(t),r=null!==o,a={isStrong:!0};if(r){a.wasAffected=new Map,a.originalDelta=new Map,a.document=o,a.undoMode=!0;for(const e of i)a.originalDelta.set(e,e)}for(let s=0;s<n.length;s++){const e=[n[s]];for(let t=0;t<i.length;t++){const o=[i[t]];for(let t=0;t<e.length;t++)for(let n=0;n<o.length;n++){r&&Ho(e[t],o[n],a);const i=Zg.transform(e[t],o[n],{insertBefore:a.insertBefore,forceNotSticky:a.forceNotSticky,isStrong:a.isStrong,forceWeakRemove:a.forceWeakRemove,undoMode:a.undoMode}),s=Zg.transform(o[n],e[t],{insertBefore:!a.insertBefore,forceNotSticky:a.forceNotSticky,isStrong:!a.isStrong,forceWeakRemove:a.forceWeakRemove,undoMode:a.undoMode});if(r){Yo(e[t],i,a);const r=a.originalDelta.get(o[n]);for(const e of s)a.originalDelta.set(e,r)}e.splice(t,1,...i),t+=i.length-1,o.splice(n,1,...s),n+=s.length-1}i.splice(t,1,...o),t+=o.length-1}n.splice(s,1,...e),s+=e.length-1}const s=Wo(n)-Wo(e),l=Wo(i)-Wo(t);return l<s?Uo(i,s-l):s<l&&Uo(n,l-s),{deltasA:n,deltasB:i}}};var ef=Zg;class tf extends Qu{get type(){return'marker'}get _reverseDeltaClass(){return tf}static get className(){return'engine.model.delta.MarkerDelta'}}Ju.register(tf);const of=ef.addTransformationCase,nf=ef.defaultTransform;of(Yu,ap,(e,t,o)=>{const n=nf(e,t,o);return e.range.containsPosition(t.position)&&n.push(en(t,e)),n}),of(Yu,Xu,(e,t,o)=>{if(!t.position)return nf(e,t,o);const n=o.undoMode,i=new uu(t.position.root,t.position.path.slice(0,-1)),r=nf(e,t,o);if(n||!(t._cloneOperation instanceof ju))return r;for(const n of e.operations)if(n.range.containsPosition(i)||n.range.start.isEqual(i)){const e=new Yu,o=i.getShiftedBy(1),a=uu.createFromPosition(o);a.path.push(0);const s=t._cloneOperation.nodes.getNode(0).getAttribute(n.key);e.addOperation(new Mu(new pu(o,a),n.key,s===void 0?null:s,n.newValue,0)),r.push(e);break}return r}),of(rp,Zu,(e,t,o)=>{if(!t.position)return nf(e,t,o);const n=o.undoMode;return!n&&e.position.isEqual(t.position)?[t.getReversed(),e.clone()]:nf(e,t,o)}),of(tf,Xu,Zo),of(tf,Zu,Zo),of(tf,np,Zo),of(tf,ip,Zo),of(tf,ep,Zo),of(tf,op,Zo),of(ep,Zu,(e,t,o)=>{const n=o.undoMode;if(n||!t.position)return nf(e,t,o);const i=e.sourcePosition.root==t.position.root&&'same'===A(e.sourcePosition.getParentPath(),t.position.getParentPath()),r=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return i&&r?[t.getReversed(),e.clone()]:nf(e,t,o)}),of(Zu,rp,(e,t,o)=>{if(!e.position)return nf(e,t,o);const n=o.undoMode;return!n&&e.position.isEqual(t.position)?[tn()]:nf(e,t,o)}),of(Zu,ep,(e,t,o)=>{const n=o.undoMode;if(n||!e.position)return nf(e,t,o);const i=e.position.root==t.sourcePosition.root&&'same'===A(e.position.getParentPath(),t.sourcePosition.getParentPath()),r=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return i&&r?[tn()]:nf(e,t,o)}),of(Xu,Xu,(e,t,o)=>{const n=o.undoMode;if(n)return nf(e,t,o);if(!e.position||!t.position)return nf(e,t,o);const i=e.position.getParentPath(),r=t.position.getParentPath();if(e.position.root==t.position.root&&'same'==A(i,r))if(e=e.clone(),e.position.offset<t.position.offset||e.position.offset==t.position.offset&&o.isStrong){e._cloneOperation instanceof Lu&&t._cloneOperation instanceof Lu&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&e._cloneOperation.sourcePosition.offset--;const o=pu.createFromPositionAndShift(e.position,e._moveOperation.howMany),n=pu.createFromPositionAndShift(t.position,t._moveOperation.howMany),i=o.getDifference(n);let r=0;for(const e of i)r+=e.end.offset-e.start.offset;return 0==r?(e.operations.pop(),e.addOperation(new Wu(e.operations[0].baseVersion+1))):e.operations[1].howMany=r,[e]}else{const n=Object.assign({},o);return n.isStrong=!0,n.insertBefore=!0,nf(e,t,n)}return nf(e,t,o)}),of(Xu,ip,(e,t,o)=>e.position?e.position.root==t.position.root&&'same'===A(t.position.path,e.position.getParentPath())?[tn()]:nf(e,t,o):nf(e,t,o)),of(Xu,np,(e,t,o)=>{if(!e.position)return nf(e,t,o);const n=e.position.root==t.range.start.root,i=n&&'same'===A(e.position.getParentPath(),t.range.start.getParentPath()),r=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(i&&r)return[tn()];if(n&&'same'===A(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){const o=e.clone(),n=uu.createFromPosition(t.range.start);n.path.push(t.howMany-1);const i=n.getShiftedBy(1);o._cloneOperation.position=i;const r=uu.createFromPosition(n);r.path.push(e.position.offset),o._moveOperation.sourcePosition=r;const a=uu.createFromPosition(i);return a.path.push(0),o._moveOperation.targetPosition=a,[o]}return nf(e,t,o)}),of(Xu,Yu,(e,t,o)=>{if(!e.position)return nf(e,t,o);e=e.clone();const n=o.undoMode,i=new uu(e.position.root,e.position.path.slice(0,-1));if(n||!(e._cloneOperation instanceof ju))return[e];for(const n of t.operations)if(n.range.containsPosition(i)||n.range.start.isEqual(i)){null===n.newValue?e._cloneOperation.nodes.getNode(0)._removeAttribute(n.key):e._cloneOperation.nodes.getNode(0)._setAttribute(n.key,n.newValue);break}return[e]}),of(ip,Xu,(e,t,o)=>t.position?e.position.root==t.position.root&&'same'===A(e.position.path,t.position.getParentPath())?[t.getReversed(),e.clone()]:nf(e,t,o):nf(e,t,o)),of(ap,Yu,(e,t)=>{const o=[e.clone()];return t.range.containsPosition(e.position)&&o.push(en(e,t)),o}),of(np,Xu,(e,t,o)=>{if(!t.position)return nf(e,t,o);const n=e.range.start.root==t.position.root,i=n&&'same'===A(e.range.start.getParentPath(),t.position.getParentPath()),r=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(i&&r)return[t.getReversed(),e.clone()];if(n&&'same'===A(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){const t=e.clone();return t._insertOperation.position.offset++,t._moveOperation.howMany++,t._moveOperation.targetPosition.path[t._moveOperation.targetPosition.path.length-2]++,[t]}return nf(e,t,o)}),of(op,Xu,(e,t,o)=>{const n=o.undoMode,i=nf(e,t,o);if(n||!(t._cloneOperation instanceof ju))return i;const r=t._cloneOperation.position.getShiftedBy(-1);if(r&&e.operations[0].position.isEqual(r)){const t=e.clone();t.operations[0].position=r.getShiftedBy(1),i.push(t)}return i}),of(Xu,op,(e,t,o)=>{e=e.clone();const n=o.undoMode;if(n||!(e._cloneOperation instanceof ju))return[e];const i=e._cloneOperation.position.getShiftedBy(-1);if(i&&!n&&t.operations[0].position.isEqual(i)){const o=t.clone();return o.operations[0].position=i.getShiftedBy(1),o.operations[0].oldName=e._cloneOperation.nodes.getNode(0).name,[e,o]}return[e]}),of(tp,Xu,(e,t,o)=>{const n=nf(e,t,o),i=t._cloneOperation.position||t._cloneOperation.targetPosition;if(!i)return nf(e,t,o);const r=o.undoMode;if(r)return n;for(const r of n)if(r instanceof tp){const e=r._moveOperation,t=e.sourcePosition.getShiftedBy(e.howMany);t.isEqual(i)&&(e.howMany+=1)}return n}),of(Xu,tp,(e,t,o)=>{const n=o.undoMode;if(n)return nf(e,t,o);const i=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!i)return nf(e,t,o);t=t.clone();const r=t._moveOperation,a=r.sourcePosition.getShiftedBy(r.howMany);return a.isEqual(i)&&(r.howMany+=1),nf(e,t,o)});class rf{constructor(e='default'){this.deltas=[],this.type=e}get baseVersion(){for(const e of this.deltas)if(null!==e.baseVersion)return e.baseVersion;return null}addDelta(e){return e.batch=this,this.deltas.push(e),e}*getOperations(){for(const e of this.deltas)yield*e.operations}}class af extends Qu{static get className(){return'engine.model.delta.RootAttributeDelta'}}Ju.register(af);class sf extends Fu{constructor(e,t){super(null),this.sourcePosition=uu.createFromPosition(e),this.howMany=t}get type(){return'detach'}_validate(){if(this.sourcePosition.root.document)throw new _s('detach-operation-on-document-node: Cannot detach document node.')}_execute(){Co(pu.createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return'engine.model.operation.DetachOperation'}}class lf extends du{constructor(e,t,o='main'){super(t),this._doc=e,this.rootName=o}get document(){return this._doc}is(e,t){return t?'rootElement'==e&&t==this.name||super.is(e,t):'rootElement'==e||super.is(e)}toJSON(){return this.rootName}}class df{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new au(e,t)}createElement(e,t){return new du(e,t)}createDocumentFragment(){return new Nu}insert(e,t,o){this._assertWriterUsedCorrectly();const n=uu.createAt(t,o),i=e instanceof au&&!e.parent?new ap:new rp;if(e.parent){if(sn(e.root,n.root))return void this.move(pu.createOn(e),n);if(e.root.document)throw new Error('model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.');else this.remove(e)}const r=n.root.document?n.root.document.version:null,a=new ju(n,e,r);if(this.batch.addDelta(i),i.addOperation(a),this.model.applyOperation(a),e instanceof Nu)for(const[t,o]of e.markers){const e=uu.createAt(o.root),i=new pu(o.start._getCombined(e,n),o.end._getCombined(e,n));this.addMarker(t,{range:i,usingOperation:!0})}}insertText(e,t,o,n){t instanceof Nu||t instanceof du||t instanceof uu?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,n)}insertElement(e,t,o,n){t instanceof Nu||t instanceof du||t instanceof uu?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,n)}append(e,t){this.insert(e,t,'end')}appendText(e,t,o){t instanceof Nu||t instanceof du?this.insert(this.createText(e),t,'end'):this.insert(this.createText(e,t),o,'end')}appendElement(e,t,o){t instanceof Nu||t instanceof du?this.insert(this.createElement(e),t,'end'):this.insert(this.createElement(e,t),o,'end')}setAttribute(e,t,o){this._assertWriterUsedCorrectly(),o instanceof pu?on(this,e,t,o):nn(this,e,t,o)}setAttributes(e,t){for(const[o,n]of ut(e))this.setAttribute(o,n,t)}removeAttribute(e,t){this._assertWriterUsedCorrectly(),t instanceof pu?on(this,e,null,t):nn(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=(e)=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(!(e instanceof pu))t(e);else for(const o of e.getItems())t(o)}move(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof pu))throw new _s('writer-move-invalid-range: Invalid range to move.');if(!e.isFlat)throw new _s('writer-move-range-not-flat: Range to move is not flat.');const n=uu.createAt(t,o);if(!sn(e.root,n.root))throw new _s('writer-move-different-document: Range is going to be moved between different documents.');const i=new ep;this.batch.addDelta(i);const r=e.root.document?e.root.document.version:null,a=new Bu(e.start,e.end.offset-e.start.offset,n,r);i.addOperation(a),this.model.applyOperation(a)}remove(e){this._assertWriterUsedCorrectly();const t=(e,t)=>{const o=new tp;this.batch.addDelta(o),an(e,t,o,this.model)};if(e instanceof pu){const o=e.getMinimalFlatRanges().reverse();for(const e of o)t(e.start,e.end.offset-e.start.offset)}else{const o=e.is('text')?e.offsetSize:1;t(uu.createBefore(e),o)}}merge(e){this._assertWriterUsedCorrectly();const t=new Zu;this.batch.addDelta(t);const o=e.nodeBefore,n=e.nodeAfter;if(!(o instanceof du))throw new _s('writer-merge-no-element-before: Node before merge position must be an element.');if(!(n instanceof du))throw new _s('writer-merge-no-element-after: Node after merge position must be an element.');const i=uu.createFromParentAndOffset(n,0),r=uu.createFromParentAndOffset(o,o.maxOffset),a=e.root.document?e.root.document.version:null,s=new Bu(i,n.maxOffset,r,a);s.isSticky=!0,t.addOperation(s),this.model.applyOperation(s),an(e,1,t,this.model)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof du))throw new _s('writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const o=new op;this.batch.addDelta(o);const n=e.root.document?e.root.document.version:null,i=new Uu(uu.createBefore(e),e.name,t,n);o.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let o=e.parent;if(!o.parent)throw new _s('writer-split-element-no-parent: Element with no parent can not be split.');if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new _s('writer-split-invalid-limit-element: Limit element is not a position ancestor.');let n,i;do{const t=new Xu;this.batch.addDelta(t);const r=new du(o.name,o.getAttributes()),a=o.root.document?o.root.document.version:null,s=new ju(uu.createAfter(o),r,a);t.addOperation(s),this.model.applyOperation(s);const l=null===a?null:a+1,d=new Bu(e,o.maxOffset-e.offset,uu.createFromParentAndOffset(r,0),l);d.isSticky=!0,t.addOperation(d),this.model.applyOperation(d),n||i||(n=o,i=r),e=uu.createBefore(r),o=e.parent}while(o!==t);return{position:e,range:new pu(uu.createAt(n,'end'),uu.createAt(i))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new _s('writer-wrap-range-not-flat: Range to wrap is not flat.');const o=t instanceof du?t:new du(t);if(0<o.childCount)throw new _s('writer-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==o.parent)throw new _s('writer-wrap-element-attached: Element to wrap with is already attached to tree model.');const n=new np;this.batch.addDelta(n);const i=e.root.document?e.root.document.version:null,r=new ju(e.end,o,i);n.addOperation(r),this.model.applyOperation(r);const a=null===i?null:i+1,s=uu.createFromParentAndOffset(o,0),l=new Bu(e.start,e.end.offset-e.start.offset,s,a);n.addOperation(l),this.model.applyOperation(l)}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new _s('writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const t=new ip;this.batch.addDelta(t);const o=uu.createFromParentAndOffset(e,0),n=o.root.document?o.root.document.version:null,i=new Bu(o,e.maxOffset,uu.createBefore(e),n);i.isSticky=!0,t.addOperation(i),this.model.applyOperation(i),an(uu.createBefore(e),1,t,this.model)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||'boolean'!=typeof t.usingOperation)throw new _s('writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.');const o=t.usingOperation,n=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new _s('writer-addMarker-marker-exists: Marker with provided name already exists.');if(!n)throw new _s('writer-addMarker-no-range: Range parameter is required when adding a new marker.');return o?(rn(this,e,null,n,i),this.model.markers.get(e)):this.model.markers._set(e,n,o,i)}updateMarker(e,t={}){this._assertWriterUsedCorrectly();const o='string'==typeof e?e:e.name,n=this.model.markers.get(o);if(!n)throw new _s('writer-updateMarker-marker-not-exists: Marker with provided name does not exists.');const i='boolean'==typeof t.usingOperation,r='boolean'==typeof t.affectsData,a=r?t.affectsData:n.affectsData;if(!i&&!t.range&&!r)throw new _s('writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.');const s=n.getRange(),l=t.range?t.range:s;return i&&t.usingOperation!==n.managedUsingOperations?void(t.usingOperation?rn(this,o,null,l,a):(rn(this,o,s,null,a),this.model.markers._set(o,l,void 0,a))):void(n.managedUsingOperations?rn(this,o,s,l,a):this.model.markers._set(o,l,void 0,a))}removeMarker(e){this._assertWriterUsedCorrectly();const t='string'==typeof e?e:e.name;if(!this.model.markers.has(t))throw new _s('writer-removeMarker-no-marker: Trying to remove marker which does not exist.');const o=this.model.markers.get(t);if(!o.managedUsingOperations)return void this.model.markers._remove(t);const n=o.getRange();rn(this,t,n,null,o.affectsData)}setSelection(e,t,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,o)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._setSelectionAttribute(e,t);else for(const[t,o]of ut(e))this._setSelectionAttribute(t,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const n=wu._getStoreAttributeKey(e);this.setAttribute(n,t,o.anchor.parent)}o._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=wu._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new _s('writer-incorrect-use: Trying to use a writer outside the change() block.')}}class cf{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){switch(e.type){case'insert':{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case'addAttribute':case'removeAttribute':case'changeAttribute':{for(const t of e.range.getItems())this._isInInsertedElement(t.parent)||this._markAttribute(t);break}case'remove':case'move':case'reinsert':{const t=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case'rename':{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=pu.createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}break}}this._cachedChanges=null}bufferMarkerChange(e,t,o,n){const i=this._changedMarkers.get(e);i?(i.newRange=o,i.affectsData=n,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:o,affectsData:n})}getMarkersToRemove(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.oldRange&&e.push({name:t,range:o.oldRange});return e}getMarkersToAdd(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.newRange&&e.push({name:t,range:o.newRange});return e}hasDataChanges(){for(const[,e]of this._changedMarkers)if(e.affectsData)return!0;return 0<this._changesInElement.size}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const t=[];for(const o of this._changesInElement.keys()){const e=this._changesInElement.get(o).sort((e,t)=>e.offset===t.offset?e.type==t.type?0:'remove'==e.type?-1:1:e.offset<t.offset?-1:1),n=this._elementSnapshots.get(o),r=ln(o.getChildren()),a=dn(n.length,e);let s=0,i=0;for(const e of a)if('i'===e)t.push(this._getInsertDiff(o,s,r[s].name)),s++;else if('r'===e)t.push(this._getRemoveDiff(o,s,n[i].name)),i++;else if('a'===e){const e=r[s].attributes,a=n[i].attributes;let l;if('$text'==r[s].name)l=pu.createFromParentsAndOffsets(o,s,o,s+1);else{const e=o.offsetToIndex(s);l=pu.createFromParentsAndOffsets(o,s,o.getChild(e),0)}t.push(...this._getAttributesDiff(l,a,e)),s++,i++}else s++,i++}t.sort((e,t)=>e.position.root==t.position.root?e.position.isEqual(t.position)?e.changeCount<t.changeCount?-1:1:e.position.isBefore(t.position)?-1:1:e.position.root.rootName<t.position.root.rootName?-1:1);for(let o=1;o<t.length;o++){const e=t[o-1],n=t[o],i='remove'==e.type&&'remove'==n.type&&'$text'==e.name&&'$text'==n.name&&e.position.isEqual(n.position),r='insert'==e.type&&'insert'==n.type&&'$text'==e.name&&'$text'==n.name&&e.position.parent==n.position.parent&&e.position.offset+e.length==n.position.offset,a='attribute'==e.type&&'attribute'==n.type&&e.position.parent==n.position.parent&&e.range.isFlat&&n.range.isFlat&&e.position.offset+e.length==n.position.offset&&e.attributeKey==n.attributeKey&&e.attributeOldValue==n.attributeOldValue&&e.attributeNewValue==n.attributeNewValue;(i||r||a)&&(t[o-1].length++,a&&(t[o-1].range.end=t[o-1].range.end.getShiftedBy(1)),t.splice(o,1),o--)}for(const o of t)delete o.changeCount,'attribute'==o.type&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(cn),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(e,t,o){const n={type:'insert',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n)}_markRemove(e,t,o){const n={type:'remove',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n),this._removeAllNestedChanges(e,t,o)}_markAttribute(e){const t={type:'attribute',offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(let n=0;n<o.length;n++)1>o[n].howMany&&(o.splice(n,1),n--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,ln(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const o of t){const n=e.offset+e.howMany,i=o.offset+o.howMany;if('insert'==e.type&&('insert'==o.type&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<i&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),'remove'==o.type&&e.offset<o.offset&&(o.offset+=e.howMany),'attribute'==o.type))if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<i){const i=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:'attribute',offset:n,howMany:i-o.howMany,count:this._changeCount++})}if('remove'==e.type){if('insert'==o.type)if(n<=o.offset)o.offset-=e.howMany;else if(n<=i){if(e.offset<o.offset){const t=n-o.offset;o.offset=e.offset,o.howMany-=t,e.nodesToHandle-=t}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;}else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<i){const t=i-e.offset;o.howMany-=t,e.nodesToHandle-=t}if('remove'==o.type&&(n<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),'attribute'==o.type)if(n<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const t=n-o.offset;o.offset=e.offset,o.howMany-=t}else if(e.offset<i)if(n<=i){const n=o.howMany;o.howMany=e.offset-o.offset;const i=n-o.howMany-e.nodesToHandle;t.unshift({type:'attribute',offset:e.offset,howMany:i,count:this._changeCount++})}else o.howMany-=i-e.offset}if('attribute'==e.type){if('insert'==o.type)if(e.offset<o.offset&&n>o.offset){if(n>i){const e={type:'attribute',offset:i,howMany:n-i,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<i&&(n>i?(e.nodesToHandle=n-i,e.offset=i):e.nodesToHandle=0);'attribute'==o.type&&(e.offset>=o.offset&&n<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&n>=i&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,o){return{type:'insert',position:uu.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,o){return{type:'remove',position:uu.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,o){const n=[];o=new Map(o);for(const[i,r]of t){const t=o.has(i)?o.get(i):null;t!==r&&n.push({type:'attribute',position:e.start,range:pu.createFromRange(e),length:1,attributeKey:i,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++}),o.delete(i)}for(const[i,r]of o)n.push({type:'attribute',position:e.start,range:pu.createFromRange(e),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return n}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const o=this._changesInElement.get(t),n=e.startOffset;if(o)for(const e of o)if('insert'==e.type&&n>=e.offset&&n<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,o){const n=pu.createFromParentsAndOffsets(e,t,e,t+o);for(const i of n.getItems({shallow:!0}))i.is('element')&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}class mf{constructor(){this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}addDelta(e){if(0<e.operations.length&&!this._historyPoints.has(e.baseVersion)){const t=this._deltas.length;this._deltas[t]=e,this._historyPoints.set(e.baseVersion,t)}}*getDeltas(e=0,t=ns){if(0!==this._deltas.length){let o=this._getIndex(e);if(-1!=o)for(;o<this._deltas.length;){const e=this._deltas[o++];if(e.baseVersion>=t)break;yield e}}}getDelta(e){const t=this._historyPoints.get(e);return t===void 0?null:this._deltas[t]}setDeltaAsUndone(e,t){this._undoPairs.set(t,e),this._undoneDeltas.add(e)}isUndoingDelta(e){return this._undoPairs.has(e)}isUndoneDelta(e){return this._undoneDeltas.has(e)}getUndoneDelta(e){return this._undoPairs.get(e)}_getIndex(e){const t=this._historyPoints.get(e);if(t===void 0){const t=this._deltas[this._deltas.length-1],o=t.baseVersion+t.operations.length;if(0>e||e>=o)return-1;throw new _s('model-history-wrong-version: Given base version points to the middle of a delta.')}return t}}const uf='$graveyard';class pf{constructor(e){this.model=e,this.version=0,this.history=new mf(this),this.selection=new wu(this),this.roots=new Gc({idProperty:'rootName'}),this.differ=new cf(e.markers),this._postFixers=new Set,this.createRoot('$root',uf),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];if(o.isDocumentOperation&&o.baseVersion!==this.version)throw new _s('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:o})},{priority:'highest'}),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:'high'}),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];o.isDocumentOperation&&(this.version++,this.history.addDelta(o.delta))},{priority:'low'});let t=!1;this.listenTo(this.selection,'change',()=>{t=!0}),this.listenTo(e,'_change',(e,o)=>{(!this.differ.isEmpty||t)&&(this._callPostFixers(o),this.differ.hasDataChanges()?this.fire('change:data',o.batch):this.fire('change',o.batch),this.differ.reset(),t=!1)}),this.listenTo(e.markers,'update',(e,t,o,n)=>{this.differ.bufferMarkerChange(t.name,o,n,t.affectsData),null===o&&t.on('change',(e,o)=>{this.differ.bufferMarkerChange(t.name,o,t.getRange(),t.affectsData)})})}get graveyard(){return this.getRoot(uf)}createRoot(e='$root',t='main'){if(this.roots.get(t))throw new _s('model-document-createRoot-name-exists: Root with specified name already exists.',{name:t});const o=new lf(this,e,t);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e='main'){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,(e)=>e.rootName).filter((e)=>e!=uf)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=$d(this);return e.selection='[engine.model.DocumentSelection]',e.model='[engine.model.Model]',e}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model.schema,o=new uu(e,[0]),n=t.getNearestSelectionRange(o);return n||new pu(o)}_validateSelectionRange(e){return hn(e.start)&&hn(e.end)}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(t=o(e),t)break;while(t)}}f(pf,Ps);class gf{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,o=!1,n=!1){const i=e instanceof ff?e.name:e,r=this._markers.get(i);if(r){const e=r.getRange();let a=!1;return e.isEqual(t)||(r._attachLiveRange(ku.createFromRange(t)),a=!0),o!=r.managedUsingOperations&&(r._managedUsingOperations=o,a=!0),'boolean'==typeof n&&n!=r.affectsData&&(r._affectsData=n,a=!0),a&&this.fire('update:'+i,r,e,t),r}const a=ku.createFromRange(t),s=new ff(i,a,o,n);return this._markers.set(i,s),this.fire('update:'+i,s,null,t),s}_remove(e){const t=e instanceof ff?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire('update:'+t,o,o.getRange(),null),this._destroyMarker(o),!0)}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+':')&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}f(gf,Ps);class ff{constructor(e,t,o,n){this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=o,this._affectsData=n}get managedUsingOperations(){if(!this._liveRange)throw new _s('marker-destroyed: Cannot use a destroyed marker instance.');return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new _s('marker-destroyed: Cannot use a destroyed marker instance.');return this._affectsData}getStart(){if(!this._liveRange)throw new _s('marker-destroyed: Cannot use a destroyed marker instance.');return uu.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new _s('marker-destroyed: Cannot use a destroyed marker instance.');return uu.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new _s('marker-destroyed: Cannot use a destroyed marker instance.');return pu.createFromRange(this._liveRange)}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate('change:range').to(this),e.delegate('change:content').to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating('change:range',this),this._liveRange.stopDelegating('change:content',this),this._liveRange.detach(),this._liveRange=null}}f(ff,Ps);class hf extends uu{constructor(e,t,o){if(super(e,t),!this.root.is('rootElement'))throw new _s('model-liveposition-root-not-rootelement: LivePosition\'s root has to be an instance of RootElement.');this.stickiness=o||'sticksToNext',bn.call(this)}detach(){this.stopListening()}}f(hf,Ps);class bf{constructor(e,t,o){this.model=e,this.writer=t,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[]}handleNodes(e,t){e=Array.from(e);for(let o=0;o<e.length;o++){const n=e[o];this._handleNode(n,{isFirst:0===o&&t.isFirst,isLast:o===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?pu.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}_handleNode(e,t){if(this.schema.isObject(e))return void this._handleObject(e,t);const o=this._checkAndSplitToAllowedPosition(e,t);return o?void(this._insert(e),this._mergeSiblingsOf(e,t)):void this._handleDisallowedNode(e,t)}_handleObject(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}_handleDisallowedNode(e,t){e.is('element')?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}_insert(e){if(!this.schema.checkChild(this.position,e))return void Xm.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:e,position:this.position});const t=hf.createFromPosition(this.position);this.writer.insert(e,this.position),this.position=uu.createFromPosition(t),t.detach(),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,'$text')?e:null,this._filterAttributesOf.push(e)}_mergeSiblingsOf(e,t){if(e instanceof du){const o=this._canMergeLeft(e,t),n=this._canMergeRight(e,t),i=hf.createBefore(e),r=hf.createAfter(e);if(o){const e=hf.createFromPosition(this.position);this.writer.merge(i),this.position=uu.createFromPosition(e),e.detach()}if(n){this.position.isEqual(r)||Xm.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=uu.createAt(r.nodeBefore,'end');const e=new hf(this.position.root,this.position.path,'sticksToPrevious');this.writer.merge(r),this.position=uu.createFromPosition(e),e.detach()}(o||n)&&this._filterAttributesOf.push(this.position.parent),i.detach(),r.detach()}}_canMergeLeft(e,t){const o=e.previousSibling;return t.isFirst&&o instanceof du&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}_canMergeRight(e,t){const o=e.nextSibling;return t.isLast&&o instanceof du&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}_tryAutoparagraphing(e,t){const o=this.writer.createElement('paragraph');this._getAllowedIn(o,this.position.parent)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o,t))}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const e=this.position.parent;this.position=uu.createBefore(e),e.isEmpty&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=uu.createAfter(this.position.parent);else{const e=uu.createAfter(this.position.parent);this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}const kf=' ,.?!:;"-()';class _f{constructor(){this.markers=new gf,this.document=new pf(this),this.schema=new Su,this._pendingChanges=[],this._currentWriter=null,['insertContent','deleteContent','modifySelection','getSelectedContent','applyOperation'].forEach((e)=>this.decorate(e)),this.on('applyOperation',(e,t)=>{const o=t[0];o._validate()},{priority:'highest'}),this.schema.register('$root',{isLimit:!0}),this.schema.register('$block',{allowIn:'$root',isBlock:!0}),this.schema.register('$text',{allowIn:'$block'}),this.schema.register('$clipboardHolder',{allowContentOf:'$root',isLimit:!0}),this.schema.extend('$text',{allowIn:'$clipboardHolder'}),this.schema.register('$marker',{allowIn:['$root','$block']}),Dn(this)}change(e){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new rf,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}enqueueChange(e,t){'string'==typeof e?e=new rf(e):'function'==typeof e&&(t=e,e=new rf),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(e){e._execute()}transformDeltas(e,t,o=!1){return ef.transformDeltaSets(e,t,o?this.document:null)}insertContent(e,t){_n(this,e,t)}deleteContent(e,t){wn(this,e,t)}modifySelection(e,t){Pn(this,e,t)}getSelectedContent(e){return Fn(this,e)}hasContent(e){if(e instanceof du&&(e=pu.createIn(e)),e.isCollapsed)return!1;for(const t of e.getItems())if(t.is('textProxy')||this.schema.isObject(t))return!0;return!1}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new df(this,t);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.fire('_change',this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return e}}f(_f,Mc);class wf{constructor(){this._listener=Object.create(km)}listenTo(e){this._listener.listenTo(e,'keydown',(e,t)=>{this._listener.fire('_keydown:'+te(t),t)})}set(e,t,o={}){const n=oe(e),i=o.priority;this._listener.listenTo(this._listener,'_keydown:'+n,(e,o)=>{t(o,()=>{o.preventDefault(),o.stopPropagation(),e.stop()}),e.return=!0},{priority:i})}press(e){return!!this._listener.fire('_keydown:'+te(e),e)}destroy(){this._listener.stopListening()}}class vf extends wf{constructor(e){super(),this.editor=e}set(e,t,o={}){if('string'==typeof t){const e=t;t=(t,o)=>{this.editor.execute(e),o()}}super.set(e,t,o)}}class yf{constructor(e){const t=this.constructor.build&&this.constructor.build.plugins;this.config=new bs(e,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',t),this.plugins=new Cu(this,t),this.commands=new Au,this.locale=new Tu(this.config.get('language')),this.t=this.locale.t,this.set('isReadOnly',!1),this.model=new _f,this.data=new Ru(this.model),this.editing=new xu(this.model),this.editing.view.document.bind('isReadOnly').to(this),this.conversion=new Vu,this.conversion.register('downcast',[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register('editingDowncast',[this.editing.downcastDispatcher]),this.conversion.register('dataDowncast',[this.data.downcastDispatcher]),this.conversion.register('upcast',[this.data.upcastDispatcher]),this.keystrokes=new vf(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){function e(e,t){return e.reduce((e,o)=>o[t]?e.then(o[t].bind(o)):e,Promise.resolve())}const t=this,o=this.config;return function(){const e=o.get('plugins')||[],n=o.get('removePlugins')||[];return t.plugins.load(e,n)}().then((t)=>e(t,'init').then(()=>e(t,'afterInit'))).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...e){this.commands.execute(...e)}static create(e){return new Promise((t)=>{const o=new this(e);t(o.initPlugins().then(()=>{o.fire('dataReady'),o.fire('ready')}).then(()=>o))})}}f(yf,Mc);const xf={setData(e){this.data.set(e)},getData(){return this.data.get()}};const Cf={updateElement(){Wn(this.element,this.data.get())}};class Af{getHtml(e){const t=document.implementation.createHTMLDocument(''),o=t.createElement('div');return o.appendChild(e),o.innerHTML}}class Tf{constructor(){this._domParser=new DOMParser,this._domConverter=new hm({blockFiller:dm}),this._htmlWriter=new Af}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,'text/html'),o=t.createDocumentFragment(),n=t.body.childNodes;for(;0<n.length;)o.appendChild(n[0]);return o}}class Pf{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){if(this.has(e))throw new _s('componentfactory-item-exists: The item already exists in the component factory.',{name:e});this._components.set(Hn(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new _s('componentfactory-item-missing: The required component is not registered in the factory.',{name:e});return this._components.get(Hn(e)).callback(this.editor.locale)}has(e){return this._components.has(Hn(e))}}class Ef{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new _s('focusTracker-add-element-already-exist');this.listenTo(e,'focus',()=>this._focus(e),{useCapture:!0}),this.listenTo(e,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}f(Ef,km),f(Ef,Mc);class Sf{constructor(e,t){this.editor=e,this.view=t,this.componentFactory=new Pf(e),this.focusTracker=new Ef,this._toolbarConfig=Gn(e.config.get('toolbar'))}init(){const e=this.editor,t=this.view;t.render(),t.stickyPanel.bind('isActive').to(this.focusTracker,'isFocused'),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);const o=e.editing.view.document.getRoot();t.editable.bind('isReadOnly').to(o),t.editable.bind('isFocused').to(e.editing.view.document),t.editable.name=o.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),Kn({origin:e.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:this.view.toolbar})}destroy(){this.view.destroy()}}class Of extends Gc{constructor(e){super({idProperty:'viewUid'}),this.on('add',(e,t,o)=>{t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[o])}),this.on('remove',(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this.locale=e,this._parentElement=null}destroy(){this.map((e)=>e.destroy())}setParent(e){this._parentElement=e}delegate(...e){if(!e.length||!$n(e))throw new _s('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(t)=>{for(const o of this)for(const n of e)o.delegate(n).to(t);this.on('add',(o,n)=>{for(const i of e)n.delegate(i).to(t)}),this.on('remove',(o,n)=>{for(const i of e)n.stopDelegating(i,t)})}}}}f(Gc,Mc);var If=function(e,t){return Gd(e,!0,!0,t)};class Rf{constructor(e){Object.assign(this,oi(ti(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=fi(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new _s('ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.');this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const o of t.children)ui(o)?yield o:pi(o)&&(yield*e(o))}yield*e(this)}static bind(e,t){return{to(o,n){return new Ff({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:n})},if(o,n,i){return new Nf({observable:e,emitter:t,attribute:o,valueIfTrue:n,callback:i})}}}static extend(e,t){e._isRendered&&Xm.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),ci(e,oi(ti(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new _s('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(''),Jn(this.text)?this._bindToObservable({schema:this.text,updater:Xn(t),data:e}):t.textContent=this.text.join(''),t}_renderAttributes(e){let t,o,n,i;if(this.attributes){const r=e.node,a=e.revertData;for(t in this.attributes)if(n=r.getAttribute(t),o=this.attributes[t],a&&(a.attributes[t]=n),i=Vs(o[0])&&o[0].ns?o[0].ns:null,Jn(o)){const s=i?o[0].value:o;a&&hi(t)&&s.unshift(n),this._bindToObservable({schema:s,updater:Zn(r,t,i),data:e})}else'style'==t&&'string'!=typeof o[0]?this._renderStyleAttribute(o[0],e):(a&&n&&hi(t)&&o.unshift(n),o=o.map((e)=>e?e.value||e:e).reduce((e,t)=>e.concat(t),[]).reduce(li,''),mi(o)||r.setAttributeNS(i,t,o))}}_renderStyleAttribute(e,t){const o=t.node;for(const n in e){const i=e[n];Jn(i)?this._bindToObservable({schema:[i],updater:ei(o,n),data:t}):o.style[n]=i}}_renderElementChildren(e){const t=e.node,o=e.intoFragment?document.createDocumentFragment():t,n=e.isApplying;let i=0;for(const r of this.children)if(gi(r)){if(!n){r.setParent(t);for(const e of r)o.appendChild(e.element)}}else if(ui(r))n||(!r.isRendered&&r.render(),o.appendChild(r.element));else if(Oe(r))o.appendChild(r);else if(n){const t=e.revertData,n=fi();t.children.push(n),r._renderNode({node:o.childNodes[i++],isApplying:!0,revertData:n})}else o.appendChild(r.render());e.intoFragment&&t.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const o=this.eventListeners[t].map((o)=>{const[n,i]=t.split('@');return o.activateDomEventListener(n,i,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:t,data:o}){const n=o.revertData;Yn(e,t,o);const i=e.filter((e)=>!mi(e)).filter((e)=>e.observable).map((n)=>n.activateAttributeListener(e,t,o));n&&n.bindings.push(i)}_revertTemplateFromNode(e,t){for(const o of t.bindings)for(const e of o)e();if(t.text)return void(e.textContent=t.text);for(const o in t.attributes){const n=t.attributes[o];null===n?e.removeAttribute(o):e.setAttribute(o,n)}for(let o=0;o<t.children.length;++o)this._revertTemplateFromNode(e.childNodes[o],t.children[o])}}f(Rf,Ps);class Vf{constructor(e){Object.assign(this,e)}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,o){const n=()=>Yn(e,t,o);return this.emitter.listenTo(this.observable,'change:'+this.attribute,n),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,n)}}}class Ff extends Vf{activateDomEventListener(e,t,o){const n=(e,o)=>{(!t||o.target.matches(t))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(o.node,e,n),()=>{this.emitter.stopListening(o.node,e,n)}}}class Nf extends Vf{getValue(e){const t=super.getValue(e);return!mi(t)&&(this.valueIfTrue||!0)}}var Df=o(11),Mf=o.n(Df);class Bf{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Gc,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(t,o)=>{o.locale=e}),this.decorate('render')}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Rf.bind(this,this)}createCollection(){const e=new Of;return this._viewCollections.add(e),e}registerChild(e){P(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){P(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Rf(e)}extendTemplate(e){Rf.extend(this.template,e)}render(){if(this.isRendered)throw new _s('ui-view-render-already-rendered: This View has already been rendered.');this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e)=>e.destroy())}}f(Bf,km),f(Bf,Mc);var Lf=o(14),zf=o.n(Lf);class jf extends Bf{constructor(e){super(e),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const e=this._bodyCollectionContainer=new Rf({tag:'div',attributes:{class:['ck','ck-reset_all','ck-body','ck-rounded-corners']},children:this.body}).render();document.body.appendChild(e)}}var qf=o(16),Wf=o.n(qf);class Uf extends Bf{constructor(e){super(e),this.set('text'),this.set('for');const t=this.bindTemplate;this.setTemplate({tag:'label',attributes:{class:['ck','ck-label'],for:t.to('for')},children:[{text:t.to('text')}]})}}class Hf extends jf{constructor(e){super(e);const t=i();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(t),this.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:e.language,"aria-labelledby":`ck-editor__aria-label_${t}`},children:[this._voiceLabelView,{tag:'div',attributes:{class:['ck','ck-editor__top','ck-reset_all'],role:'presentation'},children:this.top},{tag:'div',attributes:{class:['ck','ck-editor__main'],role:'presentation'},children:this.main}]})}_createVoiceLabel(e){const o=this.t,t=new Uf;return t.text=o('ag'),t.extendTemplate({attributes:{id:`ck-editor__aria-label_${e}`,class:'ck-voice-label'}}),t}}class Kf extends Bf{constructor(e,t){super(e);const o=this.bindTemplate;t&&(this.element=this.editableElement=t),this.setTemplate({tag:'div',attributes:{class:['ck','ck-content','ck-editor__editable','ck-rounded-corners',o.to('isFocused',(e)=>e?'ck-focused':'ck-blurred')],contenteditable:o.to('isReadOnly',(e)=>!e)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=t}render(){super.render(),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}class Gf extends Kf{constructor(e,o){super(e,o);const n=this.bindTemplate,i=this.t;this.set('name',null);this.extendTemplate({attributes:{role:'textbox',"aria-label":n.to('name',(e)=>i('af',[e])),class:'ck-editor__editable_inline'}})}}var $f=o(18),Jf=o.n($f);const Qf=bi('px');class Yf extends Bf{constructor(e){super(e);const t=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterBottomOffset',50),this.set('viewportTopOffset',0),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),this.set('_hasViewportTopOffset',!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Rf({tag:'div',attributes:{class:['ck','ck-sticky-panel__placeholder'],style:{display:t.to('isSticky',(e)=>e?'block':'none'),height:t.to('isSticky',(e)=>e?Qf(this._panelRect.height):null)}}}).render(),this._contentPanel=new Rf({tag:'div',attributes:{class:['ck','ck-sticky-panel__content',t.if('isSticky','ck-sticky-panel__content_sticky'),t.if('_isStickyToTheLimiter','ck-sticky-panel__content_sticky_bottom-limit')],style:{width:t.to('isSticky',(e)=>e?Qf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to('_hasViewportTopOffset',(e)=>e?Qf(this.viewportTopOffset):null),bottom:t.to('_isStickyToTheLimiter',(e)=>e?Qf(this.limiterBottomOffset):null),marginLeft:t.to('_marginLeft')}},children:this.content}).render(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-sticky-panel']},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(gm.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Qf(-gm.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Xf{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const t in e.actions){let o=e.actions[t];'string'==typeof o&&(o=[o]);for(const n of o)e.keystrokeHandler.set(n,(e,o)=>{this[t](),o()})}}get first(){return this.focusables.find(ki)||null}get last(){return this.focusables.filter(ki).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,o)=>{const n=t.element===this.focusTracker.focusedElement;return n&&(e=o),n}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?'first':'last'];let n=(t+o+e)%o;do{const t=this.focusables.get(n);if(ki(t))return t;n=(n+o+e)%o}while(n!==t);return null}}class Zf extends Bf{constructor(e){super(e),this.setTemplate({tag:'span',attributes:{class:['ck','ck-toolbar__separator']}})}}var eh=o(20),th=o.n(eh);class oh extends Bf{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Ef,this.keystrokes=new wf,this.set('isVertical',!1),this.set('className'),this._focusCycler=new Xf({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.setTemplate({tag:'div',attributes:{class:['ck','ck-toolbar',t.if('isVertical','ck-toolbar_vertical'),t.to('className')]},children:this.items,on:{mousedown:_i(this)}})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on('add',(e,t)=>{this.focusTracker.add(t.element)}),this.items.on('remove',(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){e.map((e)=>{'|'==e?this.items.add(new Zf):t.has(e)?this.items.add(t.create(e)):Xm.warn('toolbarview-item-unavailable: The requested toolbar item is unavailable.',{name:e})})}}var nh=o(22),ih=o.n(nh);class rh extends Hf{constructor(e){super(e),this.stickyPanel=new Yf(e),this.toolbar=new oh(e),this.editable=new Gf(e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}get editableElement(){return this.editable.element}}class ah{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display='none',t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display='',t&&t.remove()}),this._replacedElements=[]}}class sh extends yf{constructor(e,t){super(t),this._elementReplacer=new ah,this.element=e,this.data.processor=new Tf,this.model.document.createRoot(),this.ui=new Sf(this,new rh(this.locale)),Un(this)}destroy(){return this.updateElement(),this._elementReplacer.restore(),this.ui.destroy(),super.destroy()}static create(e,t){return new Promise((o)=>{const n=new this(e,t);o(n.initPlugins().then(()=>n.ui.init()).then(()=>{n._elementReplacer.replace(e,n.ui.view.element),n.fire('uiReady')}).then(()=>n.editing.view.attachDomRoot(n.ui.view.editableElement)).then(()=>n.data.init(wi(e))).then(()=>{n.fire('dataReady'),n.fire('ready')}).then(()=>n))})}}f(sh,xf),f(sh,Cf);class lh{constructor(e){this.editor=e}destroy(){this.stopListening()}}f(lh,Mc);class dh{constructor(e){this.files=vi(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}class ch extends qm{constructor(e){function t(e,t){t.preventDefault();const n=t.dropRange?[t.dropRange]:Array.from(o.selection.getRanges());o.fire('clipboardInput',{dataTransfer:t.dataTransfer,targetRanges:n})}super(e);const o=this.document;this.domEventType=['paste','copy','cut','drop','dragover'],this.listenTo(o,'paste',t,{priority:'low'}),this.listenTo(o,'drop',t,{priority:'low'})}onDomEvent(e){const t={dataTransfer:new dh(e.clipboardData?e.clipboardData:e.dataTransfer)};'drop'==e.type&&(t.dropRange=yi(this.view,e)),this.fire(e.type,e,t)}}const mh=['figcaption','li'];class uh extends lh{static get pluginName(){return'Clipboard'}init(){function e(e,n){const r=n.dataTransfer;n.preventDefault();const a=t.data.toView(t.model.getSelectedContent(o.selection));i.fire('clipboardOutput',{dataTransfer:r,content:a,method:e.name})}const t=this.editor,o=t.model.document,n=t.editing.view,i=n.document;this._htmlDataProcessor=new Tf,n.addObserver(ch),this.listenTo(i,'clipboardInput',(e)=>{t.isReadOnly&&e.stop()},{priority:'highest'}),this.listenTo(i,'clipboardInput',(e,t)=>{const o=t.dataTransfer;let i='';o.getData('text/html')?i=Ci(o.getData('text/html')):o.getData('text/plain')&&(i=xi(o.getData('text/plain'))),i=this._htmlDataProcessor.toView(i),this.fire('inputTransformation',{content:i}),n.scrollToTheSelection()},{priority:'low'}),this.listenTo(this,'inputTransformation',(e,t)=>{if(!t.content.isEmpty){const e=this.editor.data,n=this.editor.model,i=e.toModel(t.content,'$clipboardHolder');if(0==i.childCount)return;n.insertContent(i,o.selection)}},{priority:'low'}),this.listenTo(i,'copy',e,{priority:'low'}),this.listenTo(i,'cut',(o,n)=>{t.isReadOnly?n.preventDefault():e(o,n)},{priority:'low'}),this.listenTo(i,'clipboardOutput',(e,n)=>{n.content.isEmpty||(n.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(n.content)),n.dataTransfer.setData('text/plain',Ai(n.content))),'cut'==n.method&&t.model.deleteContent(o.selection)},{priority:'low'})}}class ph{constructor(e){this.editor=e,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.model.document,'change',()=>{this.refresh()}),this.on('execute',(e)=>{this.isEnabled||e.stop()},{priority:'high'}),this.listenTo(e,'change:isReadOnly',(e,t,o)=>{o?(this.on('set:isEnabled',Ti,{priority:'highest'}),this.isEnabled=!1):(this.off('set:isEnabled',Ti),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}f(ph,Mc);class gh extends ph{execute(){const e=this.editor.model,t=e.document;e.change((o)=>{Pi(this.editor.model,o,t.selection,e.schema),this.fire('afterExecute',{writer:o})})}}class fh extends wm{constructor(e){super(e);const t=this.document;t.on('keydown',(e,o)=>{if(this.isEnabled&&o.keyCode==nm.enter){let n;t.once('enter',(e)=>n=e,{priority:'highest'}),t.fire('enter',new jm(t,o.domEvent,{isSoft:o.shiftKey})),n&&n.stop.called&&e.stop()}})}observe(){}}class hh extends lh{static get pluginName(){return'Enter'}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(fh),e.commands.add('enter',new gh(e)),this.listenTo(o,'enter',(o,n)=>{n.isSoft||(e.execute('enter'),n.preventDefault(),t.scrollToTheSelection())},{priority:'low'})}}class bh extends ph{execute(){const e=this.editor.model,t=e.document;e.change((o)=>{Oi(e,o,t.selection),this.fire('afterExecute',{writer:o})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=Si(e.schema,t.selection)}}class kh extends lh{static get pluginName(){return'ShiftEnter'}init(){const e=this.editor,t=e.model.schema,o=e.conversion,n=e.editing.view,i=n.document;t.register('softBreak',{allowWhere:'$text'}),o.for('upcast').add(io({model:'softBreak',view:'br'})),o.for('downcast').add(xt({model:'softBreak',view:(e,t)=>t.createEmptyElement('br')})),n.addObserver(fh),e.commands.add('shiftEnter',new bh(e)),this.listenTo(i,'enter',(t,o)=>{o.isSoft&&(e.execute('shiftEnter'),o.preventDefault(),n.scrollToTheSelection())},{priority:'low'})}}class _h{constructor(e,t=20){this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=(e,t)=>{'transparent'!=t.type&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on('change',this._changeCallback),this.model.document.selection.on('change:range',this._selectionChangeCallback),this.model.document.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=new rf),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off('change',this._changeCallback),this.model.document.selection.off('change:range',this._selectionChangeCallback),this.model.document.selection.off('change:attribute',this._selectionChangeCallback)}_reset(e){(!this.isLocked||e)&&(this._batch=null,this.size=0)}}class wh extends ph{constructor(e,t){super(e),this._buffer=new _h(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,o=t.document,n=e.text||'',i=n.length,r=e.range||o.selection.getFirstRange(),a=e.resultRange;t.enqueueChange(this._buffer.batch,(e)=>{const t=r.isCollapsed;this._buffer.lock(),t||e.remove(r),n&&e.insertText(n,o.selection.getAttributes(),r.start),a?e.setSelection(a):t&&e.setSelection(r.start.getShiftedBy(i)),this._buffer.unlock(),this._buffer.input(i)})}}class vh extends lh{static get pluginName(){return'Input'}init(){const e=this.editor,t=e.editing.view,o=new wh(e,e.config.get('typing.undoStep')||20);e.commands.add('input',o),this.listenTo(t.document,'keydown',(e,t)=>{this._handleKeydown(t,o)},{priority:'lowest'}),this.listenTo(t.document,'mutations',(e,t,o)=>{this._handleMutations(t,o)})}_handleKeydown(e,t){const o=this.editor.model,n=o.document,i=t.buffer;!t.isEnabled||Fi(e)||n.selection.isCollapsed||(i.lock(),o.enqueueChange(i.batch,()=>{this.editor.model.deleteContent(n.selection)}),i.unlock())}_handleMutations(e,t){new yh(this.editor).handle(e,t)}}class yh{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,t){if(Bi(e))this._handleContainerChildrenMutations(e,t);else for(const o of e)this._handleTextMutation(o,t),this._handleTextNodeInsertion(o)}_handleContainerChildrenMutations(e,t){const o=Mi(e);if(!o)return;const n=this.editor.editing.view.domConverter,i=n.mapViewToDom(o),r=new hm,a=this.editor.data.toModel(r.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(o);if(!s)return;const l=Array.from(a.getChildren()),d=Array.from(s.getChildren()),c=l[l.length-1],m=d[d.length-1];if(c&&c.is('softBreak')&&m&&!m.is('softBreak')&&l.pop(),!Li(l)||!Li(d))return;const u=l.map((e)=>e.is('text')?e.data:'@').join('').replace(/\u00A0/g,' '),p=d.map((e)=>e.is('text')?e.data:'@').join('');if(p===u)return;const g=Te(p,u),{firstChangeAt:f,insertions:h,deletions:b}=zi(g);let k=null;t&&(k=this.editing.mapper.toModelRange(t.getFirstRange()));const _=u.substr(f,h),w=pu.createFromParentsAndOffsets(s,f,s,f+b);this.editor.execute('input',{text:_,range:w,resultRange:k})}_handleTextMutation(e,t){if('text'!=e.type)return;const o=e.newText.replace(/\u00A0/g,' '),n=e.oldText.replace(/\u00A0/g,' '),i=Te(n,o),{firstChangeAt:r,insertions:a,deletions:s}=zi(i);let l=null;t&&(l=this.editing.mapper.toModelRange(t.getFirstRange()));const d=new Wc(e.node,r),c=this.editing.mapper.toModelPosition(d),m=pu.createFromPositionAndShift(c,s),u=o.substr(r,a);this.editor.execute('input',{text:u,range:m,resultRange:l})}_handleTextNodeInsertion(e){if('children'==e.type){const t=Di(e),o=new Wc(e.node,t.index),n=this.editing.mapper.toModelPosition(o),i=t.values[0].data;this.editor.execute('input',{text:i.replace(/\u00A0/g,' '),range:new pu(n)})}}}const xh=[te('arrowUp'),te('arrowRight'),te('arrowDown'),te('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let n=112;135>=n;n++)xh.push(n);class Ch extends ph{constructor(e,t){super(e),this.direction=t,this._buffer=new _h(e.model,e.config.get('typing.undoStep'))}execute(e={}){const t=this.editor.model,o=t.document;t.enqueueChange(this._buffer.batch,(n)=>{this._buffer.lock();const i=new bu(o.selection),r=i.isCollapsed;if(i.isCollapsed&&t.modifySelection(i,{direction:this.direction,unit:e.unit}),this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1))return void this._replaceEntireContentWithParagraph(n);if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach((e)=>{a+=Y(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(i,{doNotResetEntireContent:r}),this._buffer.input(a),n.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(1<e)return!1;const t=this.editor.model,o=t.document,n=o.selection,i=t.schema.getLimitElement(n),r=n.isCollapsed&&n.containsEntireContent(i);if(!r)return!1;if(!t.schema.checkChild(i,'paragraph'))return!1;const a=i.getChild(0);return!(a&&'paragraph'===a.name)}_replaceEntireContentWithParagraph(e){const t=this.editor.model,o=t.document,n=o.selection,i=t.schema.getLimitElement(n),r=new du('paragraph');e.remove(pu.createIn(i)),e.insert(r,i),e.setSelection(r,0)}}class Ah extends wm{constructor(e){super(e);const t=e.document;let o=0;t.on('keyup',(e,t)=>{(t.keyCode==nm.delete||t.keyCode==nm.backspace)&&(o=0)}),t.on('keydown',(e,n)=>{const i={};if(n.keyCode==nm.delete)i.direction='forward',i.unit='character';else if(n.keyCode==nm.backspace)i.direction='backward',i.unit='codePoint';else return;const r=em.isMac?n.altKey:n.ctrlKey;i.unit=r?'word':i.unit,i.sequence=++o;let a;t.once('delete',(e)=>a=e,{priority:'highest'}),t.fire('delete',new jm(t,n.domEvent,i)),a&&a.stop.called&&e.stop()})}observe(){}}class Th extends lh{static get pluginName(){return'Delete'}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(Ah),e.commands.add('forwardDelete',new Ch(e,'forward')),e.commands.add('delete',new Ch(e,'backward')),this.listenTo(o,'delete',(o,n)=>{e.execute('forward'==n.direction?'forwardDelete':'delete',{unit:n.unit,sequence:n.sequence}),n.preventDefault(),t.scrollToTheSelection()})}}class Ph extends lh{static get requires(){return[vh,Th]}static get pluginName(){return'Typing'}}class Eh extends ph{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=0<this._stack.length}addBatch(e){const t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,o){const n=this.editor.model,i=n.document,r=[];for(const n of e){const e=ji(n,o),t=e.find((e)=>e.start.root!=i.graveyard);t&&r.push(t)}r.length&&n.change((e)=>{e.setSelection(r,{backward:t})})}_undo(e,t){const o=this.editor.model,n=o.document;this._createdBatches.add(t);const i=e.deltas.slice();i.reverse();for(const r of i)if(r.operations.some((e)=>e.isDocumentOperation)){const e=r.baseVersion+r.operations.length,i=Array.from(n.history.getDeltas(e)),a=o.transformDeltas([r.getReversed()],i,!0),s=a.deltasA;for(const e of s){e.baseVersion=n.version,t.addDelta(e);for(const t of e.operations)o.applyOperation(t);n.history.setDeltaAsUndone(r,e)}}}}class Sh extends Eh{execute(e=null){const t=e?this._stack.findIndex((t)=>t.batch==e):this._stack.length-1,o=this._stack.splice(t,1)[0],n=new rf;this.editor.model.enqueueChange(n,()=>{this._undo(o.batch,n);const e=this.editor.model.document.history.getDeltas(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,e),this.fire('revert',o.batch,n)}),this.refresh()}}class Oh extends Eh{execute(){const e=this._stack.pop(),t=new rf;this.editor.model.enqueueChange(t,()=>{const o=e.batch.deltas[e.batch.deltas.length-1],n=o.baseVersion+o.operations.length,i=this.editor.model.document.history.getDeltas(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,t)}),this.refresh()}}class Ih extends lh{constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new Sh(e),this._redoCommand=new Oh(e),e.commands.add('undo',this._undoCommand),e.commands.add('redo',this._redoCommand),this.listenTo(e.model,'applyOperation',(e,t)=>{const o=t[0];if(o.isDocumentOperation){const e=o.delta.batch;this._batchRegistry.has(e)||'transparent'==e.type||(this._redoCommand._createdBatches.has(e)?this._undoCommand.addBatch(e):!this._undoCommand._createdBatches.has(e)&&(this._undoCommand.addBatch(e),this._redoCommand.clearStack()),this._batchRegistry.add(e))}},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(e,t,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set('CTRL+Z','undo'),e.keystrokes.set('CTRL+Y','redo'),e.keystrokes.set('CTRL+SHIFT+Z','redo')}}var Rh=o(24),Vh=o.n(Rh);class Fh extends Bf{constructor(){super();const e=this.bindTemplate;this.set('content',''),this.set('viewBox','0 0 20 20'),this.set('fillColor',''),this.setTemplate({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:['ck','ck-icon'],viewBox:e.to('viewBox')}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on('change:content',()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on('change:fillColor',()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),'image/svg+xml'),t=e.querySelector('svg'),o=t.getAttribute('viewBox');for(o&&(this.viewBox=o),this.element.innerHTML='';0<t.childNodes.length;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll('.ck-icon__fill').forEach((e)=>{e.style.fill=this.fillColor})}}var Nh=o(26),Dh=o.n(Nh);class Mh extends Bf{constructor(e){super(e),this.set('text',''),this.set('position','s');const t=this.bindTemplate;this.setTemplate({tag:'span',attributes:{class:['ck','ck-tooltip',t.to('position',(e)=>'ck-tooltip_'+e),t.if('text','ck-hidden',(e)=>!e.trim())]},children:[{tag:'span',attributes:{class:['ck','ck-tooltip__text']},children:[{text:t.to('text')}]}]})}}var Bh=o(28),Lh=o.n(Bh);class zh extends Bf{constructor(e){super(e);const t=this.bindTemplate,o=i();this.set('icon'),this.set('isEnabled',!0),this.set('isOn',!1),this.set('isVisible',!0),this.set('keystroke'),this.set('label'),this.set('tabindex',-1),this.set('tooltip'),this.set('tooltipPosition','s'),this.set('type','button'),this.set('withText',!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(o),this.iconView=new Fh,this.iconView.extendTemplate({attributes:{class:'ck-button__icon'}}),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this)),this.setTemplate({tag:'button',attributes:{class:['ck','ck-button',t.if('isEnabled','ck-disabled',(e)=>!e),t.if('isVisible','ck-hidden',(e)=>!e),t.to('isOn',(e)=>e?'ck-on':'ck-off'),t.if('withText','ck-button_with-text')],type:t.to('type',(e)=>e?e:'button'),tabindex:t.to('tabindex'),"aria-labelledby":`ck-editor__aria-label_${o}`,"aria-disabled":t.if('isEnabled',!0,(e)=>!e),"aria-pressed":t.if('isOn',!0)},children:this.children,on:{mousedown:t.to((e)=>{e.preventDefault()}),click:t.to((e)=>{this.isEnabled?this.fire('execute'):e.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind('content').to(this,'icon'),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const e=new Mh;return e.bind('text').to(this,'_tooltipString'),e.bind('position').to(this,'tooltipPosition'),e}_createLabelView(e){const t=new Bf;return t.setTemplate({tag:'span',attributes:{class:['ck','ck-button__label'],id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to('label')}]}),t}_getTooltipString(e,t,o){return e?'string'==typeof e?e:(o&&(o=ne(o)),e instanceof Function?e(t,o):`${t}${o?` (${o})`:''}`):''}}var jh=o(30),qh=o.n(jh),Wh=o(31),Uh=o.n(Wh);class Hh extends lh{init(){const e=this.editor,o=e.t;this._addButton('undo',o('ai'),'CTRL+Z',qh.a),this._addButton('redo',o('aj'),'CTRL+Y',Uh.a)}_addButton(e,t,o,n){const i=this.editor;i.ui.componentFactory.add(e,(r)=>{const a=i.commands.get(e),s=new zh(r);return s.set({label:t,icon:n,keystroke:o,tooltip:!0}),s.bind('isEnabled').to(a,'isEnabled'),this.listenTo(s,'execute',()=>i.execute(e)),s})}}class Kh extends lh{static get requires(){return[Ih,Hh]}static get pluginName(){return'Undo'}}class Gh extends lh{static get requires(){return[uh,hh,kh,Ph,Kh]}static get pluginName(){return'Essentials'}}class $h extends lh{static get pluginName(){return'PendingActions'}init(){this.set('isPending',!1),this._actions=new Gc({idProperty:'_id'}),this._actions.delegate('add','remove').to(this)}add(e){if('string'!=typeof e)throw new _s('pendingactions-add-invalid-message: The message must be a string.');const t=Object.create(Mc);return t.set('message',e),this._actions.add(t),this.isPending=!0,t}remove(e){this._actions.remove(e),this.isPending=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Jh{constructor(){const e=new window.FileReader;this._reader=e,this.set('loaded',0),e.onprogress=(e)=>{this.loaded=e.loaded}}get error(){return this._reader.error}read(e){const t=this._reader;return this.total=e.size,new Promise((o,n)=>{t.onload=()=>{o(t.result)},t.onerror=()=>{n('error')},t.onabort=()=>{n('aborted')},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}f(Jh,Mc);class Qh extends lh{static get pluginName(){return'FileRepository'}static get requires(){return[$h]}init(){this.loaders=new Gc,this.loaders.on('add',()=>this._updatePendingAction()),this.loaders.on('remove',()=>this._updatePendingAction()),this._pendingAction=null,this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(e,t)=>t?100*(e/t):0)}getLoader(e){for(const t of this.loaders)if(t.file==e)return t;return null}createLoader(e){if(!this.createUploadAdapter)return Xm.error('filerepository-no-upload-adapter: Upload adapter is not defined.'),null;const t=new Yh(e);return t._adapter=this.createUploadAdapter(t),this.loaders.add(t),t.on('change:uploaded',()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e}),t.on('change:uploadTotal',()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e}),t}destroyLoader(e){const t=e instanceof Yh?e:this.getLoader(e);t._destroy(),this.loaders.remove(t)}_updatePendingAction(){const e=this.editor.plugins.get($h);if(!this.loaders.length)e.remove(this._pendingAction),this._pendingAction=null;else if(!this._pendingAction){const o=this.editor.t,t=(e)=>`${o('ae')} ${parseInt(e)}%.`;this._pendingAction=e.add(t(this.uploadedPercent)),this._pendingAction.bind('message').to(this,'uploadedPercent',t)}}}f(Qh,Mc);class Yh{constructor(e,t){this.id=i(),this.file=e,this._adapter=t,this._reader=new Jh,this.set('status','idle'),this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(e,t)=>t?100*(e/t):0),this.set('uploadResponse',null)}read(){if('idle'!=this.status)throw new _s('filerepository-read-wrong-status: You cannot call read if the status is different than idle.');return this.status='reading',this._reader.read(this.file).then((e)=>(this.status='idle',e)).catch((e)=>{if('aborted'===e)throw this.status='aborted','aborted';throw this.status='error',this._reader.error})}upload(){if('idle'!=this.status)throw new _s('filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.');return this.status='uploading',this._adapter.upload().then((e)=>(this.uploadResponse=e,this.status='idle',e)).catch((e)=>{if('aborted'===this.status)throw'aborted';throw this.status='error',e})}abort(){const e=this.status;this.status='aborted','reading'==e&&this._reader.abort(),'uploading'==e&&this._adapter.abort&&this._adapter.abort(),this._destroy()}_destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}f(Yh,Mc);const Xh='ckCsrfToken',Zh=40,eb='abcdefghijklmnopqrstuvwxyz0123456789';class tb extends lh{static get requires(){return[Qh]}static get pluginName(){return'CKFinderUploadAdapter'}init(){const e=this.editor.config.get('ckfinder.uploadUrl');e&&(this.editor.plugins.get(Qh).createUploadAdapter=(t)=>new ob(t,e,this.editor.t))}}class ob{constructor(e,o,n){this.loader=e,this.url=o,this.t=n}upload(){return new Promise((e,t)=>{this._initRequest(),this._initListeners(e,t),this._sendRequest()})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open('POST',this.url,!0),e.responseType='json'}_initListeners(e,o){const n=this.xhr,i=this.loader,r=this.t,t=r('a')+` ${i.file.name}.`;n.addEventListener('error',()=>o(t)),n.addEventListener('abort',()=>o()),n.addEventListener('load',()=>{const i=n.response;return i&&i.uploaded?void e({default:i.url}):o(i&&i.error&&i.error.message?i.error.message:t)}),n.upload&&n.upload.addEventListener('progress',(e)=>{e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}_sendRequest(){const e=new FormData;e.append('upload',this.loader.file),e.append('ckCsrfToken',Wi()),this.xhr.send(e)}}class nb{constructor(e,t,o){let n;if('function'==typeof o)n=o;else{n=()=>{e.execute(o)}}e.model.document.on('change',(o,i)=>{if('transparent'==i.type)return;const r=Array.from(e.model.document.differ.getChanges()),a=r[0];if(1!=r.length||'insert'!==a.type||'$text'!=a.name||1!=a.length)return;const s=a.position.textNode||a.position.nodeAfter;if(!s.parent.is('paragraph'))return;const l=t.exec(s.data);l&&e.model.enqueueChange((e)=>{const t=pu.createFromParentsAndOffsets(s.parent,0,s.parent,l[0].length);e.remove(t),n({match:l})})})}}class ib{constructor(e,t,o){let n,i,r,a;t instanceof RegExp?n=t:r=t,'string'==typeof o?i=o:a=o,r=r||((e)=>{let t;const o=[],i=[];for(;null!==(t=n.exec(e))&&!(t&&4>t.length);){let{index:e,1:n,2:r,3:a}=t;e+=t[0].length-(n+r+a).length;const s=[e,e+n.length],l=[e+n.length+r.length,e+n.length+r.length+a.length];o.push(s),o.push(l),i.push([e+n.length,e+n.length+r.length])}return{remove:o,format:i}}),a=a||((e,t)=>{for(const o of t)e.setAttribute(i,!0,o);e.removeSelectionAttribute(i)}),e.model.document.on('change',(t,o)=>{if('transparent'==o.type)return;const n=e.model.document.selection;if(!n.isCollapsed)return;const s=Array.from(e.model.document.differ.getChanges()),l=s[0];if(1!=s.length||'insert'!==l.type||'$text'!=l.name||1!=l.length)return;const d=n.focus.parent,c=Gi(d).slice(0,n.focus.offset),m=r(c),u=$i(d,m.format),p=$i(d,m.remove);u.length&&p.length&&e.model.enqueueChange((t)=>{const o=e.model.schema.getValidRanges(u,i);a(t,o);for(const e of p.reverse())t.remove(e)})})}}class rb extends lh{static get pluginName(){return'Autoformat'}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get('bulletedList')&&new nb(this.editor,/^[*-]\s$/,'bulletedList'),e.get('numberedList')&&new nb(this.editor,/^\d+[.|)]\s$/,'numberedList')}_addBasicStylesAutoformats(){const e=this.editor.commands;e.get('bold')&&(new ib(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new ib(this.editor,/(__)([^_]+)(__)$/g,'bold')),e.get('italic')&&(new ib(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new ib(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')),e.get('code')&&new ib(this.editor,/(`)([^`]+)(`)$/g,'code')}_addHeadingAutoformats(){const e=this.editor.commands.get('heading');e&&e.modelElements.filter((e)=>e.match(/^heading[1-6]$/)).forEach((e)=>{const t=e[7],o=new RegExp(`^(#{${t}})\\s$`);new nb(this.editor,o,()=>{this.editor.execute('heading',{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get('blockQuote')&&new nb(this.editor,/^>\s$/,'blockQuote')}}class ab extends ph{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.hasAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document,n=o.selection,i=e.forceValue===void 0?!this.value:e.forceValue;t.change((e)=>{if(n.isCollapsed)i?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const o=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of o)i?e.setAttribute(this.attributeKey,i,t):e.removeAttribute(this.attributeKey,t)}})}}const sb='bold';class lb extends lh{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:sb}),e.conversion.attributeToElement({model:sb,view:'strong',upcastAlso:['b',{styles:{"font-weight":'bold'}}]}),e.commands.add(sb,new ab(e,sb)),e.keystrokes.set('CTRL+B',sb)}}var db=o(32),cb=o.n(db);const mb='bold';class ub extends lh{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(mb,(t)=>{const n=e.commands.get(mb),i=new zh(t);return i.set({label:o('d'),icon:cb.a,keystroke:'CTRL+B',tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute(mb)),i})}}class pb extends lh{static get requires(){return[lb,ub]}static get pluginName(){return'Bold'}}const gb='italic';class fb extends lh{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:gb}),e.conversion.attributeToElement({model:gb,view:'i',upcastAlso:['em',{styles:{"font-style":'italic'}}]}),e.commands.add(gb,new ab(e,gb)),e.keystrokes.set('CTRL+I',gb)}}var hb=o(33),bb=o.n(hb);const kb='italic';class _b extends lh{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(kb,(t)=>{const n=e.commands.get(kb),i=new zh(t);return i.set({label:o('c'),icon:bb.a,keystroke:'CTRL+I',tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute(kb)),i})}}class wb extends lh{static get requires(){return[fb,_b]}static get pluginName(){return'Italic'}}class vb extends ph{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,o=e.schema,n=Array.from(t.selection.getSelectedBlocks());e.change((e)=>{if(this.value)this._removeQuote(e,n.filter(Qi));else{const t=n.filter((e)=>Qi(e)||Xi(o,e));this._applyQuote(e,t)}})}_getValue(){const e=Ji(this.editor.model.document.selection.getSelectedBlocks());return!!(e&&Qi(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=Ji(e.getSelectedBlocks());return!!o&&Xi(t,o)}_removeQuote(e,t){Yi(t).reverse().forEach((t)=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const o=uu.createBefore(t.start.parent);return void e.move(t,o)}t.end.isAtEnd||e.split(t.end);const o=uu.createAfter(t.end.parent);e.move(t,o)})}_applyQuote(e,t){const o=[];Yi(t).reverse().forEach((t)=>{let n=Qi(t.start);n||(n=new du('blockQuote'),e.wrap(t,n)),o.push(n)}),o.reverse().reduce((t,o)=>t.nextSibling==o?(e.merge(uu.createAfter(t)),t):o)}}class yb extends lh{init(){const e=this.editor,t=e.model.schema;e.commands.add('blockQuote',new vb(e)),t.register('blockQuote',{allowWhere:'$block',allowContentOf:'$root'}),t.addChildCheck((e,t)=>{if(e.endsWith('blockQuote')&&'blockQuote'==t.name)return!1}),e.conversion.elementToElement({model:'blockQuote',view:'blockquote'})}afterInit(){const e=this.editor,t=e.commands.get('blockQuote');this.listenTo(this.editor.editing.view.document,'enter',(e,o)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&i.isEmpty&&t.value&&(this.editor.execute('blockQuote'),this.editor.editing.view.scrollToTheSelection(),o.preventDefault(),e.stop())})}}var xb=o(34),Cb=o.n(xb),Ab=o(35),Tb=o.n(Ab);class Pb extends lh{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add('blockQuote',(t)=>{const n=e.commands.get('blockQuote'),i=new zh(t);return i.set({label:o('b'),icon:Cb.a,tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute('blockQuote')),i})}}class Eb extends lh{static get requires(){return[yb,Pb]}static get pluginName(){return'BlockQuote'}}const Sb=/^data:(\S*?);base64,/;class Ob{constructor(e,t,o){if(!e)throw new Error('File must be provided');if(!t)throw new Error('Token must be provided');if(!o)throw new Error('Api address must be provided');this.file=er(e)?Zi(e):e,this._token=t,this._apiAddress=o}onProgress(e){return this.on('progress',(t,o)=>e(o)),this}onError(e){return this.once('error',(t,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open('POST',this._apiAddress),e.setRequestHeader('Authorization',this._token.value),e.responseType='json',this.xhr=e}_attachXHRListeners(){function e(e){return()=>t.fire('error',e)}const t=this,o=this.xhr;o.addEventListener('error',e('Network Error')),o.addEventListener('abort',e('Abort')),o.upload&&o.upload.addEventListener('progress',(e)=>{e.lengthComputable&&this.fire('progress',{total:e.total,uploaded:e.loaded})}),o.addEventListener('load',()=>{const e=o.status,t=o.response;if(200>e||299<e)return this.fire('error',t.message||t.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append('file',this.file),new Promise((o,n)=>{t.addEventListener('load',()=>{const e=t.status,i=t.response;return 200>e||299<e?n(i.message||i.error):o(i)}),t.addEventListener('error',()=>n('Network Error')),t.addEventListener('abort',()=>n('Abort')),t.send(e)})}}f(Ob,Ps);const Ib={refreshInterval:36e5,autoRefresh:!0};class Rb{constructor(e,t=Ib){if(!e)throw new Error('`tokenUrl` must be provided');this.set('value',t.initValue),this._tokenUrl=e,this._options=Object.assign({},Ib,t)}init(){return new Promise((e,t)=>(this._options.autoRefresh&&this._startRefreshing(),this.value?void e(this):void this._refreshToken().then(e).catch(t)))}_refreshToken(){return new Promise((e,t)=>{const o=new XMLHttpRequest;o.open('GET',this._tokenUrl),o.addEventListener('load',()=>{const n=o.status,i=o.response;return 200>n||299<n?t('Cannot download new token!'):(this.set('value',i),e(this))}),o.addEventListener('error',()=>t('Network Error')),o.addEventListener('abort',()=>t('Abort')),o.send()})}_startRefreshing(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(e,t=Ib){const o=new Rb(e,t);return o.init()}}f(Rb,Mc);class Vb extends lh{init(){const e=this.editor,t=e.config,o=t.get('cloudServices')||{};for(const e in o)this[e]=o[e];return this.tokenUrl?(this.token=new Vb.Token(this.tokenUrl),this.token.init()):void(this.token=null)}}Vb.Token=Rb;class Fb extends lh{static get requires(){return[Qh,Vb]}init(){const e=this.editor,t=e.plugins.get(Vb),o=t.token,n=t.uploadUrl;o&&(this._uploadGateway=new Fb._UploadGateway(o,n),e.plugins.get(Qh).createUploadAdapter=(e)=>new Nb(this._uploadGateway,e))}}class Nb{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on('progress',(e,t)=>{this.loader.uploadTotal=t.total,this.loader.uploaded=t.uploaded}),this.fileUploader.send()}abort(){this.fileUploader.abort()}}Fb._UploadGateway=class{constructor(e,t){if(!e)throw new Error('Token must be provided');if(!t)throw new Error('Api address must be provided');this._token=e,this._apiAddress=t}upload(e){return new Ob(e,this._token,this._apiAddress)}};class Db{constructor(){this._stack=[]}add(e,t){const o=this._stack,n=o[0];this._insertDescriptor(e);const i=o[0];n===i||ir(n,i)||this.fire('change:top',{oldDescriptor:n,newDescriptor:i,writer:t})}remove(e,t){const o=this._stack,n=o[0];this._removeDescriptor(e);const i=o[0];n===i||ir(n,i)||this.fire('change:top',{oldDescriptor:n,newDescriptor:i,writer:t})}_insertDescriptor(e){const t=this._stack,o=t.findIndex((t)=>t.id===e.id);if(!ir(e,t[o])){-1<o&&t.splice(o,1);let n=0;for(;t[n]&&rr(t[n],e);)n++;t.splice(n,0,e)}}_removeDescriptor(e){const t=this._stack,o=t.findIndex((t)=>t.id===e);-1<o&&t.splice(o,1)}}f(Db,Ps);const Mb=Symbol('isWidget'),Bb=Symbol('label'),Lb='ck-widget',zb='ck-widget_selected',jb=Symbol('isImage');class qb extends lh{init(){const e=this.editor,o=e.model.schema,n=e.t,t=e.conversion;o.register('image',{isObject:!0,isBlock:!0,allowWhere:'$block',allowAttributes:['alt','src','srcset']}),t.for('dataDowncast').add(xt({model:'image',view:(e,t)=>kr(t)})),t.for('editingDowncast').add(xt({model:'image',view:(e,t)=>gr(kr(t),t,n('g'))})),t.for('downcast').add(nr('src')).add(nr('alt')).add(or()),t.for('upcast').add(io({view:{name:'img',attributes:{src:!0}},model:(e,t)=>t.createElement('image',{src:e.getAttribute('src')})})).add(ao({view:{name:'img',key:'alt'},model:'alt'})).add(ao({view:{name:'img',key:'srcset'},model:{key:'srcset',value:(e)=>{const t={data:e.getAttribute('srcset')};return e.hasAttribute('width')&&(t.width=e.getAttribute('width')),t}}})).add(tr())}}class Wb extends qm{constructor(e){super(e),this.domEventType='mousedown'}onDomEvent(e){this.fire(e.type,e)}}var Ub=o(37),Hb=o.n(Ub);const Kb=oe('Ctrl+A');class Gb extends lh{static get pluginName(){return'Widget'}init(){const e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on('selection',(e,t,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const n=o.writer,i=n.document.selection,r=i.getSelectedElement();for(const a of i.getRanges())for(const e of a){const t=e.item;t.is('element')&&sr(t)&&(n.addClass(zb,t),this._previouslySelected.add(t),t==r&&n.setSelection(i.getRanges(),{fake:!0,label:mr(r)}))}},{priority:'low'}),e.addObserver(Wb),this.listenTo(t,'mousedown',(...e)=>this._onMousedown(...e)),this.listenTo(t,'keydown',(...e)=>this._onKeydown(...e),{priority:'high'}),this.listenTo(t,'delete',(e,t)=>{this._handleDelete('forward'==t.direction)&&(t.preventDefault(),e.stop())},{priority:'high'})}_onMousedown(e,t){const o=this.editor,n=o.editing.view,i=n.document;let r=t.target;if(!vr(r)&&(sr(r)||(r=r.findAncestor(sr),!!r))){t.preventDefault(),i.isFocused||n.focus();const e=o.editing.mapper.toModelElement(r);this._setSelectionOverElement(e)}}_onKeydown(e,t){const o=t.keyCode,n=o==nm.delete||o==nm.arrowdown||o==nm.arrowright;let i=!1;_r(o)?i=this._handleArrowKeys(n):wr(t)?i=this._selectAllNestedEditableContent()||this._selectAllContent():o===nm.enter&&(i=this._handleEnterKey(t.shiftKey)),i&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document,o=t.selection;if(!o.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);if(n)return this.editor.model.change((e)=>{for(let t=o.anchor.parent;t.isEmpty;){const o=t;t=o.parent,e.remove(o)}this._setSelectionOverElement(n)}),!0}_handleArrowKeys(e){const t=this.editor.model,o=t.schema,n=t.document,i=n.selection,r=i.getSelectedElement();if(r&&o.isObject(r)){const n=e?i.getLastPosition():i.getFirstPosition(),r=o.getNearestSelectionRange(n,e?'forward':'backward');return r&&t.change((e)=>{e.setSelection(r)}),!0}if(i.isCollapsed){const t=this._getObjectElementNextToSelection(e);if(t instanceof du&&o.isObject(t))return this._setSelectionOverElement(t),!0}}_handleEnterKey(e){const t=this.editor.model,o=t.document.selection,n=o.getSelectedElement();if(n&&t.schema.isObject(n))return t.change((t)=>{const o=t.createElement('paragraph');t.insert(o,n,e?'before':'after'),t.setSelection(o,'in')}),!0}_selectAllNestedEditableContent(){const e=this.editor.model,t=e.document.selection,o=e.schema.getLimitElement(t);return t.getFirstRange().root!=o&&(e.change((e)=>{e.setSelection(pu.createIn(o))}),!0)}_selectAllContent(){const e=this.editor.model,t=this.editor.editing,o=t.view,n=o.document,i=n.selection,r=i.getSelectedElement();if(r&&sr(r)){const o=t.mapper.toModelElement(r.parent);return e.change((e)=>{e.setSelection(pu.createIn(o))}),!0}return!1}_setSelectionOverElement(e){this.editor.model.change((t)=>{t.setSelection(pu.createOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,o=t.schema,n=t.document.selection,i=new bu(n);t.modifySelection(i,{direction:e?'forward':'backward'});const r=e?i.focus.nodeBefore:i.focus.nodeAfter;return r instanceof du&&o.isObject(r)?r:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(zb,t);this._previouslySelected.clear()}}class $b extends ph{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=br(e),this.value=!!(br(e)&&e.hasAttribute('alt'))&&e.getAttribute('alt')}execute(e){const t=this.editor.model,o=t.document.selection.getSelectedElement();t.change((t)=>{t.setAttribute('alt',e.newValue,o)})}}class Jb extends lh{init(){this.editor.commands.add('imageTextAlternative',new $b(this.editor))}}class Qb extends Bf{constructor(e,t){super(e);const o=`ck-input-${i()}`;this.set('label'),this.set('value'),this.set('isReadOnly',!1),this.labelView=this._createLabelView(o),this.inputView=this._createInputView(t,o);const n=this.bindTemplate;this.setTemplate({tag:'div',attributes:{class:['ck','ck-labeled-input',n.if('isReadOnly','ck-disabled')]},children:[this.labelView,this.inputView]})}_createLabelView(e){const t=new Uf(this.locale);return t.for=e,t.bind('text').to(this,'label'),t}_createInputView(e,t){const o=new e(this.locale);return o.id=t,o.bind('value').to(this),o.bind('isReadOnly').to(this),o}select(){this.inputView.select()}focus(){this.inputView.focus()}}var Yb=o(39),Xb=o.n(Yb);class Zb extends Bf{constructor(e){super(e),this.set('value'),this.set('id'),this.set('placeholder'),this.set('isReadOnly',!1);const t=this.bindTemplate;this.setTemplate({tag:'input',attributes:{type:'text',class:['ck','ck-input','ck-input-text'],id:t.to('id'),placeholder:t.to('placeholder'),readonly:t.to('isReadOnly')}})}render(){super.render();const e=(e)=>{this.element.value=e||0===e?e:''};e(this.value),this.on('change:value',(t,o,n)=>{e(n)})}select(){this.element.select()}focus(){this.element.focus()}}var ek=o(3),tk=o.n(ek),ok=o(4),nk=o.n(ok),ik=o(41),rk=o.n(ik);class ak extends Bf{constructor(e){super(e);const o=this.locale.t;this.focusTracker=new Ef,this.keystrokes=new wf,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o('ab'),tk.a,'ck-button-save'),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(o('ac'),nk.a,'ck-button-cancel','cancel'),this._focusables=new Of,this._focusCycler=new Xf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'form',attributes:{class:['ck','ck-text-alternative-form'],tabindex:'-1'},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),xr({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)})}_createButton(e,t,o,n){const i=new zh(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:o}}),n&&i.delegate('execute').to(this,n),i}_createLabeledInputView(){const e=this.locale.t,t=new Qb(this.locale,Zb);return t.label=e('ah'),t.inputView.placeholder=e('ah'),t}}var sk=o(43),lk=o.n(sk);const dk=bi('px'),ck=gm.document.body;class mk extends Bf{constructor(e){super(e);const t=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','arrow_nw'),this.set('isVisible',!1),this.set('withArrow',!0),this.set('className'),this.content=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-balloon-panel',t.to('position',(e)=>`ck-balloon-panel_${e}`),t.if('isVisible','ck-balloon-panel_visible'),t.if('withArrow','ck-balloon-panel_with-arrow'),t.to('className')],style:{top:t.to('top',dk),left:t.to('left',dk)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=mk.defaultPositions,o=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast],limiter:ck,fitInViewport:!0},e),{top:n,left:i,name:r}=Ar(o);Object.assign(this,{top:n,left:i,position:r})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Sr(e.target),o=e.limiter?Sr(e.limiter):ck;this.listenTo(gm.document,'scroll',(n,i)=>{const r=i.target,a=t&&r.contains(t),s=o&&r.contains(o);(a||s||!t||!o)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(gm.window,'resize',()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(gm.document,'scroll'),this.stopListening(gm.window,'resize')}}mk.arrowHorizontalOffset=25,mk.arrowVerticalOffset=10,mk.defaultPositions={northArrowSouth:(e,t)=>({top:Or(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_s'}),northArrowSouthEast:(e,t)=>({top:Or(e,t),left:e.left+e.width/2-t.width+mk.arrowHorizontalOffset,name:'arrow_se'}),northArrowSouthWest:(e,t)=>({top:Or(e,t),left:e.left+e.width/2-mk.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouth:(e,t)=>({top:Or(e,t),left:e.left-t.width/2,name:'arrow_s'}),northWestArrowSouthWest:(e,t)=>({top:Or(e,t),left:e.left-mk.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouthEast:(e,t)=>({top:Or(e,t),left:e.left-t.width+mk.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouth:(e,t)=>({top:Or(e,t),left:e.right-t.width/2,name:'arrow_s'}),northEastArrowSouthEast:(e,t)=>({top:Or(e,t),left:e.right-t.width+mk.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouthWest:(e,t)=>({top:Or(e,t),left:e.right-mk.arrowHorizontalOffset,name:'arrow_sw'}),southArrowNorth:(e,t)=>({top:Ir(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_n'}),southArrowNorthEast:(e,t)=>({top:Ir(e,t),left:e.left+e.width/2-t.width+mk.arrowHorizontalOffset,name:'arrow_ne'}),southArrowNorthWest:(e,t)=>({top:Ir(e,t),left:e.left+e.width/2-mk.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorth:(e,t)=>({top:Ir(e,t),left:e.left-t.width/2,name:'arrow_n'}),southWestArrowNorthWest:(e,t)=>({top:Ir(e,t),left:e.left-mk.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorthEast:(e,t)=>({top:Ir(e,t),left:e.left-t.width+mk.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorth:(e,t)=>({top:Ir(e,t),left:e.right-t.width/2,name:'arrow_n'}),southEastArrowNorthEast:(e,t)=>({top:Ir(e,t),left:e.right-t.width+mk.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorthWest:(e,t)=>({top:Ir(e,t),left:e.right-mk.arrowHorizontalOffset,name:'arrow_nw'})};class uk extends lh{static get pluginName(){return'ContextualBalloon'}init(){this.view=new mk,this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document,o=t.selection.editableElement;return o?e.domConverter.mapViewToDom(o.root):null},this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const e=this._stack.get(this.view.content.get(0));return e?e.view:null}hasView(e){return this._stack.has(e)}add(e){if(this.hasView(e.view))throw new _s('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(e.view,e),this._show(e)}remove(e){if(!this.hasView(e))throw new _s('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===e){this.view.content.remove(e),this._stack.delete(e);const t=Array.from(this._stack.values()).pop();t?this._show(t):this.view.hide()}else this._stack.delete(e)}updatePosition(e){e&&(this._stack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition())}_show({view:e,balloonClassName:t=''}){this.view.className=t,this.view.content.add(e),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let e=Array.from(this._stack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}}var pk=o(45),gk=o.n(pk);class fk extends lh{static get requires(){return[uk]}init(){this._createButton(),this._createForm()}_createButton(){const e=this.editor,o=e.t;e.ui.componentFactory.add('imageTextAlternative',(t)=>{const n=e.commands.get('imageTextAlternative'),i=new zh(t);return i.set({label:o('w'),icon:gk.a,tooltip:!0}),i.bind('isEnabled').to(n,'isEnabled'),this.listenTo(i,'execute',()=>this._showForm()),i})}_createForm(){const e=this.editor,t=e.editing.view,o=t.document;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new ak(e.locale),this._form.render(),this.listenTo(this._form,'submit',()=>{e.execute('imageTextAlternative',{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,'cancel',()=>{this._hideForm(!0)}),this._form.keystrokes.set('Esc',(e,t)=>{this._hideForm(!0),t()}),this.listenTo(t,'render',()=>{hr(o.selection)?this._isVisible&&Rr(e):this._hideForm(!0)}),yr({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const e=this.editor,t=e.commands.get('imageTextAlternative'),o=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:Vr(e)}),o.value=o.inputView.element.value=t.value||'',this._form.labeledInput.select()}}_hideForm(e){this._isVisible&&(this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class hk extends lh{static get requires(){return[Jb,fk]}static get pluginName(){return'ImageTextAlternative'}}var bk=o(46),kk=o.n(bk);class _k extends lh{static get requires(){return[qb,Gb,hk]}static get pluginName(){return'Image'}}class wk extends Bf{constructor(e){super(e),this.buttonView=new zh(e),this._fileInputView=new vk(e),this._fileInputView.bind('acceptedType').to(this),this._fileInputView.bind('allowMultipleFiles').to(this),this._fileInputView.delegate('done').to(this),this.setTemplate({tag:'span',attributes:{class:'ck-file-dialog-button'},children:[this.buttonView,this._fileInputView]}),this.buttonView.on('execute',()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class vk extends Bf{constructor(e){super(e),this.set('acceptedType'),this.set('allowMultipleFiles',!1);const t=this.bindTemplate;this.setTemplate({tag:'input',attributes:{class:['ck-hidden'],type:'file',tabindex:'-1',accept:t.to('acceptedType'),multiple:t.to('allowMultipleFiles')},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire('done',this.element.files),this.element.value=''})}})}open(){this.element.click()}}var yk=o(48),xk=o.n(yk);class Ck extends lh{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add('imageUpload',(t)=>{const n=new wk(t),i=e.commands.get('imageUpload');return n.set({acceptedType:'image/*',allowMultipleFiles:!0}),n.buttonView.set({label:o('n'),icon:xk.a,tooltip:!0}),n.buttonView.bind('isEnabled').to(i),n.on('done',(t,o)=>{for(const n of Array.from(o)){const t=Nr(e.model.document.selection);Fr(n)&&e.execute('imageUpload',{file:n,insertAt:t})}}),n})}}var Ak=o(49),Tk=o.n(Ak),Pk=o(50),Ek=o.n(Pk),Sk=o(52),Ok=o.n(Sk);class Ik extends lh{constructor(e){super(e),this.placeholder='data:image/svg+xml;utf8,'+encodeURIComponent(Tk.a)}init(){const e=this.editor;e.editing.downcastDispatcher.on('attribute:uploadStatus:image',(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,o){const n=this.editor,i=t.item,r=i.getAttribute('uploadId');if(o.consumable.consume(t.item,e.name)){const e=n.plugins.get(Qh),a=r?t.attributeNewValue:null,s=this.placeholder,l=n.editing.mapper.toViewElement(i),d=o.writer;if('reading'==a)return Dr(l,d),void Br(s,l,d);if('uploading'==a){const t=e.loaders.get(r);return Dr(l,d),void(t?(Lr(l,d),zr(l,d,t,n.editing.view)):Br(s,l,d))}'complete'==a&&e.loaders.get(r)&&qr(l,d,n.editing.view),jr(l,d),Lr(l,d),Mr(l,d)}}}const Rk=Symbol('progress-bar');class Vk extends ph{execute(e){const t=this.editor,o=t.model.document,n=e.file,i=t.plugins.get(Qh);t.model.change((r)=>{const a=i.createLoader(n);if(!a)return;const s=r.createElement('image',{uploadId:a.id});let l;l=e.insertAt?new bu([new pu(e.insertAt)]):o.selection,t.model.insertContent(s,l),s.parent&&r.setSelection(s,'on')})}}class Fk extends lh{static get pluginName(){return'Notification'}init(){this.on('show:warning',(e,t)=>{window.alert(t.message)},{priority:'lowest'})}showSuccess(e,t={}){this._showNotification({message:e,type:'success',namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:'info',namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:'warning',namespace:t.namespace,title:t.title})}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:'');this.fire(t,{message:e.message,type:e.type,title:e.title||''})}}class Nk extends lh{static get requires(){return[Qh,Fk]}init(){const e=this.editor,t=e.model.document,o=e.model.schema,n=e.plugins.get(Qh);o.extend('image',{allowAttributes:['uploadId','uploadStatus']}),e.commands.add('imageUpload',new Vk(e)),this.listenTo(e.editing.view.document,'clipboardInput',(o,i)=>{if(Hr(i.dataTransfer))return;let r=new bu(i.targetRanges.map((t)=>e.editing.mapper.toModelRange(t)));for(const a of i.dataTransfer.files){if(Fr(a)){const t=Nr(r);e.model.change((o)=>{const i=n.createLoader(a);if(i){const n=o.createElement('image',{uploadId:i.id}),r=new bu([new pu(t)]);e.model.insertContent(n,r),n.parent&&o.setSelection(n,'on')}}),o.stop()}r=t.selection}}),e.editing.view.document.on('dragover',(e,t)=>{t.preventDefault()}),t.on('change',()=>{const e=t.differ.getChanges({includeChangesInGraveyard:!0});for(const t of e)if('insert'==t.type&&'image'==t.name){const e=t.position.nodeAfter,o='$graveyard'==t.position.root.rootName,i=e.getAttribute('uploadId');if(!i)continue;const r=n.loaders.get(i);if(!r)continue;o?r.abort():'idle'==r.status&&this._load(r,e)}})}_load(e,o){function n(){r.enqueueChange('transparent',(e)=>{e.removeAttribute('uploadId',o),e.removeAttribute('uploadStatus',o)}),t.destroyLoader(e)}const i=this.editor,r=i.model,a=i.locale.t,t=i.plugins.get(Qh),s=i.plugins.get(Fk);return r.enqueueChange('transparent',(e)=>{e.setAttribute('uploadStatus','reading',o)}),e.read().then((t)=>{const n=i.editing.mapper.toViewElement(o),a=n.getChild(0),s=e.upload();return i.editing.view.change((e)=>{e.setAttribute('src',t,a)}),r.enqueueChange('transparent',(e)=>{e.setAttribute('uploadStatus','uploading',o)}),s}).then((e)=>{r.enqueueChange('transparent',(t)=>{t.setAttributes({uploadStatus:'complete',src:e.default},o);let n=0;const i=Object.keys(e).filter((e)=>{const t=parseInt(e,10);if(!isNaN(t))return n=is(n,t),!0}).map((t)=>`${e[t]} ${t}w`).join(', ');''!=i&&t.setAttribute('srcset',{data:i,width:n},o)}),n()}).catch((t)=>{if('error'!==e.status&&'aborted'!==e.status)throw t;'error'==e.status&&s.showWarning(t,{title:a('o'),namespace:'upload'}),n(),r.enqueueChange('transparent',(e)=>{e.remove(o)})})}}class Dk extends lh{static get pluginName(){return'ImageUpload'}static get requires(){return[Nk,Ck,Ik]}}class Mk extends lh{static get requires(){return[Fb,_k,Dk]}static get pluginName(){return'EasyImage'}}class Bk extends ph{refresh(){const e=this.editor.model,t=e.document,o=Ji(t.selection.getSelectedBlocks());this.value=!!o&&o.is('paragraph'),this.isEnabled=!!o&&Kr(o,e.schema)}execute(e={}){const t=this.editor.model,o=t.document;t.change((n)=>{const i=(e.selection||o.selection).getSelectedBlocks();for(const e of i)!e.is('paragraph')&&Kr(e,t.schema)&&n.rename(e,'paragraph')})}}class Lk extends lh{static get pluginName(){return'Paragraph'}init(){const e=this.editor,t=e.model,o=e.data;e.commands.add('paragraph',new Bk(e)),t.schema.register('paragraph',{inheritAllFrom:'$block'}),e.conversion.elementToElement({model:'paragraph',view:'p'}),o.upcastDispatcher.on('element',(e,t,o)=>{if(o.consumable.test(t.viewItem,{name:t.viewItem.name}))if(Lk.paragraphLikeElements.has(t.viewItem.name)){if(t.viewItem.isEmpty)return;const e=o.writer.createElement('paragraph'),n=o.splitToAllowedParent(e,t.modelCursor);if(!n)return;o.writer.insert(e,n.position);const{modelRange:i}=o.convertChildren(t.viewItem,uu.createAt(e));t.modelRange=new pu(uu.createBefore(e),i.end),t.modelCursor=t.modelRange.end}else $r(t.viewItem,t.modelCursor,o.schema)&&(t=Object.assign(t,Gr(t.viewItem,t.modelCursor,o)))},{priority:'low'}),o.upcastDispatcher.on('text',(e,t,o)=>{t.modelRange||$r(t.viewItem,t.modelCursor,o.schema)&&(t=Object.assign(t,Gr(t.viewItem,t.modelCursor,o)))},{priority:'lowest'}),t.document.registerPostFixer((e)=>this._autoparagraphEmptyRoots(e)),e.on('dataReady',()=>{t.enqueueChange('transparent',(e)=>this._autoparagraphEmptyRoots(e))},{priority:'lowest'})}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const o of t.document.getRootNames()){const n=t.document.getRoot(o);if(n.isEmpty&&'$graveyard'!=n.rootName&&t.schema.checkChild(n,'paragraph'))return e.insertElement('paragraph',n),!0}}}Lk.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);class zk extends ph{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Ji(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((t)=>Jr(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,o=t.document,n=e.value;t.change((e)=>{const i=Array.from(o.selection.getSelectedBlocks()).filter((e)=>Jr(e,n,t.schema));for(const t of i)t.is(n)||e.rename(t,n)})}}const jk='paragraph';class qk extends lh{constructor(e){super(e),e.config.define('heading',{options:[{model:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{model:'heading1',view:'h2',title:'Heading 1',class:'ck-heading_heading1'},{model:'heading2',view:'h3',title:'Heading 2',class:'ck-heading_heading2'},{model:'heading3',view:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[Lk]}init(){const e=this.editor,t=e.config.get('heading.options'),o=[];for(const n of t)n.model!==jk&&(e.model.schema.register(n.model,{inheritAllFrom:'$block'}),e.conversion.elementToElement(n),o.push(n.model));e.commands.add('heading',new zk(e,o))}afterInit(){const e=this.editor,t=e.commands.get('enter'),o=e.config.get('heading.options');t&&this.listenTo(t,'afterExecute',(t,n)=>{const i=e.model.document.selection.getFirstPosition().parent,r=o.some((e)=>i.is(e.model));r&&!i.is(jk)&&0===i.childCount&&n.writer.rename(i,jk)})}}class Wk{constructor(e,t){t&&Rc(this,t),e&&this.set(e)}}f(Wk,Mc);class Uk extends Bf{constructor(e){super(e);const t=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-dropdown__panel',t.if('isVisible','ck-dropdown__panel-visible')]},children:this.children,on:{selectstart:t.to((e)=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;'function'==typeof e.focusLast?e.focusLast():e.focus()}}}var Hk=o(54),Kk=o.n(Hk);class Gk extends Bf{constructor(e,t,o){super(e);const n=this.bindTemplate;this.buttonView=t,this.panelView=o,this.set('isOpen',!1),this.set('isEnabled',!0),this.focusTracker=new Ef,this.keystrokes=new wf,this.setTemplate({tag:'div',attributes:{class:['ck','ck-dropdown',n.if('isEnabled','ck-disabled',(e)=>!e)]},children:[t,o]}),t.extendTemplate({attributes:{class:['ck-dropdown__button']}})}render(){super.render(),this.listenTo(this.buttonView,'open',()=>{this.isOpen=!this.isOpen}),this.panelView.bind('isVisible').to(this,'isOpen'),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const e=(e,t)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,t())};this.keystrokes.set('arrowdown',(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set('arrowright',(e,t)=>{this.isOpen&&t()}),this.keystrokes.set('arrowleft',e),this.keystrokes.set('esc',e)}focus(){this.buttonView.focus()}}var $k=o(56),Jk=o.n($k);class Qk extends zh{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate('execute').to(this,'open')}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Fh;return e.content=Jk.a,e.extendTemplate({attributes:{class:'ck-dropdown__arrow'}}),e}}var Yk=o(57),Xk=o.n(Yk);class Zk extends Bf{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Ef,this.keystrokes=new wf,this._focusCycler=new Xf({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.setTemplate({tag:'ul',attributes:{class:['ck','ck-reset','ck-list']},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on('add',(e,t)=>{this.focusTracker.add(t.element)}),this.items.on('remove',(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class e_ extends Bf{constructor(){super(),this.set('tabindex',-1),this.keystrokes=new wf;const e=this.bindTemplate;this.setTemplate({tag:'li',attributes:{class:['ck','ck-list__item',e.to('class'),e.if('isActive','ck-list__item_active'),e.if('isEnabled','ck-disabled',(e)=>!e)],style:e.to('style'),tabindex:e.to('tabindex')},children:[{text:e.to('label')}],on:{click:e.to((e)=>{this.isEnabled?this.fire('execute'):e.preventDefault()})}}),this.set('isEnabled',!0)}render(){super.render();const e=(e,t)=>{this.fire('execute'),t()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',e),this.keystrokes.set('Space',e)}focus(){this.element.focus()}}class t_ extends Bf{constructor(e){super(e),this.setTemplate({tag:'li',attributes:{class:['ck','ck-list__separator']}})}}var o_=o(59),n_=o.n(o_),i_=o(61),r_=o.n(i_),a_=o(5),s_=o.n(a_);class l_ extends lh{init(){const e=this.editor,o=e.t,t=oa(e),n=o('e'),i=o('f');e.ui.componentFactory.add('heading',(o)=>{const r={},a=new Gc,s=e.commands.get('heading'),l=e.commands.get('paragraph'),d=[s];for(const e of t){const t=new Wk({label:e.title,class:e.class});'paragraph'===e.model?(t.bind('isActive').to(l,'value'),t.set('commandName','paragraph'),d.push(l)):(t.bind('isActive').to(s,'value',(t)=>t===e.model),t.set({commandName:'heading',commandValue:e.model})),a.add(t),r[e.model]=e.title}const c=Qr(o);return Yr(c,a),c.buttonView.set({isOn:!1,withText:!0,tooltip:i}),c.extendTemplate({attributes:{class:['ck-heading-dropdown']}}),c.bind('isEnabled').toMany(d,'isEnabled',(...e)=>e.some((e)=>e)),c.buttonView.bind('label').to(s,'value',l,'value',(e,t)=>{const o=e||t&&'paragraph';return r[o]?r[o]:n}),this.listenTo(c,'execute',(t)=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:void 0),e.editing.view.focus()}),c})}}class d_ extends lh{static get requires(){return[qk,l_]}static get pluginName(){return'Heading'}}var c_=o(64),m_=o.n(c_);const u_=new WeakMap,p_=Symbol('imageCaption');class g_ extends lh{init(){const e=this.editor,o=e.editing.view,n=e.model.schema,i=e.data,r=e.editing,a=e.t;n.register('caption',{allowIn:'image',allowContentOf:'$block',isLimit:!0}),e.model.document.registerPostFixer((e)=>this._insertMissingModelCaptionElement(e)),e.conversion.for('upcast').add(io({view:la,model:'caption'}));i.downcastDispatcher.on('insert:caption',da((e)=>e.createContainerElement('figcaption'),!1));const t=aa(o,a('h'));r.downcastDispatcher.on('insert:caption',da(t)),r.downcastDispatcher.on('insert',this._fixCaptionVisibility((e)=>e.item),{priority:'high'}),r.downcastDispatcher.on('remove',this._fixCaptionVisibility((e)=>e.position.parent),{priority:'high'}),o.document.registerPostFixer((e)=>this._updateCaptionVisibility(e))}_updateCaptionVisibility(e){const t=this.editor.editing.mapper,o=this._lastSelectedCaption;let n;const i=this.editor.model.document.selection,r=i.getSelectedElement();if(r&&r.is('image')){const e=sa(r);n=t.toViewElement(e)}const a=i.getFirstPosition(),s=ma(a.parent);if(s&&(n=t.toViewElement(s)),n)return o?o===n?pa(n,e):(ua(o,e),this._lastSelectedCaption=n,pa(n,e)):(this._lastSelectedCaption=n,pa(n,e));if(o){const t=ua(o,e);return this._lastSelectedCaption=null,t}return!1}_fixCaptionVisibility(e){return(t,o,n)=>{const i=e(o),r=ma(i),a=this.editor.editing.mapper,s=n.writer;if(r){const e=a.toViewElement(r);e&&(r.childCount?s.removeClass('ck-hidden',e):s.addClass('ck-hidden',e))}}}_insertMissingModelCaptionElement(e){const t=this.editor.model,o=t.document.differ.getChanges();for(const t of o)if('insert'==t.type&&'image'==t.name){const o=t.position.nodeAfter;if(!sa(o))return e.appendElement('caption',o),!0}}}var f_=o(66),h_=o.n(f_);class b_ extends lh{static get requires(){return[g_]}static get pluginName(){return'ImageCaption'}}class k_ extends ph{constructor(e,t){super(e),this._defaultStyle=!1,this.styles=t.reduce((e,t)=>(e[t.name]=t,t.isDefault&&(this._defaultStyle=t.name),e),{})}refresh(){const e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=br(e),!e)this.value=!1;else if(e.hasAttribute('imageStyle')){const t=e.getAttribute('imageStyle');this.value=!!this.styles[t]&&t}else this.value=this._defaultStyle}execute(e){const t=e.value,o=this.editor.model,n=o.document.selection.getSelectedElement();o.change((e)=>{this.styles[t].isDefault?e.removeAttribute('imageStyle',n):e.setAttribute('imageStyle',t,n)})}}var __=o(68),w_=o.n(__),v_=o(69),y_=o.n(v_),x_=o(70),C_=o.n(x_),A_=o(71),T_=o.n(A_);const P_={full:{name:'full',title:'Full size image',icon:w_.a,isDefault:!0},side:{name:'side',title:'Side image',icon:T_.a,className:'image-style-side'},alignLeft:{name:'alignLeft',title:'Left aligned image',icon:y_.a,className:'image-style-align-left'},alignCenter:{name:'alignCenter',title:'Centered image',icon:C_.a,className:'image-style-align-center'},alignRight:{name:'alignRight',title:'Right aligned image',icon:T_.a,className:'image-style-align-right'}},E_={full:w_.a,left:y_.a,right:T_.a,center:C_.a};class S_ extends lh{static get requires(){return[qb]}static get pluginName(){return'ImageStyleEditing'}init(){const e=this.editor,t=e.model.schema,o=e.data,n=e.editing;e.config.define('image.styles',['full','side']);const i=ba(e.config.get('image.styles'));t.extend('image',{allowAttributes:'imageStyle'});const r=ga(i);n.downcastDispatcher.on('attribute:imageStyle:image',r),o.downcastDispatcher.on('attribute:imageStyle:image',r),o.upcastDispatcher.on('element:figure',fa(i),{priority:'low'}),e.commands.add('imageStyle',new k_(e,i))}}var O_=o(72),I_=o.n(O_);class R_ extends lh{get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Full size image":e('i'),"Side image":e('j'),"Left aligned image":e('k'),"Centered image":e('l'),"Right aligned image":e('m')}}init(){const e=this.editor,t=e.config.get('image.styles'),o=_a(ba(t),this.localizedDefaultStylesTitles);for(const e of o)this._createButton(e)}_createButton(e){const t=this.editor,o=`imageStyle:${e.name}`;t.ui.componentFactory.add(o,(o)=>{const n=t.commands.get('imageStyle'),i=new zh(o);return i.set({label:e.title,icon:e.icon,tooltip:!0}),i.bind('isEnabled').to(n,'isEnabled'),i.bind('isOn').to(n,'value',(t)=>t===e.name),this.listenTo(i,'execute',()=>t.execute('imageStyle',{value:e.name})),i})}}class V_ extends lh{static get requires(){return[S_,R_]}static get pluginName(){return'ImageStyle'}}class F_ extends lh{static get requires(){return[uk]}static get pluginName(){return'ImageToolbar'}init(){const e=this.editor,t=e.plugins.get('BalloonToolbar');t&&this.listenTo(t,'show',(t)=>{hr(e.editing.view.document.selection)&&t.stop()},{priority:'high'})}afterInit(){const e=this.editor,t=e.config.get('image.toolbar');t&&t.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new oh,this._toolbar.fillFromConfig(t,e.ui.componentFactory),this.listenTo(e.editing.view,'render',()=>{this._checkIsVisible()}),this.listenTo(e.ui.focusTracker,'change:isFocused',()=>{this._checkIsVisible()},{priority:'low'}))}_checkIsVisible(){const e=this.editor;e.ui.focusTracker.isFocused?hr(e.editing.view.document.selection)?this._showToolbar():this._hideToolbar():this._hideToolbar()}_showToolbar(){const e=this.editor;this._isVisible?Rr(e):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:Vr(e),balloonClassName:'ck-toolbar-container'})}_hideToolbar(){this._isVisible&&this._balloon.remove(this._toolbar)}get _isVisible(){return this._balloon.visibleView==this._toolbar}}class N_ extends ph{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute('linkHref'),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,'linkHref')}execute(e){const t=this.editor.model,o=t.document.selection;t.change((n)=>{if(o.isCollapsed){const t=o.getFirstPosition();if(o.hasAttribute('linkHref')){const t=wa(o.getFirstPosition(),o.getAttribute('linkHref'));n.setAttribute('linkHref',e,t),n.setSelection(t)}else if(''!==e){const i=ut(o.getAttributes());i.set('linkHref',e);const r=n.createText(e,i);n.insert(r,t),n.setSelection(pu.createOn(r))}}else{const i=t.schema.getValidRanges(o.getRanges(),'linkHref');for(const t of i)n.setAttribute('linkHref',e,t)}})}}class D_ extends ph{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute('linkHref')}execute(){const e=this.editor.model,t=e.document.selection;e.change((e)=>{const o=t.isCollapsed?[wa(t.getFirstPosition(),t.getAttribute('linkHref'))]:t.getRanges();for(const t of o)e.removeAttribute('linkHref',t)})}}const M_=Symbol('linkElement'),B_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,L_=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;class z_{constructor(e,t,o){this.model=e,this.attribute=o,this._modelSelection=e.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,t.listenTo(this._modelSelection,'change:range',(e,t)=>this._isNextGravityRestorationSkipped?void(this._isNextGravityRestorationSkipped=!1):void(!this._isGravityOverridden||!t.directChange&&Pa(this._modelSelection.getFirstPosition(),o)||this._restoreGravity()))}handleForwardMovement(e,t){const o=this.attribute;return this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute?void 0:Oa(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):Ea(e,o)?(this._preventCaretMovement(t),this._overrideGravity(),!0):Sa(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}handleBackwardMovement(e,t){const o=this.attribute;if(this._isGravityOverridden)return Oa(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0);return Oa(e,o)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Sa(e,o)?this._hasSelectionAttribute?void(Ia(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(Ia(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change((e)=>e.overrideSelectionGravity())}_restoreGravity(){this.model.change((e)=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(e){e.preventDefault()}_removeSelectionAttribute(){this.model.change((e)=>{e.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(e){const t=this.attribute;this.model.change((o)=>{o.setSelectionAttribute(this.attribute,e.nodeBefore.getAttribute(t))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}var j_=o(74),q_=o.n(j_);const W_='ck-link_selected';class U_ extends lh{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:'linkHref'}),e.conversion.for('dataDowncast').add(Ct({model:'linkHref',view:xa})),e.conversion.for('editingDowncast').add(Ct({model:'linkHref',view:(e,t)=>xa(Ca(e),t)})),e.conversion.for('upcast').add(ro({view:{name:'a',attributes:{href:!0}},model:{key:'linkHref',value:(e)=>e.getAttribute('href')}})),e.commands.add('link',new N_(e)),e.commands.add('unlink',new D_(e)),Ta(e.editing.view,e.model,this,'linkHref'),this._setupLinkHighlight()}_setupLinkHighlight(){const e=this.editor,t=e.editing.view,o=new Set;t.document.registerPostFixer((t)=>{const n=e.model.document.selection;if(n.hasAttribute('linkHref')){const i=wa(n.getFirstPosition(),n.getAttribute('linkHref')),r=e.editing.mapper.toViewRange(i);for(const e of r.getItems())e.is('a')&&(t.addClass(W_,e),o.add(e))}}),e.conversion.for('editingDowncast').add((e)=>{function n(){t.change((e)=>{for(const t of o.values())e.removeClass(W_,t),o.delete(t)})}e.on('insert',n,{priority:'highest'}),e.on('remove',n,{priority:'highest'}),e.on('attribute',n,{priority:'highest'}),e.on('selection',n,{priority:'highest'})})}}class H_ extends qm{constructor(e){super(e),this.domEventType='click'}onDomEvent(e){this.fire(e.type,e)}}var K_=o(76),G_=o.n(K_);class $_ extends Bf{constructor(e){super(e);const o=e.t;this.focusTracker=new Ef,this.keystrokes=new wf,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o('ab'),tk.a,'ck-button-save'),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(o('ac'),nk.a,'ck-button-cancel','cancel'),this._focusables=new Of,this._focusCycler=new Xf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'form',attributes:{class:['ck','ck-link-form'],tabindex:'-1'},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),xr({view:this});const e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Qb(this.locale,Zb);return t.label=e('ad'),t.inputView.placeholder='https://example.com',t}_createButton(e,t,o,n){const i=new zh(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:o}}),n&&i.delegate('execute').to(this,n),i}}var J_=o(78),Q_=o.n(J_),Y_=o(79),X_=o.n(Y_),Z_=o(80),ew=o.n(Z_);class tw extends Bf{constructor(e){super(e);const o=e.t;this.focusTracker=new Ef,this.keystrokes=new wf,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o('x'),Q_.a,'unlink'),this.editButtonView=this._createButton(o('y'),X_.a,'edit'),this.set('href'),this._focusables=new Of,this._focusCycler=new Xf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'div',attributes:{class:['ck','ck-link-actions'],tabindex:'-1'},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,o){const n=new zh(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n.delegate('execute').to(this,o),n}_createPreviewButton(){const e=new zh(this.locale),o=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n('z')}),e.extendTemplate({attributes:{class:['ck','ck-link-actions__preview'],href:o.to('href',(e)=>e&&Ca(e)),target:'_blank'}}),e.bind('label').to(this,'href',(e)=>e||n('aa')),e.bind('isEnabled').to(this,'href',(e)=>!!e),e.template.tag='a',e.template.eventListeners={},e}}var ow=o(82),nw=o.n(ow);const iw='Ctrl+K';class rw extends lh{static get requires(){return[uk]}init(){const e=this.editor;e.editing.view.addObserver(H_),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(uk),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new tw(e.locale),o=e.commands.get('link'),n=e.commands.get('unlink');return t.bind('href').to(o,'value'),t.editButtonView.bind('isEnabled').to(o),t.unlinkButtonView.bind('isEnabled').to(n),this.listenTo(t,'edit',()=>{this._addFormView()}),this.listenTo(t,'unlink',()=>{e.execute('unlink'),this._hideUI()}),t.keystrokes.set('Esc',(e,t)=>{this._hideUI(),t()}),t.keystrokes.set(iw,(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const e=this.editor,t=new $_(e.locale),o=e.commands.get('link');return t.urlInputView.bind('value').to(o,'value'),t.urlInputView.bind('isReadOnly').to(o,'isEnabled',(e)=>!e),t.saveButtonView.bind('isEnabled').to(o),this.listenTo(t,'submit',()=>{e.execute('link',t.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(t,'cancel',()=>{this._removeFormView()}),t.keystrokes.set('Esc',(e,t)=>{this._removeFormView(),t()}),t}_createToolbarLinkButton(){const e=this.editor,o=e.commands.get('link'),n=e.t;e.keystrokes.set(iw,(e,t)=>{t(),o.isEnabled&&this._showUI()}),e.ui.componentFactory.add('link',(e)=>{const t=new zh(e);return t.isEnabled=!0,t.label=n('p'),t.icon=nw.a,t.keystroke=iw,t.tooltip=!0,t.bind('isEnabled').to(o,'isEnabled'),this.listenTo(t,'execute',()=>this._showUI()),t})}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,'click',()=>{const e=this._getSelectedLinkElement();e&&this._showUI()}),this.editor.keystrokes.set('Tab',(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:'high'}),this.editor.keystrokes.set('Esc',(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),yr({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(!this._isFormInPanel){const e=this.editor,t=e.commands.get('link');this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||''}}_removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){const e=this.editor,t=e.commands.get('link');t.isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUIOnViewRender())}_hideUI(){if(this._isUIInPanel){const e=this.editor.editing.view;this.stopListening(e,'render'),this._removeFormView(),this._balloon.remove(this.actionsView),e.focus()}}_startUpdatingUIOnViewRender(){function e(){return n.document.selection.focus.getAncestors().reverse().find((e)=>e.is('element'))}const t=this.editor,o=t.editing,n=o.view;let i=this._getSelectedLinkElement(),r=e();this.listenTo(n,'render',()=>{const t=this._getSelectedLinkElement(),o=e();(!i||t)&&(i||o===r)?this._balloon.updatePosition(this._getBalloonPositionData()):this._hideUI(),i=t,r=o})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document,o=this._getSelectedLinkElement(),n=o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(t.selection.getFirstRange());return{target:n}}_getSelectedLinkElement(){const e=this.editor.editing.view.document.selection;if(e.isCollapsed)return Ra(e.getFirstPosition());else{const t=e.getFirstRange().getTrimmed(),o=Ra(t.start),n=Ra(t.end);return o&&o==n?Uc.createIn(o).getTrimmed().isEqual(t)?o:null:null}}}class aw extends lh{static get requires(){return[U_,rw]}static get pluginName(){return'Link'}}class sw extends ph{constructor(e,t){super(e),this.type='bulleted'==t?'bulleted':'numbered'}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,o=Array.from(t.selection.getSelectedBlocks()).filter((t)=>Fa(t,e.schema)),n=!0===this.value;e.change((e)=>{if(n){let t=o[o.length-1].nextSibling,n=ns,i=[];for(;t&&'listItem'==t.name&&0!==t.getAttribute('listIndent');){const e=t.getAttribute('listIndent');e<n&&(n=e);const o=e-n;i.push({element:t,listIndent:o}),t=t.nextSibling}i=i.reverse();for(const t of i)e.setAttribute('listIndent',t.listIndent,t.element)}if(!n){let e=ns;for(const t of o)t.is('listItem')&&t.getAttribute('listIndent')<e&&(e=t.getAttribute('listIndent'));e=0===e?1:e,Va(o,!0,e),Va(o,!1,e)}for(const t of o.reverse())n&&'listItem'==t.name?e.rename(t,'paragraph'):n||'listItem'==t.name?n||'listItem'!=t.name||t.getAttribute('listType')==this.type||e.setAttribute('listType',this.type,t):(e.setAttributes({listType:this.type,listIndent:0},t),e.rename(t,'listItem'))})}_getValue(){const e=Ji(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is('listItem')&&e.getAttribute('listType')==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=Ji(e.getSelectedBlocks());return!!o&&Fa(o,t)}}class lw extends ph{constructor(e,t){super(e),this._indentBy='forward'==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let o=Array.from(t.selection.getSelectedBlocks());e.change((e)=>{const t=o[o.length-1];for(let n=t.nextSibling;n&&'listItem'==n.name&&n.getAttribute('listIndent')>t.getAttribute('listIndent');)o.push(n),n=n.nextSibling;0>this._indentBy&&(o=o.reverse());for(const t of o){const o=t.getAttribute('listIndent')+this._indentBy;0>o?e.rename(t,'paragraph'):e.setAttribute('listIndent',o,t)}})}_checkEnabled(){const e=Ji(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is('listItem'))return!1;if(0<this._indentBy){const t=e.getAttribute('listIndent'),o=e.getAttribute('listType');for(let n=e.previousSibling;n&&n.is('listItem')&&n.getAttribute('listIndent')>=t;){if(n.getAttribute('listIndent')==t)return n.getAttribute('listType')==o;n=n.previousSibling}return!1}return!0}}class dw extends lh{static get requires(){return[Lk]}init(){const e=this.editor;e.model.schema.register('listItem',{inheritAllFrom:'$block',allowAttributes:['listType','listIndent']});const t=e.data,o=e.editing;e.model.document.registerPostFixer((t)=>$a(e.model,t)),o.mapper.registerViewToModelLength('li',os),t.mapper.registerViewToModelLength('li',os),o.mapper.on('modelToViewPosition',Ka),o.mapper.on('viewToModelPosition',Ga),t.mapper.on('modelToViewPosition',Ka),o.downcastDispatcher.on('insert',ja,{priority:'high'}),o.downcastDispatcher.on('insert:listItem',Ma),t.downcastDispatcher.on('insert',ja,{priority:'high'}),t.downcastDispatcher.on('insert:listItem',Ma),o.downcastDispatcher.on('attribute:listType:listItem',La),t.downcastDispatcher.on('attribute:listType:listItem',La),o.downcastDispatcher.on('attribute:listIndent:listItem',za),t.downcastDispatcher.on('attribute:listIndent:listItem',za),o.downcastDispatcher.on('remove:listItem',Ba),o.downcastDispatcher.on('remove',qa,{priority:'low'}),t.downcastDispatcher.on('remove:listItem',Ba),t.downcastDispatcher.on('remove',qa,{priority:'low'}),t.upcastDispatcher.on('element:ul',Ua,{priority:'high'}),t.upcastDispatcher.on('element:ol',Ua,{priority:'high'}),t.upcastDispatcher.on('element:li',Ha,{priority:'high'}),t.upcastDispatcher.on('element:li',Wa),e.model.on('insertContent',Ja,{priority:'high'}),e.commands.add('numberedList',new sw(e,'numbered')),e.commands.add('bulletedList',new sw(e,'bulleted')),e.commands.add('indentList',new lw(e,'forward')),e.commands.add('outdentList',new lw(e,'backward'));const n=this.editor.editing.view.document;this.listenTo(n,'enter',(e,t)=>{const o=this.editor.model.document,n=o.selection.getLastPosition().parent;o.selection.isCollapsed&&'listItem'==n.name&&n.isEmpty&&(this.editor.execute('outdentList'),t.preventDefault(),e.stop())}),this.listenTo(n,'delete',(e,t)=>{if('backward'===t.direction){const o=this.editor.model.document.selection;if(o.isCollapsed){const n=o.getFirstPosition();if(n.isAtStart){const o=n.parent;if('listItem'===o.name){const n=o.previousSibling&&'listItem'===o.previousSibling.name;n||(this.editor.execute('outdentList'),t.preventDefault(),e.stop())}}}}},{priority:'high'});const i=(e)=>(t,o)=>{const n=this.editor.commands.get(e);n.isEnabled&&(this.editor.execute(e),o())};this.editor.keystrokes.set('Tab',i('indentList')),this.editor.keystrokes.set('Shift+Tab',i('outdentList'))}}var cw=o(83),mw=o.n(cw),uw=o(84),pw=o.n(uw);class gw extends lh{init(){const e=this.editor.t;this._addButton('numberedList',e('q'),mw.a),this._addButton('bulletedList',e('r'),pw.a)}_addButton(e,t,o){const n=this.editor;n.ui.componentFactory.add(e,(i)=>{const r=n.commands.get(e),a=new zh(i);return a.set({label:t,icon:o,tooltip:!0}),a.bind('isOn','isEnabled').to(r,'value','isEnabled'),this.listenTo(a,'execute',()=>n.execute(e)),a})}}class fw extends lh{static get requires(){return[dw,gw]}static get pluginName(){return'List'}}class hw extends sh{}t['default']=hw,hw.build={plugins:[Gh,tb,rb,pb,wb,Eb,Mk,d_,_k,b_,V_,F_,Dk,aw,fw,Lk],config:{toolbar:{items:['heading','|','bold','italic','link','bulletedList','numberedList','imageUpload','blockQuote','undo','redo']},image:{toolbar:['imageStyle:full','imageStyle:side','|','imageTextAlternative']},language:'en'}}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e,t){'use strict';t.a=function(e){return e&&e.Object===Object?e:null}},function(e,t,o){'use strict';(function(e){var n=o(10),i=o(1),r={function:!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,s=r[typeof e]&&e&&!e.nodeType?e:void 0,l=s&&s.exports===a?a:void 0,d=l?i.a.Buffer:void 0,c=d?function(e){return e instanceof d}:Object(n.a)(!1);t.a=c}).call(t,o(2)(e))},function(e,t){'use strict';t.a=function(e){return function(){return e}}},function(e,t,o){var n=o(12);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:999;--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:#77baf8;--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-focus-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-focus-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-focus-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-item-background-hover:var(--ck-color-base-foreground);--ck-color-list-item-background-active:var(--ck-color-base-active);--ck-color-list-item-background-active-focus:var(--ck-color-base-active-focus);--ck-color-list-item-text-active:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#ebf8ff;--ck-disabled-opacity:.5;--ck-focus-outer-shadow:0 0 3px var(--ck-color-focus-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}'},function(e){e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,'/'),i=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return e;var r;return r=0===i.indexOf('//')?i:0===i.indexOf('/')?o+i:n+i.replace(/^\.\//,''),'url('+JSON.stringify(r)+')'});return i}},function(e,t,o){var n=o(15);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}'},function(e,t,o){var n=o(17);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}'},function(e,t,o){var n=o(19);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}'},function(e,t,o){var n=o(21);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}'},function(e,t,o){var n=o(23);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}'},function(e,t,o){var n=o(25);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon *{fill:currentColor}'},function(e,t,o){var n=o(27);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:transparent transparent var(--ck-color-tooltip-background);border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:var(--ck-color-tooltip-background) transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(e,t,o){var n=o(29);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):focus,.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):focus,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-focus-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):focus,.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):focus,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-focus-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):focus,.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):focus,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-focus-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z" fill="#000" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z" fill="#000" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z" fill="#000" fill-rule="evenodd"/></svg>\n'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z" fill="#333" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z"/></g></svg>\n'},function(e,t,o){var n=o(36);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}'},function(e,t,o){var n=o(38);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-widget-outline-thickness:3px;--ck-color-widget-border-blurred:#dedede;--ck-color-widget-border-hover:#ffd15c;--ck-color-widget-editable-focused-background:var(--ck-color-base-background),}.ck .ck-widget{margin:var(--ck-spacing-standard) 0;padding:0}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck-editor__editable.ck-blurred .ck .ck-widget.ck-widget_selected{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-blurred)}.ck .ck-widget:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-hover)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focused-background)}'},function(e,t,o){var n=o(40);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}'},function(e,t,o){var n=o(42);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e,t,o){var n=o(44);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(47);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><g fill="none" fill-rule="evenodd"><rect width="700" height="250" fill="#FAFAFA" rx="4"/><text fill="#5F6F77" font-family="Arial,sans-serif" font-size="24"><tspan x="247.9" y="135">Uploading image\u2026</tspan></text></g></svg>\n'},function(e,t,o){var n=o(51);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{position:relative;overflow:hidden}.ck-content .image.ck-infinite-progress:before{content:"";position:absolute;top:0;right:0}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:fadeIn .7s}.ck-content .image.ck-infinite-progress:before{width:var(--ck-image-upload-progress-line-width);height:2px;background:var(--ck-color-upload-infinite-background);animation-name:readingProgressAnimation;animation-duration:1.5s;animation-iteration-count:infinite;transition-timing-function:linear}.ck-content .image.ck-image-upload-placeholder>img{width:100%}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes readingProgressAnimation{0%{width:var(--ck-image-upload-progress-line-width);right:0}50%{width:calc(var(--ck-image-upload-progress-line-width) * 1.5)}to{right:100%}}'},function(e,t,o){var n=o(53);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:1.25em;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;height:0;width:0}33%{width:.25em;height:0}to{width:.25em;height:.416em;opacity:1}}'},function(e,t,o){var n=o(55);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default);position:absolute;top:50%;transform:translate3d(0,-50%,0)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button{padding-right:calc(2.5 * var(--ck-spacing-standard))}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{border-radius:0;box-shadow:var(--ck-drop-shadow),0 0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}'},function(e){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(58);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{padding:var(--ck-spacing-medium);cursor:default;min-width:12em}.ck.ck-list__item:focus,.ck.ck-list__item:hover{background:var(--ck-color-list-item-background-hover)}.ck.ck-list__item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-list__item.ck-disabled{opacity:var(--ck-disabled-opacity)}.ck.ck-list__item_active{background:var(--ck-color-list-item-background-active);color:var(--ck-color-list-item-text-active)}.ck.ck-list__item_active:focus,.ck.ck-list__item_active:hover{background:var(--ck-color-list-item-background-active-focus)}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}'},function(e,t,o){var n=o(60);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}'},function(e,t,o){var n=o(62);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list>.ck-list__item{line-height:calc(.8*var(--ck-line-height-base)*var(--ck-font-size-base));padding:calc(.4*var(--ck-line-height-base)*var(--ck-font-size-base))}'},function(e){e.exports='.ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}'},function(e,t,o){var n=o(65);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}'},function(e,t,o){var n=o(67);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e,t,o){var n=o(73);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}'},function(e,t,o){var n=o(75);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}'},function(e,t,o){var n=o(77);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-form .ck-labeled-input{display:inline-block}.ck.ck-link-form .ck-label{display:none}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></g></svg>'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e,t,o){var n=o(81);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z" fill="#000" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z" fill="#454545" fill-rule="evenodd"/></svg>'}])['default']});
//# sourceMappingURL=ckeditor.js.map

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZWFkMTZjODUzZTI0ZjM4YzI3MjUiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2JhY2svanMvZWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMvYnVpbGQvY2tlZGl0b3IuanMiXSwibmFtZXMiOlsiQ2xhc3NpY0VkaXRvciIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRpbmciLCJvcHRpb25zIiwibW9kZWwiLCJ0aXRsZSIsImNsYXNzIiwidmlldyIsInRvb2xiYXIiLCJ0aGVuIiwid2luZG93IiwiZWRpdG9yIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJlcnIiLCJzdGFjayJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdEQTs7QUFFQSx5RUFBQUEsQ0FDS0MsTUFETCxDQUNZQyxTQUFTQyxhQUFULENBQXVCLFdBQXZCLENBRFosRUFDaUQ7QUFDekNDLGFBQVM7QUFDTEMsaUJBQVMsQ0FDTCxFQUFFQyxPQUFPLFdBQVQsRUFBc0JDLE9BQU8sV0FBN0IsRUFBMENDLE9BQU8sc0JBQWpELEVBREssRUFFTCxFQUFFRixPQUFPLFVB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QXlELHFCQUFxQixnRUFBZ0UsZ0JBQWdCLG9CQUFvQixtQ0FBbUMsd0RBQXdELGVBQWUsZ0JBQWdCLG1QQUFtUCxnQkFBZ0IsK0RBQStELGdCQUFnQixnRkFBZ0YsMEJBQTBCLDBFQUEwRSxtQ0FBbUMsbUNBQW1DLHVCQUF1QixlQUFlLHFDQUFxQyxjQUFjLGtCQUFrQixnRkFBZ0YsMEJBQTBCLDBCQUEwQixhQUFhLHVDQUF1Qyx1Q0FBdUMsRUFBRSxhQUFhLG1yQkFBbXJCLGFBQWEsaWVBQWllLGFBQWEsb2dCQUFvZ0IsY0FBYztBQUNocWpiLG9DIiwiZmlsZSI6ImpzL3NjcmlwdC9lZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvYnVpbGQvYmFjay9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vYXNzZXRzL2JhY2svanMvZWRpdG9yLmpzXCIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGVhZDE2Yzg1M2UyNGYzOGMyNzI1IiwiaW1wb3J0IENsYXNzaWNFZGl0b3IgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljJztcblxuQ2xhc3NpY0VkaXRvclxuICAgIC5jcmVhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNrZWRpdG9yJyksIHtcbiAgICAgICAgaGVhZGluZzoge1xuICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgbW9kZWw6ICdwYXJhZ3JhcGgnLCB0aXRsZTogJ1BhcmFncmFwaCcsIGNsYXNzOiAnY2staGVhZGluZ19wYXJhZ3JhcGgnIH0sXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ2hlYWRpbmcxJywgdmlldzogJ2gxJywgdGl0bGU6ICdIZWFkaW5nIDEnLCBjbGFzczogJ2NrLWhlYWRpbmdfaGVhZGluZzEnIH0sXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ2hlYWRpbmcyJywgdmlldzogJ2gyJywgdGl0bGU6ICdIZWFkaW5nIDInLCBjbGFzczogJ2NrLWhlYWRpbmdfaGVhZGluZzInIH0sXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ2hlYWRpbmczJywgdmlldzogJ2gzJywgdGl0bGU6ICdIZWFkaW5nIDMnLCBjbGFzczogJ2NrLWhlYWRpbmdfaGVhZGluZzMnIH0sXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ2hlYWRpbmc0JywgdmlldzogJ2g0JywgdGl0bGU6ICdIZWFkaW5nIDQnLCBjbGFzczogJ2NrLWhlYWRpbmdfaGVhZGluZzQnIH0sXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ2hlYWRpbmc1JywgdmlldzogJ2g1JywgdGl0bGU6ICdIZWFkaW5nIDUnLCBjbGFzczogJ2NrLWhlYWRpbmdfaGVhZGluZzUnIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgdG9vbGJhcjogWydoZWFkaW5nJywnfCcsICdib2xkJywgJ2l0YWxpYycsICdsaW5rJywnVW5kZXJsaW5lJywgJ2J1bGxldGVkTGlzdCcsICdudW1iZXJlZExpc3QnLCAnYmxvY2tRdW90ZScsICd1bmRvJywgJ3JlZG8nIF1cbiAgICB9KVxuICAgIC50aGVuKGVkaXRvciA9PiB7XG4gICAgICAgIHdpbmRvdy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgfSlcbiAgICAuY2F0Y2goIGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoIGVyci5zdGFjayApO1xuICAgIH0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Fzc2V0cy9iYWNrL2pzL2VkaXRvci5qcyIsIi8qKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMTgsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZC5cbiAqL1xuKGZ1bmN0aW9uKGUpe2UuZW49T2JqZWN0LmFzc2lnbihlLmVufHx7fSx7YTonQ2Fubm90IHVwbG9hZCBmaWxlOicsYjonQmxvY2sgcXVvdGUnLGM6J0l0YWxpYycsZDonQm9sZCcsZTonQ2hvb3NlIGhlYWRpbmcnLGY6J0hlYWRpbmcnLGc6J2ltYWdlIHdpZGdldCcsaDonRW50ZXIgaW1hZ2UgY2FwdGlvbicsaTonRnVsbCBzaXplIGltYWdlJyxqOidTaWRlIGltYWdlJyxrOidMZWZ0IGFsaWduZWQgaW1hZ2UnLGw6J0NlbnRlcmVkIGltYWdlJyxtOidSaWdodCBhbGlnbmVkIGltYWdlJyxuOidJbnNlcnQgaW1hZ2UnLG86J1VwbG9hZCBmYWlsZWQnLHA6J0xpbmsnLHE6J051bWJlcmVkIExpc3QnLHI6J0J1bGxldGVkIExpc3QnLHM6J1BhcmFncmFwaCcsdDonSGVhZGluZyAxJyx1OidIZWFkaW5nIDInLHY6J0hlYWRpbmcgMycsdzonQ2hhbmdlIGltYWdlIHRleHQgYWx0ZXJuYXRpdmUnLHg6J1VubGluaycseTonRWRpdCBsaW5rJyx6OidPcGVuIGxpbmsgaW4gbmV3IHRhYicsYWE6J1RoaXMgbGluayBoYXMgbm8gVVJMJyxhYjonU2F2ZScsYWM6J0NhbmNlbCcsYWQ6J0xpbmsgVVJMJyxhZTonVXBsb2FkIGluIHByb2dyZXNzJyxhZjonUmljaCBUZXh0IEVkaXRvciwgJTAnLGFnOidSaWNoIFRleHQgRWRpdG9yJyxhaDonVGV4dCBhbHRlcm5hdGl2ZScsYWk6J1VuZG8nLGFqOidSZWRvJ30pfSkod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU3x8KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e30pKSxmdW5jdGlvbihlLHQpeydvYmplY3QnPT10eXBlb2YgZXhwb3J0cyYmJ29iamVjdCc9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOidmdW5jdGlvbic9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOidvYmplY3QnPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkNsYXNzaWNFZGl0b3I9dCgpOmUuQ2xhc3NpY0VkaXRvcj10KCl9KCd1bmRlZmluZWQnPT10eXBlb2Ygc2VsZj90aGlzOnNlbGYsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChuKXtpZihvW25dKXJldHVybiBvW25dLmV4cG9ydHM7dmFyIGk9b1tuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsdCksaS5sPSEwLGkuZXhwb3J0c312YXIgbz17fTtyZXR1cm4gdC5tPWUsdC5jPW8sdC5kPWZ1bmN0aW9uKGUsbyxuKXt0Lm8oZSxvKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbyx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBvPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlWydkZWZhdWx0J119OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobywnYScsbyksb30sdC5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx0LnA9JycsdCh0LnM9Nil9KFtmdW5jdGlvbihlLHQsbyl7ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbj1lW29dLGk9Z1tuLmlkXTtpZihpKXtpLnJlZnMrKztmb3IodmFyIHI9MDtyPGkucGFydHMubGVuZ3RoO3IrKylpLnBhcnRzW3JdKG4ucGFydHNbcl0pO2Zvcig7cjxuLnBhcnRzLmxlbmd0aDtyKyspaS5wYXJ0cy5wdXNoKGMobi5wYXJ0c1tyXSx0KSl9ZWxzZXtmb3IodmFyIGE9W10scj0wO3I8bi5wYXJ0cy5sZW5ndGg7cisrKWEucHVzaChjKG4ucGFydHNbcl0sdCkpO2dbbi5pZF09e2lkOm4uaWQscmVmczoxLHBhcnRzOmF9fX19ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbz1bXSxuPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXSxhPXQuYmFzZT9pWzBdK3QuYmFzZTppWzBdLHM9aVsxXSxsPWlbMl0sZD1pWzNdLGM9e2NzczpzLG1lZGlhOmwsc291cmNlTWFwOmR9O25bYV0/blthXS5wYXJ0cy5wdXNoKGMpOm8ucHVzaChuW2FdPXtpZDphLHBhcnRzOltjXX0pfXJldHVybiBvfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbz1iKGUuaW5zZXJ0SW50byk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSBcXCdpbnNlcnRJbnRvXFwnIHBhcmFtZXRlciBpcyBpbnZhbGlkLicpO3ZhciBuPXdbdy5sZW5ndGgtMV07aWYoJ3RvcCc9PT1lLmluc2VydEF0KW4/bi5uZXh0U2libGluZz9vLmluc2VydEJlZm9yZSh0LG4ubmV4dFNpYmxpbmcpOm8uYXBwZW5kQ2hpbGQodCk6by5pbnNlcnRCZWZvcmUodCxvLmZpcnN0Q2hpbGQpLHcucHVzaCh0KTtlbHNlIGlmKCdib3R0b20nPT09ZS5pbnNlcnRBdClvLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYoJ29iamVjdCc9PXR5cGVvZiBlLmluc2VydEF0JiZlLmluc2VydEF0LmJlZm9yZSl7dmFyIGk9YihlLmluc2VydEludG8rJyAnK2UuaW5zZXJ0QXQuYmVmb3JlKTtvLmluc2VydEJlZm9yZSh0LGkpfWVsc2UgdGhyb3cgbmV3IEVycm9yKCdbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXFwnaW5zZXJ0QXRcXCcgKFxcJ29wdGlvbnMuaW5zZXJ0QXRcXCcpIGZvdW5kLlxcbiBNdXN0IGJlIFxcJ3RvcFxcJywgXFwnYm90dG9tXFwnLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG4nKX1mdW5jdGlvbiBhKGUpe2lmKG51bGw9PT1lLnBhcmVudE5vZGUpcmV0dXJuITE7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO3ZhciB0PXcuaW5kZXhPZihlKTswPD10JiZ3LnNwbGljZSh0LDEpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtyZXR1cm4gZS5hdHRycy50eXBlPSd0ZXh0L2NzcycsZCh0LGUuYXR0cnMpLHIoZSx0KSx0fWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO3JldHVybiBlLmF0dHJzLnR5cGU9J3RleHQvY3NzJyxlLmF0dHJzLnJlbD0nc3R5bGVzaGVldCcsZCh0LGUuYXR0cnMpLHIoZSx0KSx0fWZ1bmN0aW9uIGQoZSx0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2Uuc2V0QXR0cmlidXRlKG8sdFtvXSl9KX1mdW5jdGlvbiBjKGUsdCl7dmFyIG8sbixpLHI7aWYodC50cmFuc2Zvcm0mJmUuY3NzKWlmKHI9dC50cmFuc2Zvcm0oZS5jc3MpLHIpZS5jc3M9cjtlbHNlIHJldHVybiBmdW5jdGlvbigpe307aWYodC5zaW5nbGV0b24pe3ZhciBkPV8rKztvPWt8fChrPXModCkpLG49bS5iaW5kKG51bGwsbyxkLCExKSxpPW0uYmluZChudWxsLG8sZCwhMCl9ZWxzZSBlLnNvdXJjZU1hcCYmJ2Z1bmN0aW9uJz09dHlwZW9mIFVSTCYmJ2Z1bmN0aW9uJz09dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwmJidmdW5jdGlvbic9PXR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMJiYnZnVuY3Rpb24nPT10eXBlb2YgQmxvYiYmJ2Z1bmN0aW9uJz09dHlwZW9mIGJ0b2E/KG89bCh0KSxuPXAuYmluZChudWxsLG8sdCksaT1mdW5jdGlvbigpe2Eobyksby5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG8uaHJlZil9KToobz1zKHQpLG49dS5iaW5kKG51bGwsbyksaT1mdW5jdGlvbigpe2Eobyl9KTtyZXR1cm4gbihlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47bihlPXQpfWVsc2UgaSgpfX1mdW5jdGlvbiBtKGUsdCxvLG4pe3ZhciBpPW8/Jyc6bi5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PXkodCxpKTtlbHNle3ZhciByPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUocixhW3RdKTplLmFwcGVuZENoaWxkKHIpfX1mdW5jdGlvbiB1KGUsdCl7dmFyIG89dC5jc3Msbj10Lm1lZGlhO2lmKG4mJmUuc2V0QXR0cmlidXRlKCdtZWRpYScsbiksZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PW87ZWxzZXtmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobykpfX1mdW5jdGlvbiBwKGUsdCxvKXt2YXIgbj1vLmNzcyxpPW8uc291cmNlTWFwLHI9dC5jb252ZXJ0VG9BYnNvbHV0ZVVybHM9PT12b2lkIDAmJmk7KHQuY29udmVydFRvQWJzb2x1dGVVcmxzfHxyKSYmKG49dihuKSksaSYmKG4rPSdcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCcrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSkrJyAqLycpO3ZhciBhPW5ldyBCbG9iKFtuXSx7dHlwZTondGV4dC9jc3MnfSkscz1lLmhyZWY7ZS5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSkscyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX12YXIgZz17fSxmPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmdW5jdGlvbigpe3JldHVybid1bmRlZmluZWQnPT10eXBlb2YgdCYmKHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLHR9fShmdW5jdGlvbigpe3JldHVybiB3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYn0pLGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSl9LGI9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoJ2Z1bmN0aW9uJz09dHlwZW9mIHQpcmV0dXJuIHQoKTtpZigndW5kZWZpbmVkJz09dHlwZW9mIGVbdF0pe3ZhciBvPWguY2FsbCh0aGlzLHQpO2lmKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCYmbyBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCl0cnl7bz1vLmNvbnRlbnREb2N1bWVudC5oZWFkfWNhdGNoKHQpe289bnVsbH1lW3RdPW99cmV0dXJuIGVbdF19fSgpLGs9bnVsbCxfPTAsdz1bXSx2PW8oMTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCd1bmRlZmluZWQnIT10eXBlb2YgREVCVUcmJkRFQlVHJiYnb2JqZWN0JyE9dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcignVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50Jyk7dD10fHx7fSx0LmF0dHJzPSdvYmplY3QnPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHwnYm9vbGVhbic9PXR5cGVvZiB0LnNpbmdsZXRvbnx8KHQuc2luZ2xldG9uPWYoKSksdC5pbnNlcnRJbnRvfHwodC5pbnNlcnRJbnRvPSdoZWFkJyksdC5pbnNlcnRBdHx8KHQuaW5zZXJ0QXQ9J2JvdHRvbScpO3ZhciBvPWkoZSx0KTtyZXR1cm4gbihvLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1bXSxhPTA7YTxvLmxlbmd0aDthKyspe3ZhciBzPW9bYV0sbD1nW3MuaWRdO2wucmVmcy0tLHIucHVzaChsKX1pZihlKXt2YXIgZD1pKGUsdCk7bihkLHQpfWZvcih2YXIgYT0wLGw7YTxyLmxlbmd0aDthKyspaWYobD1yW2FdLDA9PT1sLnJlZnMpe2Zvcih2YXIgYz0wO2M8bC5wYXJ0cy5sZW5ndGg7YysrKWwucGFydHNbY10oKTtkZWxldGUgZ1tsLmlkXX19fTt2YXIgeT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LG8pe3JldHVybiBlW3RdPW8sZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyl9fSgpfSxmdW5jdGlvbihlLHQsbyl7J3VzZSBzdHJpY3QnOyhmdW5jdGlvbihlLG4pe3ZhciBpPW8oOCkscj17ZnVuY3Rpb246ITAsb2JqZWN0OiEwfSxhPXJbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZT9leHBvcnRzOnZvaWQgMCxzPXJbdHlwZW9mIGVdJiZlJiYhZS5ub2RlVHlwZT9lOnZvaWQgMCxsPU9iamVjdChpLmEpKGEmJnMmJidvYmplY3QnPT10eXBlb2YgbiYmbiksZD1PYmplY3QoaS5hKShyW3R5cGVvZiBzZWxmXSYmc2VsZiksYz1PYmplY3QoaS5hKShyW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3cpLG09T2JqZWN0KGkuYSkoclt0eXBlb2YgdGhpc10mJnRoaXMpLHU9bHx8YyE9PShtJiZtLndpbmRvdykmJmN8fGR8fG18fEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7dC5hPXV9KS5jYWxsKHQsbygyKShlKSxvKDcpKX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFlLndlYnBhY2tQb2x5ZmlsbCl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShlKTt0LmNoaWxkcmVufHwodC5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsJ2xvYWRlZCcse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwnaWQnLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0Lml9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsJ2V4cG9ydHMnLHtlbnVtZXJhYmxlOiEwfSksdC53ZWJwYWNrUG9seWZpbGw9MX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNi45NzIgMTYuNjE1YS45OTcuOTk3IDAgMCAxLS43NDQtLjI5MmwtNC41OTYtNC41OTZhMSAxIDAgMSAxIDEuNDE0LTEuNDE0bDMuOTI2IDMuOTI2IDkuOTM3LTkuOTM3YTEgMSAwIDAgMSAxLjQxNCAxLjQxNUw3LjcxNyAxNi4zMjNhLjk5Ny45OTcgMCAwIDEtLjc0NS4yOTJ6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuNTkxIDEwLjE3N2w0LjI0MyA0LjI0MmExIDEgMCAwIDEtMS40MTUgMS40MTVsLTQuMjQyLTQuMjQzLTQuMjQzIDQuMjQzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNWw0LjI0My00LjI0Mkw0LjUyIDUuOTM0QTEgMSAwIDAgMSA1LjkzNCA0LjUybDQuMjQzIDQuMjQzIDQuMjQyLTQuMjQzYTEgMSAwIDEgMSAxLjQxNSAxLjQxNGwtNC4yNDMgNC4yNDN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDYzKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUsdCxvKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gbihlKXtjb25zdCB0PWUubWF0Y2goL14oW146XSspOi8pO3JldHVybiB0P2UrYCBSZWFkIG1vcmU6ICR7a3N9I2Vycm9yLSR7dFsxXX1cXG5gOmV9ZnVuY3Rpb24gaSgpe2xldCBlPSdlJztmb3IobGV0IHQ9MDs4PnQ7dCsrKWUrPWFzKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBlfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gZVtDc10mJmVbQ3NdW3RdP2VbQ3NdW3RdLmVtaXR0ZXI6bnVsbH1mdW5jdGlvbiBhKGUsdCl7ZVtBc118fChlW0FzXT10fHxpKCkpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGVbQXNdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGUuX2V2ZW50c3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsJ19ldmVudHMnLHt2YWx1ZTp7fX0pLGUuX2V2ZW50c31mdW5jdGlvbiBkKCl7cmV0dXJue2NhbGxiYWNrczpbXSxjaGlsZEV2ZW50czpbXX19ZnVuY3Rpb24gYyhlLHQpe2NvbnN0IG89bChlKTtpZihvW3RdKXJldHVybjtsZXQgbj10LGk9bnVsbDtjb25zdCByPVtdO2Zvcig7JychPT1uJiYhb1tuXTspb1tuXT1kKCksci5wdXNoKG9bbl0pLGkmJm9bbl0uY2hpbGRFdmVudHMucHVzaChpKSxpPW4sbj1uLnN1YnN0cigwLG4ubGFzdEluZGV4T2YoJzonKSk7aWYoJychPT1uKXtmb3IoY29uc3QgZSBvZiByKWUuY2FsbGJhY2tzPW9bbl0uY2FsbGJhY2tzLnNsaWNlKCk7b1tuXS5jaGlsZEV2ZW50cy5wdXNoKGkpfX1mdW5jdGlvbiBtKGUsdCl7Y29uc3Qgbz1sKGUpW3RdO2lmKCFvKXJldHVybltdO2xldCBuPVtvLmNhbGxiYWNrc107Zm9yKGxldCByPTA7cjxvLmNoaWxkRXZlbnRzLmxlbmd0aDtyKyspe2NvbnN0IHQ9bShlLG8uY2hpbGRFdmVudHNbcl0pO249bi5jb25jYXQodCl9cmV0dXJuIG59ZnVuY3Rpb24gdShlLHQpe2xldCBvO3JldHVybiBlLl9ldmVudHMmJihvPWUuX2V2ZW50c1t0XSkmJm8uY2FsbGJhY2tzLmxlbmd0aD9vLmNhbGxiYWNrczotMTx0LmluZGV4T2YoJzonKT91KGUsdC5zdWJzdHIoMCx0Lmxhc3RJbmRleE9mKCc6JykpKTpudWxsfWZ1bmN0aW9uIHAoZSx0LG8pe2ZvcihsZXRbbixpXW9mIGUpe2k/J2Z1bmN0aW9uJz09dHlwZW9mIGkmJihpPWkodC5uYW1lKSk6aT10Lm5hbWU7Y29uc3QgZT1uZXcgdnModC5zb3VyY2UsaSk7ZS5wYXRoPVsuLi50LnBhdGhdLG4uZmlyZShlLC4uLm8pfX1mdW5jdGlvbiBnKGUsdCxvKXtjb25zdCBuPW0oZSx0KTtmb3IoY29uc3QgciBvZiBuKWZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXJbZV0uY2FsbGJhY2s9PW8mJihyLnNwbGljZShlLDEpLGUtLSl9ZnVuY3Rpb24gZihlLC4uLnQpe3QuZm9yRWFjaCgodCk9PntPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSkuZm9yRWFjaCgobyk9PntpZighKG8gaW4gZS5wcm90b3R5cGUpKXtjb25zdCBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxvKTtuLmVudW1lcmFibGU9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLG8sbil9fSl9KX1mdW5jdGlvbiBoKGUpe3ZhciB0PS0xLG89ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG87KXt2YXIgbj1lW3RdO3RoaXMuc2V0KG5bMF0sblsxXSl9fWZ1bmN0aW9uIGIoZSl7dmFyIHQ9LTEsbz1lP2UubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bzspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKX19ZnVuY3Rpb24gayhlKXt2YXIgdD0tMSxvPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxvOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pfX1mdW5jdGlvbiBfKGUpe3RoaXMuX19kYXRhX189bmV3IFJzKGUpfWZ1bmN0aW9uIHcoZSx0LG8pe3ZhciBuPWVbdF07ZGwuY2FsbChlLHQpJiZFcyhuLG8pJiYobyE9PXZvaWQgMHx8dCBpbiBlKXx8KGVbdF09byl9ZnVuY3Rpb24gdihlLHQpe3JldHVybiBwbC5jYWxsKGUsdCl8fCdvYmplY3QnPT10eXBlb2YgZSYmdCBpbiBlJiZudWxsPT09bHMoZSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gcWwoT2JqZWN0KGUpKX1mdW5jdGlvbiB4KGUpe3JldHVybiBsZC5jYWxsKGUpfWZ1bmN0aW9uIEMoZSx0LG8sbixpLHIsYSl7dmFyIHM7aWYobiYmKHM9cj9uKGUsaSxyLGEpOm4oZSkpLHZvaWQgMCE9PXMpcmV0dXJuIHM7aWYoIVZzKGUpKXJldHVybiBlO3ZhciBsPVNsKGUpO2lmKCFsKXt2YXIgZD1nZChlKSxjPWQ9PVdkfHxkPT1VZDtpZihPYmplY3QoamQuYSkoZSkpcmV0dXJuIHpsKGUsdCk7aWYoZD09SGR8fGQ9PXFkfHxjJiYhcil7aWYoZHMoZSkpcmV0dXJuIHI/ZTp7fTtpZihzPXpkKGM/e306ZSksIXQpcmV0dXJuIFVsKGUsTGwocyxlKSl9ZWxzZXtpZighS2RbZF0pcmV0dXJuIHI/ZTp7fTtzPU1kKGUsZCxDLHQpfX1lbHNlIGlmKHM9YmQoZSksIXQpcmV0dXJuIGpsKGUscyk7YXx8KGE9bmV3IGFsKTt2YXIgbT1hLmdldChlKTtpZihtKXJldHVybiBtO2lmKGEuc2V0KGUscyksIWwpdmFyIHU9bz9HbChlKTpCbChlKTtyZXR1cm4gc2wodXx8ZSxmdW5jdGlvbihpLHIpe3UmJihyPWksaT1lW3JdKSxjbChzLHIsQyhpLHQsbyxuLHIsZSxhKSl9KSxzfWZ1bmN0aW9uIEEoZSx0KXtjb25zdCBvPXJzKGUubGVuZ3RoLHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPG87bisrKWlmKGVbbl0hPXRbbl0pcmV0dXJuIG47cmV0dXJuIGUubGVuZ3RoPT10Lmxlbmd0aD8nc2FtZSc6ZS5sZW5ndGg8dC5sZW5ndGg/J3ByZWZpeCc6J2V4dGVuc2lvbid9ZnVuY3Rpb24gVChlKXtjb25zdCB0PW5ldyBNYXA7Zm9yKGNvbnN0IG8gaW4gZSl0LnNldChvLGVbb10pO3JldHVybiB0fWZ1bmN0aW9uIFAoZSl7cmV0dXJuISEoZSYmZVtTeW1ib2wuaXRlcmF0b3JdKX1mdW5jdGlvbiBFKGUsdCl7aWYoJ2Z1bmN0aW9uJz09dHlwZW9mIHQpcmV0dXJuIHQoZSk7Y29uc3Qgbz17fTtyZXR1cm4gdC5uYW1lJiYoby5uYW1lPVModC5uYW1lLGUubmFtZSksIW8ubmFtZSk/bnVsbDp0LmF0dHJpYnV0ZXMmJihvLmF0dHJpYnV0ZXM9Tyh0LmF0dHJpYnV0ZXMsZSksIW8uYXR0cmlidXRlcyk/bnVsbDohKHQuY2xhc3NlcyYmKG8uY2xhc3Nlcz1JKHQuY2xhc3NlcyxlKSwhby5jbGFzc2VzKSkmJiEodC5zdHlsZXMmJihvLnN0eWxlcz1SKHQuc3R5bGVzLGUpLCFvLnN0eWxlcykpJiZvfWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJlZ0V4cD9lLnRlc3QodCk6ZT09PXR9ZnVuY3Rpb24gTyhlLHQpe2NvbnN0IG89W107Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dO2lmKHQuaGFzQXR0cmlidXRlKG4pKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKG4pO2lmKCEwPT09aSlvLnB1c2gobik7ZWxzZSBpZihpIGluc3RhbmNlb2YgUmVnRXhwKXtpZihpLnRlc3QoZSkpby5wdXNoKG4pO2Vsc2UgcmV0dXJuIG51bGw7fWVsc2UgaWYoZT09PWkpby5wdXNoKG4pO2Vsc2UgcmV0dXJuIG51bGx9ZWxzZSByZXR1cm4gbnVsbH1yZXR1cm4gb31mdW5jdGlvbiBJKGUsdCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgbiBvZiBlKWlmKG4gaW5zdGFuY2VvZiBSZWdFeHApe2NvbnN0IGU9dC5nZXRDbGFzc05hbWVzKCk7Zm9yKGNvbnN0IHQgb2YgZSluLnRlc3QodCkmJm8ucHVzaCh0KTtpZigwPT09by5sZW5ndGgpcmV0dXJuIG51bGx9ZWxzZSBpZih0Lmhhc0NsYXNzKG4pKW8ucHVzaChuKTtlbHNlIHJldHVybiBudWxsO3JldHVybiBvfWZ1bmN0aW9uIFIoZSx0KXtjb25zdCBvPVtdO2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXTtpZih0Lmhhc1N0eWxlKG4pKXtjb25zdCBlPXQuZ2V0U3R5bGUobik7aWYoaSBpbnN0YW5jZW9mIFJlZ0V4cCl7aWYoaS50ZXN0KGUpKW8ucHVzaChuKTtlbHNlIHJldHVybiBudWxsO31lbHNlIGlmKGU9PT1pKW8ucHVzaChuKTtlbHNlIHJldHVybiBudWxsfWVsc2UgcmV0dXJuIG51bGx9cmV0dXJuIG99ZnVuY3Rpb24gVihlKXtlPWhzKGUpP1QoZSk6bmV3IE1hcChlKTtmb3IoY29uc3RbdCxvXW9mIGUpbnVsbD09PW8/ZS5kZWxldGUodCk6J3N0cmluZychPXR5cGVvZiBvJiZlLnNldCh0LG8rJycpO3JldHVybiBlfWZ1bmN0aW9uIEYoZSx0KXtsZXQgbz1udWxsLG49MCxyPTAsYT1udWxsO2lmKGUuY2xlYXIoKSwnJyE9PXQpeyc7JyE9dC5jaGFyQXQodC5sZW5ndGgtMSkmJih0Kz0nOycpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtjb25zdCBpPXQuY2hhckF0KHMpO2lmKG51bGw9PT1vKXN3aXRjaChpKXtjYXNlJzonOmF8fChhPXQuc3Vic3RyKG4scy1uKSxyPXMrMSk7YnJlYWs7Y2FzZSdcIic6Y2FzZSdcXCcnOm89aTticmVhaztjYXNlJzsnOmNvbnN0IGw9dC5zdWJzdHIocixzLXIpO2EmJmUuc2V0KGEudHJpbSgpLGwudHJpbSgpKSxhPW51bGwsbj1zKzE7fWVsc2UgaT09PW8mJihvPW51bGwpfX19ZnVuY3Rpb24gTihlLHQpe2NvbnN0IG89dC5zcGxpdCgvXFxzKy8pO2UuY2xlYXIoKSxvLmZvckVhY2goKHQpPT5lLmFkZCh0KSl9ZnVuY3Rpb24gRChlKXtyZXR1cm4nc3RyaW5nJz09dHlwZW9mIGU/W25ldyBRZChlKV06KFAoZSl8fChlPVtlXSksQXJyYXkuZnJvbShlKS5tYXAoKGUpPT4nc3RyaW5nJz09dHlwZW9mIGU/bmV3IFFkKGUpOmUgaW5zdGFuY2VvZiBZZD9uZXcgUWQoZS5kYXRhKTplKSl9ZnVuY3Rpb24gTSgpe2NvbnN0IGU9Wy4uLnRoaXMuZ2V0Q2hpbGRyZW4oKV0sdD1lW3RoaXMuY2hpbGRDb3VudC0xXTtpZih0JiZ0LmlzKCdlbGVtZW50JywnYnInKSlyZXR1cm4gdGhpcy5jaGlsZENvdW50O2Zvcihjb25zdCB0IG9mIGUpaWYoIXQuaXMoJ3VpRWxlbWVudCcpKXJldHVybiBudWxsO3JldHVybiB0aGlzLmNoaWxkQ291bnR9ZnVuY3Rpb24gQihlLHQsbyl7aWYoIVZzKG8pKXJldHVybiExO3ZhciBuPXR5cGVvZiB0O3JldHVybiEoJ251bWJlcic9PW4/ISh2bChvKSYmTmwodCxvLmxlbmd0aCkpOiEoJ3N0cmluZyc9PW4mJnQgaW4gbykpJiZFcyhvW3RdLGUpfWZ1bmN0aW9uIEwoZSl7ZT1udWxsPT1lP2U6T2JqZWN0KGUpO3ZhciB0PVtdO2Zvcih2YXIgbyBpbiBlKXQucHVzaChvKTtyZXR1cm4gdH1mdW5jdGlvbiB6KGUpe1ZjIGluIGV8fChPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxWYyx7dmFsdWU6bmV3IE1hcH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLEZjLHt2YWx1ZTpuZXcgTWFwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsTmMse3ZhbHVlOm5ldyBNYXB9KSl9ZnVuY3Rpb24gaiguLi5lKXtjb25zdCB0PUgoLi4uZSksbz1BcnJheS5mcm9tKHRoaXMuX2JpbmRpbmdzLmtleXMoKSksbj1vLmxlbmd0aDtpZighdC5jYWxsYmFjayYmMTx0LnRvLmxlbmd0aCl0aHJvdyBuZXcgX3MoJ29ic2VydmFibGUtYmluZC10by1uby1jYWxsYmFjazogQmluZGluZyBtdWx0aXBsZSBvYnNlcnZhYmxlcyBvbmx5IHBvc3NpYmxlIHdpdGggY2FsbGJhY2suJyk7aWYoMTxuJiZ0LmNhbGxiYWNrKXRocm93IG5ldyBfcygnb2JzZXJ2YWJsZS1iaW5kLXRvLWV4dHJhLWNhbGxiYWNrOiBDYW5ub3QgYmluZCBtdWx0aXBsZSBwcm9wZXJ0aWVzIGFuZCB1c2UgYSBjYWxsYmFjayBpbiBvbmUgYmluZGluZy4nKTt0LnRvLmZvckVhY2goKGUpPT57aWYoZS5wcm9wZXJ0aWVzLmxlbmd0aCYmZS5wcm9wZXJ0aWVzLmxlbmd0aCE9PW4pdGhyb3cgbmV3IF9zKCdvYnNlcnZhYmxlLWJpbmQtdG8tcHJvcGVydGllcy1sZW5ndGg6IFRoZSBudW1iZXIgb2YgcHJvcGVydGllcyBtdXN0IG1hdGNoLicpO2UucHJvcGVydGllcy5sZW5ndGh8fChlLnByb3BlcnRpZXM9dGhpcy5fYmluZFByb3BlcnRpZXMpfSksdGhpcy5fdG89dC50byx0LmNhbGxiYWNrJiYodGhpcy5fYmluZGluZ3MuZ2V0KG9bMF0pLmNhbGxiYWNrPXQuY2FsbGJhY2spLEoodGhpcy5fb2JzZXJ2YWJsZSx0aGlzLl90byksRyh0aGlzKSx0aGlzLl9iaW5kUHJvcGVydGllcy5mb3JFYWNoKChlKT0+eyQodGhpcy5fb2JzZXJ2YWJsZSxlKX0pfWZ1bmN0aW9uIHEoZSx0LG8pe2lmKDE8dGhpcy5fYmluZGluZ3Muc2l6ZSl0aHJvdyBuZXcgX3MoJ29ic2VydmFibGUtYmluZC10by1tYW55LW5vdC1vbmUtYmluZGluZzogQ2Fubm90IGJpbmQgbXVsdGlwbGUgcHJvcGVydGllcyB3aXRoIHRvTWFueSgpLicpO3RoaXMudG8oLi4uVyhlLHQpLG8pfWZ1bmN0aW9uIFcoZSx0KXtjb25zdCBvPWUubWFwKChlKT0+W2UsdF0pO3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLG8pfWZ1bmN0aW9uIFUoZSl7cmV0dXJuIGUuZXZlcnkoKGUpPT4nc3RyaW5nJz09dHlwZW9mIGUpfWZ1bmN0aW9uIEgoLi4uZSl7aWYoIWUubGVuZ3RoKXRocm93IG5ldyBfcygnb2JzZXJ2YWJsZS1iaW5kLXRvLXBhcnNlLWVycm9yOiBJbnZhbGlkIGFyZ3VtZW50IHN5bnRheCBpbiBgdG8oKWAuJyk7Y29uc3QgdD17dG86W119O2xldCBvO3JldHVybidmdW5jdGlvbic9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiYodC5jYWxsYmFjaz1lLnBvcCgpKSxlLmZvckVhY2goKGUpPT57aWYoJ3N0cmluZyc9PXR5cGVvZiBlKW8ucHJvcGVydGllcy5wdXNoKGUpO2Vsc2UgaWYoJ29iamVjdCc9PXR5cGVvZiBlKW89e29ic2VydmFibGU6ZSxwcm9wZXJ0aWVzOltdfSx0LnRvLnB1c2gobyk7ZWxzZSB0aHJvdyBuZXcgX3MoJ29ic2VydmFibGUtYmluZC10by1wYXJzZS1lcnJvcjogSW52YWxpZCBhcmd1bWVudCBzeW50YXggaW4gYHRvKClgLicpfSksdH1mdW5jdGlvbiBLKGUsdCxvLG4pe2NvbnN0IGk9ZVtGY10scj1pLmdldChvKSxhPXJ8fHt9O2Fbbl18fChhW25dPW5ldyBTZXQpLGFbbl0uYWRkKHQpLHJ8fGkuc2V0KG8sYSl9ZnVuY3Rpb24gRyhlKXtsZXQgdDtlLl9iaW5kaW5ncy5mb3JFYWNoKChvLG4pPT57ZS5fdG8uZm9yRWFjaCgoaSk9Pnt0PWkucHJvcGVydGllc1tvLmNhbGxiYWNrPzA6ZS5fYmluZFByb3BlcnRpZXMuaW5kZXhPZihuKV0sby50by5wdXNoKFtpLm9ic2VydmFibGUsdF0pLEsoZS5fb2JzZXJ2YWJsZSxvLGkub2JzZXJ2YWJsZSx0KX0pfSl9ZnVuY3Rpb24gJChlLHQpe2NvbnN0IG89ZVtOY10sbj1vLmdldCh0KTtsZXQgaTtuLmNhbGxiYWNrP2k9bi5jYWxsYmFjay5hcHBseShlLG4udG8ubWFwKChlKT0+ZVswXVtlWzFdXSkpOihpPW4udG9bMF0saT1pWzBdW2lbMV1dKSxlLmhhc093blByb3BlcnR5KHQpP2VbdF09aTplLnNldCh0LGkpfWZ1bmN0aW9uIEooZSx0KXt0LmZvckVhY2goKHQpPT57Y29uc3Qgbz1lW0ZjXTtsZXQgbjtvLmdldCh0Lm9ic2VydmFibGUpfHxlLmxpc3RlblRvKHQub2JzZXJ2YWJsZSwnY2hhbmdlJywoaSxyKT0+e249by5nZXQodC5vYnNlcnZhYmxlKVtyXSxuJiZuLmZvckVhY2goKHQpPT57JChlLHQucHJvcGVydHkpfSl9KX0pfWZ1bmN0aW9uIFEoZSl7cmV0dXJuISEoZS5pdGVtLmlzKCdhdHRyaWJ1dGVFbGVtZW50Jyl8fGUuaXRlbS5pcygndWlFbGVtZW50JykpfWZ1bmN0aW9uIFkoZSl7bGV0IHQ9MDtmb3IoY29uc3QgbyBvZiBlKXQrKztyZXR1cm4gdH1mdW5jdGlvbiBYKCl7aWYoWih0aGlzKSlyZXR1cm4gbnVsbDtsZXQgZT10aGlzLnBhcmVudDtmb3IoO2UmJmUuaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKTspe2lmKDE8WihlKSlyZXR1cm4gbnVsbDtlPWUucGFyZW50fXJldHVybiFlfHwxPFooZSk/bnVsbDp0aGlzLmNoaWxkQ291bnR9ZnVuY3Rpb24gWihlKXtyZXR1cm4gQXJyYXkuZnJvbShlLmdldENoaWxkcmVuKCkpLmZpbHRlcigoZSk9PiFlLmlzKCd1aUVsZW1lbnQnKSkubGVuZ3RofWZ1bmN0aW9uIGVlKCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gdGUoZSl7bGV0IHQ7aWYoJ3N0cmluZychPXR5cGVvZiBlKXQ9ZS5rZXlDb2RlKyhlLmFsdEtleT9ubS5hbHQ6MCkrKGUuY3RybEtleT9ubS5jdHJsOjApKyhlLnNoaWZ0S2V5P25tLnNoaWZ0OjApO2Vsc2UgaWYodD1ubVtlLnRvTG93ZXJDYXNlKCldLCF0KXRocm93IG5ldyBfcygna2V5Ym9hcmQtdW5rbm93bi1rZXk6IFVua25vd24ga2V5IG5hbWUuJyx7a2V5OmV9KTtyZXR1cm4gdH1mdW5jdGlvbiBvZShlKXtyZXR1cm4nc3RyaW5nJz09dHlwZW9mIGUmJihlPWllKGUpKSxlLm1hcCgoZSk9PidzdHJpbmcnPT10eXBlb2YgZT90ZShlKTplKS5yZWR1Y2UoKGUsdCk9PnQrZSwwKX1mdW5jdGlvbiBuZShlKXtyZXR1cm4gZW0uaXNNYWM/aWUoZSkubWFwKChlKT0+b21bZS50b0xvd2VyQ2FzZSgpXXx8ZSkucmVkdWNlKChlLHQpPT5lLnNsaWNlKC0xKWluIHRtP2UrdDplKycrJyt0KTplfWZ1bmN0aW9uIGllKGUpe3JldHVybiBlLnNwbGl0KC9cXHMqXFwrXFxzKi8pfWZ1bmN0aW9uIHJlKGUpe2UuZG9jdW1lbnQub24oJ2tleWRvd24nLCh0LG8pPT5zZSh0LG8sZS5kb21Db252ZXJ0ZXIpKX1mdW5jdGlvbiBhZSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIHNlKGUsdCxvKXtpZih0LmtleUNvZGU9PW5tLmFycm93cmlnaHQpe2NvbnN0IGU9dC5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKSxuPTE9PWUucmFuZ2VDb3VudCYmZS5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZDtpZihufHx0LnNoaWZ0S2V5KXtjb25zdCB0PWUuZm9jdXNOb2RlLGk9ZS5mb2N1c09mZnNldCxyPW8uZG9tUG9zaXRpb25Ub1ZpZXcodCxpKTtpZihudWxsPT09cilyZXR1cm47bGV0IGE9ITE7Y29uc3Qgcz1yLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKChlKT0+KGUuaXRlbS5pcygndWlFbGVtZW50JykmJihhPSEwKSwhIShlLml0ZW0uaXMoJ3VpRWxlbWVudCcpfHxlLml0ZW0uaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSkpKTtpZihhKXtjb25zdCB0PW8udmlld1Bvc2l0aW9uVG9Eb20ocyk7bj9lLmNvbGxhcHNlKHQucGFyZW50LHQub2Zmc2V0KTplLmV4dGVuZCh0LnBhcmVudCx0Lm9mZnNldCl9fX19ZnVuY3Rpb24gbGUoZSl7cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlP1tuZXcgUWQoZSldOihQKGUpfHwoZT1bZV0pLEFycmF5LmZyb20oZSkubWFwKChlKT0+J3N0cmluZyc9PXR5cGVvZiBlP25ldyBRZChlKTplIGluc3RhbmNlb2YgWWQ/bmV3IFFkKGUuZGF0YSk6ZSkpfWZ1bmN0aW9uIGRlKGUpe3JldHVybiBBcnJheS5mcm9tKGUuZ2V0Q2hpbGRyZW4oKSkuc29tZSgoZSk9PiFlLmlzKCd1aUVsZW1lbnQnKSl9ZnVuY3Rpb24gY2UoZSl7bGV0IHQ9ZS5wYXJlbnQ7Zm9yKDshYmUodCk7KXtpZighdClyZXR1cm47dD10LnBhcmVudH1yZXR1cm4gdH1mdW5jdGlvbiBtZShlLHQpe2lmKGUucHJpb3JpdHk8dC5wcmlvcml0eSlyZXR1cm4hMDtyZXR1cm4hKGUucHJpb3JpdHk+dC5wcmlvcml0eSkmJmUuZ2V0SWRlbnRpdHkoKTx0LmdldElkZW50aXR5KCl9ZnVuY3Rpb24gdWUoZSl7Y29uc3QgdD1lLm5vZGVCZWZvcmU7aWYodCYmdC5pcygndGV4dCcpKXJldHVybiBuZXcgV2ModCx0LmRhdGEubGVuZ3RoKTtjb25zdCBvPWUubm9kZUFmdGVyO3JldHVybiBvJiZvLmlzKCd0ZXh0Jyk/bmV3IFdjKG8sMCk6ZX1mdW5jdGlvbiBwZShlKXtpZihlLm9mZnNldD09ZS5wYXJlbnQuZGF0YS5sZW5ndGgpcmV0dXJuIG5ldyBXYyhlLnBhcmVudC5wYXJlbnQsZS5wYXJlbnQuaW5kZXgrMSk7aWYoMD09PWUub2Zmc2V0KXJldHVybiBuZXcgV2MoZS5wYXJlbnQucGFyZW50LGUucGFyZW50LmluZGV4KTtjb25zdCB0PWUucGFyZW50LmRhdGEuc2xpY2UoZS5vZmZzZXQpO3JldHVybiBlLnBhcmVudC5fZGF0YT1lLnBhcmVudC5kYXRhLnNsaWNlKDAsZS5vZmZzZXQpLGUucGFyZW50LnBhcmVudC5faW5zZXJ0Q2hpbGQoZS5wYXJlbnQuaW5kZXgrMSxuZXcgUWQodCkpLG5ldyBXYyhlLnBhcmVudC5wYXJlbnQsZS5wYXJlbnQuaW5kZXgrMSl9ZnVuY3Rpb24gZ2UoZSx0KXtjb25zdCBvPWUuZGF0YS5sZW5ndGg7cmV0dXJuIGUuX2RhdGErPXQuZGF0YSx0Ll9yZW1vdmUoKSxuZXcgV2MoZSxvKX1mdW5jdGlvbiBmZShlKXtyZXR1cm4gZS5zdGFydC5wYXJlbnQ9PWUuZW5kLnBhcmVudCYmZS5zdGFydC5wYXJlbnQuaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmMD09PWUuc3RhcnQub2Zmc2V0JiZlLmVuZC5vZmZzZXQ9PT1lLnN0YXJ0LnBhcmVudC5jaGlsZENvdW50fWZ1bmN0aW9uIGhlKGUpe2Zvcihjb25zdCB0IG9mIGUpe2lmKCFzbS5zb21lKChlKT0+dCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBfcygndmlldy13cml0ZXItaW5zZXJ0LWludmFsaWQtbm9kZScpO3QuaXMoJ3RleHQnKXx8aGUodC5nZXRDaGlsZHJlbigpKX19ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIGUmJihlLmlzKCdjb250YWluZXJFbGVtZW50Jyl8fGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl9ZnVuY3Rpb24ga2UoZSl7Y29uc3QgdD1jZShlLnN0YXJ0KSxvPWNlKGUuZW5kKTtpZighdHx8IW98fHQhPT1vKXRocm93IG5ldyBfcygndmlldy13cml0ZXItaW52YWxpZC1yYW5nZS1jb250YWluZXInKX1mdW5jdGlvbiBfZShlLHQpe3JldHVybiBudWxsPT09ZS5pZCYmbnVsbD09PXQuaWR9ZnVuY3Rpb24gd2UoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBUZXh0JiZlLmRhdGEuc3Vic3RyKDAsY20pPT09bW19ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIGUuZGF0YS5sZW5ndGg9PWNtJiZ3ZShlKX1mdW5jdGlvbiB5ZShlKXtyZXR1cm4gd2UoZSk/ZS5kYXRhLnNsaWNlKGNtKTplLmRhdGF9ZnVuY3Rpb24geGUoZSx0KXtsZXQgbz11bS5nZXQodCk7cmV0dXJuIG98fChvPXQod2luZG93LmRvY3VtZW50KSx1bS5zZXQodCxvKSksZS5pc0VxdWFsTm9kZShvKX1mdW5jdGlvbiBDZShlKXtlLmRvY3VtZW50Lm9uKCdrZXlkb3duJyxBZSl9ZnVuY3Rpb24gQWUoZSx0KXtpZih0LmtleUNvZGU9PW5tLmFycm93bGVmdCl7Y29uc3QgZT10LmRvbVRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpO2lmKDE9PWUucmFuZ2VDb3VudCYmZS5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZCl7Y29uc3QgdD1lLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIsbz1lLmdldFJhbmdlQXQoMCkuc3RhcnRPZmZzZXQ7d2UodCkmJm88PWNtJiZlLmNvbGxhcHNlKHQsMCl9fX1mdW5jdGlvbiBUZShlLHQsbyl7ZnVuY3Rpb24gaShuKXtjb25zdCBpPShjW24tMV09PT12b2lkIDA/LTE6Y1tuLTFdKSsxLG09Y1tuKzFdPT09dm9pZCAwPy0xOmNbbisxXSx1PWk+bT8tMToxO2Rbbit1XSYmKGRbbl09ZFtuK3VdLnNsaWNlKDApKSxkW25dfHwoZFtuXT1bXSksZFtuXS5wdXNoKGk+bT9yOmEpO2xldCBwPWlzKGksbSksZz1wLW47Zm9yKDtnPHMmJnA8bCYmbyhlW2ddLHRbcF0pOylnKysscCsrLGRbbl0ucHVzaCgnZXF1YWwnKTtyZXR1cm4gcH1vPW98fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10fTtsZXQgcixhO2lmKHQubGVuZ3RoPGUubGVuZ3RoKXtjb25zdCBvPWU7ZT10LHQ9byxyPSdkZWxldGUnLGE9J2luc2VydCd9ZWxzZSByPSdpbnNlcnQnLGE9J2RlbGV0ZSc7Y29uc3Qgcz1lLmxlbmd0aCxsPXQubGVuZ3RoLG49bC1zLGQ9e30sYz17fTtsZXQgbT0wLHU7ZG97Zm9yKHU9LW07dTxuO3UrKyljW3VdPWkodSk7Zm9yKHU9bittO3U+bjt1LS0pY1t1XT1pKHUpO2Nbbl09aShuKSxtKyt9d2hpbGUoY1tuXSE9PWwpO3JldHVybiBkW25dLnNsaWNlKDEpfWZ1bmN0aW9uIFBlKGUsdCxvKXtlLmluc2VydEJlZm9yZShvLGUuY2hpbGROb2Rlc1t0XXx8bnVsbCl9ZnVuY3Rpb24gRWUoZSl7Y29uc3QgdD1lLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZChlKX1mdW5jdGlvbiBTZShlKXtyZXR1cm4nW29iamVjdCBUZXh0XSc9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBPZShlKXtpZihlKXtpZihlLmRlZmF1bHRWaWV3KXJldHVybiBlIGluc3RhbmNlb2YgZS5kZWZhdWx0Vmlldy5Eb2N1bWVudDtpZihlLm93bmVyRG9jdW1lbnQmJmUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gZSBpbnN0YW5jZW9mIGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5Ob2RlfXJldHVybiExfWZ1bmN0aW9uIEllKGUsdCl7aWYoZT09PXQpcmV0dXJuW107Y29uc3Qgbz1SZShlLHQpO3JldHVybiBOZSh0LG8pfWZ1bmN0aW9uIFJlKGUsdCl7Y29uc3Qgbz1WZShlLHQpLG49RmUoZSxvKSxpPUZlKHQsbykscj1WZShuLGkpLGE9ZS5sZW5ndGgtcixzPXQubGVuZ3RoLXI7cmV0dXJue2ZpcnN0SW5kZXg6byxsYXN0SW5kZXhPbGQ6YSxsYXN0SW5kZXhOZXc6c319ZnVuY3Rpb24gVmUoZSx0KXtmb3IobGV0IG89MDtvPGlzKGUubGVuZ3RoLHQubGVuZ3RoKTtvKyspaWYoZVtvXSE9PXRbb10pcmV0dXJuIG99ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm4gZS5zdWJzdHJpbmcodCkuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKX1mdW5jdGlvbiBOZShlLHQpe2NvbnN0IG89W10se2ZpcnN0SW5kZXg6bixsYXN0SW5kZXhPbGQ6aSxsYXN0SW5kZXhOZXc6cn09dDtyZXR1cm4gMDxyLW4mJm8ucHVzaCh7aW5kZXg6bix0eXBlOidpbnNlcnQnLHZhbHVlczplLnN1YnN0cmluZyhuLHIpLnNwbGl0KCcnKX0pLDA8aS1uJiZvLnB1c2goe2luZGV4Om4rKHItbiksdHlwZTonZGVsZXRlJyxob3dNYW55Omktbn0pLG99ZnVuY3Rpb24gRGUoZSl7aWYoJ2ZhbHNlJz09ZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKXJldHVybiExO2NvbnN0IHQ9ZS5maW5kQW5jZXN0b3IoKGUpPT5lLmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpO3JldHVybiF0fHwndHJ1ZSc9PXQuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKX1mdW5jdGlvbiBNZShlLHQpe3JldHVybiBPZShlKSYmT2UodCkmJiFTZShlKSYmIVNlKHQpJiZlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIEJlKGUsdCxvKXtpZih0PT09bylyZXR1cm4hMDtyZXR1cm4gU2UodCkmJlNlKG8pP3QuZGF0YT09PW8uZGF0YTohISh4ZSh0LGUpJiZ4ZShvLGUpKX1mdW5jdGlvbiBMZShlKXtsZXQgdD0wO2Zvcig7ZS5wcmV2aW91c1NpYmxpbmc7KWU9ZS5wcmV2aW91c1NpYmxpbmcsdCsrO3JldHVybiB0fWZ1bmN0aW9uIHplKGUpe2NvbnN0IHQ9W107Zm9yKDtlJiZlLm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX05PREU7KXQudW5zaGlmdChlKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBqZShlLHQpe2NvbnN0IG89emUoZSksbj16ZSh0KTtsZXQgcj0wO2Zvcig7b1tyXT09bltyXSYmb1tyXTspcisrO3JldHVybiAwPT1yP251bGw6b1tyLTFdfWZ1bmN0aW9uIHFlKGUsdCxvKXtsZXQgbj16ZShlKTtyZXR1cm4gbyYmKG49bi5zbGljZShuLmluZGV4T2YobykrMSkpLG4uc29tZSgoZSk9PmUudGFnTmFtZSYmdC5pbmNsdWRlcyhlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpfWZ1bmN0aW9uIFdlKGUsdCl7Zm9yKDtlJiZlIT1nbS5kb2N1bWVudDspdChlKSxlPWUucGFyZW50Tm9kZX1mdW5jdGlvbiBVZShlKXtyZXR1cm4nW29iamVjdCBXaW5kb3ddJz09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShlKX1mdW5jdGlvbiBIZShlKXtyZXR1cm4gZVsnZGF0YS1jay1leHBhbmRvJ118fChlWydkYXRhLWNrLWV4cGFuZG8nXT1pKCkpfWZ1bmN0aW9uIEtlKGUpe3ZhciB0PS0xLG89ZT9lLmxlbmd0aDowO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyBybDsrK3Q8bzspdGhpcy5hZGQoZVt0XSl9ZnVuY3Rpb24gR2UoZSx0LG8sbixpLHIpe3ZhciBhPWkmUG0scz1CbChlKSxsPXMubGVuZ3RoLGQ9QmwodCksYz1kLmxlbmd0aDtpZihsIT1jJiYhYSlyZXR1cm4hMTtmb3IodmFyIG09bCx1O20tLTspaWYodT1zW21dLGE/ISh1IGluIHQpOiFnbCh0LHUpKXJldHVybiExO3ZhciBwPXIuZ2V0KGUpO2lmKHApcmV0dXJuIHA9PXQ7dmFyIGc9ITA7ci5zZXQoZSx0KTtmb3IodmFyIGY9YTsrK208bDspe3U9c1ttXTt2YXIgaD1lW3VdLGI9dFt1XTtpZihuKXZhciBrPWE/bihiLGgsdSx0LGUscik6bihoLGIsdSxlLHQscik7aWYodm9pZCAwPT09az8hKGg9PT1ifHxvKGgsYixuLGkscikpOiFrKXtnPSExO2JyZWFrfWZ8fChmPSdjb25zdHJ1Y3Rvcic9PXUpfWlmKGcmJiFmKXt2YXIgXz1lLmNvbnN0cnVjdG9yLHc9dC5jb25zdHJ1Y3RvcjtfIT13JiYnY29uc3RydWN0b3InaW4gZSYmJ2NvbnN0cnVjdG9yJ2luIHQmJiEoJ2Z1bmN0aW9uJz09dHlwZW9mIF8mJl8gaW5zdGFuY2VvZiBfJiYnZnVuY3Rpb24nPT10eXBlb2YgdyYmdyBpbnN0YW5jZW9mIHcpJiYoZz0hMSl9cmV0dXJuIHJbJ2RlbGV0ZSddKGUpLGd9ZnVuY3Rpb24gJGUoZSx0LG8sbixpKXtyZXR1cm4hKGUhPT10KXx8KG51bGwhPWUmJm51bGwhPXQmJihWcyhlKXx8Y3ModCkpP01tKGUsdCwkZSxvLG4saSk6ZSE9PWUmJnQhPT10KX1mdW5jdGlvbiBKZShlLHQsbyl7ZnVuY3Rpb24gbih0KXt2YXIgbz1iLG49aztyZXR1cm4gYj1rPXZvaWQgMCxwPXQsdz1lLmFwcGx5KG4sbyksd31mdW5jdGlvbiBpKGUpe3JldHVybiBwPWUsdj1zZXRUaW1lb3V0KHMsdCksZz9uKGUpOnd9ZnVuY3Rpb24gcihlKXt2YXIgbz1lLXUsbj1lLXAsaT10LW87cmV0dXJuIGY/JG0oaSxfLW4pOml9ZnVuY3Rpb24gYShlKXt2YXIgbz1lLXUsbj1lLXA7cmV0dXJuIXV8fG8+PXR8fDA+b3x8ZiYmbj49X31mdW5jdGlvbiBzKCl7dmFyIGU9SG0oKTtyZXR1cm4gYShlKT9sKGUpOnZvaWQodj1zZXRUaW1lb3V0KHMscihlKSkpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGNsZWFyVGltZW91dCh2KSx2PXZvaWQgMCxoJiZiKT9uKGUpOihiPWs9dm9pZCAwLHcpfWZ1bmN0aW9uIGQoKXt2b2lkIDAhPT12JiZjbGVhclRpbWVvdXQodiksdT1wPTAsYj1rPXY9dm9pZCAwfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdm9pZCAwPT09dj93OmwoSG0oKSl9ZnVuY3Rpb24gbSgpe3ZhciBlPUhtKCksbz1hKGUpO2lmKGI9YXJndW1lbnRzLGs9dGhpcyx1PWUsbyl7aWYodm9pZCAwPT09dilyZXR1cm4gaSh1KTtpZihmKXJldHVybiBjbGVhclRpbWVvdXQodiksdj1zZXRUaW1lb3V0KHMsdCksbih1KX1yZXR1cm4gdm9pZCAwPT09diYmKHY9c2V0VGltZW91dChzLHQpKSx3fXZhciB1PTAscD0wLGc9ITEsZj0hMSxoPSEwLGIsayxfLHcsdjtpZignZnVuY3Rpb24nIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKEttKTtyZXR1cm4gdD11Yyh0KXx8MCxWcyhvKSYmKGc9ISFvLmxlYWRpbmcsZj0nbWF4V2FpdCdpbiBvLF89Zj9HbSh1YyhvLm1heFdhaXQpfHwwLHQpOl8saD0ndHJhaWxpbmcnaW4gbz8hIW8udHJhaWxpbmc6aCksbS5jYW5jZWw9ZCxtLmZsdXNoPWMsbX1mdW5jdGlvbiBRZShlKXtyZXR1cm4gZT09bm0uYXJyb3dyaWdodHx8ZT09bm0uYXJyb3dsZWZ0fHxlPT1ubS5hcnJvd3VwfHxlPT1ubS5hcnJvd2Rvd259ZnVuY3Rpb24gWWUoZSl7cmV0dXJuJ1tvYmplY3QgUmFuZ2VdJz09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShlKX1mdW5jdGlvbiBYZShlKXtjb25zdCB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUpO3JldHVybnt0b3A6cGFyc2VJbnQodC5ib3JkZXJUb3BXaWR0aCwxMCkscmlnaHQ6cGFyc2VJbnQodC5ib3JkZXJSaWdodFdpZHRoLDEwKSxib3R0b206cGFyc2VJbnQodC5ib3JkZXJCb3R0b21XaWR0aCwxMCksbGVmdDpwYXJzZUludCh0LmJvcmRlckxlZnRXaWR0aCwxMCl9fWZ1bmN0aW9uIFplKGUsdCl7Zm9yKGNvbnN0IG8gb2YgbnUpZVtvXT10W29dfWZ1bmN0aW9uIGV0KGUpe3JldHVybiEhZm0oZSkmJmU9PT1lLm93bmVyRG9jdW1lbnQuYm9keX1mdW5jdGlvbiB0dCh7dGFyZ2V0OmUsdmlld3BvcnRPZmZzZXQ6dD0wfSl7Y29uc3Qgbz1kdChlKTtmb3IobGV0IG49byxpPW51bGw7bjspe2xldCByO3I9bj09bz9jdChlKTpjdChpKSxpdChyLCgpPT5tdChlLG4pKTtjb25zdCBhPW10KGUsbik7aWYobnQobixhLHQpLG4ucGFyZW50PT1uKW49bnVsbDtlbHNlIGlmKGk9bi5mcmFtZUVsZW1lbnQsbj1uLnBhcmVudCwhaSlyZXR1cm59fWZ1bmN0aW9uIG50KGUsdCxvKXtjb25zdCBuPXQuY2xvbmUoKS5tb3ZlQnkoMCxvKSxpPXQuY2xvbmUoKS5tb3ZlQnkoMCwtbykscj1uZXcgb3UoZSkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCk7aWYoIVtpLG5dLmV2ZXJ5KChlKT0+ci5jb250YWlucyhlKSkpe2xldHtzY3JvbGxYOmEsc2Nyb2xsWTpzfT1lO2F0KGkscik/cy09ci50b3AtdC50b3ArbzpydChuLHIpJiYocys9dC5ib3R0b20tci5ib3R0b20rbyksc3QodCxyKT9hLT1yLmxlZnQtdC5sZWZ0K286bHQodCxyKSYmKGErPXQucmlnaHQtci5yaWdodCtvKSxlLnNjcm9sbFRvKGEscyl9fWZ1bmN0aW9uIGl0KGUsdCl7Y29uc3Qgbz1kdChlKTtmb3IobGV0IG4saTtlIT1vLmRvY3VtZW50LmJvZHk7KWk9dCgpLG49bmV3IG91KGUpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpLG4uY29udGFpbnMoaSl8fChhdChpLG4pP2Uuc2Nyb2xsVG9wLT1uLnRvcC1pLnRvcDpydChpLG4pJiYoZS5zY3JvbGxUb3ArPWkuYm90dG9tLW4uYm90dG9tKSxzdChpLG4pP2Uuc2Nyb2xsTGVmdC09bi5sZWZ0LWkubGVmdDpsdChpLG4pJiYoZS5zY3JvbGxMZWZ0Kz1pLnJpZ2h0LW4ucmlnaHQpKSxlPWUucGFyZW50Tm9kZX1mdW5jdGlvbiBydChlLHQpe3JldHVybiBlLmJvdHRvbT50LmJvdHRvbX1mdW5jdGlvbiBhdChlLHQpe3JldHVybiBlLnRvcDx0LnRvcH1mdW5jdGlvbiBzdChlLHQpe3JldHVybiBlLmxlZnQ8dC5sZWZ0fWZ1bmN0aW9uIGx0KGUsdCl7cmV0dXJuIGUucmlnaHQ+dC5yaWdodH1mdW5jdGlvbiBkdChlKXtyZXR1cm4gWWUoZSk/ZS5zdGFydENvbnRhaW5lci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OmUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld31mdW5jdGlvbiBjdChlKXtpZihZZShlKSl7bGV0IHQ9ZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4gU2UodCkmJih0PXQucGFyZW50Tm9kZSksdH1yZXR1cm4gZS5wYXJlbnROb2RlfWZ1bmN0aW9uIG10KGUsdCl7Y29uc3Qgbz1kdChlKSxuPW5ldyBvdShlKTtpZihvPT09dClyZXR1cm4gbjtmb3IobGV0IGk9bztpIT10Oyl7Y29uc3QgZT1pLmZyYW1lRWxlbWVudCx0PW5ldyBvdShlKS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKTtuLm1vdmVCeSh0LmxlZnQsdC50b3ApLGk9aS5wYXJlbnR9cmV0dXJuIG59ZnVuY3Rpb24gdXQoZSl7cmV0dXJuIGhzKGUpP1QoZSk6bmV3IE1hcChlKX1mdW5jdGlvbiBwdChlKXtyZXR1cm4nc3RyaW5nJz09dHlwZW9mIGU/W25ldyBhdShlKV06KFAoZSl8fChlPVtlXSksQXJyYXkuZnJvbShlKS5tYXAoKGUpPT4nc3RyaW5nJz09dHlwZW9mIGU/bmV3IGF1KGUpOmUgaW5zdGFuY2VvZiBzdT9uZXcgYXUoZS5kYXRhLGUuZ2V0QXR0cmlidXRlcygpKTplKSl9ZnVuY3Rpb24gZ3QoZSx0LG8sbixpKXtyZXR1cm57ZG9uZTohMSx2YWx1ZTp7dHlwZTplLGl0ZW06dCxwcmV2aW91c1Bvc2l0aW9uOm8sbmV4dFBvc2l0aW9uOm4sbGVuZ3RoOml9fX1mdW5jdGlvbiBmdChlKXtjb25zdCB0PWUuc3BsaXQoJzonKTtyZXR1cm4gMTx0Lmxlbmd0aD90WzBdKyc6Jyt0WzFdOnRbMF19ZnVuY3Rpb24gaHQoZSx0LG8pe2NvbnN0IG49dC5nZXRSYW5nZSgpLGk9QXJyYXkuZnJvbShlLmdldEFuY2VzdG9ycygpKTtpLnNoaWZ0KCksaS5yZXZlcnNlKCk7Y29uc3Qgcj1pLnNvbWUoKGUpPT57aWYobi5jb250YWluc0l0ZW0oZSkpe2NvbnN0IHQ9by50b1ZpZXdFbGVtZW50KGUpO3JldHVybiEhdC5nZXRDdXN0b21Qcm9wZXJ0eSgnYWRkSGlnaGxpZ2h0Jyl9fSk7cmV0dXJuIXJ9ZnVuY3Rpb24gYnQoZSx0KXtyZXR1cm4hdC5oYXMoZSkmJih0LmFkZChlKSxlLmRvY3VtZW50Lm1vZGVsLnNjaGVtYS5pc0Jsb2NrKGUpJiZlLnBhcmVudCl9ZnVuY3Rpb24ga3QoZSx0KXtjb25zdCBvPWUucGFyZW50LmdldEFuY2VzdG9ycyh7cGFyZW50Rmlyc3Q6ITAsaW5jbHVkZVNlbGY6ITB9KSxuPW8uZmluZCgoZSk9PmJ0KGUsdCkpO3JldHVybiBvLmZvckVhY2goKGUpPT50LmFkZChlKSksbn1mdW5jdGlvbiBfdCgpe2NvbnN0IGU9bmV3IFNldChbJ2luc2VydCcsJ21vdmUnLCdyZW1vdmUnLCdyZWluc2VydCddKTt0aGlzLmxpc3RlblRvKHRoaXMucm9vdC5kb2N1bWVudC5tb2RlbCwnYXBwbHlPcGVyYXRpb24nLCh0LG8pPT57Y29uc3Qgbj1vWzBdOyFuLmlzRG9jdW1lbnRPcGVyYXRpb258fGUuaGFzKG4udHlwZSkmJnd0LmNhbGwodGhpcyxuKX0se3ByaW9yaXR5Oidsb3cnfSl9ZnVuY3Rpb24gd3QoZSl7Y29uc3QgdD1lLnR5cGUsbz1lLmRlbHRhLmJhdGNoO2xldCBuLGk7J2luc2VydCc9PXQ/bj1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnBvc2l0aW9uLGUubm9kZXMubWF4T2Zmc2V0KToobj1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLmdldE1vdmVkUmFuZ2VTdGFydCgpLGUuaG93TWFueSksaT1lLnNvdXJjZVBvc2l0aW9uKTtjb25zdCByPW4uZW5kLm9mZnNldC1uLnN0YXJ0Lm9mZnNldDtsZXQgYT1uLnN0YXJ0OygnbW92ZSc9PXR8fCdyZW1vdmUnPT10fHwncmVpbnNlcnQnPT10KSYmKGE9YS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihpLHIpKTtjb25zdCBzPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZSh0LGUuZGVsdGEudHlwZSxhLHIsaSk7KCdtb3ZlJz09dHx8J3JlbW92ZSc9PXR8fCdyZWluc2VydCc9PXQpJiYzPT1zLmxlbmd0aCYmKHNbMl09bik7Y29uc3QgbD1wdS5jcmVhdGVGcm9tUmFuZ2VzKHMpLGQ9IWwuaXNFcXVhbCh0aGlzKSxjPXRoaXMuY29udGFpbnNQb3NpdGlvbihhKSxtPWkmJih0aGlzLmNvbnRhaW5zUG9zaXRpb24oaSl8fHRoaXMuc3RhcnQuaXNFcXVhbChpKSk7aWYoZCl7Y29uc3QgZT1wdS5jcmVhdGVGcm9tUmFuZ2UodGhpcyk7dGhpcy5zdGFydD1sLnN0YXJ0LHRoaXMuZW5kPWwuZW5kLHRoaXMuZmlyZSgnY2hhbmdlOnJhbmdlJyxlLHt0eXBlOnQsYmF0Y2g6byxyYW5nZTpuLHNvdXJjZVBvc2l0aW9uOml9KX1lbHNlKGN8fG0pJiZ0aGlzLmZpcmUoJ2NoYW5nZTpjb250ZW50JyxwdS5jcmVhdGVGcm9tUmFuZ2UodGhpcykse3R5cGU6dCxiYXRjaDpvLHJhbmdlOm4sc291cmNlUG9zaXRpb246aX0pfWZ1bmN0aW9uIHZ0KGUpe3JldHVybiBlIGluc3RhbmNlb2Ygc3V8fGUgaW5zdGFuY2VvZiBhdT9lLmdldEF0dHJpYnV0ZXMoKTpudWxsfWZ1bmN0aW9uIHl0KGUsdCl7Y29uc3Qgbz1lLmRvY3VtZW50LmRpZmZlcjtmb3IoY29uc3QgbiBvZiBvLmdldENoYW5nZXMoKSl7aWYoJ2luc2VydCchPW4udHlwZSljb250aW51ZTtjb25zdCBvPW4ucG9zaXRpb24ucGFyZW50LGk9bi5sZW5ndGg9PT1vLm1heE9mZnNldDtpJiZlLmVucXVldWVDaGFuZ2UodCwoZSk9Pntjb25zdCB0PUFycmF5LmZyb20oby5nZXRBdHRyaWJ1dGVLZXlzKCkpLmZpbHRlcigoZSk9PmUuc3RhcnRzV2l0aChfdSkpO2Zvcihjb25zdCBuIG9mIHQpZS5yZW1vdmVBdHRyaWJ1dGUobixvKX0pfX1mdW5jdGlvbiB4dChlKXtyZXR1cm4gZT15dShlKSxlLnZpZXc9VHQoZS52aWV3LCdjb250YWluZXInKSwodCk9Pnt0Lm9uKCdpbnNlcnQ6JytlLm1vZGVsLE90KGUudmlldykse3ByaW9yaXR5OmUuY29udmVydGVyUHJpb3JpdHl8fCdub3JtYWwnfSl9fWZ1bmN0aW9uIEN0KGUpe2U9eXUoZSk7Y29uc3QgdD1lLm1vZGVsLmtleT9lLm1vZGVsLmtleTplLm1vZGVsO2xldCBvPSdhdHRyaWJ1dGU6Jyt0O2lmKGUubW9kZWwubmFtZSYmKG8rPSc6JytlLm1vZGVsLm5hbWUpLGUubW9kZWwudmFsdWVzKWZvcihjb25zdCB0IG9mIGUubW9kZWwudmFsdWVzKWUudmlld1t0XT1UdChlLnZpZXdbdF0sJ2F0dHJpYnV0ZScpO2Vsc2UgZS52aWV3PVR0KGUudmlldywnYXR0cmlidXRlJyk7Y29uc3Qgbj1FdChlKTtyZXR1cm4odCk9Pnt0Lm9uKG8sRnQobikse3ByaW9yaXR5OmUuY29udmVydGVyUHJpb3JpdHl8fCdub3JtYWwnfSl9fWZ1bmN0aW9uIEF0KGUpe2U9eXUoZSk7Y29uc3QgdD1lLm1vZGVsLmtleT9lLm1vZGVsLmtleTplLm1vZGVsO2xldCBvPSdhdHRyaWJ1dGU6Jyt0O2lmKGUubW9kZWwubmFtZSYmKG8rPSc6JytlLm1vZGVsLm5hbWUpLGUubW9kZWwudmFsdWVzKWZvcihjb25zdCB0IG9mIGUubW9kZWwudmFsdWVzKWUudmlld1t0XT1TdChlLnZpZXdbdF0pO2Vsc2UgZS52aWV3PVN0KGUudmlldyk7Y29uc3Qgbj1FdChlKTtyZXR1cm4odCk9Pnt0Lm9uKG8sVnQobikse3ByaW9yaXR5OmUuY29udmVydGVyUHJpb3JpdHl8fCdub3JtYWwnfSl9fWZ1bmN0aW9uIFR0KGUsdCl7cmV0dXJuJ2Z1bmN0aW9uJz09dHlwZW9mIGU/ZToobyxuKT0+UHQoZSxuLHQpfWZ1bmN0aW9uIFB0KGUsdCxvKXsnc3RyaW5nJz09dHlwZW9mIGUmJihlPXtuYW1lOmV9KTtsZXQgbjtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sZS5hdHRyaWJ1dGVzKTtpZignY29udGFpbmVyJz09byluPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChlLm5hbWUsaSk7ZWxzZSBpZignYXR0cmlidXRlJz09byl7Y29uc3Qgbz17cHJpb3JpdHk6ZS5wcmlvcml0eXx8UWMuREVGQVVMVF9QUklPUklUWX07bj10LmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoZS5uYW1lLGksbyl9ZWxzZSBuPXQuY3JlYXRlVUlFbGVtZW50KGUubmFtZSxpKTtpZihlLnN0eWxlcyl7Y29uc3Qgbz1PYmplY3Qua2V5cyhlLnN0eWxlcyk7Zm9yKGNvbnN0IGkgb2Ygbyl0LnNldFN0eWxlKGksZS5zdHlsZXNbaV0sbil9aWYoZS5jbGFzc2VzKXtjb25zdCBvPWUuY2xhc3NlcztpZignc3RyaW5nJz09dHlwZW9mIG8pdC5hZGRDbGFzcyhvLG4pO2Vsc2UgZm9yKGNvbnN0IGUgb2Ygbyl0LmFkZENsYXNzKGUsbil9cmV0dXJuIG59ZnVuY3Rpb24gRXQoZSl7cmV0dXJuIGUubW9kZWwudmFsdWVzPyh0LG8pPT57Y29uc3Qgbj1lLnZpZXdbdF07cmV0dXJuIG4/bih0LG8pOm51bGx9OmUudmlld31mdW5jdGlvbiBTdChlKXtyZXR1cm4nc3RyaW5nJz09dHlwZW9mIGU/KHQpPT4oe2tleTplLHZhbHVlOnR9KTonb2JqZWN0Jz09dHlwZW9mIGU/ZS52YWx1ZT8oKT0+ZToodCk9Pih7a2V5OmUua2V5LHZhbHVlOnR9KTplfWZ1bmN0aW9uIE90KGUpe3JldHVybih0LG8sbik9Pntjb25zdCBpPWUoby5pdGVtLG4ud3JpdGVyKTtpZihpJiZuLmNvbnN1bWFibGUuY29uc3VtZShvLml0ZW0sJ2luc2VydCcpKXtjb25zdCBlPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKG8ucmFuZ2Uuc3RhcnQpO24ubWFwcGVyLmJpbmRFbGVtZW50cyhvLml0ZW0saSksbi53cml0ZXIuaW5zZXJ0KGUsaSl9fX1mdW5jdGlvbiBJdCgpe3JldHVybihlLHQsbyk9PntpZihvLmNvbnN1bWFibGUuY29uc3VtZSh0Lml0ZW0sJ2luc2VydCcpKXtjb25zdCBlPW8ud3JpdGVyLG49by5tYXBwZXIudG9WaWV3UG9zaXRpb24odC5yYW5nZS5zdGFydCksaT1lLmNyZWF0ZVRleHQodC5pdGVtLmRhdGEpO2UuaW5zZXJ0KG4saSl9fX1mdW5jdGlvbiBSdCgpe3JldHVybihlLHQsbyk9Pntjb25zdCBuPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKHQucG9zaXRpb24pLGk9dC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkodC5sZW5ndGgpLHI9by5tYXBwZXIudG9WaWV3UG9zaXRpb24oaSx7aXNQaGFudG9tOiEwfSksYT1uZXcgVWMobixyKSxzPW8ud3JpdGVyLnJlbW92ZShhLmdldFRyaW1tZWQoKSk7Zm9yKGNvbnN0IG4gb2YgVWMuY3JlYXRlSW4ocykuZ2V0SXRlbXMoKSlvLm1hcHBlci51bmJpbmRWaWV3RWxlbWVudChuKX19ZnVuY3Rpb24gVnQoZSl7cmV0dXJuIGU9ZXx8KChlLHQpPT4oe3ZhbHVlOmUsa2V5OnQuYXR0cmlidXRlS2V5fSkpLCh0LG8sbik9Pntjb25zdCBpPWUoby5hdHRyaWJ1dGVPbGRWYWx1ZSxvKSxyPWUoby5hdHRyaWJ1dGVOZXdWYWx1ZSxvKTtpZigoaXx8cikmJm4uY29uc3VtYWJsZS5jb25zdW1lKG8uaXRlbSx0Lm5hbWUpKXtjb25zdCBlPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoby5pdGVtKSx0PW4ud3JpdGVyO2lmKG51bGwhPT1vLmF0dHJpYnV0ZU9sZFZhbHVlJiZpKWlmKCdjbGFzcyc9PWkua2V5KXtjb25zdCBvPUFycmF5LmlzQXJyYXkoaS52YWx1ZSk/aS52YWx1ZTpbaS52YWx1ZV07Zm9yKGNvbnN0IG4gb2Ygbyl0LnJlbW92ZUNsYXNzKG4sZSl9ZWxzZSBpZignc3R5bGUnPT1pLmtleSl7Y29uc3Qgbz1PYmplY3Qua2V5cyhpLnZhbHVlKTtmb3IoY29uc3QgbiBvZiBvKXQucmVtb3ZlU3R5bGUobixlKX1lbHNlIHQucmVtb3ZlQXR0cmlidXRlKGkua2V5LGUpO2lmKG51bGwhPT1vLmF0dHJpYnV0ZU5ld1ZhbHVlJiZyKWlmKCdjbGFzcyc9PXIua2V5KXtjb25zdCBvPUFycmF5LmlzQXJyYXkoci52YWx1ZSk/ci52YWx1ZTpbci52YWx1ZV07Zm9yKGNvbnN0IG4gb2Ygbyl0LmFkZENsYXNzKG4sZSl9ZWxzZSBpZignc3R5bGUnPT1yLmtleSl7Y29uc3Qgbz1PYmplY3Qua2V5cyhyLnZhbHVlKTtmb3IoY29uc3QgbiBvZiBvKXQuc2V0U3R5bGUobixyLnZhbHVlW25dLGUpfWVsc2UgdC5zZXRBdHRyaWJ1dGUoci5rZXksci52YWx1ZSxlKX19fWZ1bmN0aW9uIEZ0KGUpe3JldHVybih0LG8sbik9Pntjb25zdCBpPWUoby5hdHRyaWJ1dGVPbGRWYWx1ZSxuLndyaXRlcikscj1lKG8uYXR0cmlidXRlTmV3VmFsdWUsbi53cml0ZXIpO2lmKChpfHxyKSYmbi5jb25zdW1hYmxlLmNvbnN1bWUoby5pdGVtLHQubmFtZSkpe2NvbnN0IGU9bi53cml0ZXIsdD1lLmRvY3VtZW50LnNlbGVjdGlvbjtpZihvLml0ZW0gaW5zdGFuY2VvZiBidXx8by5pdGVtIGluc3RhbmNlb2Ygd3UpZS53cmFwKHQuZ2V0Rmlyc3RSYW5nZSgpLHIpO2Vsc2V7bGV0IHQ9bi5tYXBwZXIudG9WaWV3UmFuZ2Uoby5yYW5nZSk7bnVsbCE9PW8uYXR0cmlidXRlT2xkVmFsdWUmJmkmJih0PWUudW53cmFwKHQsaSkpLG51bGwhPT1vLmF0dHJpYnV0ZU5ld1ZhbHVlJiZyJiZlLndyYXAodCxyKX19fX1mdW5jdGlvbiBOdChlLHQpe3JldHVybihvLG4pPT57Y29uc3QgaT1uLm5ld1NlbGVjdGlvbixyPW5ldyBidSxhPVtdO2Zvcihjb25zdCBlIG9mIGkuZ2V0UmFuZ2VzKCkpYS5wdXNoKHQudG9Nb2RlbFJhbmdlKGUpKTtyLnNldFRvKGEse2JhY2t3YXJkOmkuaXNCYWNrd2FyZH0pLHIuaXNFcXVhbChlLmRvY3VtZW50LnNlbGVjdGlvbil8fGUuY2hhbmdlKChlKT0+e2Uuc2V0U2VsZWN0aW9uKHIpfSl9fWZ1bmN0aW9uIER0KCl7cmV0dXJuKGUsdCxvKT0+e2NvbnN0IG49dC5zZWxlY3Rpb247aWYoIW4uaXNDb2xsYXBzZWQmJm8uY29uc3VtYWJsZS5jb25zdW1lKG4sJ3NlbGVjdGlvbicpKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIG4uZ2V0UmFuZ2VzKCkpe2NvbnN0IG49by5tYXBwZXIudG9WaWV3UmFuZ2UodCk7ZS5wdXNoKG4pfW8ud3JpdGVyLnNldFNlbGVjdGlvbihlLHtiYWNrd2FyZDpuLmlzQmFja3dhcmR9KX19fWZ1bmN0aW9uIE10KCl7cmV0dXJuKGUsdCxvKT0+e2NvbnN0IG49dC5zZWxlY3Rpb247aWYobi5pc0NvbGxhcHNlZCYmby5jb25zdW1hYmxlLmNvbnN1bWUobiwnc2VsZWN0aW9uJykpe2NvbnN0IGU9by53cml0ZXIsdD1uLmdldEZpcnN0UG9zaXRpb24oKSxpPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKHQpLHI9ZS5icmVha0F0dHJpYnV0ZXMoaSk7ZS5zZXRTZWxlY3Rpb24ocil9fX1mdW5jdGlvbiBCdCgpe3JldHVybihlLHQsbyk9Pntjb25zdCBuPW8ud3JpdGVyLGk9bi5kb2N1bWVudC5zZWxlY3Rpb247Zm9yKGNvbnN0IG4gb2YgaS5nZXRSYW5nZXMoKSluLmlzQ29sbGFwc2VkJiZuLmVuZC5wYXJlbnQuZG9jdW1lbnQmJm8ud3JpdGVyLm1lcmdlQXR0cmlidXRlcyhuLnN0YXJ0KTtuLnNldFNlbGVjdGlvbihudWxsKX19ZnVuY3Rpb24gTHQoZSx0KXtjb25zdCBvPWp0KCk7aWYoMT09PW8mJihlPU9iamVjdC5rZXlzKHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMpWzBdKSwwPT09b3x8IXp0KGUsdCkpcmV0dXJuIHQucmVwbGFjZSgvIFxcW2NvbnRleHQ6IFteXFxdXStcXF0kLywnJyk7Y29uc3Qgbj13aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW2VdO3JldHVybiBuW3RdLnJlcGxhY2UoLyBcXFtjb250ZXh0OiBbXlxcXV0rXFxdJC8sJycpfWZ1bmN0aW9uIHp0KGUsdCl7cmV0dXJuIGUgaW4gd2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUyYmdCBpbiB3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW2VdfWZ1bmN0aW9uIGp0KCl7cmV0dXJuIE9iamVjdC5rZXlzKHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMpLmxlbmd0aH1mdW5jdGlvbiBxdChlLHQpe2NvbnN0IG89e25hbWU6dCxhbGxvd0luOltdLGFsbG93Q29udGVudE9mOltdLGFsbG93V2hlcmU6W10sYWxsb3dBdHRyaWJ1dGVzOltdLGFsbG93QXR0cmlidXRlc09mOltdLGluaGVyaXRUeXBlc0Zyb206W119O3JldHVybiBKdChlLG8pLFF0KGUsbywnYWxsb3dJbicpLFF0KGUsbywnYWxsb3dDb250ZW50T2YnKSxRdChlLG8sJ2FsbG93V2hlcmUnKSxRdChlLG8sJ2FsbG93QXR0cmlidXRlcycpLFF0KGUsbywnYWxsb3dBdHRyaWJ1dGVzT2YnKSxRdChlLG8sJ2luaGVyaXRUeXBlc0Zyb20nKSxZdChlLG8pLG99ZnVuY3Rpb24gV3QoZSx0KXtmb3IoY29uc3QgbyBvZiBlW3RdLmFsbG93Q29udGVudE9mKWlmKGVbb10pe2NvbnN0IG49WHQoZSxvKTtuLmZvckVhY2goKGUpPT57ZS5hbGxvd0luLnB1c2godCl9KX1kZWxldGUgZVt0XS5hbGxvd0NvbnRlbnRPZn1mdW5jdGlvbiBVdChlLHQpe2Zvcihjb25zdCBvIG9mIGVbdF0uYWxsb3dXaGVyZSl7Y29uc3Qgbj1lW29dO2lmKG4pe2NvbnN0IG89bi5hbGxvd0luO2VbdF0uYWxsb3dJbi5wdXNoKC4uLm8pfX1kZWxldGUgZVt0XS5hbGxvd1doZXJlfWZ1bmN0aW9uIEh0KGUsdCl7Zm9yKGNvbnN0IG8gb2YgZVt0XS5hbGxvd0F0dHJpYnV0ZXNPZil7Y29uc3Qgbj1lW29dO2lmKG4pe2NvbnN0IG89bi5hbGxvd0F0dHJpYnV0ZXM7ZVt0XS5hbGxvd0F0dHJpYnV0ZXMucHVzaCguLi5vKX19ZGVsZXRlIGVbdF0uYWxsb3dBdHRyaWJ1dGVzT2Z9ZnVuY3Rpb24gS3QoZSx0KXtjb25zdCBvPWVbdF07Zm9yKGNvbnN0IG4gb2Ygby5pbmhlcml0VHlwZXNGcm9tKXtjb25zdCB0PWVbbl07aWYodCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0KS5maWx0ZXIoKGUpPT5lLnN0YXJ0c1dpdGgoJ2lzJykpO2Zvcihjb25zdCBuIG9mIGUpbiBpbiBvfHwob1tuXT10W25dKX19ZGVsZXRlIG8uaW5oZXJpdFR5cGVzRnJvbX1mdW5jdGlvbiBHdChlLHQpe2NvbnN0IG89ZVt0XSxuPW8uYWxsb3dJbi5maWx0ZXIoKHQpPT5lW3RdKTtvLmFsbG93SW49QXJyYXkuZnJvbShuZXcgU2V0KG4pKX1mdW5jdGlvbiAkdChlLHQpe2NvbnN0IG89ZVt0XTtvLmFsbG93QXR0cmlidXRlcz1BcnJheS5mcm9tKG5ldyBTZXQoby5hbGxvd0F0dHJpYnV0ZXMpKX1mdW5jdGlvbiBKdChlLHQpe2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9T2JqZWN0LmtleXMobykuZmlsdGVyKChlKT0+ZS5zdGFydHNXaXRoKCdpcycpKTtmb3IoY29uc3QgbiBvZiBlKXRbbl09b1tuXX19ZnVuY3Rpb24gUXQoZSx0LG8pe2Zvcihjb25zdCBuIG9mIGUpJ3N0cmluZyc9PXR5cGVvZiBuW29dP3Rbb10ucHVzaChuW29dKTpBcnJheS5pc0FycmF5KG5bb10pJiZ0W29dLnB1c2goLi4ubltvXSl9ZnVuY3Rpb24gWXQoZSx0KXtmb3IoY29uc3QgbyBvZiBlKXtjb25zdCBlPW8uaW5oZXJpdEFsbEZyb207ZSYmKHQuYWxsb3dDb250ZW50T2YucHVzaChlKSx0LmFsbG93V2hlcmUucHVzaChlKSx0LmFsbG93QXR0cmlidXRlc09mLnB1c2goZSksdC5pbmhlcml0VHlwZXNGcm9tLnB1c2goZSkpfX1mdW5jdGlvbiBYdChlLHQpe2NvbnN0IG89ZVt0XTtyZXR1cm4gWnQoZSkuZmlsdGVyKChlKT0+ZS5hbGxvd0luLmluY2x1ZGVzKG8ubmFtZSkpfWZ1bmN0aW9uIFp0KGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKHQpPT5lW3RdKX1mdW5jdGlvbiBlbyhlKXtyZXR1cm4nc3RyaW5nJz09dHlwZW9mIGU/e25hbWU6ZSwqZ2V0QXR0cmlidXRlS2V5cygpe30sZ2V0QXR0cmlidXRlKCl7fX06e25hbWU6ZS5pcygnZWxlbWVudCcpP2UubmFtZTonJHRleHQnLCpnZXRBdHRyaWJ1dGVLZXlzKCl7eWllbGQqZS5nZXRBdHRyaWJ1dGVLZXlzKCl9LGdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9fX1mdW5jdGlvbip0byhlLHQpe2ZvcihsZXQgbz0hMTshbzspe2lmKG89ITAsZSl7Y29uc3QgdD1lLm5leHQoKTt0LmRvbmV8fChvPSExLHlpZWxke3dhbGtlcjplLHZhbHVlOnQudmFsdWV9KX1pZih0KXtjb25zdCBlPXQubmV4dCgpO2UuZG9uZXx8KG89ITEseWllbGR7d2Fsa2VyOnQsdmFsdWU6ZS52YWx1ZX0pfX19ZnVuY3Rpb24gb28oZSx0KXtjb25zdCBvPW5ldyBTZXQsbj1uZXcgTWFwLGk9cHUuY3JlYXRlSW4oZSkuZ2V0SXRlbXMoKTtmb3IoY29uc3QgbiBvZiBpKSckbWFya2VyJz09bi5uYW1lJiZvLmFkZChuKTtmb3IoY29uc3QgaSBvZiBvKXtjb25zdCBlPWkuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSxvPXV1LmNyZWF0ZUJlZm9yZShpKTtuLmhhcyhlKT9uLmdldChlKS5lbmQ9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKG8pOm4uc2V0KGUsbmV3IHB1KHV1LmNyZWF0ZUZyb21Qb3NpdGlvbihvKSkpLHQucmVtb3ZlKGkpfXJldHVybiBufWZ1bmN0aW9uIG5vKGUsdCl7bGV0IG87Zm9yKGNvbnN0IG4gb2YgbmV3IE91KGUpKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIG4uZ2V0QXR0cmlidXRlS2V5cygpKWVbdF09bi5nZXRBdHRyaWJ1dGUodCk7Y29uc3QgaT10LmNyZWF0ZUVsZW1lbnQobi5uYW1lLGUpO28mJnQuYXBwZW5kKGksbyksbz11dS5jcmVhdGVBdChpKX1yZXR1cm4gb31mdW5jdGlvbiBpbyhlKXtlPXl1KGUpO2NvbnN0IHQ9bG8oZSksbz1zbyhlKSxuPW8/J2VsZW1lbnQ6JytvOidlbGVtZW50JztyZXR1cm4obyk9PntvLm9uKG4sdCx7cHJpb3JpdHk6ZS5jb252ZXJ0ZXJQcmlvcml0eXx8J25vcm1hbCd9KX19ZnVuY3Rpb24gcm8oZSl7ZT15dShlKSx1byhlKTtjb25zdCB0PXBvKGUpLG89c28oZSksbj1vPydlbGVtZW50OicrbzonZWxlbWVudCc7cmV0dXJuKG8pPT57by5vbihuLHQse3ByaW9yaXR5OmUuY29udmVydGVyUHJpb3JpdHl8fCdub3JtYWwnfSl9fWZ1bmN0aW9uIGFvKGUpe2U9eXUoZSk7bGV0IHQ9bnVsbDsoJ3N0cmluZyc9PXR5cGVvZiBlLnZpZXd8fGUudmlldy5rZXkpJiYodD1tbyhlKSksdW8oZSx0KTtjb25zdCBvPXBvKGUpO3JldHVybih0KT0+e3Qub24oJ2VsZW1lbnQnLG8se3ByaW9yaXR5OmUuY29udmVydGVyUHJpb3JpdHl8fCdsb3cnfSl9fWZ1bmN0aW9uIHNvKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZS52aWV3P2Uudmlldzonb2JqZWN0Jz09dHlwZW9mIGUudmlldyYmJ3N0cmluZyc9PXR5cGVvZiBlLnZpZXcubmFtZT9lLnZpZXcubmFtZTpudWxsfWZ1bmN0aW9uIGxvKGUpe2NvbnN0IHQ9bmV3IFhkKGUudmlldyk7cmV0dXJuKG8sbixpKT0+e2NvbnN0IHI9dC5tYXRjaChuLnZpZXdJdGVtKTtpZihyKXtyLm1hdGNoLm5hbWU9ITA7Y29uc3QgdD1jbyhlLm1vZGVsLG4udmlld0l0ZW0saS53cml0ZXIpO2lmKHQmJmkuY29uc3VtYWJsZS50ZXN0KG4udmlld0l0ZW0sci5tYXRjaCkpe2NvbnN0IGU9aS5zcGxpdFRvQWxsb3dlZFBhcmVudCh0LG4ubW9kZWxDdXJzb3IpO2lmKGUpe2kud3JpdGVyLmluc2VydCh0LGUucG9zaXRpb24pO2NvbnN0IG89aS5jb252ZXJ0Q2hpbGRyZW4obi52aWV3SXRlbSx1dS5jcmVhdGVBdCh0KSk7aS5jb25zdW1hYmxlLmNvbnN1bWUobi52aWV3SXRlbSxyLm1hdGNoKSxuLm1vZGVsUmFuZ2U9bmV3IHB1KHV1LmNyZWF0ZUJlZm9yZSh0KSx1dS5jcmVhdGVBZnRlcihvLm1vZGVsQ3Vyc29yLnBhcmVudCkpLG4ubW9kZWxDdXJzb3I9ZS5jdXJzb3JQYXJlbnQ/dXUuY3JlYXRlQXQoZS5jdXJzb3JQYXJlbnQpOm4ubW9kZWxSYW5nZS5lbmR9fX19fWZ1bmN0aW9uIGNvKGUsdCxvKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEZ1bmN0aW9uP2UodCxvKTpvLmNyZWF0ZUVsZW1lbnQoZSl9ZnVuY3Rpb24gbW8oZSl7J3N0cmluZyc9PXR5cGVvZiBlLnZpZXcmJihlLnZpZXc9e2tleTplLnZpZXd9KTtjb25zdCB0PWUudmlldy5rZXk7bGV0IG87aWYoJ2NsYXNzJz09dHx8J3N0eWxlJz09dCl7Y29uc3Qgbj0nY2xhc3MnPT10PydjbGFzc2VzJzonc3R5bGVzJztvPXtbbl06ZS52aWV3LnZhbHVlfX1lbHNle2NvbnN0IG49J3VuZGVmaW5lZCc9PXR5cGVvZiBlLnZpZXcudmFsdWU/L1tcXHNcXFNdKi86ZS52aWV3LnZhbHVlO289e2F0dHJpYnV0ZXM6e1t0XTpufX19cmV0dXJuIGUudmlldy5uYW1lJiYoby5uYW1lPWUudmlldy5uYW1lKSxlLnZpZXc9byx0fWZ1bmN0aW9uIHVvKGUsdD1udWxsKXtjb25zdCBvPSdvYmplY3QnPT10eXBlb2YgZS5tb2RlbD9lLm1vZGVsLmtleTplLm1vZGVsLG49J29iamVjdCchPXR5cGVvZiBlLm1vZGVsfHwndW5kZWZpbmVkJz09dHlwZW9mIGUubW9kZWwudmFsdWU/IShudWxsIT09dCl8fCgoZSk9PmUuZ2V0QXR0cmlidXRlKHQpKTplLm1vZGVsLnZhbHVlO2UubW9kZWw9e2tleTpvLHZhbHVlOm59fWZ1bmN0aW9uIHBvKGUpe2NvbnN0IHQ9bmV3IFhkKGUudmlldyk7cmV0dXJuKG8sbixpKT0+e2NvbnN0IHI9dC5tYXRjaChuLnZpZXdJdGVtKTtpZihyKXtjb25zdCB0PWUubW9kZWwua2V5LG89J2Z1bmN0aW9uJz09dHlwZW9mIGUubW9kZWwudmFsdWU/ZS5tb2RlbC52YWx1ZShuLnZpZXdJdGVtKTplLm1vZGVsLnZhbHVlO2lmKG51bGwhPT1vJiYoZ28oZSk/ci5tYXRjaC5uYW1lPSEwOmRlbGV0ZSByLm1hdGNoLm5hbWUsISFpLmNvbnN1bWFibGUudGVzdChuLnZpZXdJdGVtLHIubWF0Y2gpKSl7bi5tb2RlbFJhbmdlfHwobj1PYmplY3QuYXNzaWduKG4saS5jb252ZXJ0Q2hpbGRyZW4obi52aWV3SXRlbSxuLm1vZGVsQ3Vyc29yKSkpO2NvbnN0IGU9Zm8obi5tb2RlbFJhbmdlLHtrZXk6dCx2YWx1ZTpvfSxpKTtlJiZpLmNvbnN1bWFibGUuY29uc3VtZShuLnZpZXdJdGVtLHIubWF0Y2gpfX19fWZ1bmN0aW9uIGdvKGUpe3JldHVybiEhKCdvYmplY3QnIT10eXBlb2YgZS52aWV3fHxzbyhlKSkmJiFlLnZpZXcuY2xhc3NlcyYmIWUudmlldy5hdHRyaWJ1dGVzJiYhZS52aWV3LnN0eWxlc31mdW5jdGlvbiBmbyhlLHQsbyl7bGV0IG49ITE7Zm9yKGNvbnN0IGkgb2YgQXJyYXkuZnJvbShlLmdldEl0ZW1zKCkpKW8uc2NoZW1hLmNoZWNrQXR0cmlidXRlKGksdC5rZXkpJiYoby53cml0ZXIuc2V0QXR0cmlidXRlKHQua2V5LHQudmFsdWUsaSksbj0hMCk7cmV0dXJuIG59ZnVuY3Rpb24gaG8oKXtyZXR1cm4oZSx0LG8pPT57aWYoIXQubW9kZWxSYW5nZSYmby5jb25zdW1hYmxlLmNvbnN1bWUodC52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdHttb2RlbFJhbmdlOmUsbW9kZWxDdXJzb3I6bn09by5jb252ZXJ0Q2hpbGRyZW4odC52aWV3SXRlbSx0Lm1vZGVsQ3Vyc29yKTt0Lm1vZGVsUmFuZ2U9ZSx0Lm1vZGVsQ3Vyc29yPW59fX1mdW5jdGlvbiBibygpe3JldHVybihlLHQsbyk9PntpZihvLnNjaGVtYS5jaGVja0NoaWxkKHQubW9kZWxDdXJzb3IsJyR0ZXh0JykmJm8uY29uc3VtYWJsZS5jb25zdW1lKHQudmlld0l0ZW0pKXtjb25zdCBlPW8ud3JpdGVyLmNyZWF0ZVRleHQodC52aWV3SXRlbS5kYXRhKTtvLndyaXRlci5pbnNlcnQoZSx0Lm1vZGVsQ3Vyc29yKSx0Lm1vZGVsUmFuZ2U9cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5tb2RlbEN1cnNvcixlLm9mZnNldFNpemUpLHQubW9kZWxDdXJzb3I9dC5tb2RlbFJhbmdlLmVuZH19fWZ1bmN0aW9uIGtvKGUpe2NvbnN0IHQ9W10sbz1lLnJvb3QuZG9jdW1lbnQ7aWYoIW8pcmV0dXJuW107Y29uc3Qgbj1wdS5jcmVhdGVJbihlKTtmb3IoY29uc3QgaSBvZiBvLm1vZGVsLm1hcmtlcnMpe2NvbnN0IGU9bi5nZXRJbnRlcnNlY3Rpb24oaS5nZXRSYW5nZSgpKTtlJiZ0LnB1c2goW2kubmFtZSxlXSl9cmV0dXJuIHR9ZnVuY3Rpb24gX28oZSx0KXtmb3IoY29uc3QgbyBvZiBlKXQobyl9ZnVuY3Rpb24qd28oZSl7aWYoZS5tb2RlbC52YWx1ZXMpZm9yKGNvbnN0IHQgb2YgZS5tb2RlbC52YWx1ZXMpe2NvbnN0IG89e2tleTplLm1vZGVsLmtleSx2YWx1ZTp0fSxuPWUudmlld1t0XSxpPWUudXBjYXN0QWxzbz9lLnVwY2FzdEFsc29bdF06dm9pZCAwO3lpZWxkKnZvKG8sbixpKX1lbHNlIHlpZWxkKnZvKGUubW9kZWwsZS52aWV3LGUudXBjYXN0QWxzbyl9ZnVuY3Rpb24qdm8oZSx0LG8pe2lmKHlpZWxke21vZGVsOmUsdmlldzp0fSxvKXtvPUFycmF5LmlzQXJyYXkobyk/bzpbb107Zm9yKGNvbnN0IHQgb2Ygbyl5aWVsZHttb2RlbDplLHZpZXc6dH19fWZ1bmN0aW9uIHlvKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT9bbmV3IGF1KGUpXTooUChlKXx8KGU9W2VdKSxBcnJheS5mcm9tKGUpLm1hcCgoZSk9PidzdHJpbmcnPT10eXBlb2YgZT9uZXcgYXUoZSk6ZSBpbnN0YW5jZW9mIHN1P25ldyBhdShlLmRhdGEsZS5nZXRBdHRyaWJ1dGVzKCkpOmUpKX1mdW5jdGlvbiB4byhlLHQpe3Q9UG8odCk7Y29uc3Qgbz10LnJlZHVjZSgoZSx0KT0+ZSt0Lm9mZnNldFNpemUsMCksbj1lLnBhcmVudDtTbyhlKTtjb25zdCBpPWUuaW5kZXg7cmV0dXJuIG4uX2luc2VydENoaWxkKGksdCksRW8obixpK3QubGVuZ3RoKSxFbyhuLGkpLG5ldyBwdShlLGUuZ2V0U2hpZnRlZEJ5KG8pKX1mdW5jdGlvbiBDbyhlKXtpZighZS5pc0ZsYXQpdGhyb3cgbmV3IF9zKCdvcGVyYXRpb24tdXRpbHMtcmVtb3ZlLXJhbmdlLW5vdC1mbGF0OiBUcnlpbmcgdG8gcmVtb3ZlIGEgcmFuZ2Ugd2hpY2ggc3RhcnRzIGFuZCBlbmRzIGluIGRpZmZlcmVudCBlbGVtZW50LicpO2NvbnN0IHQ9ZS5zdGFydC5wYXJlbnQ7U28oZS5zdGFydCksU28oZS5lbmQpO2NvbnN0IG89dC5fcmVtb3ZlQ2hpbGRyZW4oZS5zdGFydC5pbmRleCxlLmVuZC5pbmRleC1lLnN0YXJ0LmluZGV4KTtyZXR1cm4gRW8odCxlLnN0YXJ0LmluZGV4KSxvfWZ1bmN0aW9uIEFvKGUsdCl7aWYoIWUuaXNGbGF0KXRocm93IG5ldyBfcygnb3BlcmF0aW9uLXV0aWxzLW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFRyeWluZyB0byBtb3ZlIGEgcmFuZ2Ugd2hpY2ggc3RhcnRzIGFuZCBlbmRzIGluIGRpZmZlcmVudCBlbGVtZW50LicpO2NvbnN0IG89Q28oZSk7cmV0dXJuIHQ9dC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc3RhcnQsZS5lbmQub2Zmc2V0LWUuc3RhcnQub2Zmc2V0KSx4byh0LG8pfWZ1bmN0aW9uIFRvKGUsdCxvKXtTbyhlLnN0YXJ0KSxTbyhlLmVuZCk7Zm9yKGNvbnN0IG4gb2YgZS5nZXRJdGVtcygpKXtjb25zdCBlPW4uaXMoJ3RleHRQcm94eScpP24udGV4dE5vZGU6bjtudWxsPT09bz9lLl9yZW1vdmVBdHRyaWJ1dGUodCk6ZS5fc2V0QXR0cmlidXRlKHQsbyksRW8oZS5wYXJlbnQsZS5pbmRleCl9RW8oZS5lbmQucGFyZW50LGUuZW5kLmluZGV4KX1mdW5jdGlvbiBQbyhlKXtjb25zdCB0PVtdO2UgaW5zdGFuY2VvZiBBcnJheXx8KGU9W2VdKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKylpZignc3RyaW5nJz09dHlwZW9mIGVbb10pdC5wdXNoKG5ldyBhdShlW29dKSk7ZWxzZSBpZihlW29daW5zdGFuY2VvZiBzdSl0LnB1c2gobmV3IGF1KGVbb10uZGF0YSxlW29dLmdldEF0dHJpYnV0ZXMoKSkpO2Vsc2UgaWYoZVtvXWluc3RhbmNlb2YgTnV8fGVbb11pbnN0YW5jZW9mIGx1KWZvcihjb25zdCBuIG9mIGVbb10pdC5wdXNoKG4pO2Vsc2UgZVtvXWluc3RhbmNlb2YgcnUmJnQucHVzaChlW29dKTtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rKyl7Y29uc3QgZT10W29dLG49dFtvLTFdO2UgaW5zdGFuY2VvZiBhdSYmbiBpbnN0YW5jZW9mIGF1JiZPbyhlLG4pJiYodC5zcGxpY2Uoby0xLDIsbmV3IGF1KG4uZGF0YStlLmRhdGEsbi5nZXRBdHRyaWJ1dGVzKCkpKSxvLS0pfXJldHVybiB0fWZ1bmN0aW9uIEVvKGUsdCl7Y29uc3Qgbz1lLmdldENoaWxkKHQtMSksbj1lLmdldENoaWxkKHQpO2lmKG8mJm4mJm8uaXMoJ3RleHQnKSYmbi5pcygndGV4dCcpJiZPbyhvLG4pKXtjb25zdCBpPW5ldyBhdShvLmRhdGErbi5kYXRhLG8uZ2V0QXR0cmlidXRlcygpKTtlLl9yZW1vdmVDaGlsZHJlbih0LTEsMiksZS5faW5zZXJ0Q2hpbGQodC0xLGkpfX1mdW5jdGlvbiBTbyhlKXtjb25zdCB0PWUudGV4dE5vZGUsbz1lLnBhcmVudDtpZih0KXtjb25zdCBuPWUub2Zmc2V0LXQuc3RhcnRPZmZzZXQsaT10LmluZGV4O28uX3JlbW92ZUNoaWxkcmVuKGksMSk7Y29uc3Qgcj1uZXcgYXUodC5kYXRhLnN1YnN0cigwLG4pLHQuZ2V0QXR0cmlidXRlcygpKSxhPW5ldyBhdSh0LmRhdGEuc3Vic3RyKG4pLHQuZ2V0QXR0cmlidXRlcygpKTtvLl9pbnNlcnRDaGlsZChpLFtyLGFdKX19ZnVuY3Rpb24gT28oZSx0KXtjb25zdCBvPWUuZ2V0QXR0cmlidXRlcygpLG49dC5nZXRBdHRyaWJ1dGVzKCk7Zm9yKGNvbnN0IGkgb2Ygbyl7aWYoaVsxXSE9PXQuZ2V0QXR0cmlidXRlKGlbMF0pKXJldHVybiExO24ubmV4dCgpfXJldHVybiBuLm5leHQoKS5kb25lfWZ1bmN0aW9uIElvKGUpe3JldHVybltlLmNsb25lKCldfWZ1bmN0aW9uIFJvKGUsdCl7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspdFtvXS5iYXNlVmVyc2lvbj1lK28rMTtyZXR1cm4gdH1mdW5jdGlvbiBWbyhlLHQpe3JldHVybiBudWxsPT09ZS50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KX1mdW5jdGlvbiBGbyhlKXtyZXR1cm4gMD09PWUubGVuZ3RoP251bGw6MT09ZS5sZW5ndGg/ZVswXTooZVswXS5lbmQ9ZVtlLmxlbmd0aC0xXS5lbmQsZVswXSl9ZnVuY3Rpb24gTm8oZSx0LG8pe2NvbnN0IG49W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IGk9RG8oZVtyXSx0LG8uaXNTdGlja3kpO24ucHVzaChpKTtmb3IobGV0IHQ9cisxO3Q8ZS5sZW5ndGg7dCsrKWVbdF09ZVt0XS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoaS5zb3VyY2VQb3NpdGlvbixpLnRhcmdldFBvc2l0aW9uLGkuaG93TWFueSlbMF07dD10Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShpLnNvdXJjZVBvc2l0aW9uLGkudGFyZ2V0UG9zaXRpb24saS5ob3dNYW55LCEwLCExKX1yZXR1cm4gbn1mdW5jdGlvbiBEbyhlLHQsbyl7bGV0IG49JyRncmF2ZXlhcmQnPT10LnJvb3Qucm9vdE5hbWU/enU6JyRncmF2ZXlhcmQnPT1lLnN0YXJ0LnJvb3Qucm9vdE5hbWU/THU6QnU7Y29uc3QgaT1uZXcgbihlLnN0YXJ0LGUuZW5kLm9mZnNldC1lLnN0YXJ0Lm9mZnNldCx0LDApO3JldHVybiBpLmlzU3RpY2t5PW8saX1mdW5jdGlvbiBNbyhlLHQsbyxuLGkpe3ZhciByPS0xLGE9ZS5sZW5ndGg7Zm9yKG98fChvPWNwKSxpfHwoaT1bXSk7KytyPGE7KXt2YXIgcz1lW3JdOzA8dCYmbyhzKT8xPHQ/TW8ocyx0LTEsbyxuLGkpOkhsKGkscyk6IW4mJihpW2kubGVuZ3RoXT1zKX1yZXR1cm4gaX1mdW5jdGlvbiBCbyhlLHQsbyxuKXt2YXIgaT1vLmxlbmd0aCxyPWksYT0hbjtpZihudWxsPT1lKXJldHVybiFyO2ZvcihlPU9iamVjdChlKTtpLS07KXt2YXIgcz1vW2ldO2lmKGEmJnNbMl0/c1sxXSE9PWVbc1swXV06IShzWzBdaW4gZSkpcmV0dXJuITF9Zm9yKDsrK2k8cjspe3M9b1tpXTt2YXIgbD1zWzBdLGQ9ZVtsXSxjPXNbMV07aWYoIShhJiZzWzJdKSl7dmFyIG09bmV3IGFsO2lmKG4pdmFyIHU9bihkLGMsbCxlLHQsbSk7aWYodm9pZCAwPT09dT8hQm0oYyxkLG4sdnB8eXAsbSk6IXUpcmV0dXJuITF9ZWxzZSBpZih2b2lkIDA9PT1kJiYhKGwgaW4gZSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gTG8oZSx0KXtpZignZnVuY3Rpb24nIT10eXBlb2YgZXx8dCYmJ2Z1bmN0aW9uJyE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihPcCk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMsaT10P3QuYXBwbHkodGhpcyxuKTpuWzBdLHI9by5jYWNoZTtpZihyLmhhcyhpKSlyZXR1cm4gci5nZXQoaSk7dmFyIGE9ZS5hcHBseSh0aGlzLG4pO3JldHVybiBvLmNhY2hlPXIuc2V0KGksYSksYX07cmV0dXJuIG8uY2FjaGU9bmV3KExvLkNhY2hlfHxybCksb31mdW5jdGlvbiB6byhlLHQpe2lmKFNsKGUpKXJldHVybiExO3ZhciBvPXR5cGVvZiBlO3JldHVybiEhKCdudW1iZXInPT1vfHwnc3ltYm9sJz09b3x8J2Jvb2xlYW4nPT1vfHxudWxsPT1lfHxyYyhlKSl8fHpwLnRlc3QoZSl8fCFMcC50ZXN0KGUpfHxudWxsIT10JiZlIGluIE9iamVjdCh0KX1mdW5jdGlvbiBqbyhlLHQpe3JldHVybiB0IGluIE9iamVjdChlKX1mdW5jdGlvbiBxbyhlLHQpe2Zvcihjb25zdCBvIG9mIHQpZm9yKGNvbnN0IHQgb2Ygby5vcGVyYXRpb25zKXQuYmFzZVZlcnNpb249KytlO3JldHVybiB0fWZ1bmN0aW9uIFdvKGUpe3JldHVybiBlLnJlZHVjZSgoZSx0KT0+ZSt0Lm9wZXJhdGlvbnMubGVuZ3RoLDApfWZ1bmN0aW9uIFVvKGUsdCl7Y29uc3Qgbz1lW2UubGVuZ3RoLTFdO2xldCBuPW8ub3BlcmF0aW9ucy5sZW5ndGgrby5iYXNlVmVyc2lvbjtjb25zdCByPW5ldyBRdTtmb3IobGV0IG89MDtvPHQ7bysrKXIuYWRkT3BlcmF0aW9uKG5ldyBXdShuKyspKTtlLnB1c2gocil9ZnVuY3Rpb24gSG8oZSx0LG8pe0pvKGUsdCxvKSxLbyhlLHQsbyksJG8odCxvKSxHbyh0LG8pfWZ1bmN0aW9uIEtvKGUsdCxvKXtjb25zdCBuPW8ub3JpZ2luYWxEZWx0YS5nZXQodCk7aWYoby5kb2N1bWVudC5oaXN0b3J5LmlzVW5kb2luZ0RlbHRhKG4pKXtjb25zdCB0PW8uZG9jdW1lbnQuaGlzdG9yeS5nZXRVbmRvbmVEZWx0YShuKSxpPW8ud2FzQWZmZWN0ZWQuZ2V0KGUpLHI9aS5nZXQodCk7ciE9PXZvaWQgMCYmKG8uaW5zZXJ0QmVmb3JlPXIpfX1mdW5jdGlvbiBHbyhlLHQpe2NvbnN0IG89dC5vcmlnaW5hbERlbHRhLmdldChlKSxuPXQuZG9jdW1lbnQuaGlzdG9yeTt0LmZvcmNlTm90U3RpY2t5PW4uaXNVbmRvbmVEZWx0YShvKXx8bi5pc1VuZG9pbmdEZWx0YShvKX1mdW5jdGlvbiAkbyhlLHQpe2NvbnN0IG89dC5kb2N1bWVudC5oaXN0b3J5LG49dC5vcmlnaW5hbERlbHRhLmdldChlKTt0LmZvcmNlV2Vha1JlbW92ZT1vLmlzVW5kb25lRGVsdGEobil9ZnVuY3Rpb24gSm8oZSx0LG8pe28ud2FzQWZmZWN0ZWQuZ2V0KGUpfHxvLndhc0FmZmVjdGVkLnNldChlLG5ldyBNYXApO2NvbnN0IG49by5vcmlnaW5hbERlbHRhLmdldCh0KTtsZXQgaT0hIW8ud2FzQWZmZWN0ZWQuZ2V0KGUpLmdldChuKTtmb3IoY29uc3QgbiBvZiBlLm9wZXJhdGlvbnMpe2Zvcihjb25zdCBlIG9mIHQub3BlcmF0aW9ucylpZihuIGluc3RhbmNlb2YgQnUmJmUgaW5zdGFuY2VvZiBCdSYmUW8obixlKSl7aT0hMDticmVha31pZihpKWJyZWFrfW8ud2FzQWZmZWN0ZWQuZ2V0KGUpLnNldChuLGkpfWZ1bmN0aW9uIFFvKGUsdCl7Y29uc3Qgbz1lLnRhcmdldFBvc2l0aW9uLG49dC5zb3VyY2VQb3NpdGlvbixpPUEobi5nZXRQYXJlbnRQYXRoKCksby5nZXRQYXJlbnRQYXRoKCkpO3JldHVybiEoby5yb290IT1uLnJvb3QpJiYnc2FtZSc9PWkmJm4ub2Zmc2V0PG8ub2Zmc2V0fWZ1bmN0aW9uIFlvKGUsdCxvKXtkZWxldGUgby5pbnNlcnRCZWZvcmUsZGVsZXRlIG8uZm9yY2VOb3RTdGlja3ksZGVsZXRlIG8uZm9yY2VXZWFrUmVtb3ZlO2NvbnN0IG49by53YXNBZmZlY3RlZC5nZXQoZSk7by53YXNBZmZlY3RlZC5kZWxldGUoZSk7Zm9yKGNvbnN0IGkgb2YgdClvLndhc0FmZmVjdGVkLnNldChpLG5ldyBNYXAobikpfWZ1bmN0aW9uIFhvKGUsdCl7bGV0IG49W10saT1udWxsLG87c3dpdGNoKGUpe2Nhc2UgZXA6Y2FzZSB0cDpmb3IoY29uc3QgZSBvZiB0KWk9ZSBpbnN0YW5jZW9mIFd1P25ldyBRdTplIGluc3RhbmNlb2YgenU/bmV3IHRwOm5ldyBlcCxpLmFkZE9wZXJhdGlvbihlKSxuLnB1c2goaSk7cmV0dXJuIG47Y2FzZSBYdTpjYXNlIG5wOnJldHVybiBpPW5ldyBlLGkuYWRkT3BlcmF0aW9uKHRbMF0pLGkuYWRkT3BlcmF0aW9uKHRbMV0pLG49WG8oZXAsdC5zbGljZSgyKSksW2ldLmNvbmNhdChuKTtjYXNlIFp1OmNhc2UgaXA6cmV0dXJuIG49WG8oZXAsdC5zbGljZSgwLC0yKSksaT1uZXcgZSxpLmFkZE9wZXJhdGlvbih0W3QubGVuZ3RoLTJdKSxpLmFkZE9wZXJhdGlvbih0W3QubGVuZ3RoLTFdKSxuLmNvbmNhdChpKTtjYXNlIG9wOnJldHVybiBpPXRbMF1pbnN0YW5jZW9mIFd1P25ldyBRdTpuZXcgb3AsaS5hZGRPcGVyYXRpb24odFswXSksW2ldO2Nhc2UgWXU6Zm9yKG89MDtvPHQubGVuZ3RoJiYhISh0W29daW5zdGFuY2VvZiBXdSk7bysrKTtvPT10Lmxlbmd0aD9pPW5ldyBRdTooaT1uZXcgWXUsMCE9byYmdC51bnNoaWZ0KHQuc3BsaWNlKG8sMSlbMF0pKTtmb3IoY29uc3QgZSBvZiB0KWkuYWRkT3BlcmF0aW9uKGUpO3JldHVybltpXTtkZWZhdWx0Omk9bmV3IGU7Zm9yKGNvbnN0IGUgb2YgdClpLmFkZE9wZXJhdGlvbihlKTtyZXR1cm5baV07fX1mdW5jdGlvbiBabyhlLHQpe2NvbnN0IG89ZS5jbG9uZSgpLG49by5vcGVyYXRpb25zWzBdO3JldHVybiBuLm9sZFJhbmdlJiYobi5vbGRSYW5nZT1uLm9sZFJhbmdlLmdldFRyYW5zZm9ybWVkQnlEZWx0YSh0KVswXSksbi5uZXdSYW5nZSYmKG4ubmV3UmFuZ2U9bi5uZXdSYW5nZS5nZXRUcmFuc2Zvcm1lZEJ5RGVsdGEodClbMF0pLFtvXX1mdW5jdGlvbiBlbihlLHQpe2Z1bmN0aW9uIG8oKXtjb25zdCBvPW5ldyBwdShlLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShzKSxlLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShsKSksaT1uZXcgTXUobyx0LmtleSxhLHQudmFsdWUsMCk7bi5hZGRPcGVyYXRpb24oaSl9Y29uc3Qgbj1uZXcgWXUscj1lLm5vZGVzO2xldCBhPXIuZ2V0Tm9kZSgwKS5nZXRBdHRyaWJ1dGUodC5rZXkpLHM9MCxsPXIuZ2V0Tm9kZSgwKS5vZmZzZXRTaXplO2ZvcihsZXQgbj0xO248ci5sZW5ndGg7bisrKXtjb25zdCBlPXIuZ2V0Tm9kZShuKSxpPWUuZ2V0QXR0cmlidXRlKHQua2V5KTtpIT1hJiYoYSE9dC52YWx1ZSYmbygpLGE9aSxzPWwpLGwrPWUub2Zmc2V0U2l6ZX1yZXR1cm4gbygpLG59ZnVuY3Rpb24gdG4oKXtjb25zdCBlPW5ldyBRdTtyZXR1cm4gZS5hZGRPcGVyYXRpb24obmV3IFd1KDApKSxlfWZ1bmN0aW9uIG9uKGUsdCxvLG4pe2Z1bmN0aW9uIGkoKXswPT09ci5vcGVyYXRpb25zLmxlbmd0aCYmZS5iYXRjaC5hZGREZWx0YShyKTtjb25zdCBuPW5ldyBwdShsLGQpLGk9bi5yb290LmRvY3VtZW50P3MudmVyc2lvbjpudWxsLG09bmV3IE11KG4sdCxjLG8saSk7ci5hZGRPcGVyYXRpb24obSksYS5hcHBseU9wZXJhdGlvbihtKX1jb25zdCByPW5ldyBZdSxhPWUubW9kZWwscz1hLmRvY3VtZW50O2xldCBsPW4uc3RhcnQsZCxjLG07Zm9yKGNvbnN0IHIgb2YgbiltPXIuaXRlbS5nZXRBdHRyaWJ1dGUodCksZCYmYyE9bSYmKGMhPW8mJmkoKSxsPWQpLGQ9ci5uZXh0UG9zaXRpb24sYz1tO2QgaW5zdGFuY2VvZiB1dSYmZCE9bCYmYyE9byYmaSgpfWZ1bmN0aW9uIG5uKGUsdCxvLG4pe2NvbnN0IGk9ZS5tb2RlbCxyPWkuZG9jdW1lbnQsYT1uLmdldEF0dHJpYnV0ZSh0KTtsZXQgcyxsO2lmKGEhPW8pe2NvbnN0IGQ9bi5yb290PT09bixjPWQ/bmV3IGFmOm5ldyBZdTtpZihlLmJhdGNoLmFkZERlbHRhKGMpLGQpe2NvbnN0IGU9bi5kb2N1bWVudD9yLnZlcnNpb246bnVsbDtsPW5ldyBIdShuLHQsYSxvLGUpfWVsc2V7cz1uLmlzKCdlbGVtZW50Jyk/bmV3IHB1KHV1LmNyZWF0ZUJlZm9yZShuKSx1dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG4sMCkpOm5ldyBwdSh1dS5jcmVhdGVCZWZvcmUobiksdXUuY3JlYXRlQWZ0ZXIobikpO2NvbnN0IGU9cy5yb290LmRvY3VtZW50P3IudmVyc2lvbjpudWxsO2w9bmV3IE11KHMsdCxhLG8sZSl9Yy5hZGRPcGVyYXRpb24obCksaS5hcHBseU9wZXJhdGlvbihsKX19ZnVuY3Rpb24gcm4oZSx0LG8sbixpKXtjb25zdCByPWUubW9kZWwsYT1yLmRvY3VtZW50LHM9bmV3IHRmLGw9bmV3IHF1KHQsbyxuLHIubWFya2VycyxhLnZlcnNpb24saSk7ZS5iYXRjaC5hZGREZWx0YShzKSxzLmFkZE9wZXJhdGlvbihsKSxyLmFwcGx5T3BlcmF0aW9uKGwpfWZ1bmN0aW9uIGFuKGUsdCxvLG4pe2xldCBpO2lmKGUucm9vdC5kb2N1bWVudCl7Y29uc3Qgbz1uLmRvY3VtZW50LHI9bmV3IHV1KG8uZ3JhdmV5YXJkLFswXSk7aT1uZXcgenUoZSx0LHIsby52ZXJzaW9uKX1lbHNlIGk9bmV3IHNmKGUsdCk7by5hZGRPcGVyYXRpb24oaSksbi5hcHBseU9wZXJhdGlvbihpKX1mdW5jdGlvbiBzbihlLHQpe3JldHVybiEoZSE9PXQpfHwhIShlIGluc3RhbmNlb2YgbGYmJnQgaW5zdGFuY2VvZiBsZil9ZnVuY3Rpb24gbG4oZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbyBvZiBlKWlmKG8uaXMoJ3RleHQnKSlmb3IobGV0IGU9MDtlPG8uZGF0YS5sZW5ndGg7ZSsrKXQucHVzaCh7bmFtZTonJHRleHQnLGF0dHJpYnV0ZXM6bmV3IE1hcChvLmdldEF0dHJpYnV0ZXMoKSl9KTtlbHNlIHQucHVzaCh7bmFtZTpvLm5hbWUsYXR0cmlidXRlczpuZXcgTWFwKG8uZ2V0QXR0cmlidXRlcygpKX0pO3JldHVybiB0fWZ1bmN0aW9uIGRuKGUsdCl7Y29uc3Qgbz1bXTtsZXQgbj0wLGk9MDtmb3IoY29uc3QgciBvZiB0KXIub2Zmc2V0Pm4mJihvLnB1c2goLi4uJ2UnLnJlcGVhdChyLm9mZnNldC1uKS5zcGxpdCgnJykpLGkrPXIub2Zmc2V0LW4pLCdpbnNlcnQnPT1yLnR5cGU/KG8ucHVzaCguLi4naScucmVwZWF0KHIuaG93TWFueSkuc3BsaXQoJycpKSxuPXIub2Zmc2V0K3IuaG93TWFueSk6J3JlbW92ZSc9PXIudHlwZT8oby5wdXNoKC4uLidyJy5yZXBlYXQoci5ob3dNYW55KS5zcGxpdCgnJykpLG49ci5vZmZzZXQsaSs9ci5ob3dNYW55KTooby5wdXNoKC4uLidhJy5yZXBlYXQoci5ob3dNYW55KS5zcGxpdCgnJykpLG49ci5vZmZzZXQrci5ob3dNYW55LGkrPXIuaG93TWFueSk7cmV0dXJuIGk8ZSYmby5wdXNoKC4uLidlJy5yZXBlYXQoZS1pKS5zcGxpdCgnJykpLG99ZnVuY3Rpb24gY24oZSl7Y29uc3QgdD1lLnBvc2l0aW9uJiYnJGdyYXZleWFyZCc9PWUucG9zaXRpb24ucm9vdC5yb290TmFtZSxvPWUucmFuZ2UmJickZ3JhdmV5YXJkJz09ZS5yYW5nZS5yb290LnJvb3ROYW1lO3JldHVybiF0JiYhb31mdW5jdGlvbiBtbihlKXtyZXR1cm4hIWUmJjE9PWUubGVuZ3RoJiYvW1xcdTAzMDAtXFx1MDM2ZlxcdTFhYjAtXFx1MWFmZlxcdTFkYzAtXFx1MWRmZlxcdTIwZDAtXFx1MjBmZlxcdWZlMjAtXFx1ZmUyZl0vLnRlc3QoZSl9ZnVuY3Rpb24gdW4oZSl7cmV0dXJuISFlJiYxPT1lLmxlbmd0aCYmL1tcXHVkODAwLVxcdWRiZmZdLy50ZXN0KGUpfWZ1bmN0aW9uIHBuKGUpe3JldHVybiEhZSYmMT09ZS5sZW5ndGgmJi9bXFx1ZGMwMC1cXHVkZmZmXS8udGVzdChlKX1mdW5jdGlvbiBnbihlLHQpe3JldHVybiB1bihlLmNoYXJBdCh0LTEpKSYmcG4oZS5jaGFyQXQodCkpfWZ1bmN0aW9uIGZuKGUsdCl7cmV0dXJuIG1uKGUuY2hhckF0KHQpKX1mdW5jdGlvbiBobihlKXtjb25zdCB0PWUudGV4dE5vZGU7aWYodCl7Y29uc3Qgbz10LmRhdGEsbj1lLm9mZnNldC10LnN0YXJ0T2Zmc2V0O3JldHVybiFnbihvLG4pJiYhZm4obyxuKX1yZXR1cm4hMH1mdW5jdGlvbiBibigpe2NvbnN0IGU9bmV3IFNldChbJ2luc2VydCcsJ21vdmUnLCdyZW1vdmUnLCdyZWluc2VydCddKTt0aGlzLmxpc3RlblRvKHRoaXMucm9vdC5kb2N1bWVudC5tb2RlbCwnYXBwbHlPcGVyYXRpb24nLCh0LG8pPT57Y29uc3Qgbj1vWzBdOyFuLmlzRG9jdW1lbnRPcGVyYXRpb258fGUuaGFzKG4udHlwZSkmJmtuLmNhbGwodGhpcyxuKX0se3ByaW9yaXR5Oidsb3cnfSl9ZnVuY3Rpb24ga24oZSl7bGV0IHQsbzsnaW5zZXJ0Jz09ZS50eXBlP3Q9cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wb3NpdGlvbixlLm5vZGVzLm1heE9mZnNldCk6KHQ9cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSxlLmhvd01hbnkpLG89ZS5zb3VyY2VQb3NpdGlvbik7Y29uc3Qgbj10LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQ7bGV0IGk7c3dpdGNoKGUudHlwZSl7Y2FzZSdpbnNlcnQnOmNvbnN0IHI9J3N0aWNrc1RvTmV4dCc9PXRoaXMuc3RpY2tpbmVzcztpPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5zdGFydCxuLHIpO2JyZWFrO2Nhc2UnbW92ZSc6Y2FzZSdyZW1vdmUnOmNhc2UncmVpbnNlcnQnOmNvbnN0IGE9cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQobyxuKSxzPWEuY29udGFpbnNQb3NpdGlvbih0aGlzKXx8YS5zdGFydC5pc0VxdWFsKHRoaXMpJiYnc3RpY2tzVG9OZXh0Jz09dGhpcy5zdGlja2luZXNzfHxhLmVuZC5pc0VxdWFsKHRoaXMpJiYnc3RpY2tzVG9QcmV2aW91cyc9PXRoaXMuc3RpY2tpbmVzcztpZihzKWk9dGhpcy5fZ2V0Q29tYmluZWQobyx0LnN0YXJ0KTtlbHNle2NvbnN0IGU9J3N0aWNrc1RvTmV4dCc9PXRoaXMuc3RpY2tpbmVzcyxyPXQuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24obyxuKTtpPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKG8scixuLGUpfX1pZighdGhpcy5pc0VxdWFsKGkpKXtjb25zdCBlPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTt0aGlzLnBhdGg9aS5wYXRoLHRoaXMucm9vdD1pLnJvb3QsdGhpcy5maXJlKCdjaGFuZ2UnLGUpfX1mdW5jdGlvbiBfbihlLHQsbyl7ZS5jaGFuZ2UoKG4pPT57by5pc0NvbGxhcHNlZHx8ZS5kZWxldGVDb250ZW50KG8pO2NvbnN0IGk9bmV3IGJmKGUsbixvLmFuY2hvcik7bGV0IHI7cj10LmlzKCdkb2N1bWVudEZyYWdtZW50Jyk/dC5nZXRDaGlsZHJlbigpOlt0XSxpLmhhbmRsZU5vZGVzKHIse2lzRmlyc3Q6ITAsaXNMYXN0OiEwfSk7Y29uc3QgYT1pLmdldFNlbGVjdGlvblJhbmdlKCk7YT9vIGluc3RhbmNlb2Ygd3U/bi5zZXRTZWxlY3Rpb24oYSk6by5zZXRUbyhhKTpYbS53YXJuKCdpbnNlcnRjb250ZW50LW5vLXJhbmdlOiBDYW5ub3QgZGV0ZXJtaW5lIGEgcHJvcGVyIHNlbGVjdGlvbiByYW5nZSBhZnRlciBpbnNlcnRpb24uJyl9KX1mdW5jdGlvbiB3bihlLHQsbz17fSl7aWYodC5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3Qgbj1lLnNjaGVtYTtlLmNoYW5nZSgoZSk9PntpZighby5kb05vdFJlc2V0RW50aXJlQ29udGVudCYmVG4obix0KSlyZXR1cm4gdm9pZCBBbihlLHQsbik7Y29uc3QgaT10LmdldEZpcnN0UmFuZ2UoKSxyPWkuc3RhcnQsYT1oZi5jcmVhdGVGcm9tUG9zaXRpb24oaS5lbmQpO2kuc3RhcnQuaXNUb3VjaGluZyhpLmVuZCl8fGUucmVtb3ZlKGkpLG8ubGVhdmVVbm1lcmdlZHx8KHZuKGUscixhKSxuLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHIucGFyZW50LmdldENoaWxkcmVuKCksZSkpLHQgaW5zdGFuY2VvZiB3dT9lLnNldFNlbGVjdGlvbihyKTp0LnNldFRvKHIpLHluKG4scikmJkNuKGUscix0KSxhLmRldGFjaCgpfSl9ZnVuY3Rpb24gdm4oZSx0LG8pe2NvbnN0IG49dC5wYXJlbnQsaT1vLnBhcmVudDtpZihuIT1pJiZuLnBhcmVudCYmaS5wYXJlbnQmJnhuKHQsbyxlLm1vZGVsLnNjaGVtYSkpe2Zvcih0PXV1LmNyZWF0ZUFmdGVyKG4pLG89dXUuY3JlYXRlQmVmb3JlKGkpLG8uaXNFcXVhbCh0KXx8ZS5pbnNlcnQoaSx0KSxlLm1lcmdlKHQpO28ucGFyZW50LmlzRW1wdHk7KXtjb25zdCB0PW8ucGFyZW50O289dXUuY3JlYXRlQmVmb3JlKHQpLGUucmVtb3ZlKHQpfXZuKGUsdCxvKX19ZnVuY3Rpb24geW4oZSx0KXtjb25zdCBvPWUuY2hlY2tDaGlsZCh0LCckdGV4dCcpLG49ZS5jaGVja0NoaWxkKHQsJ3BhcmFncmFwaCcpO3JldHVybiFvJiZufWZ1bmN0aW9uIHhuKGUsdCxvKXtjb25zdCBuPW5ldyBwdShlLHQpO2Zvcihjb25zdCBpIG9mIG4uZ2V0V2Fsa2VyKCkpaWYoby5pc0xpbWl0KGkuaXRlbSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gQ24oZSx0LG8pe2NvbnN0IG49ZS5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKTtlLmluc2VydChuLHQpLG8gaW5zdGFuY2VvZiB3dT9lLnNldFNlbGVjdGlvbihuLDApOm8uc2V0VG8obiwwKX1mdW5jdGlvbiBBbihlLHQpe2NvbnN0IG89ZS5tb2RlbC5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KHQpO2UucmVtb3ZlKHB1LmNyZWF0ZUluKG8pKSxDbihlLHV1LmNyZWF0ZUF0KG8pLHQpfWZ1bmN0aW9uIFRuKGUsdCl7Y29uc3Qgbz1lLmdldExpbWl0RWxlbWVudCh0KTtpZighdC5jb250YWluc0VudGlyZUNvbnRlbnQobykpcmV0dXJuITE7Y29uc3Qgbj10LmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gbi5zdGFydC5wYXJlbnQhPW4uZW5kLnBhcmVudCYmZS5jaGVja0NoaWxkKG8sJ3BhcmFncmFwaCcpfWZ1bmN0aW9uIFBuKGUsdCxvPXt9KXtjb25zdCBuPWUuc2NoZW1hLGk9J2JhY2t3YXJkJyE9by5kaXJlY3Rpb24scj1vLnVuaXQ/by51bml0OidjaGFyYWN0ZXInLGE9dC5mb2N1cyxzPW5ldyBjdSh7Ym91bmRhcmllczpJbihhLGkpLHNpbmdsZUNoYXJhY3RlcnM6ITAsZGlyZWN0aW9uOmk/J2ZvcndhcmQnOidiYWNrd2FyZCd9KSxsPXt3YWxrZXI6cyxzY2hlbWE6bixpc0ZvcndhcmQ6aSx1bml0OnJ9O2ZvcihsZXQgbjtuPXMubmV4dCgpOyl7aWYobi5kb25lKXJldHVybjtjb25zdCBvPUVuKGwsbi52YWx1ZSk7aWYobylyZXR1cm4gdm9pZCh0IGluc3RhbmNlb2Ygd3U/ZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb25Gb2N1cyhvKX0pOnQuc2V0Rm9jdXMobykpfX1mdW5jdGlvbiBFbihlLHQpe2lmKCd0ZXh0Jz09dC50eXBlKXJldHVybid3b3JkJz09PWUudW5pdD9PbihlLndhbGtlcixlLmlzRm9yd2FyZCk6U24oZS53YWxrZXIsZS51bml0LGUuaXNGb3J3YXJkKTtpZih0LnR5cGU9PShlLmlzRm9yd2FyZD8nZWxlbWVudFN0YXJ0JzonZWxlbWVudEVuZCcpKXtpZihlLnNjaGVtYS5pc09iamVjdCh0Lml0ZW0pKXJldHVybiB1dS5jcmVhdGVBdCh0Lml0ZW0sZS5pc0ZvcndhcmQ/J2FmdGVyJzonYmVmb3JlJyk7aWYoZS5zY2hlbWEuY2hlY2tDaGlsZCh0Lm5leHRQb3NpdGlvbiwnJHRleHQnKSlyZXR1cm4gdC5uZXh0UG9zaXRpb259ZWxzZXtpZihlLnNjaGVtYS5pc0xpbWl0KHQuaXRlbSkpcmV0dXJuIHZvaWQgZS53YWxrZXIuc2tpcCgoKT0+ITApO2lmKGUuc2NoZW1hLmNoZWNrQ2hpbGQodC5uZXh0UG9zaXRpb24sJyR0ZXh0JykpcmV0dXJuIHQubmV4dFBvc2l0aW9ufX1mdW5jdGlvbiBTbihlLHQpe2NvbnN0IG89ZS5wb3NpdGlvbi50ZXh0Tm9kZTtpZihvKXtjb25zdCBuPW8uZGF0YTtmb3IobGV0IGk9ZS5wb3NpdGlvbi5vZmZzZXQtby5zdGFydE9mZnNldDtnbihuLGkpfHwnY2hhcmFjdGVyJz09dCYmZm4obixpKTspZS5uZXh0KCksaT1lLnBvc2l0aW9uLm9mZnNldC1vLnN0YXJ0T2Zmc2V0fXJldHVybiBlLnBvc2l0aW9ufWZ1bmN0aW9uIE9uKGUsdCl7bGV0IG89ZS5wb3NpdGlvbi50ZXh0Tm9kZTtpZihvKWZvcihsZXQgbj1lLnBvc2l0aW9uLm9mZnNldC1vLnN0YXJ0T2Zmc2V0OyFSbihvLmRhdGEsbix0KSYmIVZuKG8sbix0KTspe2UubmV4dCgpO2NvbnN0IGk9dD9lLnBvc2l0aW9uLm5vZGVBZnRlcjplLnBvc2l0aW9uLm5vZGVCZWZvcmU7aWYoaSl7Y29uc3Qgbj1pLmRhdGEuY2hhckF0KHQ/MDppLmRhdGEubGVuZ3RoLTEpO2tmLmluY2x1ZGVzKG4pfHwoZS5uZXh0KCksbz1lLnBvc2l0aW9uLnRleHROb2RlKX1uPWUucG9zaXRpb24ub2Zmc2V0LW8uc3RhcnRPZmZzZXR9cmV0dXJuIGUucG9zaXRpb259ZnVuY3Rpb24gSW4oZSx0KXtjb25zdCBvPWUucm9vdCxuPXV1LmNyZWF0ZUF0KG8sdD8nZW5kJzowKTtyZXR1cm4gdD9uZXcgcHUoZSxuKTpuZXcgcHUobixlKX1mdW5jdGlvbiBSbihlLHQsbyl7Y29uc3Qgbj10KyhvPzA6LTEpO3JldHVybiBrZi5pbmNsdWRlcyhlLmNoYXJBdChuKSl9ZnVuY3Rpb24gVm4oZSx0LG8pe3JldHVybiB0PT09KG8/ZS5lbmRPZmZzZXQ6MCl9ZnVuY3Rpb24gRm4oZSx0KXtyZXR1cm4gZS5jaGFuZ2UoKGUpPT57Y29uc3Qgbz1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPXQuZ2V0Rmlyc3RSYW5nZSgpO2lmKCFufHxuLmlzQ29sbGFwc2VkKXJldHVybiBvO2NvbnN0IGk9bi5zdGFydC5yb290LHI9bi5zdGFydC5nZXRDb21tb25QYXRoKG4uZW5kKSxhPWkuZ2V0Tm9kZUJ5UGF0aChyKTtsZXQgcz1uLnN0YXJ0LnBhcmVudD09bi5lbmQucGFyZW50P246cHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGEsbi5zdGFydC5wYXRoW3IubGVuZ3RoXSxhLG4uZW5kLnBhdGhbci5sZW5ndGhdKzEpO2NvbnN0IGw9cy5lbmQub2Zmc2V0LXMuc3RhcnQub2Zmc2V0O2Zvcihjb25zdCB0IG9mIHMuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSl0LmlzKCd0ZXh0UHJveHknKT9lLmFwcGVuZFRleHQodC5kYXRhLHQuZ2V0QXR0cmlidXRlcygpLG8pOmUuYXBwZW5kKHQuX2Nsb25lKCEwKSxvKTtpZihzIT1uKXtjb25zdCB0PW4uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHMuc3RhcnQsdXUuY3JlYXRlQXQobywwKSxsKVswXSxpPW5ldyBwdSh1dS5jcmVhdGVBdChvKSx0LnN0YXJ0KSxyPW5ldyBwdSh0LmVuZCx1dS5jcmVhdGVBdChvLCdlbmQnKSk7Tm4ocixlKSxObihpLGUpfXJldHVybiBvfSl9ZnVuY3Rpb24gTm4oZSx0KXtjb25zdCBvPVtdO0FycmF5LmZyb20oZS5nZXRJdGVtcyh7ZGlyZWN0aW9uOidiYWNrd2FyZCd9KSkubWFwKChlKT0+cHUuY3JlYXRlT24oZSkpLmZpbHRlcigodCk9Pntjb25zdCBvPSh0LnN0YXJ0LmlzQWZ0ZXIoZS5zdGFydCl8fHQuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KSkmJih0LmVuZC5pc0JlZm9yZShlLmVuZCl8fHQuZW5kLmlzRXF1YWwoZS5lbmQpKTtyZXR1cm4gb30pLmZvckVhY2goKGUpPT57by5wdXNoKGUuc3RhcnQucGFyZW50KSx0LnJlbW92ZShlKX0pLG8uZm9yRWFjaCgoZSk9Pntmb3IobGV0IG89ZTtvLnBhcmVudCYmby5pc0VtcHR5Oyl7Y29uc3QgZT1wdS5jcmVhdGVPbihvKTtvPW8ucGFyZW50LHQucmVtb3ZlKGUpfX0pfWZ1bmN0aW9uIERuKGUpe2UuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoKHQpPT5Nbih0LGUpKX1mdW5jdGlvbiBNbihlLHQpe2NvbnN0IG89dC5kb2N1bWVudC5zZWxlY3Rpb24sbj10LnNjaGVtYSxpPVtdO2xldCByPSExO2Zvcihjb25zdCBhIG9mIG8uZ2V0UmFuZ2VzKCkpe2NvbnN0IGU9Qm4oYSxuKTtlPyhpLnB1c2goZSkscj0hMCk6aS5wdXNoKGEpfWlmKHIpe2NvbnN0IHQ9cW4oaSk7ZS5zZXRTZWxlY3Rpb24odCx7YmFja3dhcmQ6by5pc0JhY2t3YXJkfSl9fWZ1bmN0aW9uIEJuKGUsdCl7cmV0dXJuIGUuaXNDb2xsYXBzZWQ/TG4oZSx0KTp6bihlLHQpfWZ1bmN0aW9uIExuKGUsdCl7Y29uc3Qgbz1lLnN0YXJ0LG49dC5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobyk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT1uLnN0YXJ0O3JldHVybiBvLmlzRXF1YWwoaSk/bnVsbDppLm5vZGVBZnRlciYmdC5pc0xpbWl0KGkubm9kZUFmdGVyKT9uZXcgcHUoaSx1dS5jcmVhdGVBZnRlcihpLm5vZGVBZnRlcikpOm5ldyBwdShpKX1mdW5jdGlvbiB6bihlLHQpe2lmKGUuaXNGbGF0KXJldHVybiBudWxsO2NvbnN0IG89ZS5zdGFydCxuPWUuZW5kLGk9am4obyx0LCdzdGFydCcpLHI9am4obix0LCdlbmQnKTtyZXR1cm4gby5pc0VxdWFsKGkpJiZuLmlzRXF1YWwocik/bnVsbDpuZXcgcHUoaSxyKX1mdW5jdGlvbiBqbihlLHQsbyl7bGV0IG49ZS5wYXJlbnQsaT1uO2Zvcig7dC5pc0xpbWl0KGkpJiZpLnBhcmVudDspbj1pLGk9aS5wYXJlbnQ7cmV0dXJuIG49PT1pP2U6J3N0YXJ0Jz09PW8/dXUuY3JlYXRlQmVmb3JlKG4pOnV1LmNyZWF0ZUFmdGVyKG4pfWZ1bmN0aW9uIHFuKGUpe2NvbnN0IHQ9W107bGV0IG89ZVswXTt0LnB1c2gobyk7Zm9yKGNvbnN0IG4gb2YgZSlpZighbi5pc0VxdWFsKG8pKXtpZihuLmlzSW50ZXJzZWN0aW5nKG8pKXtjb25zdCBlPW8uc3RhcnQuaXNCZWZvcmUobi5zdGFydCk/by5zdGFydDpuLnN0YXJ0LGk9bi5lbmQuaXNBZnRlcihvLmVuZCk/bi5lbmQ6by5lbmQscj1uZXcgcHUoZSxpKTt0LnNwbGljZSh0LmluZGV4T2YobyksMSxyKSxvPXI7Y29udGludWV9bz1uLHQucHVzaChuKX1yZXR1cm4gdH1mdW5jdGlvbiBXbihlLHQpe2UgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50JiYoZS52YWx1ZT10KSxlLmlubmVySFRNTD10fWZ1bmN0aW9uIFVuKGUpe2lmKCFEcyhlLnVwZGF0ZUVsZW1lbnQpKXRocm93IG5ldyBfcygnYXR0YWNodG9mb3JtLW1pc3NpbmctZWxlbWVudGFwaS1pbnRlcmZhY2U6IEVsZW1lbnRBcGkgaW50ZXJmYWNlIGlzIHJlcXVpcmVkLicpO2NvbnN0IHQ9ZS5lbGVtZW50O2lmKHQmJid0ZXh0YXJlYSc9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmdC5mb3JtKXtsZXQgbztjb25zdCBuPXQuZm9ybSxpPSgpPT5lLnVwZGF0ZUVsZW1lbnQoKTtEcyhuLnN1Ym1pdCkmJihvPW4uc3VibWl0LG4uc3VibWl0PSgpPT57aSgpLG8uYXBwbHkobil9KSxuLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsaSksZS5vbignZGVzdHJveScsKCk9PntuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsaSksbyYmKG4uc3VibWl0PW8pfSl9fWZ1bmN0aW9uIEhuKGUpe3JldHVybihlKycnKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIEtuKHtvcmlnaW46ZSxvcmlnaW5LZXlzdHJva2VIYW5kbGVyOnQsb3JpZ2luRm9jdXNUcmFja2VyOm8sdG9vbGJhcjpuLGJlZm9yZUZvY3VzOmksYWZ0ZXJCbHVyOnJ9KXtvLmFkZChuLmVsZW1lbnQpLHQuc2V0KCdBbHQrRjEwJywoZSx0KT0+e28uaXNGb2N1c2VkJiYhbi5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYoaSYmaSgpLG4uZm9jdXMoKSx0KCkpfSksbi5rZXlzdHJva2VzLnNldCgnRXNjJywodCxvKT0+e24uZm9jdXNUcmFja2VyLmlzRm9jdXNlZCYmKGUuZm9jdXMoKSxyJiZyKCksbygpKX0pfWZ1bmN0aW9uIEduKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP3tpdGVtczplfTplP09iamVjdC5hc3NpZ24oe2l0ZW1zOltdfSxlKTp7aXRlbXM6W119fWZ1bmN0aW9uICRuKGUpe3JldHVybiBlLmV2ZXJ5KChlKT0+J3N0cmluZyc9PXR5cGVvZiBlKX1mdW5jdGlvbiBKbihlKXtyZXR1cm4hIWUmJigoZS52YWx1ZSYmKGU9ZS52YWx1ZSksQXJyYXkuaXNBcnJheShlKSk/ZS5zb21lKEpuKTohIShlIGluc3RhbmNlb2YgVmYpKX1mdW5jdGlvbiBRbihlLHQpe3JldHVybiBlLm1hcCgoZSk9PmUgaW5zdGFuY2VvZiBWZj9lLmdldFZhbHVlKHQpOmUpfWZ1bmN0aW9uIFluKGUsdCx7bm9kZTpvfSl7bGV0IG49UW4oZSxvKTtuPTE9PWUubGVuZ3RoJiZlWzBdaW5zdGFuY2VvZiBOZj9uWzBdOm4ucmVkdWNlKGxpLCcnKSxtaShuKT90LnJlbW92ZSgpOnQuc2V0KG4pfWZ1bmN0aW9uIFhuKGUpe3JldHVybntzZXQodCl7ZS50ZXh0Q29udGVudD10fSxyZW1vdmUoKXtlLnRleHRDb250ZW50PScnfX19ZnVuY3Rpb24gWm4oZSx0LG8pe3JldHVybntzZXQobil7ZS5zZXRBdHRyaWJ1dGVOUyhvLHQsbil9LHJlbW92ZSgpe2UucmVtb3ZlQXR0cmlidXRlTlMobyx0KX19fWZ1bmN0aW9uIGVpKGUsdCl7cmV0dXJue3NldChvKXtlLnN0eWxlW3RdPW99LHJlbW92ZSgpe2Uuc3R5bGVbdF09bnVsbH19fWZ1bmN0aW9uIHRpKGUpe2NvbnN0IHQ9SWYoZSwoZSk9PntpZihlJiYoZSBpbnN0YW5jZW9mIFZmfHxwaShlKXx8dWkoZSl8fGdpKGUpKSlyZXR1cm4gZX0pO3JldHVybiB0fWZ1bmN0aW9uIG9pKGUpe2lmKCdzdHJpbmcnPT10eXBlb2YgZT9lPXJpKGUpOmUudGV4dCYmYWkoZSksZS5vbiYmKGUuZXZlbnRMaXN0ZW5lcnM9aWkoZS5vbiksZGVsZXRlIGUub24pLCFlLnRleHQpe2UuYXR0cmlidXRlcyYmbmkoZS5hdHRyaWJ1dGVzKTtjb25zdCB0PVtdO2lmKGUuY2hpbGRyZW4paWYoZ2koZS5jaGlsZHJlbikpdC5wdXNoKGUuY2hpbGRyZW4pO2Vsc2UgZm9yKGNvbnN0IG8gb2YgZS5jaGlsZHJlbilwaShvKXx8dWkobyl8fE9lKG8pP3QucHVzaChvKTp0LnB1c2gobmV3IFJmKG8pKTtlLmNoaWxkcmVuPXR9cmV0dXJuIGV9ZnVuY3Rpb24gbmkoZSl7Zm9yKGNvbnN0IHQgaW4gZSllW3RdLnZhbHVlJiYoZVt0XS52YWx1ZT1bXS5jb25jYXQoZVt0XS52YWx1ZSkpLHNpKGUsdCl9ZnVuY3Rpb24gaWkoZSl7Zm9yKGNvbnN0IHQgaW4gZSlzaShlLHQpO3JldHVybiBlfWZ1bmN0aW9uIHJpKGUpe3JldHVybnt0ZXh0OltlXX19ZnVuY3Rpb24gYWkoZSl7QXJyYXkuaXNBcnJheShlLnRleHQpfHwoZS50ZXh0PVtlLnRleHRdKX1mdW5jdGlvbiBzaShlLHQpe0FycmF5LmlzQXJyYXkoZVt0XSl8fChlW3RdPVtlW3RdXSl9ZnVuY3Rpb24gbGkoZSx0KXtyZXR1cm4gbWkodCk/ZTptaShlKT90OmAke2V9ICR7dH1gfWZ1bmN0aW9uIGRpKGUsdCl7Zm9yKGNvbnN0IG8gaW4gdCllW29dP2Vbb10ucHVzaCguLi50W29dKTplW29dPXRbb119ZnVuY3Rpb24gY2koZSx0KXtpZih0LmF0dHJpYnV0ZXMmJighZS5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVzPXt9KSxkaShlLmF0dHJpYnV0ZXMsdC5hdHRyaWJ1dGVzKSksdC5ldmVudExpc3RlbmVycyYmKCFlLmV2ZW50TGlzdGVuZXJzJiYoZS5ldmVudExpc3RlbmVycz17fSksZGkoZS5ldmVudExpc3RlbmVycyx0LmV2ZW50TGlzdGVuZXJzKSksdC50ZXh0JiZlLnRleHQucHVzaCguLi50LnRleHQpLHQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoKXtpZihlLmNoaWxkcmVuLmxlbmd0aCE9dC5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IF9zKCd1aS10ZW1wbGF0ZS1leHRlbmQtY2hpbGRyZW4tbWlzbWF0Y2g6IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gZXh0ZW5kZWQgZGVmaW5pdGlvbiBkb2VzIG5vdCBtYXRjaC4nKTtsZXQgbz0wO2Zvcihjb25zdCBuIG9mIHQuY2hpbGRyZW4pY2koZS5jaGlsZHJlbltvKytdLG4pfX1mdW5jdGlvbiBtaShlKXtyZXR1cm4hZSYmMCE9PWV9ZnVuY3Rpb24gdWkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBCZn1mdW5jdGlvbiBwaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFJmfWZ1bmN0aW9uIGdpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgT2Z9ZnVuY3Rpb24gZmkoKXtyZXR1cm57Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX19ZnVuY3Rpb24gaGkoZSl7cmV0dXJuJ2NsYXNzJz09ZXx8J3N0eWxlJz09ZX1mdW5jdGlvbiBiaShlKXtyZXR1cm4odCk9PnQrZX1mdW5jdGlvbiBraShlKXtyZXR1cm4hIShlLmZvY3VzJiYnbm9uZSchPWdtLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUuZWxlbWVudCkuZGlzcGxheSl9ZnVuY3Rpb24gX2koZSl7cmV0dXJuIGUuYmluZFRlbXBsYXRlLnRvKCh0KT0+e3QudGFyZ2V0PT09ZS5lbGVtZW50JiZ0LnByZXZlbnREZWZhdWx0KCl9KX1mdW5jdGlvbiB3aShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQ/ZS52YWx1ZTplLmlubmVySFRNTH1mdW5jdGlvbiB2aShlKXtjb25zdCB0PWUuZmlsZXM/QXJyYXkuZnJvbShlLmZpbGVzKTpbXSxvPWUuaXRlbXM/QXJyYXkuZnJvbShlLml0ZW1zKTpbXTtyZXR1cm4gdC5sZW5ndGg/dDpvLmZpbHRlcigoZSk9PidmaWxlJz09PWUua2luZCkubWFwKChlKT0+ZS5nZXRBc0ZpbGUoKSl9ZnVuY3Rpb24geWkoZSx0KXtjb25zdCBvPXQudGFyZ2V0Lm93bmVyRG9jdW1lbnQsbj10LmNsaWVudFgsaT10LmNsaWVudFk7bGV0IHI7cmV0dXJuIG8uY2FyZXRSYW5nZUZyb21Qb2ludCYmby5jYXJldFJhbmdlRnJvbVBvaW50KG4saSk/cj1vLmNhcmV0UmFuZ2VGcm9tUG9pbnQobixpKTp0LnJhbmdlUGFyZW50JiYocj1vLmNyZWF0ZVJhbmdlKCksci5zZXRTdGFydCh0LnJhbmdlUGFyZW50LHQucmFuZ2VPZmZzZXQpLHIuY29sbGFwc2UoITApKSxyP2UuZG9tQ29udmVydGVyLmRvbVJhbmdlVG9WaWV3KHIpOmUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX1mdW5jdGlvbiB4aShlKXtyZXR1cm4gZT1lLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpLnJlcGxhY2UoL1xcblxcbi9nLCc8L3A+PHA+JykucmVwbGFjZSgvXFxuL2csJzxicj4nKS5yZXBsYWNlKC9eXFxzLywnJm5ic3A7JykucmVwbGFjZSgvXFxzJC8sJyZuYnNwOycpLnJlcGxhY2UoL1xcc1xccy9nLCcgJm5ic3A7JyksLTE8ZS5pbmRleE9mKCc8L3A+PHA+JykmJihlPWA8cD4ke2V9PC9wPmApLGV9ZnVuY3Rpb24gQ2koZSl7cmV0dXJuIGUucmVwbGFjZSgvPHNwYW4oPzogY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcInwpPihcXHMrKTxcXC9zcGFuPi9nLChlLHQpPT4xPT10Lmxlbmd0aD8nICc6dCl9ZnVuY3Rpb24gQWkoZSl7bGV0IHQ9Jyc7aWYoZS5pcygndGV4dCcpfHxlLmlzKCd0ZXh0UHJveHknKSl0PWUuZGF0YTtlbHNlIGlmKGUuaXMoJ2ltZycpJiZlLmhhc0F0dHJpYnV0ZSgnYWx0JykpdD1lLmdldEF0dHJpYnV0ZSgnYWx0Jyk7ZWxzZXtsZXQgbz1udWxsO2Zvcihjb25zdCBuIG9mIGUuZ2V0Q2hpbGRyZW4oKSl7Y29uc3QgZT1BaShuKTtvJiYoby5pcygnY29udGFpbmVyRWxlbWVudCcpfHxuLmlzKCdjb250YWluZXJFbGVtZW50JykpJiYobWguaW5jbHVkZXMoby5uYW1lKXx8bWguaW5jbHVkZXMobi5uYW1lKT90Kz0nXFxuJzp0Kz0nXFxuXFxuJyksdCs9ZSxvPW59fXJldHVybiB0fWZ1bmN0aW9uIFRpKGUpe2UucmV0dXJuPSExLGUuc3RvcCgpfWZ1bmN0aW9uIFBpKGUsdCxvLG4pe2NvbnN0IGk9by5pc0NvbGxhcHNlZCxyPW8uZ2V0Rmlyc3RSYW5nZSgpLGE9ci5zdGFydC5wYXJlbnQscz1yLmVuZC5wYXJlbnQ7aWYobi5pc0xpbWl0KGEpfHxuLmlzTGltaXQocykpcmV0dXJuIHZvaWQoaXx8YSE9c3x8ZS5kZWxldGVDb250ZW50KG8pKTtpZihpKUVpKHQsbyxyLnN0YXJ0KTtlbHNle2NvbnN0IG49IShyLnN0YXJ0LmlzQXRTdGFydCYmci5lbmQuaXNBdEVuZCk7ZS5kZWxldGVDb250ZW50KG8se2xlYXZlVW5tZXJnZWQ6bn0pLG4mJihhPT1zP0VpKHQsbyxvLmZvY3VzKTp0LnNldFNlbGVjdGlvbihzLDApKX19ZnVuY3Rpb24gRWkoZSx0LG8pe2NvbnN0IG49by5wYXJlbnQsaT1uZXcgbi5jb25zdHJ1Y3RvcihuLm5hbWUsbi5nZXRBdHRyaWJ1dGVzKCkpO28uaXNBdEVuZD9lLmluc2VydChpLG8ucGFyZW50LCdhZnRlcicpOm8uaXNBdFN0YXJ0P2UuaW5zZXJ0KGksby5wYXJlbnQsJ2JlZm9yZScpOmUuc3BsaXQobyksZS5zZXRTZWxlY3Rpb24oby5wYXJlbnQubmV4dFNpYmxpbmcsMCl9ZnVuY3Rpb24gU2koZSx0KXtpZigxPHQucmFuZ2VDb3VudClyZXR1cm4hMTtjb25zdCBvPXQuYW5jaG9yO2lmKCFvfHwhZS5jaGVja0NoaWxkKG8sJ3NvZnRCcmVhaycpKXJldHVybiExO2NvbnN0IG49dC5nZXRGaXJzdFJhbmdlKCksaT1uLnN0YXJ0LnBhcmVudCxyPW4uZW5kLnBhcmVudDtyZXR1cm4hKChSaShpLGUpfHxSaShyLGUpKSYmaSE9PXIpfWZ1bmN0aW9uIE9pKGUsdCxvKXtjb25zdCBuPW8uaXNDb2xsYXBzZWQsaT1vLmdldEZpcnN0UmFuZ2UoKSxyPWkuc3RhcnQucGFyZW50LGE9aS5lbmQucGFyZW50O2lmKG4pSWkodCxpLmVuZCk7ZWxzZXtjb25zdCBuPSEoaS5zdGFydC5pc0F0U3RhcnQmJmkuZW5kLmlzQXRFbmQpO2UuZGVsZXRlQ29udGVudChvLHtsZWF2ZVVubWVyZ2VkOm59KSxyPT1hP0lpKHQsby5mb2N1cyk6biYmdC5zZXRTZWxlY3Rpb24oYSwwKX19ZnVuY3Rpb24gSWkoZSx0KXtjb25zdCBvPWUuY3JlYXRlRWxlbWVudCgnc29mdEJyZWFrJyk7ZS5pbnNlcnQobyx0KSxlLnNldFNlbGVjdGlvbihvLCdhZnRlcicpfWZ1bmN0aW9uIFJpKGUsdCl7cmV0dXJuIWUuaXMoJ3Jvb3RFbGVtZW50JykmJih0LmlzTGltaXQoZSl8fFJpKGUucGFyZW50LHQpKX1mdW5jdGlvbiBWaShlLHQpe2Z1bmN0aW9uIG8oKXthJiYoaS5wdXNoKGEpLGE9bnVsbCl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gYSYmYS50eXBlPT1lfWNvbnN0IGk9W107bGV0IHI9MCxhO3JldHVybiBlLmZvckVhY2goKGUpPT57J2VxdWFsJz09ZT8obygpLHIrKyk6J2luc2VydCc9PWU/KG4oJ2luc2VydCcpP2EudmFsdWVzLnB1c2godFtyXSk6KG8oKSxhPXt0eXBlOidpbnNlcnQnLGluZGV4OnIsdmFsdWVzOlt0W3JdXX0pLHIrKyk6bignZGVsZXRlJyk/YS5ob3dNYW55Kys6KG8oKSxhPXt0eXBlOidkZWxldGUnLGluZGV4OnIsaG93TWFueToxfSl9KSxvKCksaX1mdW5jdGlvbiBGaShlKXtyZXR1cm4hIWUuY3RybEtleXx8eGguaW5jbHVkZXMoZS5rZXlDb2RlKX1mdW5jdGlvbiBOaShlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgUWQmJnQgaW5zdGFuY2VvZiBRZD9lLmRhdGE9PT10LmRhdGE6ZT09PXR9ZnVuY3Rpb24gRGkoZSl7aWYoMT09ZS5uZXdDaGlsZHJlbi5sZW5ndGgtZS5vbGRDaGlsZHJlbi5sZW5ndGgpe2NvbnN0IHQ9VGUoZS5vbGRDaGlsZHJlbixlLm5ld0NoaWxkcmVuLE5pKSxvPVZpKHQsZS5uZXdDaGlsZHJlbik7aWYoISgxPG8ubGVuZ3RoKSl7Y29uc3QgZT1vWzBdO3JldHVybiBlLnZhbHVlc1swXWluc3RhbmNlb2YgUWQ/ZTp2b2lkIDB9fX1mdW5jdGlvbiBNaShlKXtjb25zdCB0PWUubWFwKChlKT0+ZS5ub2RlKS5yZWR1Y2UoKGUsdCk9PmUuZ2V0Q29tbW9uQW5jZXN0b3IodCx7aW5jbHVkZVNlbGY6ITB9KSk7cmV0dXJuIHQ/dC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwLHBhcmVudEZpcnN0OiEwfSkuZmluZCgoZSk9PmUuaXMoJ2NvbnRhaW5lckVsZW1lbnQnKXx8ZS5pcygncm9vdEVsZW1lbnQnKSk6dm9pZCAwfWZ1bmN0aW9uIEJpKGUpe2lmKDA9PWUubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCB0IG9mIGUpaWYoJ2NoaWxkcmVuJz09PXQudHlwZSYmIURpKHQpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIExpKGUpe3JldHVybiBlLmV2ZXJ5KChlKT0+ZS5pcygndGV4dCcpfHxlLmlzKCdzb2Z0QnJlYWsnKSl9ZnVuY3Rpb24gemkoZSl7bGV0IHQ9bnVsbCxvPW51bGw7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9ZVtuXTsnZXF1YWwnIT1pJiYodD1udWxsPT09dD9uOnQsbz1uKX1sZXQgbj0wLHI9MDtmb3IobGV0IGE9dDthPD1vO2ErKyknaW5zZXJ0JyE9ZVthXSYmbisrLCdkZWxldGUnIT1lW2FdJiZyKys7cmV0dXJue2luc2VydGlvbnM6cixkZWxldGlvbnM6bixmaXJzdENoYW5nZUF0OnR9fWZ1bmN0aW9uIGppKGUsdCl7Y29uc3Qgbz1xaShbZV0sdCk7by5zb3J0KChlLHQpPT5lLnN0YXJ0LmlzQmVmb3JlKHQuc3RhcnQpPy0xOjEpO2ZvcihsZXQgbj0xO248by5sZW5ndGg7bisrKXtjb25zdCBlPW9bbi0xXSx0PW9bbl07ZS5lbmQuaXNUb3VjaGluZyh0LnN0YXJ0KSYmKGUuZW5kPXQuZW5kLG8uc3BsaWNlKG4sMSksbi0tKX1yZXR1cm4gb31mdW5jdGlvbiBxaShlLHQpe2Zvcihjb25zdCBvIG9mIHQpZm9yKGNvbnN0IHQgb2Ygby5vcGVyYXRpb25zKWZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtsZXQgbjtzd2l0Y2godC50eXBlKXtjYXNlJ2luc2VydCc6bj1lW29dLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQsITApO2JyZWFrO2Nhc2UnbW92ZSc6Y2FzZSdyZW1vdmUnOmNhc2UncmVpbnNlcnQnOm49ZVtvXS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSwhMCk7fW4mJihlLnNwbGljZShvLDEsLi4ubiksbz1vK24ubGVuZ3RoLTEpfXJldHVybiBlfWZ1bmN0aW9uIFdpKCl7bGV0IGU9VWkoWGgpO3JldHVybiBlJiZlLmxlbmd0aD09Wmh8fChlPUtpKFpoKSxIaShYaCxlKSksZX1mdW5jdGlvbiBVaShlKXtlPWUudG9Mb3dlckNhc2UoKTtjb25zdCB0PWRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by5zcGxpdCgnPScpLG49ZGVjb2RlVVJJQ29tcG9uZW50KHRbMF0udHJpbSgpLnRvTG93ZXJDYXNlKCkpO2lmKG49PT1lKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQodFsxXSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSGkoZSx0KXtkb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyc9JytlbmNvZGVVUklDb21wb25lbnQodCkrJztwYXRoPS8nfWZ1bmN0aW9uIEtpKGUpe2xldCB0PScnO2NvbnN0IG89bmV3IFVpbnQ4QXJyYXkoZSk7d2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobyk7Zm9yKGxldCBuPTA7bjxvLmxlbmd0aDtuKyspe2NvbnN0IGU9ZWIuY2hhckF0KG9bbl0lZWIubGVuZ3RoKTt0Kz0uNTxNYXRoLnJhbmRvbSgpP2UudG9VcHBlckNhc2UoKTplfXJldHVybiB0fWZ1bmN0aW9uIEdpKGUpe3JldHVybiBBcnJheS5mcm9tKGUuZ2V0Q2hpbGRyZW4oKSkucmVkdWNlKChlLHQpPT5lK3QuZGF0YSwnJyl9ZnVuY3Rpb24gJGkoZSx0KXtyZXR1cm4gdC5maWx0ZXIoKGUpPT5lWzBdIT09dm9pZCAwJiZlWzFdIT09dm9pZCAwKS5tYXAoKHQpPT5wdS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0WzBdLGUsdFsxXSkpfWZ1bmN0aW9uIEppKGUpe2NvbnN0IHQ9ZS5uZXh0KCk7cmV0dXJuIHQuZG9uZT9udWxsOnQudmFsdWV9ZnVuY3Rpb24gUWkoZSl7cmV0dXJuJ2Jsb2NrUXVvdGUnPT1lLnBhcmVudC5uYW1lP2UucGFyZW50Om51bGx9ZnVuY3Rpb24gWWkoZSl7bGV0IHQ9MCxvO2NvbnN0IG49W107Zm9yKDt0PGUubGVuZ3RoOyl7Y29uc3QgaT1lW3RdLHI9ZVt0KzFdO298fChvPXV1LmNyZWF0ZUJlZm9yZShpKSksciYmaS5uZXh0U2libGluZz09cnx8KG4ucHVzaChuZXcgcHUobyx1dS5jcmVhdGVBZnRlcihpKSkpLG89bnVsbCksdCsrfXJldHVybiBufWZ1bmN0aW9uIFhpKGUsdCl7Y29uc3Qgbz1lLmNoZWNrQ2hpbGQodC5wYXJlbnQsJ2Jsb2NrUXVvdGUnKSxuPWUuY2hlY2tDaGlsZChbJyRyb290JywnYmxvY2tRdW90ZSddLHQpO3JldHVybiBvJiZufWZ1bmN0aW9uIFppKGUsdD01MTIpe3RyeXtjb25zdCBvPWUubWF0Y2goU2IpWzFdLG49YXRvYihlLnJlcGxhY2UoU2IsJycpKSxpPVtdO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSs9dCl7Y29uc3Qgbz1uLnNsaWNlKGUsZSt0KSxyPUFycmF5KG8ubGVuZ3RoKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKylyW2VdPW8uY2hhckNvZGVBdChlKTtpLnB1c2gobmV3IFVpbnQ4QXJyYXkocikpfXJldHVybiBuZXcgQmxvYihpLHt0eXBlOm99KX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoJ1Byb2JsZW0gd2l0aCBkZWNvZGluZyBCYXNlNjQgaW1hZ2UgZGF0YS4nKX19ZnVuY3Rpb24gZXIoZSl7aWYoJ3N0cmluZychPXR5cGVvZiBlKXJldHVybiExO2NvbnN0IHQ9ZS5tYXRjaChTYik7cmV0dXJuISEodCYmdC5sZW5ndGgpfWZ1bmN0aW9uIHRyKCl7ZnVuY3Rpb24gZShlLHQsbyl7aWYoby5jb25zdW1hYmxlLnRlc3QodC52aWV3SXRlbSx7bmFtZTohMCxjbGFzc2VzOidpbWFnZSd9KSl7Y29uc3QgZT1BcnJheS5mcm9tKHQudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSkuZmluZCgoZSk9PmUuaXMoJ2ltZycpKTtpZihlJiZlLmhhc0F0dHJpYnV0ZSgnc3JjJykmJm8uY29uc3VtYWJsZS50ZXN0KGUse25hbWU6ITB9KSl7Y29uc3Qgbj1vLmNvbnZlcnRJdGVtKGUsdC5tb2RlbEN1cnNvciksaT1KaShuLm1vZGVsUmFuZ2UuZ2V0SXRlbXMoKSk7aSYmKG8uY29udmVydENoaWxkcmVuKHQudmlld0l0ZW0sdXUuY3JlYXRlQXQoaSkpLHQubW9kZWxSYW5nZT1uLm1vZGVsUmFuZ2UsdC5tb2RlbEN1cnNvcj1uLm1vZGVsQ3Vyc29yKX19fXJldHVybih0KT0+e3Qub24oJ2VsZW1lbnQ6ZmlndXJlJyxlKX19ZnVuY3Rpb24gb3IoKXtmdW5jdGlvbiBlKGUsdCxvKXtpZihvLmNvbnN1bWFibGUuY29uc3VtZSh0Lml0ZW0sZS5uYW1lKSl7Y29uc3QgZT1vLndyaXRlcixuPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQodC5pdGVtKSxpPW4uZ2V0Q2hpbGQoMCk7aWYobnVsbD09PXQuYXR0cmlidXRlTmV3VmFsdWUpe2NvbnN0IG89dC5hdHRyaWJ1dGVPbGRWYWx1ZTtvLmRhdGEmJihlLnJlbW92ZUF0dHJpYnV0ZSgnc3Jjc2V0JyxpKSxlLnJlbW92ZUF0dHJpYnV0ZSgnc2l6ZXMnLGkpLG8ud2lkdGgmJmUucmVtb3ZlQXR0cmlidXRlKCd3aWR0aCcsaSkpfWVsc2V7Y29uc3Qgbz10LmF0dHJpYnV0ZU5ld1ZhbHVlO28uZGF0YSYmKGUuc2V0QXR0cmlidXRlKCdzcmNzZXQnLG8uZGF0YSxpKSxlLnNldEF0dHJpYnV0ZSgnc2l6ZXMnLCcxMDB2dycsaSksby53aWR0aCYmZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJyxvLndpZHRoLGkpKX19fXJldHVybih0KT0+e3Qub24oJ2F0dHJpYnV0ZTpzcmNzZXQ6aW1hZ2UnLGUpfX1mdW5jdGlvbiBucihlKXtmdW5jdGlvbiB0KGUsdCxvKXtpZihvLmNvbnN1bWFibGUuY29uc3VtZSh0Lml0ZW0sZS5uYW1lKSl7Y29uc3QgZT1vLndyaXRlcixuPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQodC5pdGVtKSxpPW4uZ2V0Q2hpbGQoMCk7bnVsbD09PXQuYXR0cmlidXRlTmV3VmFsdWU/ZS5yZW1vdmVBdHRyaWJ1dGUodC5hdHRyaWJ1dGVLZXksaSk6ZS5zZXRBdHRyaWJ1dGUodC5hdHRyaWJ1dGVLZXksdC5hdHRyaWJ1dGVOZXdWYWx1ZSxpKX19cmV0dXJuKG8pPT57by5vbihgYXR0cmlidXRlOiR7ZX06aW1hZ2VgLHQpfX1mdW5jdGlvbiBpcihlLHQpe3JldHVybiBlJiZ0JiZlLnByaW9yaXR5PT10LnByaW9yaXR5JiZhcihlLmNsYXNzZXMpPT1hcih0LmNsYXNzZXMpfWZ1bmN0aW9uIHJyKGUsdCl7aWYoZS5wcmlvcml0eT50LnByaW9yaXR5KXJldHVybiEwO3JldHVybiEoZS5wcmlvcml0eTx0LnByaW9yaXR5KSYmYXIoZS5jbGFzc2VzKT5hcih0LmNsYXNzZXMpfWZ1bmN0aW9uIGFyKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2Uuc29ydCgpLmpvaW4oJywnKTplfWZ1bmN0aW9uIHNyKGUpe3JldHVybiEhZS5nZXRDdXN0b21Qcm9wZXJ0eShNYil9ZnVuY3Rpb24gbHIoZSx0LG89e30pe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpbZV19cmV0dXJuIHQuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCdmYWxzZScsZSksdC5hZGRDbGFzcyhMYixlKSx0LnNldEN1c3RvbVByb3BlcnR5KE1iLCEwLGUpLGUuZ2V0RmlsbGVyT2Zmc2V0PXByLG8ubGFiZWwmJmNyKGUsby5sYWJlbCx0KSxkcihlLHQsKGUsdCxvKT0+by5hZGRDbGFzcyhuKHQuY2xhc3NlcyksZSksKGUsdCxvKT0+by5yZW1vdmVDbGFzcyhuKHQuY2xhc3NlcyksZSkpLGV9ZnVuY3Rpb24gZHIoZSx0LG8sbil7Y29uc3QgaT1uZXcgRGI7aS5vbignY2hhbmdlOnRvcCcsKHQsaSk9PntpLm9sZERlc2NyaXB0b3ImJm4oZSxpLm9sZERlc2NyaXB0b3IsaS53cml0ZXIpLGkubmV3RGVzY3JpcHRvciYmbyhlLGkubmV3RGVzY3JpcHRvcixpLndyaXRlcil9KSx0LnNldEN1c3RvbVByb3BlcnR5KCdhZGRIaWdobGlnaHQnLChlLHQsbyk9PmkuYWRkKHQsbyksZSksdC5zZXRDdXN0b21Qcm9wZXJ0eSgncmVtb3ZlSGlnaGxpZ2h0JywoZSx0LG8pPT5pLnJlbW92ZSh0LG8pLGUpfWZ1bmN0aW9uIGNyKGUsdCxvKXtvLnNldEN1c3RvbVByb3BlcnR5KEJiLHQsZSl9ZnVuY3Rpb24gbXIoZSl7Y29uc3QgdD1lLmdldEN1c3RvbVByb3BlcnR5KEJiKTtyZXR1cm4gdD8nZnVuY3Rpb24nPT10eXBlb2YgdD90KCk6dDonJ31mdW5jdGlvbiB1cihlLHQpe3JldHVybiB0LmFkZENsYXNzKFsnY2stZWRpdG9yX19lZGl0YWJsZScsJ2NrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlJ10sZSksdC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsZS5pc1JlYWRPbmx5PydmYWxzZSc6J3RydWUnLGUpLGUub24oJ2NoYW5nZTppc1JlYWRPbmx5JywobyxuLGkpPT57dC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsaT8nZmFsc2UnOid0cnVlJyxlKX0pLGUub24oJ2NoYW5nZTppc0ZvY3VzZWQnLChvLG4saSk9PntpP3QuYWRkQ2xhc3MoJ2NrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWQnLGUpOnQucmVtb3ZlQ2xhc3MoJ2NrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWQnLGUpfSksZX1mdW5jdGlvbiBwcigpe3JldHVybiBudWxsfWZ1bmN0aW9uIGdyKGUsdCxvKXtyZXR1cm4gdC5zZXRDdXN0b21Qcm9wZXJ0eShqYiwhMCxlKSxscihlLHQse2xhYmVsOmZ1bmN0aW9uKCl7Y29uc3QgdD1lLmdldENoaWxkKDApLG49dC5nZXRBdHRyaWJ1dGUoJ2FsdCcpO3JldHVybiBuP2Ake259ICR7b31gOm99fSl9ZnVuY3Rpb24gZnIoZSl7cmV0dXJuISFlLmdldEN1c3RvbVByb3BlcnR5KGpiKSYmc3IoZSl9ZnVuY3Rpb24gaHIoZSl7Y29uc3QgdD1lLmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiEhKHQmJmZyKHQpKX1mdW5jdGlvbiBicihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGR1JiYnaW1hZ2UnPT1lLm5hbWV9ZnVuY3Rpb24ga3IoZSl7Y29uc3QgdD1lLmNyZWF0ZUVtcHR5RWxlbWVudCgnaW1nJyksbz1lLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoJ2ZpZ3VyZScse2NsYXNzOidpbWFnZSd9KTtyZXR1cm4gZS5pbnNlcnQoV2MuY3JlYXRlQXQobyksdCksb31mdW5jdGlvbiBfcihlKXtyZXR1cm4gZT09bm0uYXJyb3dyaWdodHx8ZT09bm0uYXJyb3dsZWZ0fHxlPT1ubS5hcnJvd3VwfHxlPT1ubS5hcnJvd2Rvd259ZnVuY3Rpb24gd3IoZSl7cmV0dXJuIHRlKGUpPT1LYn1mdW5jdGlvbiB2cihlKXtmb3IoO2U7KXtpZihlIGluc3RhbmNlb2YgTGMmJiEoZSBpbnN0YW5jZW9mIGpjKSlyZXR1cm4hMDtlPWUucGFyZW50fXJldHVybiExfWZ1bmN0aW9uIHlyKHtlbWl0dGVyOmUsYWN0aXZhdG9yOnQsY2FsbGJhY2s6byxjb250ZXh0RWxlbWVudHM6bn0pe2UubGlzdGVuVG8oZG9jdW1lbnQsJ21vdXNlZG93bicsKGUse3RhcmdldDppfSk9PntpZih0KCkpe2Zvcihjb25zdCBlIG9mIG4paWYoZS5jb250YWlucyhpKSlyZXR1cm47bygpfX0pfWZ1bmN0aW9uIHhyKHt2aWV3OmV9KXtlLmxpc3RlblRvKGUuZWxlbWVudCwnc3VibWl0JywodCxvKT0+e28ucHJldmVudERlZmF1bHQoKSxlLmZpcmUoJ3N1Ym1pdCcpfSx7dXNlQ2FwdHVyZTohMH0pfWZ1bmN0aW9uIENyKGUpe2Zvcig7ZSYmJ2h0bWwnIT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTspe2lmKCdzdGF0aWMnIT1nbS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5wb3NpdGlvbilyZXR1cm4gZTtlPWUucGFyZW50RWxlbWVudH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBBcih7ZWxlbWVudDplLHRhcmdldDp0LHBvc2l0aW9uczpvLGxpbWl0ZXI6bixmaXRJblZpZXdwb3J0Oml9KXtEcyh0KSYmKHQ9dCgpKSxEcyhuKSYmKG49bigpKTtjb25zdCByPUNyKGUucGFyZW50RWxlbWVudCksYT1uZXcgb3UoZSkscz1uZXcgb3UodCk7bGV0IGwsZDtpZighbiYmIWkpW2QsbF09VHIob1swXSxzLGEpO2Vsc2V7Y29uc3QgZT1uJiZuZXcgb3UobikuZ2V0VmlzaWJsZSgpLHQ9aSYmbmV3IG91KGdtLndpbmRvdyk7W2QsbF09UHIobyxzLGEsZSx0KXx8VHIob1swXSxzLGEpfWxldHtsZWZ0OmMsdG9wOm19PUVyKGwpO2lmKHIpe2NvbnN0IGU9RXIobmV3IG91KHIpKSx0PVhlKHIpO2MtPWUubGVmdCxtLT1lLnRvcCxjKz1yLnNjcm9sbExlZnQsbSs9ci5zY3JvbGxUb3AsYy09dC5sZWZ0LG0tPXQudG9wfXJldHVybntsZWZ0OmMsdG9wOm0sbmFtZTpkfX1mdW5jdGlvbiBUcihlLHQsbyl7Y29uc3R7bGVmdDpuLHRvcDppLG5hbWU6cn09ZSh0LG8pO3JldHVybltyLG8uY2xvbmUoKS5tb3ZlVG8obixpKV19ZnVuY3Rpb24gUHIoZSx0LG8sbixpKXtsZXQgcj0wLGE9MCxzLGw7Y29uc3QgZD1vLmdldEFyZWEoKTtyZXR1cm4gZS5zb21lKChlKT0+e2Z1bmN0aW9uIGMoKXthPWcscj1wLHM9dSxsPW19Y29uc3RbbSx1XT1UcihlLHQsbyk7bGV0IHAsZztpZihuKWlmKGkpe2NvbnN0IGU9bi5nZXRJbnRlcnNlY3Rpb24oaSk7cD1lP2UuZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KTowfWVsc2UgcD1uLmdldEludGVyc2VjdGlvbkFyZWEodSk7cmV0dXJuIGkmJihnPWkuZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KSksaSYmIW4/Zz5hJiZjKCk6IWkmJm4/cD5yJiZjKCk6Zz5hJiZwPj1yP2MoKTpnPj1hJiZwPnImJmMoKSxwPT09ZH0pLHM/W2wsc106bnVsbH1mdW5jdGlvbiBFcih7bGVmdDplLHRvcDp0fSl7Y29uc3R7c2Nyb2xsWDpvLHNjcm9sbFk6bn09Z20ud2luZG93O3JldHVybntsZWZ0OmUrbyx0b3A6dCtufX1mdW5jdGlvbiBTcihlKXtyZXR1cm4gZm0oZSk/ZTpZZShlKT9lLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOidmdW5jdGlvbic9PXR5cGVvZiBlP1NyKGUoKSk6bnVsbH1mdW5jdGlvbiBPcihlLHQpe3JldHVybiBlLnRvcC10LmhlaWdodC1tay5hcnJvd1ZlcnRpY2FsT2Zmc2V0fWZ1bmN0aW9uIElyKGUpe3JldHVybiBlLmJvdHRvbSttay5hcnJvd1ZlcnRpY2FsT2Zmc2V0fWZ1bmN0aW9uIFJyKGUpe2NvbnN0IHQ9ZS5wbHVnaW5zLmdldCgnQ29udGV4dHVhbEJhbGxvb24nKTtpZihocihlLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pKXtjb25zdCBvPVZyKGUpO3QudXBkYXRlUG9zaXRpb24obyl9fWZ1bmN0aW9uIFZyKGUpe2NvbnN0IHQ9ZS5lZGl0aW5nLnZpZXcsbz1tay5kZWZhdWx0UG9zaXRpb25zO3JldHVybnt0YXJnZXQ6dC5kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpKSxwb3NpdGlvbnM6W28ubm9ydGhBcnJvd1NvdXRoLG8ubm9ydGhBcnJvd1NvdXRoV2VzdCxvLm5vcnRoQXJyb3dTb3V0aEVhc3Qsby5zb3V0aEFycm93Tm9ydGgsby5zb3V0aEFycm93Tm9ydGhXZXN0LG8uc291dGhBcnJvd05vcnRoRWFzdF19fWZ1bmN0aW9uIEZyKGUpe2NvbnN0IHQ9L15pbWFnZVxcLyhqcGVnfHBuZ3xnaWZ8Ym1wKSQvO3JldHVybiB0LnRlc3QoZS50eXBlKX1mdW5jdGlvbiBOcihlKXtjb25zdCB0PWUuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYodClyZXR1cm4gdXUuY3JlYXRlQWZ0ZXIodCk7Y29uc3Qgbz1lLmdldFNlbGVjdGVkQmxvY2tzKCkubmV4dCgpLnZhbHVlO2lmKG8pe2lmKG8uaXNFbXB0eSlyZXR1cm4gdXUuY3JlYXRlQXQobyk7Y29uc3QgdD11dS5jcmVhdGVBZnRlcihvKTtyZXR1cm4gZS5mb2N1cy5pc1RvdWNoaW5nKHQpP3Q6dXUuY3JlYXRlQmVmb3JlKG8pfXJldHVybiBlLmZvY3VzfWZ1bmN0aW9uIERyKGUsdCl7ZS5oYXNDbGFzcygnY2stYXBwZWFyJyl8fHQuYWRkQ2xhc3MoJ2NrLWFwcGVhcicsZSl9ZnVuY3Rpb24gTXIoZSx0KXt0LnJlbW92ZUNsYXNzKCdjay1hcHBlYXInLGUpfWZ1bmN0aW9uIEJyKGUsdCxvKXt0Lmhhc0NsYXNzKCdjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXInKXx8by5hZGRDbGFzcygnY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyJyx0KSx0Lmhhc0NsYXNzKCdjay1pbmZpbml0ZS1wcm9ncmVzcycpfHxvLmFkZENsYXNzKCdjay1pbmZpbml0ZS1wcm9ncmVzcycsdCk7Y29uc3Qgbj10LmdldENoaWxkKDApO24uZ2V0QXR0cmlidXRlKCdzcmMnKSE9PWUmJm8uc2V0QXR0cmlidXRlKCdzcmMnLGUsbil9ZnVuY3Rpb24gTHIoZSx0KXtlLmhhc0NsYXNzKCdjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXInKSYmdC5yZW1vdmVDbGFzcygnY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyJyxlKSxlLmhhc0NsYXNzKCdjay1pbmZpbml0ZS1wcm9ncmVzcycpJiZ0LnJlbW92ZUNsYXNzKCdjay1pbmZpbml0ZS1wcm9ncmVzcycsZSl9ZnVuY3Rpb24genIoZSx0LG8sbil7Y29uc3QgaT1Xcih0KTt0Lmluc2VydChXYy5jcmVhdGVBdChlLCdlbmQnKSxpKSxvLm9uKCdjaGFuZ2U6dXBsb2FkZWRQZXJjZW50JywoZSx0LG8pPT57bi5jaGFuZ2UoKGUpPT57ZS5zZXRTdHlsZSgnd2lkdGgnLG8rJyUnLGkpfSl9KX1mdW5jdGlvbiBqcihlLHQpe2NvbnN0IG89VXIoZSk7byYmdC5yZW1vdmUoVWMuY3JlYXRlT24obykpfWZ1bmN0aW9uIHFyKGUsdCxvKXtjb25zdCBuPW5ldyBpbSgnZGl2Jyx7Y2xhc3M6J2NrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29uJ30pO3QuaW5zZXJ0KFdjLmNyZWF0ZUF0KGUsJ2VuZCcpLG4pLHNldFRpbWVvdXQoKCk9PntvLmNoYW5nZSgoZSk9PmUucmVtb3ZlKFVjLmNyZWF0ZU9uKG4pKSl9LDNlMyl9ZnVuY3Rpb24gV3IoZSl7Y29uc3QgdD1lLmNyZWF0ZVVJRWxlbWVudCgnZGl2Jyx7Y2xhc3M6J2NrLXByb2dyZXNzLWJhcid9KTtyZXR1cm4gZS5zZXRDdXN0b21Qcm9wZXJ0eShSaywhMCx0KSx0fWZ1bmN0aW9uIFVyKGUpe2Zvcihjb25zdCB0IG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZih0LmdldEN1c3RvbVByb3BlcnR5KFJrKSlyZXR1cm4gdH1mdW5jdGlvbiBIcihlKXtyZXR1cm4gQXJyYXkuZnJvbShlLnR5cGVzKS5pbmNsdWRlcygndGV4dC9odG1sJykmJicnIT09ZS5nZXREYXRhKCd0ZXh0L2h0bWwnKX1mdW5jdGlvbiBLcihlLHQpe3JldHVybiB0LmNoZWNrQ2hpbGQoZS5wYXJlbnQsJ3BhcmFncmFwaCcpJiYhdC5pc09iamVjdChlKX1mdW5jdGlvbiBHcihlLHQsbyl7Y29uc3Qgbj1vLndyaXRlci5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKTtyZXR1cm4gby53cml0ZXIuaW5zZXJ0KG4sdCksby5jb252ZXJ0SXRlbShlLHV1LmNyZWF0ZUF0KG4pKX1mdW5jdGlvbiAkcihlLHQsbyl7Y29uc3Qgbj1uZXcgT3UodCk7cmV0dXJuISFvLmNoZWNrQ2hpbGQobiwncGFyYWdyYXBoJykmJiEhby5jaGVja0NoaWxkKG4ucHVzaCgncGFyYWdyYXBoJyksZSl9ZnVuY3Rpb24gSnIoZSx0LG8pe3JldHVybiBvLmNoZWNrQ2hpbGQoZS5wYXJlbnQsdCkmJiFvLmlzT2JqZWN0KGUpfWZ1bmN0aW9uIFFyKGUsdD1Rayl7Y29uc3Qgbz1uZXcgdChlKSxuPW5ldyBVayhlKSxpPW5ldyBHayhlLG8sbik7cmV0dXJuIG8uYmluZCgnaXNFbmFibGVkJykudG8oaSksbyBpbnN0YW5jZW9mIFFrP28uYmluZCgnaXNPbicpLnRvKGksJ2lzT3BlbicpOm8uYXJyb3dWaWV3LmJpbmQoJ2lzT24nKS50byhpLCdpc09wZW4nKSxYcihpKSxpfWZ1bmN0aW9uIFlyKGUsdCl7Y29uc3Qgbz1lLmxvY2FsZSxuPWUubGlzdFZpZXc9bmV3IFprKG8pO24uaXRlbXMuYmluZFRvKHQpLnVzaW5nKChlKT0+e2xldCB0O3JldHVybiBlLmlzU2VwYXJhdG9yP3Q9bmV3IHRfKG8pOih0PW5ldyBlXyhvKSx0LmJpbmQoLi4uT2JqZWN0LmtleXMoZSkpLnRvKGUpKSx0fSksZS5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKG4pLG4uaXRlbXMuZGVsZWdhdGUoJ2V4ZWN1dGUnKS50byhlKX1mdW5jdGlvbiBYcihlKXtacihlKSxlYShlKSx0YShlKX1mdW5jdGlvbiBacihlKXtlLm9uKCdyZW5kZXInLCgpPT57eXIoe2VtaXR0ZXI6ZSxhY3RpdmF0b3I6KCk9PmUuaXNPcGVuLGNhbGxiYWNrOigpPT57ZS5pc09wZW49ITF9LGNvbnRleHRFbGVtZW50czpbZS5lbGVtZW50XX0pfSl9ZnVuY3Rpb24gZWEoZSl7ZS5vbignZXhlY3V0ZScsKCk9PntlLmlzT3Blbj0hMX0pfWZ1bmN0aW9uIHRhKGUpe2Uua2V5c3Ryb2tlcy5zZXQoJ2Fycm93ZG93bicsKHQsbyk9PntlLmlzT3BlbiYmKGUucGFuZWxWaWV3LmZvY3VzKCksbygpKX0pLGUua2V5c3Ryb2tlcy5zZXQoJ2Fycm93dXAnLCh0LG8pPT57ZS5pc09wZW4mJihlLnBhbmVsVmlldy5mb2N1c0xhc3QoKSxvKCkpfSl9ZnVuY3Rpb24gb2EoZSl7Y29uc3Qgbz1lLnQsdD17UGFyYWdyYXBoOm8oJ3MnKSxcIkhlYWRpbmcgMVwiOm8oJ3QnKSxcIkhlYWRpbmcgMlwiOm8oJ3UnKSxcIkhlYWRpbmcgM1wiOm8oJ3YnKX07cmV0dXJuIGUuY29uZmlnLmdldCgnaGVhZGluZy5vcHRpb25zJykubWFwKChlKT0+e2NvbnN0IG89dFtlLnRpdGxlXTtyZXR1cm4gbyYmbyE9ZS50aXRsZSYmKGU9T2JqZWN0LmFzc2lnbih7fSxlLHt0aXRsZTpvfSkpLGV9KX1mdW5jdGlvbiBuYShlLHQsbyxuKXtjb25zdCBpPWUuZG9jdW1lbnQ7dV8uaGFzKGkpfHwodV8uc2V0KGksbmV3IE1hcCksaS5yZWdpc3RlclBvc3RGaXhlcigoZSk9PmlhKGksZSkpKSx1Xy5nZXQoaSkuc2V0KHQse3BsYWNlaG9sZGVyVGV4dDpvLGNoZWNrRnVuY3Rpb246bn0pLGUucmVuZGVyKCl9ZnVuY3Rpb24gaWEoZSx0KXtjb25zdCBvPXVfLmdldChlKTtsZXQgbj0hMTtmb3IoY29uc3RbaSxyXW9mIG8pcmEodCxpLHIpJiYobj0hMCk7cmV0dXJuIG59ZnVuY3Rpb24gcmEoZSx0LG8pe2NvbnN0IG49dC5kb2N1bWVudCxpPW8ucGxhY2Vob2xkZXJUZXh0O2xldCByPSExO2lmKCFuKXJldHVybiExO3QuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJykhPT1pJiYoZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInLGksdCkscj0hMCk7Y29uc3QgYT1uLnNlbGVjdGlvbixzPWEuYW5jaG9yLGw9by5jaGVja0Z1bmN0aW9uO2lmKGwmJiFsKCkpcmV0dXJuIHQuaGFzQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJykmJihlLnJlbW92ZUNsYXNzKCdjay1wbGFjZWhvbGRlcicsdCkscj0hMCkscjtjb25zdCBkPSFBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuc29tZSgoZSk9PiFlLmlzKCd1aUVsZW1lbnQnKSk7cmV0dXJuIW4uaXNGb2N1c2VkJiZkPyh0Lmhhc0NsYXNzKCdjay1wbGFjZWhvbGRlcicpfHwoZS5hZGRDbGFzcygnY2stcGxhY2Vob2xkZXInLHQpLHI9ITApLHIpOihkJiZzJiZzLnBhcmVudCE9PXQ/IXQuaGFzQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJykmJihlLmFkZENsYXNzKCdjay1wbGFjZWhvbGRlcicsdCkscj0hMCk6dC5oYXNDbGFzcygnY2stcGxhY2Vob2xkZXInKSYmKGUucmVtb3ZlQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJyx0KSxyPSEwKSxyKX1mdW5jdGlvbiBhYShlLHQpe3JldHVybihvKT0+e2NvbnN0IG49by5jcmVhdGVFZGl0YWJsZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtyZXR1cm4gby5zZXRDdXN0b21Qcm9wZXJ0eShwXywhMCxuKSxuYShlLG4sdCksdXIobixvKX19ZnVuY3Rpb24gc2EoZSl7Zm9yKGNvbnN0IHQgb2YgZS5nZXRDaGlsZHJlbigpKWlmKHQgaW5zdGFuY2VvZiBkdSYmJ2NhcHRpb24nPT10Lm5hbWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9ZnVuY3Rpb24gbGEoZSl7Y29uc3QgdD1lLnBhcmVudDtyZXR1cm4nZmlnY2FwdGlvbic9PWUubmFtZSYmdCYmJ2ZpZ3VyZSc9PXQubmFtZSYmdC5oYXNDbGFzcygnaW1hZ2UnKT97bmFtZTohMH06bnVsbH1mdW5jdGlvbiBkYShlLHQ9ITApe3JldHVybihvLG4saSk9Pntjb25zdCByPW4uaXRlbTtpZigoci5jaGlsZENvdW50fHx0KSYmYnIoci5wYXJlbnQpKXtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLCdpbnNlcnQnKSlyZXR1cm47Y29uc3QgdD1pLm1hcHBlci50b1ZpZXdFbGVtZW50KG4ucmFuZ2Uuc3RhcnQucGFyZW50KSxvPWUoaS53cml0ZXIpLGE9aS53cml0ZXI7ci5jaGlsZENvdW50fHxhLmFkZENsYXNzKCdjay1oaWRkZW4nLG8pLGNhKG8sbi5pdGVtLHQsaSl9fX1mdW5jdGlvbiBjYShlLHQsbyxuKXtjb25zdCBpPVdjLmNyZWF0ZUF0KG8sJ2VuZCcpO24ud3JpdGVyLmluc2VydChpLGUpLG4ubWFwcGVyLmJpbmRFbGVtZW50cyh0LGUpfWZ1bmN0aW9uIG1hKGUpe2NvbnN0IHQ9ZS5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSksbz10LmZpbmQoKGUpPT4nY2FwdGlvbic9PWUubmFtZSk7cmV0dXJuIG8mJm8ucGFyZW50JiYnaW1hZ2UnPT1vLnBhcmVudC5uYW1lP286bnVsbH1mdW5jdGlvbiB1YShlLHQpe3JldHVybiEoZS5jaGlsZENvdW50fHxlLmhhc0NsYXNzKCdjay1oaWRkZW4nKSkmJih0LmFkZENsYXNzKCdjay1oaWRkZW4nLGUpLCEwKX1mdW5jdGlvbiBwYShlLHQpe3JldHVybiEhZS5oYXNDbGFzcygnY2staGlkZGVuJykmJih0LnJlbW92ZUNsYXNzKCdjay1oaWRkZW4nLGUpLCEwKX1mdW5jdGlvbiBnYShlKXtyZXR1cm4odCxvLG4pPT57aWYobi5jb25zdW1hYmxlLmNvbnN1bWUoby5pdGVtLHQubmFtZSkpe2NvbnN0IHQ9aGEoby5hdHRyaWJ1dGVOZXdWYWx1ZSxlKSxpPWhhKG8uYXR0cmlidXRlT2xkVmFsdWUsZSkscj1uLm1hcHBlci50b1ZpZXdFbGVtZW50KG8uaXRlbSksYT1uLndyaXRlcjtpJiZhLnJlbW92ZUNsYXNzKGkuY2xhc3NOYW1lLHIpLHQmJmEuYWRkQ2xhc3ModC5jbGFzc05hbWUscil9fX1mdW5jdGlvbiBmYShlKXtjb25zdCB0PWUuZmlsdGVyKChlKT0+IWUuaXNEZWZhdWx0KTtyZXR1cm4oZSxvLG4pPT57aWYoby5tb2RlbFJhbmdlKXtjb25zdCBlPW8udmlld0l0ZW0saT1KaShvLm1vZGVsUmFuZ2UuZ2V0SXRlbXMoKSk7aWYobi5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUoaSwnaW1hZ2VTdHlsZScpKWZvcihjb25zdCBvIG9mIHQpbi5jb25zdW1hYmxlLmNvbnN1bWUoZSx7Y2xhc3NlczpvLmNsYXNzTmFtZX0pJiZuLndyaXRlci5zZXRBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnLG8ubmFtZSxpKX19fWZ1bmN0aW9uIGhhKGUsdCl7Zm9yKGNvbnN0IG8gb2YgdClpZihvLm5hbWU9PT1lKXJldHVybiBvfWZ1bmN0aW9uIGJhKGU9W10pe3JldHVybiBlLm1hcChrYSkubWFwKChlKT0+T2JqZWN0LmFzc2lnbih7fSxlKSl9ZnVuY3Rpb24ga2EoZSl7aWYoJ3N0cmluZyc9PXR5cGVvZiBlKXtjb25zdCB0PWU7UF9bdF0/ZT1PYmplY3QuYXNzaWduKHt9LFBfW3RdKTooWG0ud2FybignaW1hZ2Utc3R5bGUtbm90LWZvdW5kOiBUaGVyZSBpcyBubyBzdWNoIGltYWdlIHN0eWxlIG9mIGdpdmVuIG5hbWUuJyx7bmFtZTp0fSksZT17bmFtZTp0fSl9ZWxzZSBpZihQX1tlLm5hbWVdKXtjb25zdCB0PVBfW2UubmFtZV0sbz1PYmplY3QuYXNzaWduKHt9LGUpO2Zvcihjb25zdCBuIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShuKXx8KG9bbl09dFtuXSk7ZT1vfXJldHVybidzdHJpbmcnPT10eXBlb2YgZS5pY29uJiZFX1tlLmljb25dJiYoZS5pY29uPUVfW2UuaWNvbl0pLGV9ZnVuY3Rpb24gX2EoZSx0KXtmb3IoY29uc3QgbyBvZiBlKXRbby50aXRsZV0mJihvLnRpdGxlPXRbby50aXRsZV0pO3JldHVybiBlfWZ1bmN0aW9uIHdhKGUsdCl7cmV0dXJuIG5ldyBwdSh2YShlLHQsITApLHZhKGUsdCwhMSkpfWZ1bmN0aW9uIHZhKGUsdCxvKXtsZXQgbj1lLnRleHROb2RlfHwobz9lLm5vZGVCZWZvcmU6ZS5ub2RlQWZ0ZXIpLGk9bnVsbDtmb3IoO24mJm4uZ2V0QXR0cmlidXRlKCdsaW5rSHJlZicpPT10OylpPW4sbj1vP24ucHJldmlvdXNTaWJsaW5nOm4ubmV4dFNpYmxpbmc7cmV0dXJuIGk/dXUuY3JlYXRlQXQoaSxvPydiZWZvcmUnOidhZnRlcicpOmV9ZnVuY3Rpb24geWEoZSl7cmV0dXJuIGUuaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmISFlLmdldEN1c3RvbVByb3BlcnR5KE1fKX1mdW5jdGlvbiB4YShlLHQpe2NvbnN0IG89dC5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KCdhJyx7aHJlZjplfSx7cHJpb3JpdHk6NX0pO3JldHVybiB0LnNldEN1c3RvbVByb3BlcnR5KE1fLCEwLG8pLG99ZnVuY3Rpb24gQ2EoZSl7cmV0dXJuIGUrPScnLEFhKGUpP2U6JyMnfWZ1bmN0aW9uIEFhKGUpe2NvbnN0IHQ9ZS5yZXBsYWNlKEJfLCcnKTtyZXR1cm4gdC5tYXRjaChMXyl9ZnVuY3Rpb24gVGEoZSx0LG8sbil7Y29uc3QgaT1uZXcgel8odCxvLG4pLHI9dC5kb2N1bWVudC5zZWxlY3Rpb247by5saXN0ZW5UbyhlLmRvY3VtZW50LCdrZXlkb3duJywoZSx0KT0+e2lmKCFyLmlzQ29sbGFwc2VkKXJldHVybjtpZih0LnNoaWZ0S2V5fHx0LmFsdEtleXx8dC5jdHJsS2V5KXJldHVybjtjb25zdCBvPXQua2V5Q29kZT09bm0uYXJyb3dyaWdodCxuPXQua2V5Q29kZT09bm0uYXJyb3dsZWZ0O2lmKCFvJiYhbilyZXR1cm47Y29uc3QgYT1yLmdldEZpcnN0UG9zaXRpb24oKTtsZXQgcztzPW8/aS5oYW5kbGVGb3J3YXJkTW92ZW1lbnQoYSx0KTppLmhhbmRsZUJhY2t3YXJkTW92ZW1lbnQoYSx0KSxzJiZlLnN0b3AoKX0se3ByaW9yaXR5OnhzLmdldCgnaGlnaCcpKzF9KX1mdW5jdGlvbiBQYShlLHQpe3JldHVybiBFYShlLHQpfHxTYShlLHQpfWZ1bmN0aW9uIEVhKGUsdCl7Y29uc3R7bm9kZUJlZm9yZTpvLG5vZGVBZnRlcjpufT1lLGk9ISFvJiZvLmhhc0F0dHJpYnV0ZSh0KSxyPSEhbiYmbi5oYXNBdHRyaWJ1dGUodCk7cmV0dXJuIHImJighaXx8by5nZXRBdHRyaWJ1dGUodCkhPT1uLmdldEF0dHJpYnV0ZSh0KSl9ZnVuY3Rpb24gU2EoZSx0KXtjb25zdHtub2RlQmVmb3JlOm8sbm9kZUFmdGVyOm59PWUsaT0hIW8mJm8uaGFzQXR0cmlidXRlKHQpLHI9ISFuJiZuLmhhc0F0dHJpYnV0ZSh0KTtyZXR1cm4gaSYmKCFyfHxvLmdldEF0dHJpYnV0ZSh0KSE9PW4uZ2V0QXR0cmlidXRlKHQpKX1mdW5jdGlvbiBPYShlLHQpe2NvbnN0e25vZGVCZWZvcmU6byxub2RlQWZ0ZXI6bn09ZSxpPSEhbyYmby5oYXNBdHRyaWJ1dGUodCkscj0hIW4mJm4uaGFzQXR0cmlidXRlKHQpO3JldHVybiByJiZpP24uZ2V0QXR0cmlidXRlKHQpIT09by5nZXRBdHRyaWJ1dGUodCk6dm9pZCAwfWZ1bmN0aW9uIElhKGUsdCl7cmV0dXJuIFBhKGUuZ2V0U2hpZnRlZEJ5KC0xKSx0KX1mdW5jdGlvbiBSYShlKXtyZXR1cm4gZS5nZXRBbmNlc3RvcnMoKS5maW5kKChlKT0+eWEoZSkpfWZ1bmN0aW9uIFZhKGUsdCxvKXtjb25zdCBuPXQ/ZVswXTplW2UubGVuZ3RoLTFdO2lmKG4uaXMoJ2xpc3RJdGVtJykpZm9yKGxldCBpPW5bdD8ncHJldmlvdXNTaWJsaW5nJzonbmV4dFNpYmxpbmcnXSxyPW4uZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50Jyk7aSYmaS5pcygnbGlzdEl0ZW0nKSYmaS5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKT49bzspcj5pLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpJiYocj1pLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpKSxpLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpPT1yJiZlW3Q/J3Vuc2hpZnQnOidwdXNoJ10oaSksaT1pW3Q/J3ByZXZpb3VzU2libGluZyc6J25leHRTaWJsaW5nJ119ZnVuY3Rpb24gRmEoZSx0KXtyZXR1cm4gdC5jaGVja0NoaWxkKGUucGFyZW50LCdsaXN0SXRlbScpJiYhdC5pc09iamVjdChlKX1mdW5jdGlvbiBOYShlKXtjb25zdCB0PWUuY3JlYXRlQ29udGFpbmVyRWxlbWVudCgnbGknKTtyZXR1cm4gdC5nZXRGaWxsZXJPZmZzZXQ9RGEsdH1mdW5jdGlvbiBEYSgpe2NvbnN0IGU9IXRoaXMuaXNFbXB0eSYmKCd1bCc9PXRoaXMuZ2V0Q2hpbGQoMCkubmFtZXx8J29sJz09dGhpcy5nZXRDaGlsZCgwKS5uYW1lKTtyZXR1cm4gdGhpcy5pc0VtcHR5fHxlPzA6bnVsbH1mdW5jdGlvbiBNYShlLHQsbyl7Y29uc3Qgbj1vLmNvbnN1bWFibGU7aWYobi50ZXN0KHQuaXRlbSwnaW5zZXJ0JykmJm4udGVzdCh0Lml0ZW0sJ2F0dHJpYnV0ZTpsaXN0VHlwZScpJiZuLnRlc3QodC5pdGVtLCdhdHRyaWJ1dGU6bGlzdEluZGVudCcpKXtuLmNvbnN1bWUodC5pdGVtLCdpbnNlcnQnKSxuLmNvbnN1bWUodC5pdGVtLCdhdHRyaWJ1dGU6bGlzdFR5cGUnKSxuLmNvbnN1bWUodC5pdGVtLCdhdHRyaWJ1dGU6bGlzdEluZGVudCcpO2NvbnN0IGU9dC5pdGVtLGk9UWEoZSxvKTtaYShlLGksbyl9fWZ1bmN0aW9uIEJhKGUsdCxvKXtjb25zdCBuPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKHQucG9zaXRpb24pLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKChlKT0+IWUuaXRlbS5pcygnbGknKSksaT1uLm5vZGVBZnRlcixyPW8ud3JpdGVyO3IuYnJlYWtDb250YWluZXIoV2MuY3JlYXRlQmVmb3JlKGkpKSxyLmJyZWFrQ29udGFpbmVyKFdjLmNyZWF0ZUFmdGVyKGkpKTtjb25zdCBhPWkucGFyZW50LHM9YS5wcmV2aW91c1NpYmxpbmcsbD1VYy5jcmVhdGVPbihhKSxkPXIucmVtb3ZlKGwpO3MmJnMubmV4dFNpYmxpbmcmJlhhKHIscyxzLm5leHRTaWJsaW5nKTtjb25zdCBjPW8ubWFwcGVyLnRvTW9kZWxFbGVtZW50KGkpO2VzKGMuZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50JykrMSx0LnBvc2l0aW9uLGwuc3RhcnQsaSxvKTtmb3IoY29uc3QgbiBvZiBVYy5jcmVhdGVJbihkKS5nZXRJdGVtcygpKW8ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KG4pO2Uuc3RvcCgpfWZ1bmN0aW9uIExhKGUsdCxvKXtpZighby5jb25zdW1hYmxlLmNvbnN1bWUodC5pdGVtLCdhdHRyaWJ1dGU6bGlzdFR5cGUnKSlyZXR1cm47Y29uc3Qgbj1vLm1hcHBlci50b1ZpZXdFbGVtZW50KHQuaXRlbSksaT1vLndyaXRlcjtpLmJyZWFrQ29udGFpbmVyKFdjLmNyZWF0ZUJlZm9yZShuKSksaS5icmVha0NvbnRhaW5lcihXYy5jcmVhdGVBZnRlcihuKSk7bGV0IHI9bi5wYXJlbnQ7Y29uc3QgYT0nbnVtYmVyZWQnPT10LmF0dHJpYnV0ZU5ld1ZhbHVlPydvbCc6J3VsJztyPWkucmVuYW1lKHIsYSksWGEoaSxyLHIubmV4dFNpYmxpbmcpLFhhKGksci5wcmV2aW91c1NpYmxpbmcscik7Zm9yKGNvbnN0IG4gb2YgdC5pdGVtLmdldENoaWxkcmVuKCkpby5jb25zdW1hYmxlLmNvbnN1bWUobiwnaW5zZXJ0Jyl9ZnVuY3Rpb24gemEoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSwnYXR0cmlidXRlOmxpc3RJbmRlbnQnKSl7Y29uc3QgZT1vLm1hcHBlci50b1ZpZXdFbGVtZW50KHQuaXRlbSksbj1vLndyaXRlcjtuLmJyZWFrQ29udGFpbmVyKFdjLmNyZWF0ZUJlZm9yZShlKSksbi5icmVha0NvbnRhaW5lcihXYy5jcmVhdGVBZnRlcihlKSk7Y29uc3QgaT1lLnBhcmVudCxyPWkucHJldmlvdXNTaWJsaW5nLGE9VWMuY3JlYXRlT24oaSk7bi5yZW1vdmUoYSksciYmci5uZXh0U2libGluZyYmWGEobixyLHIubmV4dFNpYmxpbmcpLGVzKHQuYXR0cmlidXRlT2xkVmFsdWUrMSx0LnJhbmdlLnN0YXJ0LGEuc3RhcnQsZSxvKSxaYSh0Lml0ZW0sZSxvKTtmb3IoY29uc3QgZSBvZiB0Lml0ZW0uZ2V0Q2hpbGRyZW4oKSlvLmNvbnN1bWFibGUuY29uc3VtZShlLCdpbnNlcnQnKX19ZnVuY3Rpb24gamEoZSx0LG8pe2lmKCdsaXN0SXRlbSchPXQuaXRlbS5uYW1lKXtsZXQgZT1vLm1hcHBlci50b1ZpZXdQb3NpdGlvbih0LnJhbmdlLnN0YXJ0KTtjb25zdCBuPW8ud3JpdGVyLHI9W107Zm9yKDsoJ3VsJz09ZS5wYXJlbnQubmFtZXx8J29sJz09ZS5wYXJlbnQubmFtZSkmJihlPW4uYnJlYWtDb250YWluZXIoZSksJ2xpJz09ZS5wYXJlbnQubmFtZSk7KXtjb25zdCB0PWUsbz1XYy5jcmVhdGVBdChlLnBhcmVudCwnZW5kJyk7aWYoIXQuaXNFcXVhbChvKSl7Y29uc3QgZT1uLnJlbW92ZShuZXcgVWModCxvKSk7ci5wdXNoKGUpfWU9V2MuY3JlYXRlQWZ0ZXIoZS5wYXJlbnQpfWlmKDA8ci5sZW5ndGgpe2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBvPWUubm9kZUJlZm9yZSxpPW4uaW5zZXJ0KGUsclt0XSk7aWYoZT1pLmVuZCwwPHQpe2NvbnN0IHQ9WGEobixvLG8ubmV4dFNpYmxpbmcpO3QmJnQucGFyZW50PT1vJiZlLm9mZnNldC0tfX1YYShuLGUubm9kZUJlZm9yZSxlLm5vZGVBZnRlcil9fX1mdW5jdGlvbiBxYShlLHQsbyl7Y29uc3Qgbj1vLm1hcHBlci50b1ZpZXdQb3NpdGlvbih0LnBvc2l0aW9uKSxpPW4ubm9kZUJlZm9yZSxyPW4ubm9kZUFmdGVyO1hhKG8ud3JpdGVyLGkscil9ZnVuY3Rpb24gV2EoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3QgZT1vLndyaXRlcixuPXRoaXMuY29udmVyc2lvbkFwaS5zdG9yZSxpPWUuY3JlYXRlRWxlbWVudCgnbGlzdEl0ZW0nKTtuLmluZGVudD1uLmluZGVudHx8MCxlLnNldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcsbi5pbmRlbnQsaSk7Y29uc3Qgcj10LnZpZXdJdGVtLnBhcmVudCYmJ29sJz09dC52aWV3SXRlbS5wYXJlbnQubmFtZT8nbnVtYmVyZWQnOididWxsZXRlZCc7ZS5zZXRBdHRyaWJ1dGUoJ2xpc3RUeXBlJyxyLGkpLG4uaW5kZW50Kys7Y29uc3QgYT1vLnNwbGl0VG9BbGxvd2VkUGFyZW50KGksdC5tb2RlbEN1cnNvcik7aWYoIWEpcmV0dXJuO2UuaW5zZXJ0KGksYS5wb3NpdGlvbik7bGV0IHM9dXUuY3JlYXRlQWZ0ZXIoaSk7Zm9yKGNvbnN0IGUgb2YgdC52aWV3SXRlbS5nZXRDaGlsZHJlbigpKSd1bCc9PWUubmFtZXx8J29sJz09ZS5uYW1lP3M9by5jb252ZXJ0SXRlbShlLHMpLm1vZGVsQ3Vyc29yOm8uY29udmVydEl0ZW0oZSx1dS5jcmVhdGVBdChpLCdlbmQnKSk7bi5pbmRlbnQtLSx0Lm1vZGVsUmFuZ2U9bmV3IHB1KHQubW9kZWxDdXJzb3IscyksdC5tb2RlbEN1cnNvcj1hLmN1cnNvclBhcmVudD91dS5jcmVhdGVBdChhLmN1cnNvclBhcmVudCk6dC5tb2RlbFJhbmdlLmVuZH19ZnVuY3Rpb24gVWEoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS50ZXN0KHQudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3QgZT1BcnJheS5mcm9tKHQudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSk7Zm9yKGNvbnN0IHQgb2YgZSl0LmlzKCdsaScpfHx0Ll9yZW1vdmUoKX19ZnVuY3Rpb24gSGEoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS50ZXN0KHQudmlld0l0ZW0se25hbWU6ITB9KSl7aWYoMD09PXQudmlld0l0ZW0uY2hpbGRDb3VudClyZXR1cm47Y29uc3QgZT1bLi4udC52aWV3SXRlbS5nZXRDaGlsZHJlbigpXTtsZXQgbz0hMSxuPSEwO2Zvcihjb25zdCB0IG9mIGUpIW98fHQuaXMoJ3VsJyl8fHQuaXMoJ29sJyl8fHQuX3JlbW92ZSgpLHQuaXMoJ3RleHQnKT8obiYmKHQuX2RhdGE9dC5kYXRhLnJlcGxhY2UoL15cXHMrLywnJykpLCghdC5uZXh0U2libGluZ3x8dC5uZXh0U2libGluZy5pcygndWwnKXx8dC5uZXh0U2libGluZy5pcygnb2wnKSkmJih0Ll9kYXRhPXQuZGF0YS5yZXBsYWNlKC9cXHMrJC8sJycpKSk6KHQuaXMoJ3VsJyl8fHQuaXMoJ29sJykpJiYobz0hMCksbj0hMX19ZnVuY3Rpb24gS2EoZSx0KXtpZighdC5pc1BoYW50b20pe2NvbnN0IGU9dC5tb2RlbFBvc2l0aW9uLm5vZGVCZWZvcmU7aWYoZSYmZS5pcygnbGlzdEl0ZW0nKSl7Y29uc3Qgbz10Lm1hcHBlci50b1ZpZXdFbGVtZW50KGUpLG49by5nZXRBbmNlc3RvcnMoKS5maW5kKChlKT0+ZS5pcygndWwnKXx8ZS5pcygnb2wnKSksaT1uZXcgcWMoe3N0YXJ0UG9zaXRpb246V2MuY3JlYXRlQXQobywwKX0pO2Zvcihjb25zdCBlIG9mIGkpaWYoJ2VsZW1lbnRTdGFydCc9PWUudHlwZSYmZS5pdGVtLmlzKCdsaScpKXt0LnZpZXdQb3NpdGlvbj1lLnByZXZpb3VzUG9zaXRpb247YnJlYWt9ZWxzZSBpZignZWxlbWVudEVuZCc9PWUudHlwZSYmZS5pdGVtPT1uKXt0LnZpZXdQb3NpdGlvbj1lLm5leHRQb3NpdGlvbjticmVha319fX1mdW5jdGlvbiBHYShlLHQpe2NvbnN0IG89dC52aWV3UG9zaXRpb24sbj1vLnBhcmVudCxpPXQubWFwcGVyO2lmKCd1bCc9PW4ubmFtZXx8J29sJz09bi5uYW1lKXtpZighby5pc0F0RW5kKXtjb25zdCBlPWkudG9Nb2RlbEVsZW1lbnQoby5ub2RlQWZ0ZXIpO3QubW9kZWxQb3NpdGlvbj11dS5jcmVhdGVCZWZvcmUoZSl9ZWxzZXtjb25zdCBlPWkudG9Nb2RlbEVsZW1lbnQoby5ub2RlQmVmb3JlKSxuPWkuZ2V0TW9kZWxMZW5ndGgoby5ub2RlQmVmb3JlKTt0Lm1vZGVsUG9zaXRpb249dXUuY3JlYXRlQmVmb3JlKGUpLmdldFNoaWZ0ZWRCeShuKX1lLnN0b3AoKX1lbHNlIGlmKCdsaSc9PW4ubmFtZSYmby5ub2RlQmVmb3JlJiYoJ3VsJz09by5ub2RlQmVmb3JlLm5hbWV8fCdvbCc9PW8ubm9kZUJlZm9yZS5uYW1lKSl7Y29uc3Qgcj1pLnRvTW9kZWxFbGVtZW50KG4pO2xldCBhPTEscz1vLm5vZGVCZWZvcmU7Zm9yKDtzJiYocy5pcygndWwnKXx8cy5pcygnb2wnKSk7KWErPWkuZ2V0TW9kZWxMZW5ndGgocykscz1zLnByZXZpb3VzU2libGluZzt0Lm1vZGVsUG9zaXRpb249dXUuY3JlYXRlQmVmb3JlKHIpLmdldFNoaWZ0ZWRCeShhKSxlLnN0b3AoKX19ZnVuY3Rpb24gJGEoZSx0KXtmdW5jdGlvbiBvKGUpe2NvbnN0IHQ9ZS5ub2RlQmVmb3JlO2lmKCF0fHwhdC5pcygnbGlzdEl0ZW0nKSl7Y29uc3QgdD1lLm5vZGVBZnRlcjt0JiZ0LmlzKCdsaXN0SXRlbScpJiZhLnNldCh0LHQpfWVsc2V7bGV0IG89dDtpZihhLmhhcyhvKSlyZXR1cm47Zm9yKDtvLnByZXZpb3VzU2libGluZyYmby5wcmV2aW91c1NpYmxpbmcuaXMoJ2xpc3RJdGVtJyk7KWlmKG89by5wcmV2aW91c1NpYmxpbmcsYS5oYXMobykpcmV0dXJuO2Euc2V0KGUubm9kZUJlZm9yZSxvKX19ZnVuY3Rpb24gbihlKXtmb3IobGV0IG89MCxuPW51bGw7ZSYmZS5pcygnbGlzdEl0ZW0nKTspe2NvbnN0IGk9ZS5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKTtpZihpPm8pe2xldCByO251bGw9PT1uPyhuPWktbyxyPW8pOihuPmkmJihuPWkpLHI9aS1uKSx0LnNldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcscixlKSxzPSEwfWVsc2Ugbj1udWxsLG89ZS5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKSsxO2U9ZS5uZXh0U2libGluZ319ZnVuY3Rpb24gaShlKXtmb3IobGV0IG89W10sbj1udWxsO2UmJmUuaXMoJ2xpc3RJdGVtJyk7KXtjb25zdCBpPWUuZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50Jyk7aWYobiYmbi5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKT5pJiYobz1vLnNsaWNlKDAsaSsxKSksMCE9aSlpZihvW2ldKXtjb25zdCBuPW9baV07ZS5nZXRBdHRyaWJ1dGUoJ2xpc3RUeXBlJykhPW4mJih0LnNldEF0dHJpYnV0ZSgnbGlzdFR5cGUnLG4sZSkscz0hMCl9ZWxzZSBvW2ldPWUuZ2V0QXR0cmlidXRlKCdsaXN0VHlwZScpO249ZSxlPWUubmV4dFNpYmxpbmd9fWNvbnN0IHI9ZS5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpLGE9bmV3IE1hcDtsZXQgcz0hMTtmb3IoY29uc3QgbiBvZiByKWlmKCdpbnNlcnQnPT1uLnR5cGUmJidsaXN0SXRlbSc9PW4ubmFtZSlvKG4ucG9zaXRpb24pO2Vsc2UgaWYoJ2luc2VydCc9PW4udHlwZSYmJ2xpc3RJdGVtJyE9bi5uYW1lKXtpZignJHRleHQnIT1uLm5hbWUpe2NvbnN0IGU9bi5wb3NpdGlvbi5ub2RlQWZ0ZXI7ZS5oYXNBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKSYmKHQucmVtb3ZlQXR0cmlidXRlKCdsaXN0SW5kZW50JyxlKSxzPSEwKSxlLmhhc0F0dHJpYnV0ZSgnbGlzdFR5cGUnKSYmKHQucmVtb3ZlQXR0cmlidXRlKCdsaXN0VHlwZScsZSkscz0hMCl9Y29uc3QgZT1uLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShuLmxlbmd0aCk7byhlKX1lbHNlJ3JlbW92ZSc9PW4udHlwZSYmJ2xpc3RJdGVtJz09bi5uYW1lP28obi5wb3NpdGlvbik6J2F0dHJpYnV0ZSc9PW4udHlwZSYmJ2xpc3RJbmRlbnQnPT1uLmF0dHJpYnV0ZUtleT9vKG4ucmFuZ2Uuc3RhcnQpOidhdHRyaWJ1dGUnPT1uLnR5cGUmJidsaXN0VHlwZSc9PW4uYXR0cmlidXRlS2V5JiZvKG4ucmFuZ2Uuc3RhcnQpO2Zvcihjb25zdCBvIG9mIGEudmFsdWVzKCkpbihvKSxpKG8pO3JldHVybiBzfWZ1bmN0aW9uIEphKGUsW3Qsb10pe2xldCBuPXQuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKT90LmdldENoaWxkKDApOnQ7aWYobiYmbi5pcygnbGlzdEl0ZW0nKSl7Y29uc3QgZT1vLmdldEZpcnN0UG9zaXRpb24oKTtsZXQgdD1udWxsO2lmKGUucGFyZW50LmlzKCdsaXN0SXRlbScpP3Q9ZS5wYXJlbnQ6ZS5ub2RlQmVmb3JlJiZlLm5vZGVCZWZvcmUuaXMoJ2xpc3RJdGVtJykmJih0PWUubm9kZUJlZm9yZSksdCl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpO2lmKDA8ZSlmb3IoO24mJm4uaXMoJ2xpc3RJdGVtJyk7KW4uX3NldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcsbi5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKStlKSxuPW4ubmV4dFNpYmxpbmd9fX1mdW5jdGlvbiBRYShlLHQpe2NvbnN0IG89dC5tYXBwZXIsbj10LndyaXRlcixpPSdudW1iZXJlZCc9PWUuZ2V0QXR0cmlidXRlKCdsaXN0VHlwZScpPydvbCc6J3VsJyxyPU5hKG4pLGE9bi5jcmVhdGVDb250YWluZXJFbGVtZW50KGksbnVsbCk7cmV0dXJuIG4uaW5zZXJ0KFdjLmNyZWF0ZUF0KGEpLHIpLG8uYmluZEVsZW1lbnRzKGUscikscn1mdW5jdGlvbiBZYShlLHQpe2NvbnN0IG89ISF0LnNhbWVJbmRlbnQsbj0hIXQuc21hbGxlckluZGVudCxpPWUgaW5zdGFuY2VvZiBkdT9lLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpOnQubGlzdEluZGVudDtmb3IobGV0IHI9ZSBpbnN0YW5jZW9mIGR1P2UucHJldmlvdXNTaWJsaW5nOmUubm9kZUJlZm9yZTtyJiYnbGlzdEl0ZW0nPT1yLm5hbWU7KXtjb25zdCBlPXIuZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50Jyk7aWYobyYmaT09ZXx8biYmaT5lKXJldHVybiByO3I9ci5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gWGEoZSx0LG8pe3JldHVybiB0JiZvJiYoJ3VsJz09dC5uYW1lfHwnb2wnPT10Lm5hbWUpJiZ0Lm5hbWU9PW8ubmFtZT9lLm1lcmdlQ29udGFpbmVycyhXYy5jcmVhdGVBZnRlcih0KSk6bnVsbH1mdW5jdGlvbiBaYShlLHQsbyl7Y29uc3Qgbj10LnBhcmVudCxpPW8ubWFwcGVyLHI9by53cml0ZXI7bGV0IGE9aS50b1ZpZXdQb3NpdGlvbih1dS5jcmVhdGVCZWZvcmUoZSkpO2NvbnN0IHM9WWEoZSx7c2FtZUluZGVudDohMCxzbWFsbGVySW5kZW50OiEwfSksbD1lLnByZXZpb3VzU2libGluZztpZihzJiZzLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpPT1lLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpKXtjb25zdCBlPWkudG9WaWV3RWxlbWVudChzKTthPXIuYnJlYWtDb250YWluZXIoV2MuY3JlYXRlQWZ0ZXIoZSkpfWVsc2UgYT1sJiYnbGlzdEl0ZW0nPT1sLm5hbWU/aS50b1ZpZXdQb3NpdGlvbih1dS5jcmVhdGVBdChsLCdlbmQnKSk6aS50b1ZpZXdQb3NpdGlvbih1dS5jcmVhdGVCZWZvcmUoZSkpO2lmKGE9dHMoYSksci5pbnNlcnQoYSxuKSxsJiYnbGlzdEl0ZW0nPT1sLm5hbWUpe2NvbnN0IGU9aS50b1ZpZXdFbGVtZW50KGwpLG89bmV3IHFjKHtib3VuZGFyaWVzOm5ldyBVYyhXYy5jcmVhdGVBdChlLDApLGEpLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KTtmb3IoY29uc3QgZSBvZiBvKWlmKGUuaXRlbS5pcygnbGknKSl7Y29uc3Qgbj1yLmJyZWFrQ29udGFpbmVyKFdjLmNyZWF0ZUJlZm9yZShlLml0ZW0pKSxpPWUuaXRlbS5wYXJlbnQsYT1XYy5jcmVhdGVBdCh0LCdlbmQnKTtYYShyLGEubm9kZUJlZm9yZSxhLm5vZGVBZnRlciksci5tb3ZlKFVjLmNyZWF0ZU9uKGkpLGEpLG8ucG9zaXRpb249bn19ZWxzZXtjb25zdCBvPW4ubmV4dFNpYmxpbmc7aWYobyYmKG8uaXMoJ3VsJyl8fG8uaXMoJ29sJykpKXtsZXQgbj1udWxsO2Zvcihjb25zdCB0IG9mIG8uZ2V0Q2hpbGRyZW4oKSl7Y29uc3Qgbz1pLnRvTW9kZWxFbGVtZW50KHQpO2lmKG8mJm8uZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50Jyk+ZS5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKSluPXQ7ZWxzZSBicmVha31uJiYoci5icmVha0NvbnRhaW5lcihXYy5jcmVhdGVBZnRlcihuKSksci5tb3ZlKFVjLmNyZWF0ZU9uKG4ucGFyZW50KSxXYy5jcmVhdGVBdCh0LCdlbmQnKSkpfX1YYShyLG4sbi5uZXh0U2libGluZyksWGEocixuLnByZXZpb3VzU2libGluZyxuKX1mdW5jdGlvbiBlcyhlLHQsbyxuLGkpe2NvbnN0IHI9WWEodCx7c2FtZUluZGVudDohMCxzbWFsbGVySW5kZW50OiEwLGxpc3RJbmRlbnQ6ZX0pLGE9aS5tYXBwZXIscz1pLndyaXRlcixsPXI/ci5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKTpudWxsO2xldCBkO2lmKCFyKWQ9bztlbHNlIGlmKGw9PWUpe2NvbnN0IGU9YS50b1ZpZXdFbGVtZW50KHIpLnBhcmVudDtkPVdjLmNyZWF0ZUFmdGVyKGUpfWVsc2V7Y29uc3QgZT11dS5jcmVhdGVBdChyLCdlbmQnKTtkPWEudG9WaWV3UG9zaXRpb24oZSl9ZD10cyhkKTtmb3IoY29uc3QgciBvZlsuLi5uLmdldENoaWxkcmVuKCldKShyLmlzKCd1bCcpfHxyLmlzKCdvbCcpKSYmKGQ9cy5tb3ZlKFVjLmNyZWF0ZU9uKHIpLGQpLmVuZCxYYShzLHIsci5uZXh0U2libGluZyksWGEocyxyLnByZXZpb3VzU2libGluZyxyKSl9ZnVuY3Rpb24gdHMoZSl7cmV0dXJuIGUuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oKGUpPT5lLml0ZW0uaXMoJ3VpRWxlbWVudCcpKX1mdW5jdGlvbiBvcyhlKXtsZXQgdD0xO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZigndWwnPT1vLm5hbWV8fCdvbCc9PW8ubmFtZSlmb3IoY29uc3QgZSBvZiBvLmdldENoaWxkcmVuKCkpdCs9b3MoZSk7cmV0dXJuIHR9dmFyIG5zPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxpcz1NYXRoLm1heCxycz1NYXRoLm1pbixhcz1NYXRoLmZsb29yO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCdfX2VzTW9kdWxlJyx7dmFsdWU6ITB9KTt2YXIgc3M9T2JqZWN0LmdldFByb3RvdHlwZU9mLGxzPWZ1bmN0aW9uKGUpe3JldHVybiBzcyhPYmplY3QoZSkpfSxkcz1mdW5jdGlvbihlKXt2YXIgdD0hMTtpZihudWxsIT1lJiYnZnVuY3Rpb24nIT10eXBlb2YgZS50b1N0cmluZyl0cnl7dD0hIShlKycnKX1jYXRjaCh0KXt9cmV0dXJuIHR9LGNzPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmJ29iamVjdCc9PXR5cGVvZiBlfSxtcz1PYmplY3QucHJvdG90eXBlLHVzPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxwcz1tcy5oYXNPd25Qcm9wZXJ0eSxncz11cy5jYWxsKE9iamVjdCksZnM9bXMudG9TdHJpbmcsaHM9ZnVuY3Rpb24oZSl7aWYoIWNzKGUpfHxmcy5jYWxsKGUpIT0nW29iamVjdCBPYmplY3RdJ3x8ZHMoZSkpcmV0dXJuITE7dmFyIHQ9bHMoZSk7aWYobnVsbD09PXQpcmV0dXJuITA7dmFyIG89cHMuY2FsbCh0LCdjb25zdHJ1Y3RvcicpJiZ0LmNvbnN0cnVjdG9yO3JldHVybidmdW5jdGlvbic9PXR5cGVvZiBvJiZvIGluc3RhbmNlb2YgbyYmdXMuY2FsbChvKT09Z3N9O2NsYXNzIGJze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fY29uZmlnPXt9LHQmJnRoaXMuZGVmaW5lKHQpLGUmJnRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyxlKX1zZXQoZSx0KXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsZSx0KX1kZWZpbmUoZSx0KXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsZSx0LCEwKX1nZXQoZSl7cmV0dXJuIHRoaXMuX2dldEZyb21Tb3VyY2UodGhpcy5fY29uZmlnLGUpfV9zZXRUb1RhcmdldChlLHQsbyxuPSExKXtpZihocyh0KSlyZXR1cm4gdm9pZCB0aGlzLl9zZXRPYmplY3RUb1RhcmdldChlLHQsbik7Y29uc3QgaT10LnNwbGl0KCcuJyk7dD1pLnBvcCgpO2Zvcihjb25zdCByIG9mIGkpaHMoZVtyXSl8fChlW3JdPXt9KSxlPWVbcl07cmV0dXJuIGhzKG8pPyhocyhlW3RdKXx8KGVbdF09e30pLGU9ZVt0XSx2b2lkIHRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KGUsbyxuKSk6dm9pZChuJiYndW5kZWZpbmVkJyE9dHlwZW9mIGVbdF18fChlW3RdPW8pKX1fZ2V0RnJvbVNvdXJjZShlLHQpe2NvbnN0IG89dC5zcGxpdCgnLicpO3Q9by5wb3AoKTtmb3IoY29uc3QgbiBvZiBvKXtpZighaHMoZVtuXSkpe2U9bnVsbDticmVha31lPWVbbl19cmV0dXJuIGU/ZVt0XTp2b2lkIDB9X3NldE9iamVjdFRvVGFyZ2V0KGUsdCxvKXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChuKT0+e3RoaXMuX3NldFRvVGFyZ2V0KGUsbix0W25dLG8pfSl9fWNvbnN0IGtzPSdodHRwczovL2RvY3MuY2tlZGl0b3IuY29tL2NrZWRpdG9yNS9sYXRlc3QvZnJhbWV3b3JrL2d1aWRlcy9zdXBwb3J0L2Vycm9yLWNvZGVzLmh0bWwnO2NsYXNzIF9zIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0KXtlPW4oZSksdCYmKGUrPScgJytKU09OLnN0cmluZ2lmeSh0KSksc3VwZXIoZSksdGhpcy5uYW1lPSdDS0VkaXRvckVycm9yJyx0aGlzLmRhdGE9dH1zdGF0aWMgaXNDS0VkaXRvckVycm9yKGUpe3JldHVybiBlIGluc3RhbmNlb2YgX3N9fXZhciB3cz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKCl7ZS5jYWxsZWQ9ITB9fTtjbGFzcyB2c3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc291cmNlPWUsdGhpcy5uYW1lPXQsdGhpcy5wYXRoPVtdLHRoaXMuc3RvcD13cygpLHRoaXMub2ZmPXdzKCl9fWNvbnN0IHlzPXtnZXQoZSl7cmV0dXJuJ251bWJlcic9PXR5cGVvZiBlP2U6dGhpc1tlXXx8dGhpcy5ub3JtYWx9LGhpZ2hlc3Q6MWU1LGhpZ2g6MWUzLG5vcm1hbDowLGxvdzotMWUzLGxvd2VzdDotMWU1fTt2YXIgeHM9eXM7Y29uc3QgQ3M9U3ltYm9sKCdsaXN0ZW5pbmdUbycpLEFzPVN5bWJvbCgnZW1pdHRlcklkJyksVHM9e29uKGUsdCxvPXt9KXt0aGlzLmxpc3RlblRvKHRoaXMsZSx0LG8pfSxvbmNlKGUsdCxvKXt0aGlzLmxpc3RlblRvKHRoaXMsZSxmdW5jdGlvbihlLC4uLm8pe2Uub2ZmKCksdC5jYWxsKHRoaXMsZSwuLi5vKX0sbyl9LG9mZihlLHQpe3RoaXMuc3RvcExpc3RlbmluZyh0aGlzLGUsdCl9LGxpc3RlblRvKGUsdCxvLG49e30pe2xldCBpLHI7dGhpc1tDc118fCh0aGlzW0NzXT17fSk7Y29uc3QgbD10aGlzW0NzXTtzKGUpfHxhKGUpO2NvbnN0IGQ9cyhlKTsoaT1sW2RdKXx8KGk9bFtkXT17ZW1pdHRlcjplLGNhbGxiYWNrczp7fX0pLChyPWkuY2FsbGJhY2tzW3RdKXx8KHI9aS5jYWxsYmFja3NbdF09W10pLHIucHVzaChvKSxjKGUsdCk7Y29uc3QgdT1tKGUsdCkscD14cy5nZXQobi5wcmlvcml0eSksZz17Y2FsbGJhY2s6byxwcmlvcml0eTpwfTtmb3IoY29uc3QgciBvZiB1KXtsZXQgZT0hMTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKylpZihyW3RdLnByaW9yaXR5PHApe3Iuc3BsaWNlKHQsMCxnKSxlPSEwO2JyZWFrfWV8fHIucHVzaChnKX19LHN0b3BMaXN0ZW5pbmcoZSx0LG8pe2NvbnN0IG49dGhpc1tDc107bGV0IGk9ZSYmcyhlKTtjb25zdCByPW4mJmkmJm5baV0sYT1yJiZ0JiZyLmNhbGxiYWNrc1t0XTtpZihuJiYoIWV8fHIpJiYoIXR8fGEpKWlmKG8pZyhlLHQsbyk7ZWxzZSBpZihhKXtmb3IoO289YS5wb3AoKTspZyhlLHQsbyk7ZGVsZXRlIHIuY2FsbGJhY2tzW3RdfWVsc2UgaWYocil7Zm9yKHQgaW4gci5jYWxsYmFja3MpdGhpcy5zdG9wTGlzdGVuaW5nKGUsdCk7ZGVsZXRlIG5baV19ZWxzZXtmb3IoaSBpbiBuKXRoaXMuc3RvcExpc3RlbmluZyhuW2ldLmVtaXR0ZXIpO2RlbGV0ZSB0aGlzW0NzXX19LGZpcmUoZSwuLi50KXtjb25zdCBvPWUgaW5zdGFuY2VvZiB2cz9lOm5ldyB2cyh0aGlzLGUpLG49by5uYW1lO2xldCByPXUodGhpcyxuKTtpZihvLnBhdGgucHVzaCh0aGlzKSxyKXtjb25zdCBlPVtvLC4uLnRdO3I9QXJyYXkuZnJvbShyKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoJiYoclt0XS5jYWxsYmFjay5hcHBseSh0aGlzLGUpLG8ub2ZmLmNhbGxlZCYmKGRlbGV0ZSBvLm9mZi5jYWxsZWQsZyh0aGlzLG4sclt0XS5jYWxsYmFjaykpLCFvLnN0b3AuY2FsbGVkKTt0KyspO31pZih0aGlzLl9kZWxlZ2F0aW9ucyl7Y29uc3QgZT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobiksaT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoJyonKTtlJiZwKGUsbyx0KSxpJiZwKGksbyx0KX1yZXR1cm4gby5yZXR1cm59LGRlbGVnYXRlKC4uLmUpe3JldHVybnt0bzoodCxvKT0+e3RoaXMuX2RlbGVnYXRpb25zfHwodGhpcy5fZGVsZWdhdGlvbnM9bmV3IE1hcCk7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobik7ZT9lLnNldCh0LG8pOnRoaXMuX2RlbGVnYXRpb25zLnNldChuLG5ldyBNYXAoW1t0LG9dXSkpfX19fSxzdG9wRGVsZWdhdGluZyhlLHQpe2lmKHRoaXMuX2RlbGVnYXRpb25zKWlmKCFlKXRoaXMuX2RlbGVnYXRpb25zLmNsZWFyKCk7ZWxzZSBpZighdCl0aGlzLl9kZWxlZ2F0aW9ucy5kZWxldGUoZSk7ZWxzZXtjb25zdCBvPXRoaXMuX2RlbGVnYXRpb25zLmdldChlKTtvJiZvLmRlbGV0ZSh0KX19fTt2YXIgUHM9VHMsRXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGUhPT1lJiZ0IT09dH0sU3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89ZS5sZW5ndGg7by0tOylpZihFcyhlW29dWzBdLHQpKXJldHVybiBvO3JldHVybi0xfSxPcz1BcnJheS5wcm90b3R5cGUsSXM9T3Muc3BsaWNlO2gucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXX0saC5wcm90b3R5cGVbJ2RlbGV0ZSddPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbz1Tcyh0LGUpO2lmKDA+bylyZXR1cm4hMTt2YXIgbj10Lmxlbmd0aC0xO3JldHVybiBvPT1uP3QucG9wKCk6SXMuY2FsbCh0LG8sMSksITB9LGgucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG89U3ModCxlKTtyZXR1cm4gMD5vP3ZvaWQgMDp0W29dWzFdfSxoLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuLTE8U3ModGhpcy5fX2RhdGFfXyxlKX0saC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5fX2RhdGFfXyxuPVNzKG8sZSk7cmV0dXJuIDA+bj9vLnB1c2goW2UsdF0pOm9bbl1bMV09dCx0aGlzfTt2YXIgUnM9aCxWcz1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4hIWUmJignb2JqZWN0Jz09dHx8J2Z1bmN0aW9uJz09dCl9LEZzPU9iamVjdC5wcm90b3R5cGUsTnM9RnMudG9TdHJpbmcsRHM9ZnVuY3Rpb24oZSl7dmFyIHQ9VnMoZSk/TnMuY2FsbChlKTonJztyZXR1cm4gdD09J1tvYmplY3QgRnVuY3Rpb25dJ3x8dD09J1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJ30sTXM9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLEJzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpe3RyeXtyZXR1cm4gTXMuY2FsbChlKX1jYXRjaCh0KXt9dHJ5e3JldHVybiBlKycnfWNhdGNoKHQpe319cmV0dXJuJyd9LExzPS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyx6cz0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGpzPU9iamVjdC5wcm90b3R5cGUscXM9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLFdzPWpzLmhhc093blByb3BlcnR5LFVzPVJlZ0V4cCgnXicrcXMuY2FsbChXcykucmVwbGFjZShMcywnXFxcXCQmJykucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywnJDEuKj8nKSsnJCcpLEhzPWZ1bmN0aW9uKGUpe2lmKCFWcyhlKSlyZXR1cm4hMTt2YXIgdD1EcyhlKXx8ZHMoZSk/VXM6enM7cmV0dXJuIHQudGVzdChCcyhlKSl9LEtzPWZ1bmN0aW9uKGUsdCl7dmFyIG89ZVt0XTtyZXR1cm4gSHMobyk/bzp2b2lkIDB9LEdzPUtzKE9iamVjdCwnY3JlYXRlJyksJHM9R3MsSnM9T2JqZWN0LnByb3RvdHlwZSxRcz1Kcy5oYXNPd25Qcm9wZXJ0eSxZcz1PYmplY3QucHJvdG90eXBlLFhzPVlzLmhhc093blByb3BlcnR5O2IucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz0kcz8kcyhudWxsKTp7fX0sYi5wcm90b3R5cGVbJ2RlbGV0ZSddPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhcyhlKSYmZGVsZXRlIHRoaXMuX19kYXRhX19bZV19LGIucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO2lmKCRzKXt2YXIgbz10W2VdO3JldHVybiBvPT09J19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nP3ZvaWQgMDpvfXJldHVybiBRcy5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LGIucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiAkcz90W2VdIT09dm9pZCAwOlhzLmNhbGwodCxlKX0sYi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5fX2RhdGFfXztyZXR1cm4gb1tlXT0kcyYmdm9pZCAwPT09dD8nX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc6dCx0aGlzfTt2YXIgWnM9YixlbD1vKDEpLHRsPUtzKGVsLmEsJ01hcCcpLG9sPXRsLG5sPWZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybidzdHJpbmcnPT10fHwnbnVtYmVyJz09dHx8J3N5bWJvbCc9PXR8fCdib29sZWFuJz09dD8nX19wcm90b19fJyE9PWU6bnVsbD09PWV9LGlsPWZ1bmN0aW9uKGUsdCl7dmFyIG89ZS5fX2RhdGFfXztyZXR1cm4gbmwodCk/b1snc3RyaW5nJz09dHlwZW9mIHQ/J3N0cmluZyc6J2hhc2gnXTpvLm1hcH07ay5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBacyxtYXA6bmV3KG9sfHxScyksc3RyaW5nOm5ldyBac319LGsucHJvdG90eXBlWydkZWxldGUnXT1mdW5jdGlvbihlKXtyZXR1cm4gaWwodGhpcyxlKVsnZGVsZXRlJ10oZSl9LGsucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gaWwodGhpcyxlKS5nZXQoZSl9LGsucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gaWwodGhpcyxlKS5oYXMoZSl9LGsucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiBpbCh0aGlzLGUpLnNldChlLHQpLHRoaXN9O3ZhciBybD1rO18ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgUnN9LF8ucHJvdG90eXBlWydkZWxldGUnXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfX1snZGVsZXRlJ10oZSl9LF8ucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoZSl9LF8ucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LF8ucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBvPXRoaXMuX19kYXRhX187cmV0dXJuIG8gaW5zdGFuY2VvZiBScyYmby5fX2RhdGFfXy5sZW5ndGg9PTIwMCYmKG89dGhpcy5fX2RhdGFfXz1uZXcgcmwoby5fX2RhdGFfXykpLG8uc2V0KGUsdCksdGhpc307dmFyIGFsPV8sc2w9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aDsrK288biYmISghMT09PXQoZVtvXSxvLGUpKTspO3JldHVybiBlfSxsbD1PYmplY3QucHJvdG90eXBlLGRsPWxsLmhhc093blByb3BlcnR5LGNsPXcsbWw9ZnVuY3Rpb24oZSx0LG8sbil7b3x8KG89e30pO2Zvcih2YXIgaT0tMSxyPXQubGVuZ3RoOysraTxyOyl7dmFyIGE9dFtpXSxzPW4/bihvW2FdLGVbYV0sYSxvLGUpOmVbYV07Y2wobyxhLHMpfXJldHVybiBvfSx1bD1PYmplY3QucHJvdG90eXBlLHBsPXVsLmhhc093blByb3BlcnR5LGdsPXYsZmw9T2JqZWN0LmtleXMsaGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGZsKE9iamVjdChlKSl9LGJsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49QXJyYXkoZSk7KytvPGU7KW5bb109dChvKTtyZXR1cm4gbn0sa2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfX0sX2w9a2woJ2xlbmd0aCcpLHdsPWZ1bmN0aW9uKGUpe3JldHVybidudW1iZXInPT10eXBlb2YgZSYmLTE8ZSYmMD09ZSUxJiZlPD05MDA3MTk5MjU0NzQwOTkxfSx2bD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmd2woX2woZSkpJiYhRHMoZSl9LHlsPWZ1bmN0aW9uKGUpe3JldHVybiBjcyhlKSYmdmwoZSl9LHhsPU9iamVjdC5wcm90b3R5cGUsQ2w9eGwuaGFzT3duUHJvcGVydHksQWw9eGwudG9TdHJpbmcsVGw9eGwucHJvcGVydHlJc0VudW1lcmFibGUsUGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHlsKGUpJiZDbC5jYWxsKGUsJ2NhbGxlZScpJiYoIVRsLmNhbGwoZSwnY2FsbGVlJyl8fEFsLmNhbGwoZSk9PSdbb2JqZWN0IEFyZ3VtZW50c10nKX0sRWw9QXJyYXkuaXNBcnJheSxTbD1FbCxPbD1PYmplY3QucHJvdG90eXBlLElsPU9sLnRvU3RyaW5nLFJsPWZ1bmN0aW9uKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZXx8IVNsKGUpJiZjcyhlKSYmSWwuY2FsbChlKT09J1tvYmplY3QgU3RyaW5nXSd9LFZsPWZ1bmN0aW9uKGUpe3ZhciB0PWU/ZS5sZW5ndGg6dm9pZCAwO3JldHVybiB3bCh0KSYmKFNsKGUpfHxSbChlKXx8UGwoZSkpP2JsKHQsU3RyaW5nKTpudWxsfSxGbD0vXig/OjB8WzEtOV1cXGQqKSQvLE5sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9bnVsbD09dD85MDA3MTk5MjU0NzQwOTkxOnQsISF0JiYoJ251bWJlcic9PXR5cGVvZiBlfHxGbC50ZXN0KGUpKSYmLTE8ZSYmMD09ZSUxJiZlPHR9LERsPU9iamVjdC5wcm90b3R5cGUsTWw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcixvPSdmdW5jdGlvbic9PXR5cGVvZiB0JiZ0LnByb3RvdHlwZXx8RGw7cmV0dXJuIGU9PT1vfSxCbD1mdW5jdGlvbihlKXt2YXIgdD1NbChlKTtpZighKHR8fHZsKGUpKSlyZXR1cm4gaGwoZSk7dmFyIG89VmwoZSksbj1vfHxbXSxpPW4ubGVuZ3RoO2Zvcih2YXIgciBpbiBlKSFnbChlLHIpfHwhIW8mJignbGVuZ3RoJz09cnx8TmwocixpKSl8fHQmJidjb25zdHJ1Y3Rvcic9PXJ8fG4ucHVzaChyKTtyZXR1cm4gbn0sTGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmbWwodCxCbCh0KSxlKX0semw9ZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiBlLnNsaWNlKCk7dmFyIG89bmV3IGUuY29uc3RydWN0b3IoZS5sZW5ndGgpO3JldHVybiBlLmNvcHkobyksb30samw9ZnVuY3Rpb24oZSx0KXt2YXIgbz0tMSxuPWUubGVuZ3RoO2Zvcih0fHwodD1BcnJheShuKSk7KytvPG47KXRbb109ZVtvXTtyZXR1cm4gdH0scWw9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztxbHx8KHk9ZnVuY3Rpb24oKXtyZXR1cm5bXX0pO3ZhciBXbD15LFVsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG1sKGUsV2woZSksdCl9LEhsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49dC5sZW5ndGgsaT1lLmxlbmd0aDsrK288bjspZVtpK29dPXRbb107cmV0dXJuIGV9LEtsPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj10KGUpO3JldHVybiBTbChlKT9uOkhsKG4sbyhlKSl9LEdsPWZ1bmN0aW9uKGUpe3JldHVybiBLbChlLEJsLFdsKX0sJGw9S3MoZWwuYSwnRGF0YVZpZXcnKSxKbD0kbCxRbD1LcyhlbC5hLCdQcm9taXNlJyksWWw9UWwsWGw9S3MoZWwuYSwnU2V0JyksWmw9WGwsZWQ9S3MoZWwuYSwnV2Vha01hcCcpLHRkPWVkLG9kPSdbb2JqZWN0IE1hcF0nLG5kPSdbb2JqZWN0IFByb21pc2VdJyxpZD0nW29iamVjdCBTZXRdJyxyZD0nW29iamVjdCBXZWFrTWFwXScsYWQ9J1tvYmplY3QgRGF0YVZpZXddJyxzZD1PYmplY3QucHJvdG90eXBlLGxkPXNkLnRvU3RyaW5nLGRkPUJzKEpsKSxjZD1CcyhvbCksbWQ9QnMoWWwpLHVkPUJzKFpsKSxwZD1Ccyh0ZCk7KEpsJiZ4KG5ldyBKbChuZXcgQXJyYXlCdWZmZXIoMSkpKSE9YWR8fG9sJiZ4KG5ldyBvbCkhPW9kfHxZbCYmeChZbC5yZXNvbHZlKCkpIT1uZHx8WmwmJngobmV3IFpsKSE9aWR8fHRkJiZ4KG5ldyB0ZCkhPXJkKSYmKHg9ZnVuY3Rpb24oZSl7dmFyIHQ9bGQuY2FsbChlKSxvPXQ9PSdbb2JqZWN0IE9iamVjdF0nP2UuY29uc3RydWN0b3I6dm9pZCAwLG49bz9CcyhvKTp2b2lkIDA7aWYobilzd2l0Y2gobil7Y2FzZSBkZDpyZXR1cm4gYWQ7Y2FzZSBjZDpyZXR1cm4gb2Q7Y2FzZSBtZDpyZXR1cm4gbmQ7Y2FzZSB1ZDpyZXR1cm4gaWQ7Y2FzZSBwZDpyZXR1cm4gcmQ7fXJldHVybiB0fSk7dmFyIGdkPXgsZmQ9T2JqZWN0LnByb3RvdHlwZSxoZD1mZC5oYXNPd25Qcm9wZXJ0eSxiZD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxvPWUuY29uc3RydWN0b3IodCk7cmV0dXJuIHQmJidzdHJpbmcnPT10eXBlb2YgZVswXSYmaGQuY2FsbChlLCdpbmRleCcpJiYoby5pbmRleD1lLmluZGV4LG8uaW5wdXQ9ZS5pbnB1dCksb30sa2Q9ZWwuYS5VaW50OEFycmF5LF9kPWtkLHdkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKGUuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBfZCh0KS5zZXQobmV3IF9kKGUpKSx0fSx2ZD1mdW5jdGlvbihlLHQpe3ZhciBvPXQ/d2QoZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfSx5ZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNldCh0WzBdLHRbMV0pLGV9LHhkPWZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPS0xLHI9ZS5sZW5ndGg7Zm9yKG4mJnImJihvPWVbKytpXSk7KytpPHI7KW89dChvLGVbaV0saSxlKTtyZXR1cm4gb30sQ2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9LTEsbz1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxuKXtvWysrdF09W24sZV19KSxvfSxBZD1mdW5jdGlvbihlLHQsbyl7dmFyIG49dD9vKENkKGUpLCEwKTpDZChlKTtyZXR1cm4geGQobix5ZCxuZXcgZS5jb25zdHJ1Y3Rvcil9LFRkPS9cXHcqJC8sUGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoZS5zb3VyY2UsVGQuZXhlYyhlKSk7cmV0dXJuIHQubGFzdEluZGV4PWUubGFzdEluZGV4LHR9LEVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYWRkKHQpLGV9LFNkPWZ1bmN0aW9uKGUpe3ZhciB0PS0xLG89QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe29bKyt0XT1lfSksb30sT2Q9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPXQ/byhTZChlKSwhMCk6U2QoZSk7cmV0dXJuIHhkKG4sRWQsbmV3IGUuY29uc3RydWN0b3IpfSxJZD1lbC5hLlN5bWJvbCxSZD1JZCxWZD1SZD9SZC5wcm90b3R5cGU6dm9pZCAwLEZkPVZkP1ZkLnZhbHVlT2Y6dm9pZCAwLE5kPWZ1bmN0aW9uKGUpe3JldHVybiBGZD9PYmplY3QoRmQuY2FsbChlKSk6e319LERkPWZ1bmN0aW9uKGUsdCl7dmFyIG89dD93ZChlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8sZS5ieXRlT2Zmc2V0LGUubGVuZ3RoKX0sTWQ9ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGk9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PSdbb2JqZWN0IEFycmF5QnVmZmVyXSc/d2QoZSk6dD09PSdbb2JqZWN0IEJvb2xlYW5dJ3x8dD09PSdbb2JqZWN0IERhdGVdJz9uZXcgaSgrZSk6dD09PSdbb2JqZWN0IERhdGFWaWV3XSc/dmQoZSxuKTp0PT09J1tvYmplY3QgRmxvYXQzMkFycmF5XSd8fHQ9PT0nW29iamVjdCBGbG9hdDY0QXJyYXldJ3x8dD09PSdbb2JqZWN0IEludDhBcnJheV0nfHx0PT09J1tvYmplY3QgSW50MTZBcnJheV0nfHx0PT09J1tvYmplY3QgSW50MzJBcnJheV0nfHx0PT09J1tvYmplY3QgVWludDhBcnJheV0nfHx0PT09J1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ3x8dD09PSdbb2JqZWN0IFVpbnQxNkFycmF5XSd8fHQ9PT0nW29iamVjdCBVaW50MzJBcnJheV0nP0RkKGUsbik6dD09PSdbb2JqZWN0IE1hcF0nP0FkKGUsbixvKTp0PT09J1tvYmplY3QgTnVtYmVyXSd8fHQ9PT0nW29iamVjdCBTdHJpbmddJz9uZXcgaShlKTp0PT09J1tvYmplY3QgUmVnRXhwXSc/UGQoZSk6dD09PSdbb2JqZWN0IFNldF0nP09kKGUsbixvKTp0PT09J1tvYmplY3QgU3ltYm9sXSc/TmQoZSk6dm9pZCAwfSxCZD1PYmplY3QuY3JlYXRlLExkPWZ1bmN0aW9uKGUpe3JldHVybiBWcyhlKT9CZChlKTp7fX0semQ9ZnVuY3Rpb24oZSl7cmV0dXJuJ2Z1bmN0aW9uJyE9dHlwZW9mIGUuY29uc3RydWN0b3J8fE1sKGUpP3t9OkxkKGxzKGUpKX0samQ9byg5KSxxZD0nW29iamVjdCBBcmd1bWVudHNdJyxXZD0nW29iamVjdCBGdW5jdGlvbl0nLFVkPSdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsSGQ9J1tvYmplY3QgT2JqZWN0XScsS2Q9e307S2RbcWRdPUtkWydbb2JqZWN0IEFycmF5XSddPUtkWydbb2JqZWN0IEFycmF5QnVmZmVyXSddPUtkWydbb2JqZWN0IERhdGFWaWV3XSddPUtkWydbb2JqZWN0IEJvb2xlYW5dJ109S2RbJ1tvYmplY3QgRGF0ZV0nXT1LZFsnW29iamVjdCBGbG9hdDMyQXJyYXldJ109S2RbJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSddPUtkWydbb2JqZWN0IEludDhBcnJheV0nXT1LZFsnW29iamVjdCBJbnQxNkFycmF5XSddPUtkWydbb2JqZWN0IEludDMyQXJyYXldJ109S2RbJ1tvYmplY3QgTWFwXSddPUtkWydbb2JqZWN0IE51bWJlcl0nXT1LZFtIZF09S2RbJ1tvYmplY3QgUmVnRXhwXSddPUtkWydbb2JqZWN0IFNldF0nXT1LZFsnW29iamVjdCBTdHJpbmddJ109S2RbJ1tvYmplY3QgU3ltYm9sXSddPUtkWydbb2JqZWN0IFVpbnQ4QXJyYXldJ109S2RbJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ109S2RbJ1tvYmplY3QgVWludDE2QXJyYXldJ109S2RbJ1tvYmplY3QgVWludDMyQXJyYXldJ109ITAsS2RbJ1tvYmplY3QgRXJyb3JdJ109S2RbV2RdPUtkWydbb2JqZWN0IFdlYWtNYXBdJ109ITE7dmFyIEdkPUMsJGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEdkKGUsITEsITApfTtjbGFzcyBKZHtjb25zdHJ1Y3Rvcigpe3RoaXMucGFyZW50PW51bGx9Z2V0IGluZGV4KCl7bGV0IGU7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKC0xPT0oZT10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKSl0aHJvdyBuZXcgX3MoJ3ZpZXctbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZVxcJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLicpO3JldHVybiBlfWdldCBuZXh0U2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUrMSl8fG51bGx9Z2V0IHByZXZpb3VzU2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUtMSl8fG51bGx9Z2V0IHJvb3QoKXtsZXQgZT10aGlzO2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMucGFyZW50IGluc3RhbmNlb2YgSmQ/dGhpcy5wYXJlbnQuZG9jdW1lbnQ6bnVsbH1nZXRQYXRoKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9dGhpczt0LnBhcmVudDspZS51bnNoaWZ0KHQuaW5kZXgpLHQ9dC5wYXJlbnQ7cmV0dXJuIGV9Z2V0QW5jZXN0b3JzKGU9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgdD1bXTtmb3IobGV0IG89ZS5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O287KXRbZS5wYXJlbnRGaXJzdD8ncHVzaCc6J3Vuc2hpZnQnXShvKSxvPW8ucGFyZW50O3JldHVybiB0fWdldENvbW1vbkFuY2VzdG9yKGUsdD17fSl7Y29uc3Qgbz10aGlzLmdldEFuY2VzdG9ycyh0KSxuPWUuZ2V0QW5jZXN0b3JzKHQpO2xldCByPTA7Zm9yKDtvW3JdPT1uW3JdJiZvW3JdOylyKys7cmV0dXJuIDA9PXI/bnVsbDpvW3ItMV19aXNCZWZvcmUoZSl7aWYodGhpcz09ZSlyZXR1cm4hMTtpZih0aGlzLnJvb3QhPT1lLnJvb3QpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldFBhdGgoKSxvPWUuZ2V0UGF0aCgpLG49QSh0LG8pO3JldHVybiEoJ3ByZWZpeCchPT1uKXx8J2V4dGVuc2lvbichPT1uJiZ0W25dPG9bbl19aXNBZnRlcihlKXtyZXR1cm4gdGhpcyE9ZSYmISh0aGlzLnJvb3QhPT1lLnJvb3QpJiYhdGhpcy5pc0JlZm9yZShlKX1fcmVtb3ZlKCl7dGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkcmVuKHRoaXMuaW5kZXgpfV9maXJlQ2hhbmdlKGUsdCl7dGhpcy5maXJlKCdjaGFuZ2U6JytlLHQpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fZmlyZUNoYW5nZShlLHQpfXRvSlNPTigpe2NvbnN0IGU9JGQodGhpcyk7cmV0dXJuIGRlbGV0ZSBlLnBhcmVudCxlfWlzKGUpe3JldHVybidub2RlJz09ZX19ZihKZCxQcyk7Y2xhc3MgUWQgZXh0ZW5kcyBKZHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3RleHREYXRhPWV9aXMoZSl7cmV0dXJuJ3RleHQnPT1lfHxzdXBlci5pcyhlKX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl90ZXh0RGF0YX1nZXQgX2RhdGEoKXtyZXR1cm4gdGhpcy5kYXRhfXNldCBfZGF0YShlKXt0aGlzLl9maXJlQ2hhbmdlKCd0ZXh0Jyx0aGlzKSx0aGlzLl90ZXh0RGF0YT1lfWlzU2ltaWxhcihlKXtyZXR1cm4hIShlIGluc3RhbmNlb2YgUWQpJiYodGhpcz09PWV8fHRoaXMuZGF0YT09PWUuZGF0YSl9X2Nsb25lKCl7cmV0dXJuIG5ldyBRZCh0aGlzLmRhdGEpfX1jbGFzcyBZZHtjb25zdHJ1Y3RvcihlLHQsbyl7aWYodGhpcy50ZXh0Tm9kZT1lLDA+dHx8dD5lLmRhdGEubGVuZ3RoKXRocm93IG5ldyBfcygndmlldy10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LicpO2lmKDA+b3x8dCtvPmUuZGF0YS5sZW5ndGgpdGhyb3cgbmV3IF9zKCd2aWV3LXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuJyk7dGhpcy5kYXRhPWUuZGF0YS5zdWJzdHJpbmcodCx0K28pLHRoaXMub2Zmc2V0SW5UZXh0PXR9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgaXNQYXJ0aWFsKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGghPT10aGlzLnRleHROb2RlLmRhdGEubGVuZ3RofWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKGUpe3JldHVybid0ZXh0UHJveHknPT1lfWdldEFuY2VzdG9ycyhlPXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IHQ9W107Zm9yKGxldCBvPWUuaW5jbHVkZVNlbGY/dGhpcy50ZXh0Tm9kZTp0aGlzLnBhcmVudDtudWxsIT09bzspdFtlLnBhcmVudEZpcnN0PydwdXNoJzondW5zaGlmdCddKG8pLG89by5wYXJlbnQ7cmV0dXJuIHR9fWNsYXNzIFhke2NvbnN0cnVjdG9yKC4uLmUpe3RoaXMuX3BhdHRlcm5zPVtdLHRoaXMuYWRkKC4uLmUpfWFkZCguLi5lKXtmb3IobGV0IHQgb2YgZSkoJ3N0cmluZyc9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKSYmKHQ9e25hbWU6dH0pLHQuY2xhc3NlcyYmKCdzdHJpbmcnPT10eXBlb2YgdC5jbGFzc2VzfHx0LmNsYXNzZXMgaW5zdGFuY2VvZiBSZWdFeHApJiYodC5jbGFzc2VzPVt0LmNsYXNzZXNdKSx0aGlzLl9wYXR0ZXJucy5wdXNoKHQpfW1hdGNoKC4uLmUpe2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdGhpcy5fcGF0dGVybnMpe2NvbnN0IG89RSh0LGUpO2lmKG8pcmV0dXJue2VsZW1lbnQ6dCxwYXR0ZXJuOmUsbWF0Y2g6b319cmV0dXJuIG51bGx9bWF0Y2hBbGwoLi4uZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbyBvZiBlKWZvcihjb25zdCBlIG9mIHRoaXMuX3BhdHRlcm5zKXtjb25zdCBuPUUobyxlKTtuJiZ0LnB1c2goe2VsZW1lbnQ6byxwYXR0ZXJuOmUsbWF0Y2g6bn0pfXJldHVybiAwPHQubGVuZ3RoP3Q6bnVsbH1nZXRFbGVtZW50TmFtZSgpe2lmKDEhPT10aGlzLl9wYXR0ZXJucy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLl9wYXR0ZXJuc1swXSx0PWUubmFtZTtyZXR1cm4nZnVuY3Rpb24nIT10eXBlb2YgZSYmdCYmISh0IGluc3RhbmNlb2YgUmVnRXhwKT90Om51bGx9fWNsYXNzIFpkIGV4dGVuZHMgSmR7Y29uc3RydWN0b3IoZSx0LG8pe2lmKHN1cGVyKCksdGhpcy5uYW1lPWUsdGhpcy5fYXR0cnM9Vih0KSx0aGlzLl9jaGlsZHJlbj1bXSxvJiZ0aGlzLl9pbnNlcnRDaGlsZCgwLG8pLHRoaXMuX2NsYXNzZXM9bmV3IFNldCx0aGlzLl9hdHRycy5oYXMoJ2NsYXNzJykpe2NvbnN0IGU9dGhpcy5fYXR0cnMuZ2V0KCdjbGFzcycpO04odGhpcy5fY2xhc3NlcyxlKSx0aGlzLl9hdHRycy5kZWxldGUoJ2NsYXNzJyl9dGhpcy5fc3R5bGVzPW5ldyBNYXAsdGhpcy5fYXR0cnMuaGFzKCdzdHlsZScpJiYoRih0aGlzLl9zdHlsZXMsdGhpcy5fYXR0cnMuZ2V0KCdzdHlsZScpKSx0aGlzLl9hdHRycy5kZWxldGUoJ3N0eWxlJykpLHRoaXMuX2N1c3RvbVByb3BlcnRpZXM9bmV3IE1hcH1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2NoaWxkcmVuLmxlbmd0aH1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2VsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWU6J2VsZW1lbnQnPT1lfHxlPT10aGlzLm5hbWV8fHN1cGVyLmlzKGUpfWdldENoaWxkKGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbltlXX1nZXRDaGlsZEluZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5pbmRleE9mKGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX0qZ2V0QXR0cmlidXRlS2V5cygpezA8dGhpcy5fY2xhc3Nlcy5zaXplJiYoeWllbGQnY2xhc3MnKSwwPHRoaXMuX3N0eWxlcy5zaXplJiYoeWllbGQnc3R5bGUnKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9hdHRycy5rZXlzKCkpeWllbGQgZX0qZ2V0QXR0cmlidXRlcygpe3lpZWxkKnRoaXMuX2F0dHJzLmVudHJpZXMoKSwwPHRoaXMuX2NsYXNzZXMuc2l6ZSYmKHlpZWxkWydjbGFzcycsdGhpcy5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyldKSwwPHRoaXMuX3N0eWxlcy5zaXplJiYoeWllbGRbJ3N0eWxlJyx0aGlzLmdldEF0dHJpYnV0ZSgnc3R5bGUnKV0pfWdldEF0dHJpYnV0ZShlKXtpZignY2xhc3MnPT1lKXJldHVybiAwPHRoaXMuX2NsYXNzZXMuc2l6ZT9bLi4udGhpcy5fY2xhc3Nlc10uam9pbignICcpOnZvaWQgMDtpZignc3R5bGUnPT1lKXtpZigwPHRoaXMuX3N0eWxlcy5zaXplKXtsZXQgZT0nJztmb3IoY29uc3RbdCxvXW9mIHRoaXMuX3N0eWxlcyllKz1gJHt0fToke299O2A7cmV0dXJuIGV9cmV0dXJufXJldHVybiB0aGlzLl9hdHRycy5nZXQoZSl9aGFzQXR0cmlidXRlKGUpe3JldHVybidjbGFzcyc9PWU/MDx0aGlzLl9jbGFzc2VzLnNpemU6J3N0eWxlJz09ZT8wPHRoaXMuX3N0eWxlcy5zaXplOnRoaXMuX2F0dHJzLmhhcyhlKX1pc1NpbWlsYXIoZSl7aWYoIShlIGluc3RhbmNlb2YgWmQpKXJldHVybiExO2lmKHRoaXM9PT1lKXJldHVybiEwO2lmKHRoaXMubmFtZSE9ZS5uYW1lKXJldHVybiExO2lmKHRoaXMuX2F0dHJzLnNpemUhPT1lLl9hdHRycy5zaXplfHx0aGlzLl9jbGFzc2VzLnNpemUhPT1lLl9jbGFzc2VzLnNpemV8fHRoaXMuX3N0eWxlcy5zaXplIT09ZS5fc3R5bGVzLnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0W3Qsb11vZiB0aGlzLl9hdHRycylpZighZS5fYXR0cnMuaGFzKHQpfHxlLl9hdHRycy5nZXQodCkhPT1vKXJldHVybiExO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsYXNzZXMpaWYoIWUuX2NsYXNzZXMuaGFzKHQpKXJldHVybiExO2Zvcihjb25zdFt0LG9db2YgdGhpcy5fc3R5bGVzKWlmKCFlLl9zdHlsZXMuaGFzKHQpfHxlLl9zdHlsZXMuZ2V0KHQpIT09bylyZXR1cm4hMTtyZXR1cm4hMH1oYXNDbGFzcyguLi5lKXtmb3IoY29uc3QgdCBvZiBlKWlmKCF0aGlzLl9jbGFzc2VzLmhhcyh0KSlyZXR1cm4hMTtyZXR1cm4hMH1nZXRDbGFzc05hbWVzKCl7cmV0dXJuIHRoaXMuX2NsYXNzZXMua2V5cygpfWdldFN0eWxlKGUpe3JldHVybiB0aGlzLl9zdHlsZXMuZ2V0KGUpfWdldFN0eWxlTmFtZXMoKXtyZXR1cm4gdGhpcy5fc3R5bGVzLmtleXMoKX1oYXNTdHlsZSguLi5lKXtmb3IoY29uc3QgdCBvZiBlKWlmKCF0aGlzLl9zdHlsZXMuaGFzKHQpKXJldHVybiExO3JldHVybiEwfWZpbmRBbmNlc3RvciguLi5lKXtjb25zdCB0PW5ldyBYZCguLi5lKTtmb3IobGV0IG89dGhpcy5wYXJlbnQ7bzspe2lmKHQubWF0Y2gobykpcmV0dXJuIG87bz1vLnBhcmVudH1yZXR1cm4gbnVsbH1nZXRDdXN0b21Qcm9wZXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5nZXQoZSl9KmdldEN1c3RvbVByb3BlcnRpZXMoKXt5aWVsZCp0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmVudHJpZXMoKX1nZXRJZGVudGl0eSgpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLl9jbGFzc2VzKS5zb3J0KCkuam9pbignLCcpLHQ9QXJyYXkuZnJvbSh0aGlzLl9zdHlsZXMpLm1hcCgoZSk9PmAke2VbMF19OiR7ZVsxXX1gKS5zb3J0KCkuam9pbignOycpLG89QXJyYXkuZnJvbSh0aGlzLl9hdHRycykubWFwKChlKT0+YCR7ZVswXX09XCIke2VbMV19XCJgKS5zb3J0KCkuam9pbignICcpO3JldHVybiB0aGlzLm5hbWUrKCcnPT1lPycnOmAgY2xhc3M9XCIke2V9XCJgKSsoJyc9PXQ/Jyc6YCBzdHlsZT1cIiR7dH1cImApKygnJz09bz8nJzpgICR7b31gKX1fY2xvbmUoZT0hMSl7Y29uc3QgdD1bXTtpZihlKWZvcihjb25zdCBvIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oKSl0LnB1c2goby5fY2xvbmUoZSkpO2NvbnN0IG89bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuX2F0dHJzLHQpO3JldHVybiBvLl9jbGFzc2VzPW5ldyBTZXQodGhpcy5fY2xhc3Nlcyksby5fc3R5bGVzPW5ldyBNYXAodGhpcy5fc3R5bGVzKSxvLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXAodGhpcy5fY3VzdG9tUHJvcGVydGllcyksby5nZXRGaWxsZXJPZmZzZXQ9dGhpcy5nZXRGaWxsZXJPZmZzZXQsb31fYXBwZW5kQ2hpbGQoZSl7cmV0dXJuIHRoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCxlKX1faW5zZXJ0Q2hpbGQoZSx0KXt0aGlzLl9maXJlQ2hhbmdlKCdjaGlsZHJlbicsdGhpcyk7bGV0IG89MDtjb25zdCBuPUQodCk7Zm9yKGNvbnN0IGkgb2YgbiludWxsIT09aS5wYXJlbnQmJmkuX3JlbW92ZSgpLGkucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsMCxpKSxlKyssbysrO3JldHVybiBvfV9yZW1vdmVDaGlsZHJlbihlLHQ9MSl7dGhpcy5fZmlyZUNoYW5nZSgnY2hpbGRyZW4nLHRoaXMpO2ZvcihsZXQgbz1lO288ZSt0O28rKyl0aGlzLl9jaGlsZHJlbltvXS5wYXJlbnQ9bnVsbDtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsdCl9X3NldEF0dHJpYnV0ZShlLHQpe3Q9dCsnJyx0aGlzLl9maXJlQ2hhbmdlKCdhdHRyaWJ1dGVzJyx0aGlzKSwnY2xhc3MnPT1lP04odGhpcy5fY2xhc3Nlcyx0KTonc3R5bGUnPT1lP0YodGhpcy5fc3R5bGVzLHQpOnRoaXMuX2F0dHJzLnNldChlLHQpfV9yZW1vdmVBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2ZpcmVDaGFuZ2UoJ2F0dHJpYnV0ZXMnLHRoaXMpLCdjbGFzcyc9PWU/ISEoMDx0aGlzLl9jbGFzc2VzLnNpemUpJiYodGhpcy5fY2xhc3Nlcy5jbGVhcigpLCEwKTonc3R5bGUnPT1lPyEhKDA8dGhpcy5fc3R5bGVzLnNpemUpJiYodGhpcy5fc3R5bGVzLmNsZWFyKCksITApOnRoaXMuX2F0dHJzLmRlbGV0ZShlKX1fYWRkQ2xhc3MoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX2NsYXNzZXMuYWRkKGUpKX1fcmVtb3ZlQ2xhc3MoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX2NsYXNzZXMuZGVsZXRlKGUpKX1fc2V0U3R5bGUoZSx0KXtpZih0aGlzLl9maXJlQ2hhbmdlKCdhdHRyaWJ1dGVzJyx0aGlzKSxocyhlKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhlKTtmb3IoY29uc3QgbyBvZiB0KXRoaXMuX3N0eWxlcy5zZXQobyxlW29dKX1lbHNlIHRoaXMuX3N0eWxlcy5zZXQoZSx0KX1fcmVtb3ZlU3R5bGUoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX3N0eWxlcy5kZWxldGUoZSkpfV9zZXRDdXN0b21Qcm9wZXJ0eShlLHQpe3RoaXMuX2N1c3RvbVByb3BlcnRpZXMuc2V0KGUsdCl9X3JlbW92ZUN1c3RvbVByb3BlcnR5KGUpe3JldHVybiB0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmRlbGV0ZShlKX19Y2xhc3MgZWMgZXh0ZW5kcyBaZHtjb25zdHJ1Y3RvcihlLHQsbyl7c3VwZXIoZSx0LG8pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PU19aXMoZSx0PW51bGwpe3JldHVybiB0Pydjb250YWluZXJFbGVtZW50Jz09ZSYmdD09dGhpcy5uYW1lfHxzdXBlci5pcyhlLHQpOidjb250YWluZXJFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9fXZhciB0Yz1CLG9jPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vLmxlbmd0aDtyZXR1cm4gMD09PW4/ZS5jYWxsKHQpOjE9PT1uP2UuY2FsbCh0LG9bMF0pOjI9PT1uP2UuY2FsbCh0LG9bMF0sb1sxXSk6Mz09PW4/ZS5jYWxsKHQsb1swXSxvWzFdLG9bMl0pOmUuYXBwbHkodCxvKX0sbmM9T2JqZWN0LnByb3RvdHlwZSxpYz1uYy50b1N0cmluZyxyYz1mdW5jdGlvbihlKXtyZXR1cm4nc3ltYm9sJz09dHlwZW9mIGV8fGNzKGUpJiZpYy5jYWxsKGUpPT0nW29iamVjdCBTeW1ib2xdJ30sYWM9MC8wLHNjPS9eXFxzK3xcXHMrJC9nLGxjPS9eWy0rXTB4WzAtOWEtZl0rJC9pLGRjPS9eMGJbMDFdKyQvaSxjYz0vXjBvWzAtN10rJC9pLG1jPXBhcnNlSW50LHVjPWZ1bmN0aW9uKGUpe2lmKCdudW1iZXInPT10eXBlb2YgZSlyZXR1cm4gZTtpZihyYyhlKSlyZXR1cm4gYWM7aWYoVnMoZSkpe3ZhciB0PURzKGUudmFsdWVPZik/ZS52YWx1ZU9mKCk6ZTtlPVZzKHQpP3QrJyc6dH1pZignc3RyaW5nJyE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2Uoc2MsJycpO3ZhciBvPWRjLnRlc3QoZSk7cmV0dXJuIG98fGNjLnRlc3QoZSk/bWMoZS5zbGljZSgyKSxvPzI6OCk6bGMudGVzdChlKT9hYzorZX0scGM9MS8wLGdjPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiAwPT09ZT9lOjA7aWYoZT11YyhlKSxlPT09cGN8fGU9PT0tcGMpe3ZhciB0PTA+ZT8tMToxO3JldHVybiB0KjE3OTc2OTMxMzQ4NjIzMTU3ZTI5Mn1yZXR1cm4gZT09PWU/ZTowfSxmYz1mdW5jdGlvbihlKXt2YXIgdD1nYyhlKSxvPXQlMTtyZXR1cm4gdD09PXQ/bz90LW86dDowfSxoYz1pcyxiYz1mdW5jdGlvbihlLHQpe2lmKCdmdW5jdGlvbichPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgZnVuY3Rpb24nKTtyZXR1cm4gdD1oYyh2b2lkIDA9PT10P2UubGVuZ3RoLTE6ZmModCksMCksZnVuY3Rpb24oKXtmb3IodmFyIG89YXJndW1lbnRzLG49LTEsaT1oYyhvLmxlbmd0aC10LDApLHI9QXJyYXkoaSk7KytuPGk7KXJbbl09b1t0K25dO3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIGUuY2FsbCh0aGlzLHIpO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHRoaXMsb1swXSxyKTtjYXNlIDI6cmV0dXJuIGUuY2FsbCh0aGlzLG9bMF0sb1sxXSxyKTt9dmFyIGE9QXJyYXkodCsxKTtmb3Iobj0tMTsrK248dDspYVtuXT1vW25dO3JldHVybiBhW3RdPXIsb2MoZSx0aGlzLGEpfX0sa2M9ZWwuYS5SZWZsZWN0LF9jPWtjLHdjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxvOyEobz1lLm5leHQoKSkuZG9uZTspdC5wdXNoKG8udmFsdWUpO3JldHVybiB0fSx2Yz1PYmplY3QucHJvdG90eXBlLHljPV9jP19jLmVudW1lcmF0ZTp2b2lkIDAseGM9dmMucHJvcGVydHlJc0VudW1lcmFibGU7eWMmJiF4Yy5jYWxsKHt2YWx1ZU9mOjF9LCd2YWx1ZU9mJykmJihMPWZ1bmN0aW9uKGUpe3JldHVybiB3Yyh5YyhlKSl9KTt2YXIgQ2M9TCxBYz1PYmplY3QucHJvdG90eXBlLFRjPUFjLmhhc093blByb3BlcnR5LFBjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxvPU1sKGUpLG49Q2MoZSksaT1uLmxlbmd0aCxyPVZsKGUpLGE9cnx8W10scz1hLmxlbmd0aDsrK3Q8aTspe3ZhciBsPW5bdF07ISFyJiYoJ2xlbmd0aCc9PWx8fE5sKGwscykpfHwnY29uc3RydWN0b3InPT1sJiYob3x8IVRjLmNhbGwoZSxsKSl8fGEucHVzaChsKX1yZXR1cm4gYX0sRWM9T2JqZWN0LnByb3RvdHlwZSxTYz1FYy5wcm9wZXJ0eUlzRW51bWVyYWJsZSxPYz0hU2MuY2FsbCh7dmFsdWVPZjoxfSwndmFsdWVPZicpLEljPWZ1bmN0aW9uKGUpe3JldHVybiBiYyhmdW5jdGlvbih0LG8pe3ZhciBuPS0xLGk9by5sZW5ndGgscj0xPGk/b1tpLTFdOnZvaWQgMCxhPTI8aT9vWzJdOnZvaWQgMDtmb3Iocj0zPGUubGVuZ3RoJiYnZnVuY3Rpb24nPT10eXBlb2Ygcj8oaS0tLHIpOnZvaWQgMCxhJiZ0YyhvWzBdLG9bMV0sYSkmJihyPTM+aT92b2lkIDA6cixpPTEpLHQ9T2JqZWN0KHQpOysrbjxpOyl7dmFyIHM9b1tuXTtzJiZlKHQscyxuLHIpfXJldHVybiB0fSl9KGZ1bmN0aW9uKGUsdCl7aWYoT2N8fE1sKHQpfHx2bCh0KSlyZXR1cm4gdm9pZCBtbCh0LFBjKHQpLGUpO2Zvcih2YXIgbyBpbiB0KWNsKGUsbyx0W29dKX0pLFJjPUljO2NvbnN0IFZjPVN5bWJvbCgnb2JzZXJ2YWJsZVByb3BlcnRpZXMnKSxGYz1TeW1ib2woJ2JvdW5kT2JzZXJ2YWJsZXMnKSxOYz1TeW1ib2woJ2JvdW5kUHJvcGVydGllcycpLERjPXtzZXQoZSx0KXtpZihWcyhlKSlyZXR1cm4gdm9pZCBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0KT0+e3RoaXMuc2V0KHQsZVt0XSl9LHRoaXMpO3oodGhpcyk7Y29uc3Qgbz10aGlzW1ZjXTtpZihlIGluIHRoaXMmJiFvLmhhcyhlKSl0aHJvdyBuZXcgX3MoJ29ic2VydmFibGUtc2V0LWNhbm5vdC1vdmVycmlkZTogQ2Fubm90IG92ZXJyaWRlIGFuIGV4aXN0aW5nIHByb3BlcnR5LicpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldCgpe3JldHVybiBvLmdldChlKX0sc2V0KHQpe2NvbnN0IG49by5nZXQoZSk7bGV0IGk9dGhpcy5maXJlKCdzZXQ6JytlLGUsdCxuKTtpPT09dm9pZCAwJiYoaT10KSxuPT09aSYmby5oYXMoZSl8fChvLnNldChlLGkpLHRoaXMuZmlyZSgnY2hhbmdlOicrZSxlLGksbikpfX0pLHRoaXNbZV09dH0sYmluZCguLi5lKXtpZighZS5sZW5ndGh8fCFVKGUpKXRocm93IG5ldyBfcygnb2JzZXJ2YWJsZS1iaW5kLXdyb25nLXByb3BlcnRpZXM6IEFsbCBwcm9wZXJ0aWVzIG11c3QgYmUgc3RyaW5ncy4nKTtpZihuZXcgU2V0KGUpLnNpemUhPT1lLmxlbmd0aCl0aHJvdyBuZXcgX3MoJ29ic2VydmFibGUtYmluZC1kdXBsaWNhdGUtcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHVuaXF1ZS4nKTt6KHRoaXMpO2NvbnN0IHQ9dGhpc1tOY107ZS5mb3JFYWNoKChlKT0+e2lmKHQuaGFzKGUpKXRocm93IG5ldyBfcygnb2JzZXJ2YWJsZS1iaW5kLXJlYmluZDogQ2Fubm90IGJpbmQgdGhlIHNhbWUgcHJvcGVydHkgbW9yZSB0aGF0IG9uY2UuJyl9KTtjb25zdCBvPW5ldyBNYXA7cmV0dXJuIGUuZm9yRWFjaCgoZSk9Pntjb25zdCBuPXtwcm9wZXJ0eTplLHRvOltdfTt0LnNldChlLG4pLG8uc2V0KGUsbil9KSx7dG86aix0b01hbnk6cSxfb2JzZXJ2YWJsZTp0aGlzLF9iaW5kUHJvcGVydGllczplLF90bzpbXSxfYmluZGluZ3M6b319LHVuYmluZCguLi5lKXtpZighKFZjIGluIHRoaXMpKXJldHVybjtjb25zdCB0PXRoaXNbTmNdLG89dGhpc1tGY107aWYoZS5sZW5ndGgpe2lmKCFVKGUpKXRocm93IG5ldyBfcygnb2JzZXJ2YWJsZS11bmJpbmQtd3JvbmctcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHN0cmluZ3MuJyk7ZS5mb3JFYWNoKChlKT0+e2NvbnN0IG49dC5nZXQoZSk7aWYoIW4pcmV0dXJuO2xldCBpLHIsYSxzO24udG8uZm9yRWFjaCgoZSk9PntpPWVbMF0scj1lWzFdLGE9by5nZXQoaSkscz1hW3JdLHMuZGVsZXRlKG4pLHMuc2l6ZXx8ZGVsZXRlIGFbcl0sT2JqZWN0LmtleXMoYSkubGVuZ3RofHwoby5kZWxldGUoaSksdGhpcy5zdG9wTGlzdGVuaW5nKGksJ2NoYW5nZScpKX0pLHQuZGVsZXRlKGUpfSl9ZWxzZSBvLmZvckVhY2goKGUsdCk9Pnt0aGlzLnN0b3BMaXN0ZW5pbmcodCwnY2hhbmdlJyl9KSxvLmNsZWFyKCksdC5jbGVhcigpfSxkZWNvcmF0ZShlKXtjb25zdCB0PXRoaXNbZV07aWYoIXQpdGhyb3cgbmV3IF9zKCdvYnNlcnZhYmxlbWl4aW4tY2Fubm90LWRlY29yYXRlLXVuZGVmaW5lZDogQ2Fubm90IGRlY29yYXRlIGFuIHVuZGVmaW5lZCBtZXRob2QuJyx7b2JqZWN0OnRoaXMsbWV0aG9kTmFtZTplfSk7dGhpcy5vbihlLChlLG8pPT57ZS5yZXR1cm49dC5hcHBseSh0aGlzLG8pfSksdGhpc1tlXT1mdW5jdGlvbiguLi50KXtyZXR1cm4gdGhpcy5maXJlKGUsdCl9fX07UmMoRGMsUHMpO3ZhciBNYz1EYztjb25zdCBCYz1TeW1ib2woJ2RvY3VtZW50Jyk7Y2xhc3MgTGMgZXh0ZW5kcyBlY3tjb25zdHJ1Y3RvcihlLHQsbyl7c3VwZXIoZSx0LG8pLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSksdGhpcy5zZXQoJ2lzRm9jdXNlZCcsITEpfWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLmdldEN1c3RvbVByb3BlcnR5KEJjKX1zZXQgX2RvY3VtZW50KGUpe2lmKHRoaXMuZ2V0Q3VzdG9tUHJvcGVydHkoQmMpKXRocm93IG5ldyBfcygndmlldy1lZGl0YWJsZWVsZW1lbnQtZG9jdW1lbnQtYWxyZWFkeS1zZXQ6IFZpZXcgZG9jdW1lbnQgaXMgYWxyZWFkeSBzZXQuJyk7dGhpcy5fc2V0Q3VzdG9tUHJvcGVydHkoQmMsZSksdGhpcy5iaW5kKCdpc1JlYWRPbmx5JykudG8oZSksdGhpcy5iaW5kKCdpc0ZvY3VzZWQnKS50byhlLCdpc0ZvY3VzZWQnLCh0KT0+dCYmZS5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50PT10aGlzKSx0aGlzLmxpc3RlblRvKGUuc2VsZWN0aW9uLCdjaGFuZ2UnLCgpPT57dGhpcy5pc0ZvY3VzZWQ9ZS5pc0ZvY3VzZWQmJmUuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudD09dGhpc30pfX1mKExjLE1jKTtjb25zdCB6Yz1TeW1ib2woJ3Jvb3ROYW1lJyk7Y2xhc3MgamMgZXh0ZW5kcyBMY3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJvb3ROYW1lPSdtYWluJ31pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J3Jvb3RFbGVtZW50Jz09ZSYmdD09dGhpcy5uYW1lfHxzdXBlci5pcyhlLHQpOidyb290RWxlbWVudCc9PWV8fHN1cGVyLmlzKGUpfWdldCByb290TmFtZSgpe3JldHVybiB0aGlzLmdldEN1c3RvbVByb3BlcnR5KHpjKX1zZXQgcm9vdE5hbWUoZSl7dGhpcy5fc2V0Q3VzdG9tUHJvcGVydHkoemMsZSl9c2V0IF9uYW1lKGUpe3RoaXMubmFtZT1lfX1jbGFzcyBxY3tjb25zdHJ1Y3RvcihlPXt9KXtpZighZS5ib3VuZGFyaWVzJiYhZS5zdGFydFBvc2l0aW9uKXRocm93IG5ldyBfcygndmlldy10cmVlLXdhbGtlci1uby1zdGFydC1wb3NpdGlvbjogTmVpdGhlciBib3VuZGFyaWVzIG5vciBzdGFydGluZyBwb3NpdGlvbiBoYXZlIGJlZW4gZGVmaW5lZC4nKTtpZihlLmRpcmVjdGlvbiYmJ2ZvcndhcmQnIT1lLmRpcmVjdGlvbiYmJ2JhY2t3YXJkJyE9ZS5kaXJlY3Rpb24pdGhyb3cgbmV3IF9zKCd2aWV3LXRyZWUtd2Fsa2VyLXVua25vd24tZGlyZWN0aW9uOiBPbmx5IGBiYWNrd2FyZGAgYW5kIGBmb3J3YXJkYCBkaXJlY3Rpb24gYWxsb3dlZC4nLHtkaXJlY3Rpb246ZS5kaXJlY3Rpb259KTt0aGlzLmJvdW5kYXJpZXM9ZS5ib3VuZGFyaWVzfHxudWxsLHRoaXMucG9zaXRpb249ZS5zdGFydFBvc2l0aW9uP1djLmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0UG9zaXRpb24pOldjLmNyZWF0ZUZyb21Qb3NpdGlvbihlLmJvdW5kYXJpZXNbJ2JhY2t3YXJkJz09ZS5kaXJlY3Rpb24/J2VuZCc6J3N0YXJ0J10pLHRoaXMuZGlyZWN0aW9uPWUuZGlyZWN0aW9ufHwnZm9yd2FyZCcsdGhpcy5zaW5nbGVDaGFyYWN0ZXJzPSEhZS5zaW5nbGVDaGFyYWN0ZXJzLHRoaXMuc2hhbGxvdz0hIWUuc2hhbGxvdyx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ9ISFlLmlnbm9yZUVsZW1lbnRFbmQsdGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0LnBhcmVudDpudWxsLHRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuZW5kLnBhcmVudDpudWxsfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcChlKXtsZXQgdCxvLG47ZG8gbj10aGlzLnBvc2l0aW9uLCh7ZG9uZTp0LHZhbHVlOm99PXRoaXMubmV4dCgpKTt3aGlsZSghdCYmZShvKSk7dHx8KHRoaXMucG9zaXRpb249bil9bmV4dCgpe3JldHVybidmb3J3YXJkJz09dGhpcy5kaXJlY3Rpb24/dGhpcy5fbmV4dCgpOnRoaXMuX3ByZXZpb3VzKCl9X25leHQoKXtsZXQgZT1XYy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7Y29uc3QgdD10aGlzLnBvc2l0aW9uLG89ZS5wYXJlbnQ7aWYobnVsbD09PW8ucGFyZW50JiZlLm9mZnNldD09PW8uY2hpbGRDb3VudClyZXR1cm57ZG9uZTohMH07aWYobz09PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50JiZlLm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2xldCBuO2lmKG8gaW5zdGFuY2VvZiBRZCl7aWYoZS5pc0F0RW5kKXJldHVybiB0aGlzLnBvc2l0aW9uPVdjLmNyZWF0ZUFmdGVyKG8pLHRoaXMuX25leHQoKTtuPW8uZGF0YVtlLm9mZnNldF19ZWxzZSBuPW8uZ2V0Q2hpbGQoZS5vZmZzZXQpO2lmKG4gaW5zdGFuY2VvZiBaZClyZXR1cm4gdGhpcy5zaGFsbG93P2Uub2Zmc2V0Kys6ZT1uZXcgV2MobiwwKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ2VsZW1lbnRTdGFydCcsbix0LGUsMSk7aWYoIShuIGluc3RhbmNlb2YgUWQpKXtpZignc3RyaW5nJz09dHlwZW9mIG4pe2xldCBuO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycyluPTE7ZWxzZXtjb25zdCB0PW89PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudD90aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldDpvLmRhdGEubGVuZ3RoO249dC1lLm9mZnNldH1jb25zdCBpPW5ldyBZZChvLGUub2Zmc2V0LG4pO3JldHVybiBlLm9mZnNldCs9bix0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ3RleHQnLGksdCxlLG4pfXJldHVybiBlPVdjLmNyZWF0ZUFmdGVyKG8pLHRoaXMucG9zaXRpb249ZSx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fbmV4dCgpOnRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKCdlbGVtZW50RW5kJyxvLHQsZSl9aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXJldHVybiBlPW5ldyBXYyhuLDApLHRoaXMucG9zaXRpb249ZSx0aGlzLl9uZXh0KCk7ZWxzZXtsZXQgbz1uLmRhdGEubGVuZ3RoLGk7cmV0dXJuIG49PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PyhvPXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0LGk9bmV3IFlkKG4sMCxvKSxlPVdjLmNyZWF0ZUFmdGVyKGkpKTooaT1uZXcgWWQobiwwLG4uZGF0YS5sZW5ndGgpLGUub2Zmc2V0KyspLHRoaXMucG9zaXRpb249ZSx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgndGV4dCcsaSx0LGUsbyl9fV9wcmV2aW91cygpe2xldCBlPVdjLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKTtjb25zdCB0PXRoaXMucG9zaXRpb24sbz1lLnBhcmVudDtpZihudWxsPT09by5wYXJlbnQmJjA9PT1lLm9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobz09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmZS5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2xldCBuO2lmKG8gaW5zdGFuY2VvZiBRZCl7aWYoZS5pc0F0U3RhcnQpcmV0dXJuIHRoaXMucG9zaXRpb249V2MuY3JlYXRlQmVmb3JlKG8pLHRoaXMuX3ByZXZpb3VzKCk7bj1vLmRhdGFbZS5vZmZzZXQtMV19ZWxzZSBuPW8uZ2V0Q2hpbGQoZS5vZmZzZXQtMSk7aWYobiBpbnN0YW5jZW9mIFpkKXJldHVybiB0aGlzLnNoYWxsb3c/KGUub2Zmc2V0LS0sdGhpcy5wb3NpdGlvbj1lLHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKCdlbGVtZW50U3RhcnQnLG4sdCxlLDEpKTooZT1uZXcgV2MobixuLmNoaWxkQ291bnQpLHRoaXMucG9zaXRpb249ZSx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fcHJldmlvdXMoKTp0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgnZWxlbWVudEVuZCcsbix0LGUpKTtpZighKG4gaW5zdGFuY2VvZiBRZCkpe2lmKCdzdHJpbmcnPT10eXBlb2Ygbil7bGV0IG47aWYoIXRoaXMuc2luZ2xlQ2hhcmFjdGVycyl7Y29uc3QgdD1vPT09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD90aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0OjA7bj1lLm9mZnNldC10fWVsc2Ugbj0xO2Uub2Zmc2V0LT1uO2NvbnN0IGk9bmV3IFlkKG8sZS5vZmZzZXQsbik7cmV0dXJuIHRoaXMucG9zaXRpb249ZSx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgndGV4dCcsaSx0LGUsbil9cmV0dXJuIGU9V2MuY3JlYXRlQmVmb3JlKG8pLHRoaXMucG9zaXRpb249ZSx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgnZWxlbWVudFN0YXJ0JyxvLHQsZSwxKX1pZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpcmV0dXJuIGU9bmV3IFdjKG4sbi5kYXRhLmxlbmd0aCksdGhpcy5wb3NpdGlvbj1lLHRoaXMuX3ByZXZpb3VzKCk7ZWxzZXtsZXQgbz1uLmRhdGEubGVuZ3RoLGk7aWYobj09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCl7Y29uc3QgdD10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0O2k9bmV3IFlkKG4sdCxuLmRhdGEubGVuZ3RoLXQpLG89aS5kYXRhLmxlbmd0aCxlPVdjLmNyZWF0ZUJlZm9yZShpKX1lbHNlIGk9bmV3IFlkKG4sMCxuLmRhdGEubGVuZ3RoKSxlLm9mZnNldC0tO3JldHVybiB0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ3RleHQnLGksdCxlLG8pfX1fZm9ybWF0UmV0dXJuVmFsdWUoZSx0LG8sbixpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIFlkJiYodC5vZmZzZXRJblRleHQrdC5kYXRhLmxlbmd0aD09dC50ZXh0Tm9kZS5kYXRhLmxlbmd0aCYmKCdmb3J3YXJkJyE9dGhpcy5kaXJlY3Rpb258fHRoaXMuYm91bmRhcmllcyYmdGhpcy5ib3VuZGFyaWVzLmVuZC5pc0VxdWFsKHRoaXMucG9zaXRpb24pP289V2MuY3JlYXRlQWZ0ZXIodC50ZXh0Tm9kZSk6KG49V2MuY3JlYXRlQWZ0ZXIodC50ZXh0Tm9kZSksdGhpcy5wb3NpdGlvbj1uKSksMD09PXQub2Zmc2V0SW5UZXh0JiYoJ2JhY2t3YXJkJyE9dGhpcy5kaXJlY3Rpb258fHRoaXMuYm91bmRhcmllcyYmdGhpcy5ib3VuZGFyaWVzLnN0YXJ0LmlzRXF1YWwodGhpcy5wb3NpdGlvbik/bz1XYy5jcmVhdGVCZWZvcmUodC50ZXh0Tm9kZSk6KG49V2MuY3JlYXRlQmVmb3JlKHQudGV4dE5vZGUpLHRoaXMucG9zaXRpb249bikpKSx7ZG9uZTohMSx2YWx1ZTp7dHlwZTplLGl0ZW06dCxwcmV2aW91c1Bvc2l0aW9uOm8sbmV4dFBvc2l0aW9uOm4sbGVuZ3RoOml9fX19Y2xhc3MgV2N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBhcmVudD1lLHRoaXMub2Zmc2V0PXR9Z2V0IG5vZGVBZnRlcigpe3JldHVybiB0aGlzLnBhcmVudC5pcygndGV4dCcpP251bGw6dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5vZmZzZXQpfHxudWxsfWdldCBub2RlQmVmb3JlKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKCd0ZXh0Jyk/bnVsbDp0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldC0xKXx8bnVsbH1nZXQgaXNBdFN0YXJ0KCl7cmV0dXJuIDA9PT10aGlzLm9mZnNldH1nZXQgaXNBdEVuZCgpe2NvbnN0IGU9dGhpcy5wYXJlbnQuaXMoJ3RleHQnKT90aGlzLnBhcmVudC5kYXRhLmxlbmd0aDp0aGlzLnBhcmVudC5jaGlsZENvdW50O3JldHVybiB0aGlzLm9mZnNldD09PWV9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5wYXJlbnQucm9vdH1nZXQgZWRpdGFibGVFbGVtZW50KCl7bGV0IGU9dGhpcy5wYXJlbnQ7Zm9yKDshKGUgaW5zdGFuY2VvZiBMYyk7KWlmKGUucGFyZW50KWU9ZS5wYXJlbnQ7ZWxzZSByZXR1cm4gbnVsbDtyZXR1cm4gZX1nZXRTaGlmdGVkQnkoZSl7Y29uc3QgdD1XYy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbz10Lm9mZnNldCtlO3JldHVybiB0Lm9mZnNldD0wPm8/MDpvLHR9Z2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oZSx0PXt9KXt0LnN0YXJ0UG9zaXRpb249dGhpcztjb25zdCBvPW5ldyBxYyh0KTtyZXR1cm4gby5za2lwKGUpLG8ucG9zaXRpb259Z2V0QW5jZXN0b3JzKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKCdkb2N1bWVudEZyYWdtZW50Jyk/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uQW5jZXN0b3IoZSl7Y29uc3QgdD10aGlzLmdldEFuY2VzdG9ycygpLG89ZS5nZXRBbmNlc3RvcnMoKTtsZXQgbj0wO2Zvcig7dFtuXT09b1tuXSYmdFtuXTspbisrO3JldHVybiAwPT1uP251bGw6dFtuLTFdfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMucGFyZW50PT1lLnBhcmVudCYmdGhpcy5vZmZzZXQ9PWUub2Zmc2V0fWlzQmVmb3JlKGUpe3JldHVybidiZWZvcmUnPT10aGlzLmNvbXBhcmVXaXRoKGUpfWlzQWZ0ZXIoZSl7cmV0dXJuJ2FmdGVyJz09dGhpcy5jb21wYXJlV2l0aChlKX1jb21wYXJlV2l0aChlKXtpZih0aGlzLnJvb3QhPT1lLnJvb3QpcmV0dXJuJ2RpZmZlcmVudCc7aWYodGhpcy5pc0VxdWFsKGUpKXJldHVybidzYW1lJztjb25zdCB0PXRoaXMucGFyZW50LmlzKCdub2RlJyk/dGhpcy5wYXJlbnQuZ2V0UGF0aCgpOltdLG89ZS5wYXJlbnQuaXMoJ25vZGUnKT9lLnBhcmVudC5nZXRQYXRoKCk6W107dC5wdXNoKHRoaXMub2Zmc2V0KSxvLnB1c2goZS5vZmZzZXQpO2NvbnN0IG49QSh0LG8pO3JldHVybidwcmVmaXgnPT09bj8nYmVmb3JlJzonZXh0ZW5zaW9uJz09PW4/J2FmdGVyJzp0W25dPG9bbl0/J2JlZm9yZSc6J2FmdGVyJ31zdGF0aWMgY3JlYXRlQXQoZSx0KXtpZihlIGluc3RhbmNlb2YgV2MpcmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uKGUpO2Vsc2V7Y29uc3Qgbz1lO2lmKCdlbmQnPT10KXQ9by5pcygndGV4dCcpP28uZGF0YS5sZW5ndGg6by5jaGlsZENvdW50O2Vsc2V7aWYoJ2JlZm9yZSc9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQmVmb3JlKG8pO2lmKCdhZnRlcic9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQWZ0ZXIobyk7dHx8KHQ9MCl9cmV0dXJuIG5ldyBXYyhvLHQpfX1zdGF0aWMgY3JlYXRlQWZ0ZXIoZSl7aWYoZS5pcygndGV4dFByb3h5JykpcmV0dXJuIG5ldyBXYyhlLnRleHROb2RlLGUub2Zmc2V0SW5UZXh0K2UuZGF0YS5sZW5ndGgpO2lmKCFlLnBhcmVudCl0aHJvdyBuZXcgX3MoJ3ZpZXctcG9zaXRpb24tYWZ0ZXItcm9vdDogWW91IGNhbiBub3QgbWFrZSBwb3NpdGlvbiBhZnRlciByb290Licse3Jvb3Q6ZX0pO3JldHVybiBuZXcgV2MoZS5wYXJlbnQsZS5pbmRleCsxKX1zdGF0aWMgY3JlYXRlQmVmb3JlKGUpe2lmKGUuaXMoJ3RleHRQcm94eScpKXJldHVybiBuZXcgV2MoZS50ZXh0Tm9kZSxlLm9mZnNldEluVGV4dCk7aWYoIWUucGFyZW50KXRocm93IG5ldyBfcygndmlldy1wb3NpdGlvbi1iZWZvcmUtcm9vdDogWW91IGNhbiBub3QgbWFrZSBwb3NpdGlvbiBiZWZvcmUgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gbmV3IFdjKGUucGFyZW50LGUuaW5kZXgpfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb24oZSl7cmV0dXJuIG5ldyB0aGlzKGUucGFyZW50LGUub2Zmc2V0KX19Y2xhc3MgVWN7Y29uc3RydWN0b3IoZSx0PW51bGwpe3RoaXMuc3RhcnQ9V2MuY3JlYXRlRnJvbVBvc2l0aW9uKGUpLHRoaXMuZW5kPXQ/V2MuY3JlYXRlRnJvbVBvc2l0aW9uKHQpOldjLmNyZWF0ZUZyb21Qb3NpdGlvbihlKX0qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCpuZXcgcWMoe2JvdW5kYXJpZXM6dGhpcyxpZ25vcmVFbGVtZW50RW5kOiEwfSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbCh0aGlzLmVuZCl9Z2V0IGlzRmxhdCgpe3JldHVybiB0aGlzLnN0YXJ0LnBhcmVudD09PXRoaXMuZW5kLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnN0YXJ0LnJvb3R9Z2V0RW5sYXJnZWQoKXtsZXQgZT10aGlzLnN0YXJ0LmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKFEse2RpcmVjdGlvbjonYmFja3dhcmQnfSksdD10aGlzLmVuZC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbihRKTtyZXR1cm4gZS5wYXJlbnQuaXMoJ3RleHQnKSYmZS5pc0F0U3RhcnQmJihlPVdjLmNyZWF0ZUJlZm9yZShlLnBhcmVudCkpLHQucGFyZW50LmlzKCd0ZXh0JykmJnQuaXNBdEVuZCYmKHQ9V2MuY3JlYXRlQWZ0ZXIodC5wYXJlbnQpKSxuZXcgVWMoZSx0KX1nZXRUcmltbWVkKCl7bGV0IGU9dGhpcy5zdGFydC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbihRKTtpZihlLmlzQWZ0ZXIodGhpcy5lbmQpfHxlLmlzRXF1YWwodGhpcy5lbmQpKXJldHVybiBuZXcgVWMoZSxlKTtsZXQgdD10aGlzLmVuZC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbihRLHtkaXJlY3Rpb246J2JhY2t3YXJkJ30pO2NvbnN0IG89ZS5ub2RlQWZ0ZXIsbj10Lm5vZGVCZWZvcmU7cmV0dXJuIG8mJm8uaXMoJ3RleHQnKSYmKGU9bmV3IFdjKG8sMCkpLG4mJm4uaXMoJ3RleHQnKSYmKHQ9bmV3IFdjKG4sbi5kYXRhLmxlbmd0aCkpLG5ldyBVYyhlLHQpfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXM9PWV8fHRoaXMuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KSYmdGhpcy5lbmQuaXNFcXVhbChlLmVuZCl9Y29udGFpbnNQb3NpdGlvbihlKXtyZXR1cm4gZS5pc0FmdGVyKHRoaXMuc3RhcnQpJiZlLmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKGUsdD0hMSl7ZS5pc0NvbGxhcHNlZCYmKHQ9ITEpO2NvbnN0IG89dGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpfHx0JiZ0aGlzLnN0YXJ0LmlzRXF1YWwoZS5zdGFydCksbj10aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpfHx0JiZ0aGlzLmVuZC5pc0VxdWFsKGUuZW5kKTtyZXR1cm4gbyYmbn1nZXREaWZmZXJlbmNlKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmcoZSk/KHRoaXMuY29udGFpbnNQb3NpdGlvbihlLnN0YXJ0KSYmdC5wdXNoKG5ldyBVYyh0aGlzLnN0YXJ0LGUuc3RhcnQpKSx0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpJiZ0LnB1c2gobmV3IFVjKGUuZW5kLHRoaXMuZW5kKSkpOnQucHVzaChVYy5jcmVhdGVGcm9tUmFuZ2UodGhpcykpLHR9Z2V0SW50ZXJzZWN0aW9uKGUpe2lmKHRoaXMuaXNJbnRlcnNlY3RpbmcoZSkpe2xldCB0PXRoaXMuc3RhcnQsbz10aGlzLmVuZDtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpJiYodD1lLnN0YXJ0KSx0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpJiYobz1lLmVuZCksbmV3IFVjKHQsbyl9cmV0dXJuIG51bGx9Z2V0V2Fsa2VyKGU9e30pe3JldHVybiBlLmJvdW5kYXJpZXM9dGhpcyxuZXcgcWMoZSl9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9KmdldEl0ZW1zKGU9e30pe2UuYm91bmRhcmllcz10aGlzLGUuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCB0PW5ldyBxYyhlKTtmb3IoY29uc3QgbyBvZiB0KXlpZWxkIG8uaXRlbX0qZ2V0UG9zaXRpb25zKGU9e30pe2UuYm91bmRhcmllcz10aGlzO2NvbnN0IHQ9bmV3IHFjKGUpO3lpZWxkIHQucG9zaXRpb247Zm9yKGNvbnN0IG8gb2YgdCl5aWVsZCBvLm5leHRQb3NpdGlvbn1pc0ludGVyc2VjdGluZyhlKXtyZXR1cm4gdGhpcy5zdGFydC5pc0JlZm9yZShlLmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIoZS5zdGFydCl9c3RhdGljIGNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhlLHQsbyxuKXtyZXR1cm4gbmV3IHRoaXMobmV3IFdjKGUsdCksbmV3IFdjKG8sbikpfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2UoZSl7cmV0dXJuIG5ldyB0aGlzKGUuc3RhcnQsZS5lbmQpfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLHQpe2NvbnN0IG89ZSxuPWUuZ2V0U2hpZnRlZEJ5KHQpO3JldHVybiAwPHQ/bmV3IHRoaXMobyxuKTpuZXcgdGhpcyhuLG8pfXN0YXRpYyBjcmVhdGVJbihlKXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSwwLGUsZS5jaGlsZENvdW50KX1zdGF0aWMgY3JlYXRlT24oZSl7Y29uc3QgdD1lLmlzKCd0ZXh0UHJveHknKT9lLm9mZnNldFNpemU6MTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChXYy5jcmVhdGVCZWZvcmUoZSksdCl9c3RhdGljIGNyZWF0ZUNvbGxhcHNlZEF0KGUsdCl7Y29uc3Qgbz1XYy5jcmVhdGVBdChlLHQpLG49V2MuY3JlYXRlRnJvbVBvc2l0aW9uKG8pO3JldHVybiBuZXcgVWMobyxuKX19Y2xhc3MgSGN7Y29uc3RydWN0b3IoZT1udWxsLHQsbyl7dGhpcy5fcmFuZ2VzPVtdLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExLHRoaXMuX2lzRmFrZT0hMSx0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWw9JycsdGhpcy5zZXRUbyhlLHQsbyl9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9pc0Zha2V9Z2V0IGZha2VTZWxlY3Rpb25MYWJlbCgpe3JldHVybiB0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWx9Z2V0IGFuY2hvcigpe2lmKCF0aGlzLl9yYW5nZXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV0sdD10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD9lLmVuZDplLnN0YXJ0O3JldHVybiBXYy5jcmVhdGVGcm9tUG9zaXRpb24odCl9Z2V0IGZvY3VzKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXSx0PXRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP2Uuc3RhcnQ6ZS5lbmQ7cmV0dXJuIFdjLmNyZWF0ZUZyb21Qb3NpdGlvbih0KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gMT09PXRoaXMucmFuZ2VDb3VudCYmdGhpcy5fcmFuZ2VzWzBdLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGh9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4hdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5fbGFzdFJhbmdlQmFja3dhcmR9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmFuY2hvcj90aGlzLmFuY2hvci5lZGl0YWJsZUVsZW1lbnQ6bnVsbH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXlpZWxkIFVjLmNyZWF0ZUZyb21SYW5nZShlKX1nZXRGaXJzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpKSYmKGU9dCk7cmV0dXJuIGU/VWMuY3JlYXRlRnJvbVJhbmdlKGUpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LmVuZC5pc0FmdGVyKGUuZW5kKSkmJihlPXQpO3JldHVybiBlP1VjLmNyZWF0ZUZyb21SYW5nZShlKTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiBlP1djLmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0KTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gZT9XYy5jcmVhdGVGcm9tUG9zaXRpb24oZS5lbmQpOm51bGx9aXNFcXVhbChlKXtpZih0aGlzLmlzRmFrZSE9ZS5pc0Zha2UpcmV0dXJuITE7aWYodGhpcy5pc0Zha2UmJnRoaXMuZmFrZVNlbGVjdGlvbkxhYmVsIT1lLmZha2VTZWxlY3Rpb25MYWJlbClyZXR1cm4hMTtpZih0aGlzLnJhbmdlQ291bnQhPWUucmFuZ2VDb3VudClyZXR1cm4hMTtpZigwPT09dGhpcy5yYW5nZUNvdW50KXJldHVybiEwO2lmKCF0aGlzLmFuY2hvci5pc0VxdWFsKGUuYW5jaG9yKXx8IXRoaXMuZm9jdXMuaXNFcXVhbChlLmZvY3VzKSlyZXR1cm4hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpe2xldCBvPSExO2Zvcihjb25zdCBuIG9mIGUuX3JhbmdlcylpZih0LmlzRXF1YWwobikpe289ITA7YnJlYWt9aWYoIW8pcmV0dXJuITF9cmV0dXJuITB9aXNTaW1pbGFyKGUpe2lmKHRoaXMuaXNCYWNrd2FyZCE9ZS5pc0JhY2t3YXJkKXJldHVybiExO2NvbnN0IHQ9WSh0aGlzLmdldFJhbmdlcygpKSxvPVkoZS5nZXRSYW5nZXMoKSk7aWYodCE9bylyZXR1cm4hMTtpZigwPT10KXJldHVybiEwO2ZvcihsZXQgdCBvZiB0aGlzLmdldFJhbmdlcygpKXt0PXQuZ2V0VHJpbW1lZCgpO2xldCBvPSExO2ZvcihsZXQgbiBvZiBlLmdldFJhbmdlcygpKWlmKG49bi5nZXRUcmltbWVkKCksdC5zdGFydC5pc0VxdWFsKG4uc3RhcnQpJiZ0LmVuZC5pc0VxdWFsKG4uZW5kKSl7bz0hMDticmVha31pZighbylyZXR1cm4hMX1yZXR1cm4hMH1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRGaXJzdFJhbmdlKCksdD1lLnN0YXJ0Lm5vZGVBZnRlcixvPWUuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIHQgaW5zdGFuY2VvZiBaZCYmdD09bz90Om51bGx9c2V0VG8oZSx0LG8pe2lmKG51bGw9PT1lKXRoaXMuX3NldFJhbmdlcyhbXSksdGhpcy5fc2V0RmFrZU9wdGlvbnModCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgSGN8fGUgaW5zdGFuY2VvZiBLYyl0aGlzLl9zZXRSYW5nZXMoZS5nZXRSYW5nZXMoKSxlLmlzQmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKHtmYWtlOmUuaXNGYWtlLGxhYmVsOmUuZmFrZVNlbGVjdGlvbkxhYmVsfSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgVWMpdGhpcy5fc2V0UmFuZ2VzKFtlXSx0JiZ0LmJhY2t3YXJkKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyh0KTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBXYyl0aGlzLl9zZXRSYW5nZXMoW25ldyBVYyhlKV0pLHRoaXMuX3NldEZha2VPcHRpb25zKHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEpkKXtjb25zdCBuPSEhbyYmISFvLmJhY2t3YXJkO2xldCBpO2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IF9zKCd2aWV3LXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBzZWxlY3Rpb24uc2V0VG8gcmVxdWlyZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgbm9kZS4nKTtlbHNlIGk9J2luJz09dD9VYy5jcmVhdGVJbihlKTonb24nPT10P1VjLmNyZWF0ZU9uKGUpOlVjLmNyZWF0ZUNvbGxhcHNlZEF0KGUsdCk7dGhpcy5fc2V0UmFuZ2VzKFtpXSxuKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyhvKX1lbHNlIGlmKFAoZSkpdGhpcy5fc2V0UmFuZ2VzKGUsdCYmdC5iYWNrd2FyZCksdGhpcy5fc2V0RmFrZU9wdGlvbnModCk7ZWxzZSB0aHJvdyBuZXcgX3MoJ3ZpZXctc2VsZWN0aW9uLXNldFRvLW5vdC1zZWxlY3RhYmxlOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiB0byBnaXZlbiBwbGFjZS4nKTt0aGlzLmZpcmUoJ2NoYW5nZScpfXNldEZvY3VzKGUsdCl7aWYobnVsbD09PXRoaXMuYW5jaG9yKXRocm93IG5ldyBfcygndmlldy1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi4nKTtjb25zdCBvPVdjLmNyZWF0ZUF0KGUsdCk7aWYoJ3NhbWUnIT1vLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXtjb25zdCBlPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5wb3AoKSwnYmVmb3JlJz09by5jb21wYXJlV2l0aChlKT90aGlzLl9hZGRSYW5nZShuZXcgVWMobyxlKSwhMCk6dGhpcy5fYWRkUmFuZ2UobmV3IFVjKGUsbykpLHRoaXMuZmlyZSgnY2hhbmdlJyl9fV9zZXRSYW5nZXMoZSx0PSExKXtlPUFycmF5LmZyb20oZSksdGhpcy5fcmFuZ2VzPVtdO2Zvcihjb25zdCBvIG9mIGUpdGhpcy5fYWRkUmFuZ2Uobyk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISF0fV9zZXRGYWtlT3B0aW9ucyhlPXt9KXt0aGlzLl9pc0Zha2U9ISFlLmZha2UsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPWUuZmFrZT9lLmxhYmVsfHwnJzonJ31fYWRkUmFuZ2UoZSx0PSExKXtpZighKGUgaW5zdGFuY2VvZiBVYykpdGhyb3cgbmV3IF9zKCd2aWV3LXNlbGVjdGlvbi1pbnZhbGlkLXJhbmdlOiBJbnZhbGlkIFJhbmdlLicpO3RoaXMuX3B1c2hSYW5nZShlKSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIXR9X3B1c2hSYW5nZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpaWYoZS5pc0ludGVyc2VjdGluZyh0KSl0aHJvdyBuZXcgX3MoJ3ZpZXctc2VsZWN0aW9uLXJhbmdlLWludGVyc2VjdHM6IFRyeWluZyB0byBhZGQgYSByYW5nZSB0aGF0IGludGVyc2VjdHMgd2l0aCBhbm90aGVyIHJhbmdlIGZyb20gc2VsZWN0aW9uLicse2FkZGVkUmFuZ2U6ZSxpbnRlcnNlY3RpbmdSYW5nZTp0fSk7dGhpcy5fcmFuZ2VzLnB1c2goVWMuY3JlYXRlRnJvbVJhbmdlKGUpKX19ZihIYyxQcyk7Y2xhc3MgS2N7Y29uc3RydWN0b3IoZT1udWxsLHQsbyl7dGhpcy5fc2VsZWN0aW9uPW5ldyBIYyx0aGlzLl9zZWxlY3Rpb24uZGVsZWdhdGUoJ2NoYW5nZScpLnRvKHRoaXMpLHRoaXMuX3NlbGVjdGlvbi5zZXRUbyhlLHQsbyl9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNGYWtlfWdldCBmYWtlU2VsZWN0aW9uTGFiZWwoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5yYW5nZUNvdW50fWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBlZGl0YWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudH1nZXQgX3Jhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX3Jhbmdlc30qZ2V0UmFuZ2VzKCl7eWllbGQqdGhpcy5fc2VsZWN0aW9uLmdldFJhbmdlcygpfWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX1nZXRMYXN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RSYW5nZSgpfWdldEZpcnN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKX1nZXRMYXN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpfWdldFNlbGVjdGVkRWxlbWVudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCl9aXNFcXVhbChlKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzRXF1YWwoZSl9aXNTaW1pbGFyKGUpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNTaW1pbGFyKGUpfV9zZXRUbyhlLHQsbyl7dGhpcy5fc2VsZWN0aW9uLnNldFRvKGUsdCxvKX1fc2V0Rm9jdXMoZSx0KXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXMoZSx0KX19ZihLYyxQcyk7Y2xhc3MgR2N7Y29uc3RydWN0b3IoZT17fSl7dGhpcy5faXRlbXM9W10sdGhpcy5faXRlbU1hcD1uZXcgTWFwLHRoaXMuX2lkUHJvcGVydHk9ZS5pZFByb3BlcnR5fHwnaWQnLHRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcD1uZXcgV2Vha01hcCx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXA9bmV3IFdlYWtNYXAsdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9W119Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9pdGVtcy5sZW5ndGh9Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zWzBdfHxudWxsfWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMubGVuZ3RoLTFdfHxudWxsfWFkZChlLHQpe2xldCBvO2NvbnN0IG49dGhpcy5faWRQcm9wZXJ0eTtpZihuIGluIGUpe2lmKG89ZVtuXSwnc3RyaW5nJyE9dHlwZW9mIG8pdGhyb3cgbmV3IF9zKCdjb2xsZWN0aW9uLWFkZC1pbnZhbGlkLWlkJyk7aWYodGhpcy5nZXQobykpdGhyb3cgbmV3IF9zKCdjb2xsZWN0aW9uLWFkZC1pdGVtLWFscmVhZHktZXhpc3RzJyl9ZWxzZSBlW25dPW89aSgpO2lmKHZvaWQgMD09PXQpdD10aGlzLl9pdGVtcy5sZW5ndGg7ZWxzZSBpZih0PnRoaXMuX2l0ZW1zLmxlbmd0aHx8MD50KXRocm93IG5ldyBfcygnY29sbGVjdGlvbi1hZGQtaXRlbS1pbnZhbGlkLWluZGV4Jyk7cmV0dXJuIHRoaXMuX2l0ZW1zLnNwbGljZSh0LDAsZSksdGhpcy5faXRlbU1hcC5zZXQobyxlKSx0aGlzLmZpcmUoJ2FkZCcsZSx0KSx0aGlzfWdldChlKXtsZXQgdDtpZignc3RyaW5nJz09dHlwZW9mIGUpdD10aGlzLl9pdGVtTWFwLmdldChlKTtlbHNlIGlmKCdudW1iZXInPT10eXBlb2YgZSl0PXRoaXMuX2l0ZW1zW2VdO2Vsc2UgdGhyb3cgbmV3IF9zKCdjb2xsZWN0aW9uLWdldC1pbnZhbGlkLWFyZzogSW5kZXggb3IgaWQgbXVzdCBiZSBnaXZlbi4nKTtyZXR1cm4gdHx8bnVsbH1nZXRJbmRleChlKXtsZXQgdDtyZXR1cm4gdD0nc3RyaW5nJz09dHlwZW9mIGU/dGhpcy5faXRlbU1hcC5nZXQoZSk6ZSx0aGlzLl9pdGVtcy5pbmRleE9mKHQpfXJlbW92ZShlKXtsZXQgdD0hMSxvLG4saTtjb25zdCByPXRoaXMuX2lkUHJvcGVydHk7aWYoJ3N0cmluZyc9PXR5cGVvZiBlPyhuPWUsaT10aGlzLl9pdGVtTWFwLmdldChuKSx0PSFpLGkmJihvPXRoaXMuX2l0ZW1zLmluZGV4T2YoaSkpKTonbnVtYmVyJz09dHlwZW9mIGU/KG89ZSxpPXRoaXMuX2l0ZW1zW29dLHQ9IWksaSYmKG49aVtyXSkpOihpPWUsbj1pW3JdLG89dGhpcy5faXRlbXMuaW5kZXhPZihpKSx0PS0xPT1vfHwhdGhpcy5faXRlbU1hcC5nZXQobikpLHQpdGhyb3cgbmV3IF9zKCdjb2xsZWN0aW9uLXJlbW92ZS00MDQ6IEl0ZW0gbm90IGZvdW5kLicpO3RoaXMuX2l0ZW1zLnNwbGljZShvLDEpLHRoaXMuX2l0ZW1NYXAuZGVsZXRlKG4pO2NvbnN0IGE9dGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChpKTtyZXR1cm4gdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmRlbGV0ZShpKSx0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuZGVsZXRlKGEpLHRoaXMuZmlyZSgncmVtb3ZlJyxpLG8pLGl9bWFwKGUsdCl7cmV0dXJuIHRoaXMuX2l0ZW1zLm1hcChlLHQpfWZpbmQoZSx0KXtyZXR1cm4gdGhpcy5faXRlbXMuZmluZChlLHQpfWZpbHRlcihlLHQpe3JldHVybiB0aGlzLl9pdGVtcy5maWx0ZXIoZSx0KX1jbGVhcigpe2Zvcih0aGlzLl9iaW5kVG9Db2xsZWN0aW9uJiYodGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMuX2JpbmRUb0NvbGxlY3Rpb24pLHRoaXMuX2JpbmRUb0NvbGxlY3Rpb249bnVsbCk7dGhpcy5sZW5ndGg7KXRoaXMucmVtb3ZlKDApfWJpbmRUbyhlKXtpZih0aGlzLl9iaW5kVG9Db2xsZWN0aW9uKXRocm93IG5ldyBfcygnY29sbGVjdGlvbi1iaW5kLXRvLXJlYmluZDogVGhlIGNvbGxlY3Rpb24gY2Fubm90IGJlIGJvdW5kIG1vcmUgdGhhbiBvbmNlLicpO3JldHVybiB0aGlzLl9iaW5kVG9Db2xsZWN0aW9uPWUse2FzOihlKT0+e3RoaXMuX3NldFVwQmluZFRvQmluZGluZygodCk9Pm5ldyBlKHQpKX0sdXNpbmc6KGUpPT57J2Z1bmN0aW9uJz09dHlwZW9mIGU/dGhpcy5fc2V0VXBCaW5kVG9CaW5kaW5nKCh0KT0+ZSh0KSk6dGhpcy5fc2V0VXBCaW5kVG9CaW5kaW5nKCh0KT0+dFtlXSl9fX1fc2V0VXBCaW5kVG9CaW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5fYmluZFRvQ29sbGVjdGlvbixvPShvLG4saSk9Pntjb25zdCByPXQuX2JpbmRUb0NvbGxlY3Rpb249PXRoaXMsYT10Ll9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZ2V0KG4pO2lmKHImJmEpdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLnNldChuLGEpLHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5zZXQoYSxuKTtlbHNle2NvbnN0IG89ZShuKTtpZighbylyZXR1cm4gdm9pZCB0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5wdXNoKGkpO2xldCByPWk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpaT5lJiZyLS07Zm9yKGNvbnN0IGUgb2YgdC5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpcj49ZSYmcisrO3RoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5zZXQobixvKSx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuc2V0KG8sbiksdGhpcy5hZGQobyxyKTtmb3IobGV0IGU9MDtlPHQuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsLmxlbmd0aDtlKyspcjw9dC5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWxbZV0mJnQuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW2VdKyt9fTtmb3IoY29uc3QgbiBvZiB0KW8obnVsbCxuLHQuZ2V0SW5kZXgobikpO3RoaXMubGlzdGVuVG8odCwnYWRkJyxvKSx0aGlzLmxpc3RlblRvKHQsJ3JlbW92ZScsKGUsdCxvKT0+e2NvbnN0IG49dGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLmdldCh0KTtuJiZ0aGlzLnJlbW92ZShuKSx0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbD10aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5yZWR1Y2UoKGUsdCk9PihvPHQmJmUucHVzaCh0LTEpLG8+dCYmZS5wdXNoKHQpLGUpLFtdKX0pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2l0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKX19ZihHYyxQcyk7Y2xhc3MgJGN7Y29uc3RydWN0b3IoKXt0aGlzLnNlbGVjdGlvbj1uZXcgS2MsdGhpcy5yb290cz1uZXcgR2Moe2lkUHJvcGVydHk6J3Jvb3ROYW1lJ30pLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSksdGhpcy5zZXQoJ2lzRm9jdXNlZCcsITEpLHRoaXMuc2V0KCdpc0NvbXBvc2luZycsITEpLHRoaXMuX3Bvc3RGaXhlcnM9bmV3IFNldH1nZXRSb290KGU9J21haW4nKXtyZXR1cm4gdGhpcy5yb290cy5nZXQoZSl9cmVnaXN0ZXJQb3N0Rml4ZXIoZSl7dGhpcy5fcG9zdEZpeGVycy5hZGQoZSl9X2NhbGxQb3N0Rml4ZXJzKGUpe2xldCB0PSExO2RvIGZvcihjb25zdCBvIG9mIHRoaXMuX3Bvc3RGaXhlcnMpaWYodD1vKGUpLHQpYnJlYWs7d2hpbGUodCl9fWYoJGMsTWMpO2NvbnN0IEpjPTEwO2NsYXNzIFFjIGV4dGVuZHMgWmR7Y29uc3RydWN0b3IoZSx0LG8pe3N1cGVyKGUsdCxvKSx0aGlzLmdldEZpbGxlck9mZnNldD1YLHRoaXMuX3ByaW9yaXR5PUpjLHRoaXMuX2lkPW51bGwsdGhpcy5fY2xvbmVzR3JvdXA9bnVsbH1nZXQgcHJpb3JpdHkoKXtyZXR1cm4gdGhpcy5fcHJpb3JpdHl9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2lkfWdldEVsZW1lbnRzV2l0aFNhbWVJZCgpe2lmKG51bGw9PT10aGlzLmlkKXRocm93IG5ldyBfcygnYXR0cmlidXRlLWVsZW1lbnQtZ2V0LWVsZW1lbnRzLXdpdGgtc2FtZS1pZC1uby1pZDogQ2Fubm90IGdldCBlbGVtZW50cyB3aXRoIHRoZSBzYW1lIGlkIGZvciBhbiBhdHRyaWJ1dGUgZWxlbWVudCB3aXRob3V0IGlkLicpO3JldHVybiBuZXcgU2V0KHRoaXMuX2Nsb25lc0dyb3VwKX1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2F0dHJpYnV0ZUVsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWV8fHN1cGVyLmlzKGUsdCk6J2F0dHJpYnV0ZUVsZW1lbnQnPT1lfHxzdXBlci5pcyhlKX1pc1NpbWlsYXIoZSl7cmV0dXJuIG51bGwhPT10aGlzLmlkfHxudWxsIT09ZS5pZD90aGlzLmlkPT09ZS5pZDpzdXBlci5pc1NpbWlsYXIoZSkmJnRoaXMucHJpb3JpdHk9PWUucHJpb3JpdHl9X2Nsb25lKGUpe2NvbnN0IHQ9c3VwZXIuX2Nsb25lKGUpO3JldHVybiB0Ll9wcmlvcml0eT10aGlzLl9wcmlvcml0eSx0Ll9pZD10aGlzLl9pZCx0fX1RYy5ERUZBVUxUX1BSSU9SSVRZPUpjO2NsYXNzIFljIGV4dGVuZHMgWmR7Y29uc3RydWN0b3IoZSx0LG8pe3N1cGVyKGUsdCxvKSx0aGlzLmdldEZpbGxlck9mZnNldD1lZX1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2VtcHR5RWxlbWVudCc9PWUmJnQ9PXRoaXMubmFtZXx8c3VwZXIuaXMoZSx0KTonZW1wdHlFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9X2luc2VydENoaWxkKGUsdCl7aWYodCYmKHQgaW5zdGFuY2VvZiBKZHx8MDxBcnJheS5mcm9tKHQpLmxlbmd0aCkpdGhyb3cgbmV3IF9zKCd2aWV3LWVtcHR5ZWxlbWVudC1jYW5ub3QtYWRkOiBDYW5ub3QgYWRkIGNoaWxkIG5vZGVzIHRvIEVtcHR5RWxlbWVudCBpbnN0YW5jZS4nKX19Y29uc3QgWGM9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFpjPXtpc01hYzpmdW5jdGlvbihlKXtyZXR1cm4tMTxlLmluZGV4T2YoJ21hY2ludG9zaCcpfShYYyl9O3ZhciBlbT1aYztjb25zdCB0bT17XCLijJhcIjonY3RybCcsXCLih6dcIjonc2hpZnQnLFwi4oylXCI6J2FsdCd9LG9tPXtjdHJsOidcXHUyMzE4JyxzaGlmdDonXFx1MjFFNycsYWx0OidcXHUyMzI1J30sbm09ZnVuY3Rpb24oKXtjb25zdCBlPXthcnJvd2xlZnQ6MzcsYXJyb3d1cDozOCxhcnJvd3JpZ2h0OjM5LGFycm93ZG93bjo0MCxiYWNrc3BhY2U6OCxkZWxldGU6NDYsZW50ZXI6MTMsc3BhY2U6MzIsZXNjOjI3LHRhYjo5LGN0cmw6MTExNDExMixjbWQ6MTExNDExMixzaGlmdDoyMjI4MjI0LGFsdDo0NDU2NDQ4fTtmb3IobGV0IHQ9NjU7OTA+PXQ7dCsrKXtjb25zdCBvPVN0cmluZy5mcm9tQ2hhckNvZGUodCk7ZVtvLnRvTG93ZXJDYXNlKCldPXR9Zm9yKGxldCB0PTQ4OzU3Pj10O3QrKyllW3QtNDhdPXQ7Zm9yKGxldCB0PTExMjsxMjM+PXQ7dCsrKWVbJ2YnKyh0LTExMSldPXQ7cmV0dXJuIGV9KCk7Y2xhc3MgaW0gZXh0ZW5kcyBaZHtjb25zdHJ1Y3RvcihlLHQsbyl7c3VwZXIoZSx0LG8pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PWFlfWlzKGUsdD1udWxsKXtyZXR1cm4gdD8ndWlFbGVtZW50Jz09ZSYmdD09dGhpcy5uYW1lfHxzdXBlci5pcyhlLHQpOid1aUVsZW1lbnQnPT1lfHxzdXBlci5pcyhlKX1faW5zZXJ0Q2hpbGQoZSx0KXtpZih0JiYodCBpbnN0YW5jZW9mIEpkfHwwPEFycmF5LmZyb20odCkubGVuZ3RoKSl0aHJvdyBuZXcgX3MoJ3ZpZXctdWllbGVtZW50LWNhbm5vdC1hZGQ6IENhbm5vdCBhZGQgY2hpbGQgbm9kZXMgdG8gVUlFbGVtZW50IGluc3RhbmNlLicpfXJlbmRlcihlKXtyZXR1cm4gdGhpcy50b0RvbUVsZW1lbnQoZSl9dG9Eb21FbGVtZW50KGUpe2NvbnN0IHQ9ZS5jcmVhdGVFbGVtZW50KHRoaXMubmFtZSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5nZXRBdHRyaWJ1dGVLZXlzKCkpdC5zZXRBdHRyaWJ1dGUobyx0aGlzLmdldEF0dHJpYnV0ZShvKSk7cmV0dXJuIHR9fWNsYXNzIHJte2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NoaWxkcmVuPVtdLGUmJnRoaXMuX2luc2VydENoaWxkKDAsZSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldCBjaGlsZENvdW50KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5jaGlsZENvdW50fWdldCByb290KCl7cmV0dXJuIHRoaXN9Z2V0IHBhcmVudCgpe3JldHVybiBudWxsfWlzKGUpe3JldHVybidkb2N1bWVudEZyYWdtZW50Jz09ZX1fYXBwZW5kQ2hpbGQoZSl7cmV0dXJuIHRoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCxlKX1nZXRDaGlsZChlKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bZV19Z2V0Q2hpbGRJbmRleChlKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZihlKX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9X2luc2VydENoaWxkKGUsdCl7dGhpcy5fZmlyZUNoYW5nZSgnY2hpbGRyZW4nLHRoaXMpO2xldCBvPTA7Y29uc3Qgbj1sZSh0KTtmb3IoY29uc3QgaSBvZiBuKW51bGwhPT1pLnBhcmVudCYmaS5fcmVtb3ZlKCksaS5wYXJlbnQ9dGhpcyx0aGlzLl9jaGlsZHJlbi5zcGxpY2UoZSwwLGkpLGUrKyxvKys7cmV0dXJuIG99X3JlbW92ZUNoaWxkcmVuKGUsdD0xKXt0aGlzLl9maXJlQ2hhbmdlKCdjaGlsZHJlbicsdGhpcyk7Zm9yKGxldCBvPWU7bzxlK3Q7bysrKXRoaXMuX2NoaWxkcmVuW29dLnBhcmVudD1udWxsO3JldHVybiB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoZSx0KX1fZmlyZUNoYW5nZShlLHQpe3RoaXMuZmlyZSgnY2hhbmdlOicrZSx0KX19ZihybSxQcyk7Y2xhc3MgYW17Y29uc3RydWN0b3IoZSl7dGhpcy5kb2N1bWVudD1lLHRoaXMuX2Nsb25lR3JvdXBzPW5ldyBNYXB9c2V0U2VsZWN0aW9uKGUsdCxvKXt0aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8oZSx0LG8pfXNldFNlbGVjdGlvbkZvY3VzKGUsdCl7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldEZvY3VzKGUsdCl9Y3JlYXRlVGV4dChlKXtyZXR1cm4gbmV3IFFkKGUpfWNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoZSx0LG89e30pe2NvbnN0IG49bmV3IFFjKGUsdCk7cmV0dXJuIG8ucHJpb3JpdHkmJihuLl9wcmlvcml0eT1vLnByaW9yaXR5KSxvLmlkJiYobi5faWQ9by5pZCksbn1jcmVhdGVDb250YWluZXJFbGVtZW50KGUsdCl7cmV0dXJuIG5ldyBlYyhlLHQpfWNyZWF0ZUVkaXRhYmxlRWxlbWVudChlLHQpe2NvbnN0IG89bmV3IExjKGUsdCk7cmV0dXJuIG8uX2RvY3VtZW50PXRoaXMuZG9jdW1lbnQsb31jcmVhdGVFbXB0eUVsZW1lbnQoZSx0KXtyZXR1cm4gbmV3IFljKGUsdCl9Y3JlYXRlVUlFbGVtZW50KGUsdCxvKXtjb25zdCBuPW5ldyBpbShlLHQpO3JldHVybiBvJiYobi5yZW5kZXI9byksbn1zZXRBdHRyaWJ1dGUoZSx0LG8pe28uX3NldEF0dHJpYnV0ZShlLHQpfXJlbW92ZUF0dHJpYnV0ZShlLHQpe3QuX3JlbW92ZUF0dHJpYnV0ZShlKX1hZGRDbGFzcyhlLHQpe3QuX2FkZENsYXNzKGUpfXJlbW92ZUNsYXNzKGUsdCl7dC5fcmVtb3ZlQ2xhc3MoZSl9c2V0U3R5bGUoZSx0LG8pe2hzKGUpJiZvPT09dm9pZCAwJiYobz10KSxvLl9zZXRTdHlsZShlLHQpfXJlbW92ZVN0eWxlKGUsdCl7dC5fcmVtb3ZlU3R5bGUoZSl9c2V0Q3VzdG9tUHJvcGVydHkoZSx0LG8pe28uX3NldEN1c3RvbVByb3BlcnR5KGUsdCl9cmVtb3ZlQ3VzdG9tUHJvcGVydHkoZSx0KXtyZXR1cm4gdC5fcmVtb3ZlQ3VzdG9tUHJvcGVydHkoZSl9YnJlYWtBdHRyaWJ1dGVzKGUpe3JldHVybiBlIGluc3RhbmNlb2YgV2M/dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUpOnRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUpfWJyZWFrQ29udGFpbmVyKGUpe2NvbnN0IHQ9ZS5wYXJlbnQ7aWYoIXQuaXMoJ2NvbnRhaW5lckVsZW1lbnQnKSl0aHJvdyBuZXcgX3MoJ3ZpZXctd3JpdGVyLWJyZWFrLW5vbi1jb250YWluZXItZWxlbWVudDogVHJ5aW5nIHRvIGJyZWFrIGFuIGVsZW1lbnQgd2hpY2ggaXMgbm90IGEgY29udGFpbmVyIGVsZW1lbnQuJyk7aWYoIXQucGFyZW50KXRocm93IG5ldyBfcygndmlldy13cml0ZXItYnJlYWstcm9vdDogVHJ5aW5nIHRvIGJyZWFrIHJvb3QgZWxlbWVudC4nKTtpZihlLmlzQXRTdGFydClyZXR1cm4gV2MuY3JlYXRlQmVmb3JlKHQpO2lmKCFlLmlzQXRFbmQpe2NvbnN0IG89dC5fY2xvbmUoITEpO3RoaXMuaW5zZXJ0KFdjLmNyZWF0ZUFmdGVyKHQpLG8pO2NvbnN0IG49bmV3IFVjKGUsV2MuY3JlYXRlQXQodCwnZW5kJykpLGk9bmV3IFdjKG8sMCk7dGhpcy5tb3ZlKG4saSl9cmV0dXJuIFdjLmNyZWF0ZUFmdGVyKHQpfW1lcmdlQXR0cmlidXRlcyhlKXtjb25zdCB0PWUub2Zmc2V0LG89ZS5wYXJlbnQ7aWYoby5pcygndGV4dCcpKXJldHVybiBlO2lmKG8uaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmMD09PW8uY2hpbGRDb3VudCl7Y29uc3QgZT1vLnBhcmVudCx0PW8uaW5kZXg7cmV0dXJuIG8uX3JlbW92ZSgpLHRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKG8pLHRoaXMubWVyZ2VBdHRyaWJ1dGVzKG5ldyBXYyhlLHQpKX1jb25zdCBuPW8uZ2V0Q2hpbGQodC0xKSxpPW8uZ2V0Q2hpbGQodCk7aWYoIW58fCFpKXJldHVybiBlO2lmKG4uaXMoJ3RleHQnKSYmaS5pcygndGV4dCcpKXJldHVybiBnZShuLGkpO2lmKG4uaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmaS5pcygnYXR0cmlidXRlRWxlbWVudCcpJiZuLmlzU2ltaWxhcihpKSl7Y29uc3QgZT1uLmNoaWxkQ291bnQ7cmV0dXJuIG4uX2FwcGVuZENoaWxkKGkuZ2V0Q2hpbGRyZW4oKSksaS5fcmVtb3ZlKCksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAoaSksdGhpcy5tZXJnZUF0dHJpYnV0ZXMobmV3IFdjKG4sZSkpfXJldHVybiBlfW1lcmdlQ29udGFpbmVycyhlKXtjb25zdCB0PWUubm9kZUJlZm9yZSxvPWUubm9kZUFmdGVyO2lmKCF0fHwhb3x8IXQuaXMoJ2NvbnRhaW5lckVsZW1lbnQnKXx8IW8uaXMoJ2NvbnRhaW5lckVsZW1lbnQnKSl0aHJvdyBuZXcgX3MoJ3ZpZXctd3JpdGVyLW1lcmdlLWNvbnRhaW5lcnMtaW52YWxpZC1wb3NpdGlvbjogRWxlbWVudCBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHBvc2l0aW9uIGNhbm5vdCBiZSBtZXJnZWQuJyk7Y29uc3Qgbj10LmdldENoaWxkKHQuY2hpbGRDb3VudC0xKSxpPW4gaW5zdGFuY2VvZiBRZD9XYy5jcmVhdGVBdChuLCdlbmQnKTpXYy5jcmVhdGVBdCh0LCdlbmQnKTtyZXR1cm4gdGhpcy5tb3ZlKFVjLmNyZWF0ZUluKG8pLFdjLmNyZWF0ZUF0KHQsJ2VuZCcpKSx0aGlzLnJlbW92ZShVYy5jcmVhdGVPbihvKSksaX1pbnNlcnQoZSx0KXt0PVAodCk/Wy4uLnRdOlt0XSxoZSh0KTtjb25zdCBvPWNlKGUpO2lmKCFvKXRocm93IG5ldyBfcygndmlldy13cml0ZXItaW52YWxpZC1wb3NpdGlvbi1jb250YWluZXInKTtjb25zdCBuPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhlLCEwKSxpPW8uX2luc2VydENoaWxkKG4ub2Zmc2V0LHQpO2Zvcihjb25zdCBvIG9mIHQpdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKG8pO2NvbnN0IHI9bi5nZXRTaGlmdGVkQnkoaSksYT10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTtpZigwPT09aSlyZXR1cm4gbmV3IFVjKGEsYSk7ZWxzZXthLmlzRXF1YWwobil8fHIub2Zmc2V0LS07Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhyKTtyZXR1cm4gbmV3IFVjKGEsZSl9fXJlbW92ZShlKXtpZihrZShlKSxlLmlzQ29sbGFwc2VkKXJldHVybiBuZXcgcm07Y29uc3R7c3RhcnQ6dCxlbmQ6b309dGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UoZSwhMCksbj10LnBhcmVudCxpPW8ub2Zmc2V0LXQub2Zmc2V0LHI9bi5fcmVtb3ZlQ2hpbGRyZW4odC5vZmZzZXQsaSk7Zm9yKGNvbnN0IHQgb2Ygcil0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cCh0KTtjb25zdCBhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHQpO3JldHVybiBlLnN0YXJ0PWEsZS5lbmQ9V2MuY3JlYXRlRnJvbVBvc2l0aW9uKGEpLG5ldyBybShyKX1jbGVhcihlLHQpe2tlKGUpO2NvbnN0IG89ZS5nZXRXYWxrZXIoe2RpcmVjdGlvbjonYmFja3dhcmQnLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KTtmb3IoY29uc3QgbiBvZiBvKXtjb25zdCBvPW4uaXRlbTtsZXQgaTtpZihvLmlzKCdlbGVtZW50JykmJnQuaXNTaW1pbGFyKG8pKWk9VWMuY3JlYXRlT24obyk7ZWxzZSBpZighbi5uZXh0UG9zaXRpb24uaXNBZnRlcihlLnN0YXJ0KSYmby5pcygndGV4dFByb3h5Jykpe2NvbnN0IGU9by5nZXRBbmNlc3RvcnMoKS5maW5kKChlKT0+ZS5pcygnZWxlbWVudCcpJiZ0LmlzU2ltaWxhcihlKSk7ZSYmKGk9VWMuY3JlYXRlSW4oZSkpfWkmJihpLmVuZC5pc0FmdGVyKGUuZW5kKSYmKGkuZW5kPWUuZW5kKSxpLnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpJiYoaS5zdGFydD1lLnN0YXJ0KSx0aGlzLnJlbW92ZShpKSl9fW1vdmUoZSx0KXtsZXQgbztpZih0LmlzQWZ0ZXIoZS5lbmQpKXt0PXRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LCEwKTtjb25zdCBuPXQucGFyZW50LGk9bi5jaGlsZENvdW50O2U9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UoZSwhMCksbz10aGlzLnJlbW92ZShlKSx0Lm9mZnNldCs9bi5jaGlsZENvdW50LWl9ZWxzZSBvPXRoaXMucmVtb3ZlKGUpO3JldHVybiB0aGlzLmluc2VydCh0LG8pfXdyYXAoZSx0KXtpZighKHQgaW5zdGFuY2VvZiBRYykpdGhyb3cgbmV3IF9zKCd2aWV3LXdyaXRlci13cmFwLWludmFsaWQtYXR0cmlidXRlJyk7aWYoa2UoZSksIWUuaXNDb2xsYXBzZWQpcmV0dXJuIHRoaXMuX3dyYXBSYW5nZShlLHQpO2Vsc2V7bGV0IG89ZS5zdGFydDtvLnBhcmVudC5pcygnZWxlbWVudCcpJiYhZGUoby5wYXJlbnQpJiYobz1vLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKChlKT0+ZS5pdGVtLmlzKCd1aUVsZW1lbnQnKSkpLG89dGhpcy5fd3JhcFBvc2l0aW9uKG8sdCk7Y29uc3Qgbj10aGlzLmRvY3VtZW50LnNlbGVjdGlvbjtyZXR1cm4gbi5pc0NvbGxhcHNlZCYmbi5nZXRGaXJzdFBvc2l0aW9uKCkuaXNFcXVhbChlLnN0YXJ0KSYmdGhpcy5zZXRTZWxlY3Rpb24obyksbmV3IFVjKG8pfX11bndyYXAoZSx0KXtpZighKHQgaW5zdGFuY2VvZiBRYykpdGhyb3cgbmV3IF9zKCd2aWV3LXdyaXRlci11bndyYXAtaW52YWxpZC1hdHRyaWJ1dGUnKTtpZihrZShlKSxlLmlzQ29sbGFwc2VkKXJldHVybiBlO2NvbnN0e3N0YXJ0Om8sZW5kOm59PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUsITApO2lmKG4uaXNFcXVhbChvLmdldFNoaWZ0ZWRCeSgxKSkpe2NvbnN0IGU9by5ub2RlQWZ0ZXI7aWYoIXQuaXNTaW1pbGFyKGUpJiZlIGluc3RhbmNlb2YgUWMmJnRoaXMuX3Vud3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlKSl7Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhvKTtlLmlzRXF1YWwobyl8fG4ub2Zmc2V0LS07Y29uc3QgdD10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTtyZXR1cm4gbmV3IFVjKGUsdCl9fWNvbnN0IGk9by5wYXJlbnQscj10aGlzLl91bndyYXBDaGlsZHJlbihpLG8ub2Zmc2V0LG4ub2Zmc2V0LHQpLGE9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoci5zdGFydCk7YS5pc0VxdWFsKHIuc3RhcnQpfHxyLmVuZC5vZmZzZXQtLTtjb25zdCBzPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuZW5kKTtyZXR1cm4gbmV3IFVjKGEscyl9cmVuYW1lKGUsdCl7Y29uc3Qgbz1uZXcgZWModCxlLmdldEF0dHJpYnV0ZXMoKSk7cmV0dXJuIHRoaXMuaW5zZXJ0KFdjLmNyZWF0ZUFmdGVyKGUpLG8pLHRoaXMubW92ZShVYy5jcmVhdGVJbihlKSxXYy5jcmVhdGVBdChvKSksdGhpcy5yZW1vdmUoVWMuY3JlYXRlT24oZSkpLG99X3dyYXBDaGlsZHJlbihlLHQsbyxuKXtsZXQgcj10O2NvbnN0IGk9W107Zm9yKDtyPG87KXtjb25zdCB0PWUuZ2V0Q2hpbGQociksbz10LmlzKCd0ZXh0JyksYT10LmlzKCdhdHRyaWJ1dGVFbGVtZW50Jykscz10LmlzKCdlbXB0eUVsZW1lbnQnKSxsPXQuaXMoJ3VpRWxlbWVudCcpO2lmKG98fHN8fGx8fGEmJm1lKG4sdCkpe2NvbnN0IG89bi5fY2xvbmUoKTt0Ll9yZW1vdmUoKSxvLl9hcHBlbmRDaGlsZCh0KSxlLl9pbnNlcnRDaGlsZChyLG8pLHRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cChvKSxpLnB1c2gobmV3IFdjKGUscikpfWVsc2UgYSYmdGhpcy5fd3JhcENoaWxkcmVuKHQsMCx0LmNoaWxkQ291bnQsbik7cisrfWxldCBhPTA7Zm9yKGNvbnN0IHIgb2YgaSl7aWYoci5vZmZzZXQtPWEsci5vZmZzZXQ9PXQpY29udGludWU7Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhyKTtlLmlzRXF1YWwocil8fChhKyssby0tKX1yZXR1cm4gVWMuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGUsdCxlLG8pfV91bndyYXBDaGlsZHJlbihlLHQsbyxuKXtsZXQgcj10O2NvbnN0IGk9W107Zm9yKDtyPG87KXtjb25zdCB0PWUuZ2V0Q2hpbGQocik7aWYodC5pc1NpbWlsYXIobikpe2NvbnN0IG49dC5nZXRDaGlsZHJlbigpLGE9dC5jaGlsZENvdW50O3QuX3JlbW92ZSgpLGUuX2luc2VydENoaWxkKHIsbiksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCksaS5wdXNoKG5ldyBXYyhlLHIpLG5ldyBXYyhlLHIrYSkpLHIrPWEsbys9YS0xfWVsc2UgdC5pcygnYXR0cmlidXRlRWxlbWVudCcpJiZ0aGlzLl91bndyYXBDaGlsZHJlbih0LDAsdC5jaGlsZENvdW50LG4pLHIrK31sZXQgYT0wO2Zvcihjb25zdCByIG9mIGkpe2lmKHIub2Zmc2V0LT1hLHIub2Zmc2V0PT10fHxyLm9mZnNldD09byljb250aW51ZTtjb25zdCBlPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIpO2UuaXNFcXVhbChyKXx8KGErKyxvLS0pfXJldHVybiBVYy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0LGUsbyl9X3dyYXBSYW5nZShlLHQpe2lmKGZlKGUpJiZ0aGlzLl93cmFwQXR0cmlidXRlRWxlbWVudCh0LGUuc3RhcnQucGFyZW50KSl7Y29uc3QgdD1lLnN0YXJ0LnBhcmVudCxvPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKFdjLmNyZWF0ZUFmdGVyKHQpKSxuPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKFdjLmNyZWF0ZUJlZm9yZSh0KSk7cmV0dXJuIG5ldyBVYyhuLG8pfWNvbnN0e3N0YXJ0Om8sZW5kOm59PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUsITApO2lmKG4uaXNFcXVhbChvLmdldFNoaWZ0ZWRCeSgxKSkpe2NvbnN0IGU9by5ub2RlQWZ0ZXI7aWYoZSBpbnN0YW5jZW9mIFFjJiZ0aGlzLl93cmFwQXR0cmlidXRlRWxlbWVudCh0LGUpKXtjb25zdCBlPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKG8pO2UuaXNFcXVhbChvKXx8bi5vZmZzZXQtLTtjb25zdCB0PXRoaXMubWVyZ2VBdHRyaWJ1dGVzKG4pO3JldHVybiBuZXcgVWMoZSx0KX19Y29uc3QgaT1vLnBhcmVudCxyPXRoaXMuX3Vud3JhcENoaWxkcmVuKGksby5vZmZzZXQsbi5vZmZzZXQsdCksYT10aGlzLl93cmFwQ2hpbGRyZW4oaSxyLnN0YXJ0Lm9mZnNldCxyLmVuZC5vZmZzZXQsdCkscz10aGlzLm1lcmdlQXR0cmlidXRlcyhhLnN0YXJ0KTtzLmlzRXF1YWwoYS5zdGFydCl8fGEuZW5kLm9mZnNldC0tO2NvbnN0IGw9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoYS5lbmQpO3JldHVybiBuZXcgVWMocyxsKX1fd3JhcFBvc2l0aW9uKGUsdCl7aWYodC5pc1NpbWlsYXIoZS5wYXJlbnQpKXJldHVybiB1ZShXYy5jcmVhdGVGcm9tUG9zaXRpb24oZSkpO2UucGFyZW50LmlzKCd0ZXh0JykmJihlPXBlKGUpKTtjb25zdCBvPXRoaXMuY3JlYXRlQXR0cmlidXRlRWxlbWVudCgpO28uX3ByaW9yaXR5PW5zLG8uaXNTaW1pbGFyPSgpPT4hMSxlLnBhcmVudC5faW5zZXJ0Q2hpbGQoZS5vZmZzZXQsbyk7Y29uc3Qgbj1uZXcgVWMoZSxlLmdldFNoaWZ0ZWRCeSgxKSk7dGhpcy53cmFwKG4sdCk7Y29uc3QgaT1uZXcgV2Moby5wYXJlbnQsby5pbmRleCk7by5fcmVtb3ZlKCk7Y29uc3Qgcj1pLm5vZGVCZWZvcmUsYT1pLm5vZGVBZnRlcjtyZXR1cm4gciBpbnN0YW5jZW9mIFFkJiZhIGluc3RhbmNlb2YgUWQ/Z2UocixhKTp1ZShpKX1fd3JhcEF0dHJpYnV0ZUVsZW1lbnQoZSx0KXtpZighX2UoZSx0KSlyZXR1cm4hMTtpZihlLm5hbWUhPT10Lm5hbWV8fGUucHJpb3JpdHkhPT10LnByaW9yaXR5KXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKWlmKCdjbGFzcychPT1vJiYnc3R5bGUnIT09byYmdC5oYXNBdHRyaWJ1dGUobykmJnQuZ2V0QXR0cmlidXRlKG8pIT09ZS5nZXRBdHRyaWJ1dGUobykpcmV0dXJuITE7Zm9yKGNvbnN0IG8gb2YgZS5nZXRTdHlsZU5hbWVzKCkpaWYodC5oYXNTdHlsZShvKSYmdC5nZXRTdHlsZShvKSE9PWUuZ2V0U3R5bGUobykpcmV0dXJuITE7Zm9yKGNvbnN0IG8gb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpJ2NsYXNzJyE9PW8mJidzdHlsZSchPT1vJiYodC5oYXNBdHRyaWJ1dGUobyl8fHRoaXMuc2V0QXR0cmlidXRlKG8sZS5nZXRBdHRyaWJ1dGUobyksdCkpO2Zvcihjb25zdCBvIG9mIGUuZ2V0U3R5bGVOYW1lcygpKXQuaGFzU3R5bGUobyl8fHRoaXMuc2V0U3R5bGUobyxlLmdldFN0eWxlKG8pLHQpO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2xhc3NOYW1lcygpKXQuaGFzQ2xhc3Mobyl8fHRoaXMuYWRkQ2xhc3Mobyx0KTtyZXR1cm4hMH1fdW53cmFwQXR0cmlidXRlRWxlbWVudChlLHQpe2lmKCFfZShlLHQpKXJldHVybiExO2lmKGUubmFtZSE9PXQubmFtZXx8ZS5wcmlvcml0eSE9PXQucHJpb3JpdHkpcmV0dXJuITE7Zm9yKGNvbnN0IG8gb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYoJ2NsYXNzJyE9PW8mJidzdHlsZSchPT1vJiYoIXQuaGFzQXR0cmlidXRlKG8pfHx0LmdldEF0dHJpYnV0ZShvKSE9PWUuZ2V0QXR0cmlidXRlKG8pKSlyZXR1cm4hMTtpZighdC5oYXNDbGFzcyguLi5lLmdldENsYXNzTmFtZXMoKSkpcmV0dXJuITE7Zm9yKGNvbnN0IG8gb2YgZS5nZXRTdHlsZU5hbWVzKCkpaWYoIXQuaGFzU3R5bGUobyl8fHQuZ2V0U3R5bGUobykhPT1lLmdldFN0eWxlKG8pKXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKSdjbGFzcychPT1vJiYnc3R5bGUnIT09byYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUobyx0KTtyZXR1cm4gdGhpcy5yZW1vdmVDbGFzcyhBcnJheS5mcm9tKGUuZ2V0Q2xhc3NOYW1lcygpKSx0KSx0aGlzLnJlbW92ZVN0eWxlKEFycmF5LmZyb20oZS5nZXRTdHlsZU5hbWVzKCkpLHQpLCEwfV9icmVha0F0dHJpYnV0ZXNSYW5nZShlLHQ9ITEpe2NvbnN0IG89ZS5zdGFydCxuPWUuZW5kO2lmKGtlKGUpLGUuaXNDb2xsYXBzZWQpe2NvbnN0IG89dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUuc3RhcnQsdCk7cmV0dXJuIG5ldyBVYyhvLG8pfWNvbnN0IGk9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKG4sdCkscj1pLnBhcmVudC5jaGlsZENvdW50LGE9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKG8sdCk7cmV0dXJuIGkub2Zmc2V0Kz1pLnBhcmVudC5jaGlsZENvdW50LXIsbmV3IFVjKGEsaSl9X2JyZWFrQXR0cmlidXRlcyhlLHQ9ITEpe2NvbnN0IG89ZS5vZmZzZXQsbj1lLnBhcmVudDtpZihlLnBhcmVudC5pcygnZW1wdHlFbGVtZW50JykpdGhyb3cgbmV3IF9zKCd2aWV3LXdyaXRlci1jYW5ub3QtYnJlYWstZW1wdHktZWxlbWVudCcpO2lmKGUucGFyZW50LmlzKCd1aUVsZW1lbnQnKSl0aHJvdyBuZXcgX3MoJ3ZpZXctd3JpdGVyLWNhbm5vdC1icmVhay11aS1lbGVtZW50Jyk7aWYoIXQmJm4uaXMoJ3RleHQnKSYmYmUobi5wYXJlbnQpKXJldHVybiBXYy5jcmVhdGVGcm9tUG9zaXRpb24oZSk7aWYoYmUobikpcmV0dXJuIFdjLmNyZWF0ZUZyb21Qb3NpdGlvbihlKTtpZihuLmlzKCd0ZXh0JykpcmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyhwZShlKSx0KTtjb25zdCBpPW4uY2hpbGRDb3VudDtpZihvPT1pKXtjb25zdCBlPW5ldyBXYyhuLnBhcmVudCxuLmluZGV4KzEpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoZSx0KX1pZigwPT09byl7Y29uc3QgZT1uZXcgV2Mobi5wYXJlbnQsbi5pbmRleCk7cmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyhlLHQpfWVsc2V7Y29uc3QgZT1uLmluZGV4KzEsaT1uLl9jbG9uZSgpO24ucGFyZW50Ll9pbnNlcnRDaGlsZChlLGkpLHRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cChpKTtjb25zdCByPW4uY2hpbGRDb3VudC1vLGE9bi5fcmVtb3ZlQ2hpbGRyZW4obyxyKTtpLl9hcHBlbmRDaGlsZChhKTtjb25zdCBzPW5ldyBXYyhuLnBhcmVudCxlKTtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHMsdCl9fV9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAoZSl7aWYoIWUucm9vdC5pcygncm9vdEVsZW1lbnQnKSlyZXR1cm47aWYoZS5pcygnZWxlbWVudCcpKWZvcihjb25zdCB0IG9mIGUuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAodCk7Y29uc3QgdD1lLmlkO2lmKCF0KXJldHVybjtsZXQgbz10aGlzLl9jbG9uZUdyb3Vwcy5nZXQodCk7b3x8KG89bmV3IFNldCx0aGlzLl9jbG9uZUdyb3Vwcy5zZXQodCxvKSksby5hZGQoZSksZS5fY2xvbmVzR3JvdXA9b31fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAoZSl7aWYoZS5pcygnZWxlbWVudCcpKWZvcihjb25zdCB0IG9mIGUuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cCh0KTtjb25zdCB0PWUuaWQ7aWYodCl7Y29uc3Qgbz10aGlzLl9jbG9uZUdyb3Vwcy5nZXQodCk7byYmKG8uZGVsZXRlKGUpLDA9PT1vLnNpemUmJnRoaXMuX2Nsb25lR3JvdXBzLmRlbGV0ZSh0KSl9fX1jb25zdCBzbT1bUWQsUWMsZWMsWWMsaW1dLGxtPShlKT0+e2NvbnN0IHQ9ZS5jcmVhdGVFbGVtZW50KCdicicpO3JldHVybiB0LmRhdGFzZXQuY2tlRmlsbGVyPSEwLHR9LGRtPShlKT0+ZS5jcmVhdGVUZXh0Tm9kZSgnXFx4QTAnKSxjbT03O2xldCBtbT0nJztmb3IobGV0IG49MDtuPGNtO24rKyltbSs9J1xcdTIwMEInO2NvbnN0IHVtPW5ldyBXZWFrTWFwO2NsYXNzIHBte2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kb21Eb2N1bWVudHM9bmV3IFNldCx0aGlzLmRvbUNvbnZlcnRlcj1lLHRoaXMubWFya2VkQXR0cmlidXRlcz1uZXcgU2V0LHRoaXMubWFya2VkQ2hpbGRyZW49bmV3IFNldCx0aGlzLm1hcmtlZFRleHRzPW5ldyBTZXQsdGhpcy5zZWxlY3Rpb249dCx0aGlzLmlzRm9jdXNlZD0hMSx0aGlzLl9pbmxpbmVGaWxsZXI9bnVsbCx0aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyPW51bGx9bWFya1RvU3luYyhlLHQpe2lmKCd0ZXh0Jz09PWUpdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQucGFyZW50KSYmdGhpcy5tYXJrZWRUZXh0cy5hZGQodCk7ZWxzZXtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpKXJldHVybjtpZignYXR0cmlidXRlcyc9PT1lKXRoaXMubWFya2VkQXR0cmlidXRlcy5hZGQodCk7ZWxzZSBpZignY2hpbGRyZW4nPT09ZSl0aGlzLm1hcmtlZENoaWxkcmVuLmFkZCh0KTtlbHNlIHRocm93IG5ldyBfcygndmlldy1yZW5kZXJlci11bmtub3duLXR5cGU6IFVua25vd24gdHlwZSBwYXNzZWQgdG8gUmVuZGVyZXIubWFya1RvU3luYy4nKX19cmVuZGVyKCl7bGV0IGU7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tYXJrZWRDaGlsZHJlbil0aGlzLl91cGRhdGVDaGlsZHJlbk1hcHBpbmdzKGUpO3RoaXMuX2lubGluZUZpbGxlciYmIXRoaXMuX2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKSYmdGhpcy5fcmVtb3ZlSW5saW5lRmlsbGVyKCksdGhpcy5faW5saW5lRmlsbGVyP2U9dGhpcy5fZ2V0SW5saW5lRmlsbGVyUG9zaXRpb24oKTp0aGlzLl9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCkmJihlPXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSx0aGlzLm1hcmtlZENoaWxkcmVuLmFkZChlLnBhcmVudCkpO2Zvcihjb25zdCBlIG9mIHRoaXMubWFya2VkQXR0cmlidXRlcyl0aGlzLl91cGRhdGVBdHRycyhlKTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZENoaWxkcmVuKXRoaXMuX3VwZGF0ZUNoaWxkcmVuKHQse2lubGluZUZpbGxlclBvc2l0aW9uOmV9KTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZFRleHRzKSF0aGlzLm1hcmtlZENoaWxkcmVuLmhhcyh0LnBhcmVudCkmJnRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0LnBhcmVudCkmJnRoaXMuX3VwZGF0ZVRleHQodCx7aW5saW5lRmlsbGVyUG9zaXRpb246ZX0pO2lmKGUpe2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20oZSksbz10LnBhcmVudC5vd25lckRvY3VtZW50O3RoaXMuX2lubGluZUZpbGxlcj13ZSh0LnBhcmVudCk/dC5wYXJlbnQ6dGhpcy5fYWRkSW5saW5lRmlsbGVyKG8sdC5wYXJlbnQsdC5vZmZzZXQpfWVsc2UgdGhpcy5faW5saW5lRmlsbGVyPW51bGw7dGhpcy5fdXBkYXRlU2VsZWN0aW9uKCksdGhpcy5fdXBkYXRlRm9jdXMoKSx0aGlzLm1hcmtlZFRleHRzLmNsZWFyKCksdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmNsZWFyKCksdGhpcy5tYXJrZWRDaGlsZHJlbi5jbGVhcigpfV91cGRhdGVDaGlsZHJlbk1hcHBpbmdzKGUpe2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpO2lmKHQpe2NvbnN0IHQ9dGhpcy5fZGlmZkNoaWxkcmVuKGUpLG89dGhpcy5fZmluZFJlcGxhY2VBY3Rpb25zKHQuYWN0aW9ucyx0LmFjdHVhbERvbUNoaWxkcmVuLHQuZXhwZWN0ZWREb21DaGlsZHJlbik7aWYoLTEhPT1vLmluZGV4T2YoJ3JlcGxhY2UnKSl7Y29uc3Qgbj17ZXF1YWw6MCxpbnNlcnQ6MCxkZWxldGU6MH07Zm9yKGNvbnN0IGkgb2YgbylpZigncmVwbGFjZSc9PT1pKXtjb25zdCBvPW4uZXF1YWwrbi5pbnNlcnQsaT1uLmVxdWFsK24uZGVsZXRlLHI9ZS5nZXRDaGlsZChvKTtyJiYhci5pcygndWlFbGVtZW50JykmJnRoaXMuX3VwZGF0ZUVsZW1lbnRNYXBwaW5ncyhyLHQuYWN0dWFsRG9tQ2hpbGRyZW5baV0pLEVlKHQuZXhwZWN0ZWREb21DaGlsZHJlbltvXSksbi5lcXVhbCsrfWVsc2UgbltpXSsrfX19X3VwZGF0ZUVsZW1lbnRNYXBwaW5ncyhlLHQpe2NvbnN0IG89dGhpcy5kb21Db252ZXJ0ZXIubWFwRG9tVG9WaWV3KHQpO28mJighb3x8by5pc1NpbWlsYXIoZSkpfHx0aGlzLm1hcmtlZEF0dHJpYnV0ZXMuYWRkKGUpLHRoaXMuZG9tQ29udmVydGVyLnVuYmluZERvbUVsZW1lbnQodCksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEVsZW1lbnRzKHQsZSksdGhpcy5tYXJrZWRDaGlsZHJlbi5hZGQoZSl9X2FkZElubGluZUZpbGxlcihlLHQsbyl7Y29uc3Qgbj10IGluc3RhbmNlb2YgQXJyYXk/dDp0LmNoaWxkTm9kZXMsaT1uW29dO2lmKFNlKGkpKXJldHVybiBpLmRhdGE9bW0raS5kYXRhLGk7ZWxzZXtjb25zdCBpPWUuY3JlYXRlVGV4dE5vZGUobW0pO3JldHVybiBBcnJheS5pc0FycmF5KHQpP24uc3BsaWNlKG8sMCxpKTpQZSh0LG8saSksaX19X2dldElubGluZUZpbGxlclBvc2l0aW9uKCl7Y29uc3QgZT10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCk7cmV0dXJuIGUucGFyZW50LmlzKCd0ZXh0Jyk/V2MuY3JlYXRlQmVmb3JlKHRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQpOmV9X2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKXtpZigxIT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50fHwhdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpcmV0dXJuITE7Y29uc3QgZT10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksdD10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbShlKTtyZXR1cm4hISh0JiZTZSh0LnBhcmVudCkmJndlKHQucGFyZW50KSl9X3JlbW92ZUlubGluZUZpbGxlcigpe2NvbnN0IGU9dGhpcy5faW5saW5lRmlsbGVyO2lmKCF3ZShlKSl0aHJvdyBuZXcgX3MoJ3ZpZXctcmVuZGVyZXItZmlsbGVyLXdhcy1sb3N0OiBUaGUgaW5saW5lIGZpbGxlciBub2RlIHdhcyBsb3N0LicpO3ZlKGUpP2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTplLmRhdGE9ZS5kYXRhLnN1YnN0cihjbSksdGhpcy5faW5saW5lRmlsbGVyPW51bGx9X25lZWRzSW5saW5lRmlsbGVyQXRTZWxlY3Rpb24oKXtpZigxIT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50fHwhdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpcmV0dXJuITE7Y29uc3QgZT10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksdD1lLnBhcmVudCxvPWUub2Zmc2V0O2lmKCF0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odC5yb290KSlyZXR1cm4hMTtpZighdC5pcygnZWxlbWVudCcpKXJldHVybiExO2lmKCFEZSh0KSlyZXR1cm4hMTtpZihvPT09dC5nZXRGaWxsZXJPZmZzZXQoKSlyZXR1cm4hMTtjb25zdCBuPWUubm9kZUJlZm9yZSxpPWUubm9kZUFmdGVyO3JldHVybiEobiBpbnN0YW5jZW9mIFFkfHxpIGluc3RhbmNlb2YgUWQpfV91cGRhdGVUZXh0KGUsdCl7Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlci5maW5kQ29ycmVzcG9uZGluZ0RvbVRleHQoZSksbj10aGlzLmRvbUNvbnZlcnRlci52aWV3VG9Eb20oZSxvLm93bmVyRG9jdW1lbnQpLGk9by5kYXRhO2xldCByPW4uZGF0YTtjb25zdCBhPXQuaW5saW5lRmlsbGVyUG9zaXRpb247aWYoYSYmYS5wYXJlbnQ9PWUucGFyZW50JiZhLm9mZnNldD09ZS5pbmRleCYmKHI9bW0rciksaSE9cil7Y29uc3QgZT1JZShpLHIpO2Zvcihjb25zdCB0IG9mIGUpJ2luc2VydCc9PT10LnR5cGU/by5pbnNlcnREYXRhKHQuaW5kZXgsdC52YWx1ZXMuam9pbignJykpOm8uZGVsZXRlRGF0YSh0LmluZGV4LHQuaG93TWFueSl9fV91cGRhdGVBdHRycyhlKXtjb25zdCB0PXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlKTtpZih0KXtjb25zdCBvPUFycmF5LmZyb20odC5hdHRyaWJ1dGVzKS5tYXAoKGUpPT5lLm5hbWUpLG49ZS5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKGNvbnN0IG8gb2Ygbil0LnNldEF0dHJpYnV0ZShvLGUuZ2V0QXR0cmlidXRlKG8pKTtmb3IoY29uc3QgbiBvZiBvKWUuaGFzQXR0cmlidXRlKG4pfHx0LnJlbW92ZUF0dHJpYnV0ZShuKX19X3VwZGF0ZUNoaWxkcmVuKGUsdCl7Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZSk7aWYobyl7Y29uc3Qgbj10LmlubGluZUZpbGxlclBvc2l0aW9uLHI9dGhpcy5fZ2V0RWxlbWVudEV4cGVjdGVkQ2hpbGRyZW4oZSxvLHtiaW5kOiEwLGlubGluZUZpbGxlclBvc2l0aW9uOm59KSxhPXRoaXMuX2RpZmZDaGlsZHJlbihlLG4pLHM9YS5hY3R1YWxEb21DaGlsZHJlbjtsZXQgbD0wO2NvbnN0IGk9bmV3IFNldDtmb3IoY29uc3QgZSBvZiBhLmFjdGlvbnMpJ2luc2VydCc9PT1lPyhQZShvLGwscltsXSksbCsrKTonZGVsZXRlJz09PWU/KGkuYWRkKHNbbF0pLEVlKHNbbF0pKToodGhpcy5fbWFya0Rlc2NlbmRhbnRUZXh0VG9TeW5jKHRoaXMuZG9tQ29udmVydGVyLmRvbVRvVmlldyhyW2xdKSksbCsrKTtmb3IoY29uc3QgZSBvZiBpKWUucGFyZW50Tm9kZXx8dGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudChlKX19X2RpZmZDaGlsZHJlbihlLHQ9bnVsbCl7Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZSksbj1vLmNoaWxkTm9kZXMsaT10aGlzLl9nZXRFbGVtZW50RXhwZWN0ZWRDaGlsZHJlbihlLG8se3dpdGhDaGlsZHJlbjohMSxpbmxpbmVGaWxsZXJQb3NpdGlvbjp0fSk7cmV0dXJue2FjdGlvbnM6VGUobixpLEJlLmJpbmQobnVsbCx0aGlzLmRvbUNvbnZlcnRlci5ibG9ja0ZpbGxlcikpLGFjdHVhbERvbUNoaWxkcmVuOm4sZXhwZWN0ZWREb21DaGlsZHJlbjppfX1fZ2V0RWxlbWVudEV4cGVjdGVkQ2hpbGRyZW4oZSx0LG8pe2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmRvbUNvbnZlcnRlci52aWV3Q2hpbGRyZW5Ub0RvbShlLHQub3duZXJEb2N1bWVudCxvKSksaT1vLmlubGluZUZpbGxlclBvc2l0aW9uO3JldHVybiBpJiZpLnBhcmVudD09PWUmJnRoaXMuX2FkZElubGluZUZpbGxlcih0Lm93bmVyRG9jdW1lbnQsbixpLm9mZnNldCksbn1fZmluZFJlcGxhY2VBY3Rpb25zKGUsdCxvKXtpZigtMT09PWUuaW5kZXhPZignaW5zZXJ0Jyl8fC0xPT09ZS5pbmRleE9mKCdkZWxldGUnKSlyZXR1cm4gZTtsZXQgbj1bXSxpPVtdLHI9W107Y29uc3QgYT17ZXF1YWw6MCxpbnNlcnQ6MCxkZWxldGU6MH07Zm9yKGNvbnN0IHMgb2YgZSknaW5zZXJ0Jz09PXM/ci5wdXNoKG9bYS5lcXVhbCthLmluc2VydF0pOidkZWxldGUnPT09cz9pLnB1c2godFthLmVxdWFsK2EuZGVsZXRlXSk6KG49bi5jb25jYXQoVGUoaSxyLE1lKS5tYXAoKGUpPT4nZXF1YWwnPT09ZT8ncmVwbGFjZSc6ZSkpLG4ucHVzaCgnZXF1YWwnKSxpPVtdLHI9W10pLGFbc10rKztyZXR1cm4gbi5jb25jYXQoVGUoaSxyLE1lKS5tYXAoKGUpPT4nZXF1YWwnPT09ZT8ncmVwbGFjZSc6ZSkpfV9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmMoZSl7aWYoZSlpZihlLmlzKCd0ZXh0JykpdGhpcy5tYXJrZWRUZXh0cy5hZGQoZSk7ZWxzZSBpZihlLmlzKCdlbGVtZW50JykpZm9yKGNvbnN0IHQgb2YgZS5nZXRDaGlsZHJlbigpKXRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0KX1fdXBkYXRlU2VsZWN0aW9uKCl7aWYoMD09PXRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQpcmV0dXJuIHRoaXMuX3JlbW92ZURvbVNlbGVjdGlvbigpLHZvaWQgdGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHRoaXMuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudCk7dGhpcy5pc0ZvY3VzZWQmJmUmJih0aGlzLnNlbGVjdGlvbi5pc0Zha2U/dGhpcy5fdXBkYXRlRmFrZVNlbGVjdGlvbihlKToodGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpLHRoaXMuX3VwZGF0ZURvbVNlbGVjdGlvbihlKSkpfV91cGRhdGVGYWtlU2VsZWN0aW9uKGUpe2NvbnN0IHQ9ZS5vd25lckRvY3VtZW50O2xldCBvPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7b3x8KHRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI9bz10LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLE9iamVjdC5hc3NpZ24oby5zdHlsZSx7cG9zaXRpb246J2ZpeGVkJyx0b3A6MCxsZWZ0OictOTk5OXB4Jyx3aWR0aDonNDJweCd9KSxvLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoJ1xceEEwJykpKSxvLnBhcmVudEVsZW1lbnR8fGUuYXBwZW5kQ2hpbGQobyksby5maXJzdENoaWxkLmRhdGE9dGhpcy5zZWxlY3Rpb24uZmFrZVNlbGVjdGlvbkxhYmVsfHwnXFx4QTAnO2NvbnN0IG49dC5nZXRTZWxlY3Rpb24oKSxpPXQuY3JlYXRlUmFuZ2UoKTtuLnJlbW92ZUFsbFJhbmdlcygpLGkuc2VsZWN0Tm9kZUNvbnRlbnRzKG8pLG4uYWRkUmFuZ2UoaSksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEZha2VTZWxlY3Rpb24obyx0aGlzLnNlbGVjdGlvbil9X3VwZGF0ZURvbVNlbGVjdGlvbihlKXtjb25zdCB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZih0aGlzLl9kb21TZWxlY3Rpb25OZWVkc1VwZGF0ZSh0KSl7Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0aGlzLnNlbGVjdGlvbi5hbmNob3IpLG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odGhpcy5zZWxlY3Rpb24uZm9jdXMpO2UuZm9jdXMoKSx0LmNvbGxhcHNlKG8ucGFyZW50LG8ub2Zmc2V0KSx0LmV4dGVuZChuLnBhcmVudCxuLm9mZnNldCl9fV9kb21TZWxlY3Rpb25OZWVkc1VwZGF0ZShlKXtpZighdGhpcy5kb21Db252ZXJ0ZXIuaXNEb21TZWxlY3Rpb25Db3JyZWN0KGUpKXJldHVybiEwO2NvbnN0IHQ9ZSYmdGhpcy5kb21Db252ZXJ0ZXIuZG9tU2VsZWN0aW9uVG9WaWV3KGUpO3JldHVybiEodCYmdGhpcy5zZWxlY3Rpb24uaXNFcXVhbCh0KSkmJih0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZHx8IXRoaXMuc2VsZWN0aW9uLmlzU2ltaWxhcih0KSl9X3JlbW92ZURvbVNlbGVjdGlvbigpe2Zvcihjb25zdCBlIG9mIHRoaXMuZG9tRG9jdW1lbnRzKXtjb25zdCB0PWUuZ2V0U2VsZWN0aW9uKCk7aWYodC5yYW5nZUNvdW50KXtjb25zdCB0PWUuYWN0aXZlRWxlbWVudCxvPXRoaXMuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0KTt0JiZvJiZlLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX19X3JlbW92ZUZha2VTZWxlY3Rpb24oKXtjb25zdCBlPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7ZSYmZS5yZW1vdmUoKX1fdXBkYXRlRm9jdXMoKXtpZih0aGlzLmlzRm9jdXNlZCl7Y29uc3QgZT10aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7ZSYmdGhpcy5kb21Db252ZXJ0ZXIuZm9jdXMoZSl9fX1mKHBtLE1jKTt2YXIgZ209e3dpbmRvdyxkb2N1bWVudH0sZm09ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYxPT09ZS5ub2RlVHlwZSYmY3MoZSkmJiFocyhlKX07Y2xhc3MgaG17Y29uc3RydWN0b3IoZT17fSl7dGhpcy5ibG9ja0ZpbGxlcj1lLmJsb2NrRmlsbGVyfHxsbSx0aGlzLnByZUVsZW1lbnRzPVsncHJlJ10sdGhpcy5ibG9ja0VsZW1lbnRzPVsncCcsJ2RpdicsJ2gxJywnaDInLCdoMycsJ2g0JywnaDUnLCdoNiddLHRoaXMuX2RvbVRvVmlld01hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvRG9tTWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZz1uZXcgV2Vha01hcH1iaW5kRmFrZVNlbGVjdGlvbihlLHQpe3RoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nLnNldChlLG5ldyBIYyh0KSl9ZmFrZVNlbGVjdGlvblRvVmlldyhlKXtyZXR1cm4gdGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmcuZ2V0KGUpfWJpbmRFbGVtZW50cyhlLHQpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuc2V0KGUsdCksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5zZXQodCxlKX11bmJpbmREb21FbGVtZW50KGUpe2NvbnN0IHQ9dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQoZSk7aWYodCl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5kZWxldGUoZSksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5kZWxldGUodCk7Zm9yKGNvbnN0IHQgb2YgQXJyYXkuZnJvbShlLmNoaWxkTm9kZXMpKXRoaXMudW5iaW5kRG9tRWxlbWVudCh0KX19YmluZERvY3VtZW50RnJhZ21lbnRzKGUsdCl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5zZXQoZSx0KSx0aGlzLl92aWV3VG9Eb21NYXBwaW5nLnNldCh0LGUpfXZpZXdUb0RvbShlLHQsbz17fSl7aWYoZS5pcygndGV4dCcpKXtjb25zdCBvPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KGUpO3JldHVybiB0LmNyZWF0ZVRleHROb2RlKG8pfWVsc2V7aWYodGhpcy5tYXBWaWV3VG9Eb20oZSkpcmV0dXJuIHRoaXMubWFwVmlld1RvRG9tKGUpO2xldCBuO2lmKGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSluPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG8uYmluZCYmdGhpcy5iaW5kRG9jdW1lbnRGcmFnbWVudHMobixlKTtlbHNle2lmKGUuaXMoJ3VpRWxlbWVudCcpKXJldHVybiBuPWUucmVuZGVyKHQpLG8uYmluZCYmdGhpcy5iaW5kRWxlbWVudHMobixlKSxuO249dC5jcmVhdGVFbGVtZW50KGUubmFtZSksby5iaW5kJiZ0aGlzLmJpbmRFbGVtZW50cyhuLGUpO2Zvcihjb25zdCB0IG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKW4uc2V0QXR0cmlidXRlKHQsZS5nZXRBdHRyaWJ1dGUodCkpfWlmKG8ud2l0aENoaWxkcmVufHx2b2lkIDA9PT1vLndpdGhDaGlsZHJlbilmb3IoY29uc3QgaSBvZiB0aGlzLnZpZXdDaGlsZHJlblRvRG9tKGUsdCxvKSluLmFwcGVuZENoaWxkKGkpO3JldHVybiBufX0qdmlld0NoaWxkcmVuVG9Eb20oZSx0LG89e30pe2NvbnN0IG49ZS5nZXRGaWxsZXJPZmZzZXQmJmUuZ2V0RmlsbGVyT2Zmc2V0KCk7bGV0IGk9MDtmb3IoY29uc3QgciBvZiBlLmdldENoaWxkcmVuKCkpbj09PWkmJih5aWVsZCB0aGlzLmJsb2NrRmlsbGVyKHQpKSx5aWVsZCB0aGlzLnZpZXdUb0RvbShyLHQsbyksaSsrO249PT1pJiYoeWllbGQgdGhpcy5ibG9ja0ZpbGxlcih0KSl9dmlld1JhbmdlVG9Eb20oZSl7Y29uc3QgdD10aGlzLnZpZXdQb3NpdGlvblRvRG9tKGUuc3RhcnQpLG89dGhpcy52aWV3UG9zaXRpb25Ub0RvbShlLmVuZCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBuLnNldFN0YXJ0KHQucGFyZW50LHQub2Zmc2V0KSxuLnNldEVuZChvLnBhcmVudCxvLm9mZnNldCksbn12aWV3UG9zaXRpb25Ub0RvbShlKXtjb25zdCB0PWUucGFyZW50O2lmKHQuaXMoJ3RleHQnKSl7Y29uc3Qgbz10aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KTtpZighbylyZXR1cm4gbnVsbDtsZXQgbj1lLm9mZnNldDtyZXR1cm4gd2UobykmJihuKz1jbSkse3BhcmVudDpvLG9mZnNldDpufX1lbHNle2xldCBvLG4saTtpZigwPT09ZS5vZmZzZXQpe2lmKG89dGhpcy5tYXBWaWV3VG9Eb20odCksIW8pcmV0dXJuIG51bGw7aT1vLmNoaWxkTm9kZXNbMF19ZWxzZXtjb25zdCB0PWUubm9kZUJlZm9yZTtpZihuPXQuaXMoJ3RleHQnKT90aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KTp0aGlzLm1hcFZpZXdUb0RvbShlLm5vZGVCZWZvcmUpLCFuKXJldHVybiBudWxsO289bi5wYXJlbnROb2RlLGk9bi5uZXh0U2libGluZ31pZihTZShpKSYmd2UoaSkpcmV0dXJue3BhcmVudDppLG9mZnNldDpjbX07Y29uc3Qgcj1uP0xlKG4pKzE6MDtyZXR1cm57cGFyZW50Om8sb2Zmc2V0OnJ9fX1kb21Ub1ZpZXcoZSx0PXt9KXtpZih4ZShlLHRoaXMuYmxvY2tGaWxsZXIpKXJldHVybiBudWxsO2NvbnN0IG89dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQoZSx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nKTtpZihvKXJldHVybiBvO2lmKFNlKGUpKXtpZih2ZShlKSlyZXR1cm4gbnVsbDtlbHNle2NvbnN0IHQ9dGhpcy5fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dChlKTtyZXR1cm4nJz09PXQ/bnVsbDpuZXcgUWQodCl9fWVsc2UgaWYodGhpcy5pc0NvbW1lbnQoZSkpcmV0dXJuIG51bGw7ZWxzZXtpZih0aGlzLm1hcERvbVRvVmlldyhlKSlyZXR1cm4gdGhpcy5tYXBEb21Ub1ZpZXcoZSk7bGV0IG87aWYodGhpcy5pc0RvY3VtZW50RnJhZ21lbnQoZSkpbz1uZXcgcm0sdC5iaW5kJiZ0aGlzLmJpbmREb2N1bWVudEZyYWdtZW50cyhlLG8pO2Vsc2V7Y29uc3Qgbj10LmtlZXBPcmlnaW5hbENhc2U/ZS50YWdOYW1lOmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO289bmV3IFpkKG4pLHQuYmluZCYmdGhpcy5iaW5kRWxlbWVudHMoZSxvKTtjb25zdCByPWUuYXR0cmlidXRlcztmb3IobGV0IGU9ci5sZW5ndGgtMTswPD1lO2UtLSlvLl9zZXRBdHRyaWJ1dGUocltlXS5uYW1lLHJbZV0udmFsdWUpfWlmKHQud2l0aENoaWxkcmVufHx2b2lkIDA9PT10LndpdGhDaGlsZHJlbilmb3IoY29uc3QgbiBvZiB0aGlzLmRvbUNoaWxkcmVuVG9WaWV3KGUsdCkpby5fYXBwZW5kQ2hpbGQobik7cmV0dXJuIG99fSpkb21DaGlsZHJlblRvVmlldyhlLHQ9e30pe2ZvcihsZXQgbz0wO288ZS5jaGlsZE5vZGVzLmxlbmd0aDtvKyspe2NvbnN0IG49ZS5jaGlsZE5vZGVzW29dLGk9dGhpcy5kb21Ub1ZpZXcobix0KTtudWxsIT09aSYmKHlpZWxkIGkpfX1kb21TZWxlY3Rpb25Ub1ZpZXcoZSl7aWYoMT09PWUucmFuZ2VDb3VudCl7bGV0IHQ9ZS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyO1NlKHQpJiYodD10LnBhcmVudE5vZGUpO2NvbnN0IG89dGhpcy5mYWtlU2VsZWN0aW9uVG9WaWV3KHQpO2lmKG8pcmV0dXJuIG99Y29uc3QgdD10aGlzLmlzRG9tU2VsZWN0aW9uQmFja3dhcmQoZSksbz1bXTtmb3IobGV0IHQ9MDt0PGUucmFuZ2VDb3VudDt0Kyspe2NvbnN0IG49ZS5nZXRSYW5nZUF0KHQpLGk9dGhpcy5kb21SYW5nZVRvVmlldyhuKTtpJiZvLnB1c2goaSl9cmV0dXJuIG5ldyBIYyhvLHtiYWNrd2FyZDp0fSl9ZG9tUmFuZ2VUb1ZpZXcoZSl7Y29uc3QgdD10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksbz10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KTtyZXR1cm4gdCYmbz9uZXcgVWModCxvKTpudWxsfWRvbVBvc2l0aW9uVG9WaWV3KGUsdCl7aWYoeGUoZSx0aGlzLmJsb2NrRmlsbGVyKSlyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyhlLnBhcmVudE5vZGUsTGUoZSkpO2NvbnN0IG89dGhpcy5tYXBEb21Ub1ZpZXcoZSk7aWYobyYmby5pcygndWlFbGVtZW50JykpcmV0dXJuIFdjLmNyZWF0ZUJlZm9yZShvKTtpZihTZShlKSl7aWYodmUoZSkpcmV0dXJuIHRoaXMuZG9tUG9zaXRpb25Ub1ZpZXcoZS5wYXJlbnROb2RlLExlKGUpKTtjb25zdCBvPXRoaXMuZmluZENvcnJlc3BvbmRpbmdWaWV3VGV4dChlKTtsZXQgbj10O3JldHVybiBvPyh3ZShlKSYmKG4tPWNtLG49MD5uPzA6biksbmV3IFdjKG8sbikpOm51bGx9aWYoMD09PXQpe2NvbnN0IHQ9dGhpcy5tYXBEb21Ub1ZpZXcoZSk7aWYodClyZXR1cm4gbmV3IFdjKHQsMCl9ZWxzZXtjb25zdCBvPWUuY2hpbGROb2Rlc1t0LTFdLG49U2Uobyk/dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG8pOnRoaXMubWFwRG9tVG9WaWV3KG8pO2lmKG4mJm4ucGFyZW50KXJldHVybiBuZXcgV2Mobi5wYXJlbnQsbi5pbmRleCsxKX1yZXR1cm4gbnVsbH1tYXBEb21Ub1ZpZXcoZSl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VUlFbGVtZW50KGUpfHx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldChlKX1maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KGUpe2lmKHZlKGUpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQoZSk7aWYodClyZXR1cm4gdDtjb25zdCBvPWUucHJldmlvdXNTaWJsaW5nO2lmKG8pe2lmKCF0aGlzLmlzRWxlbWVudChvKSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMubWFwRG9tVG9WaWV3KG8pO2lmKGUpe2NvbnN0IHQ9ZS5uZXh0U2libGluZztyZXR1cm4gdCBpbnN0YW5jZW9mIFFkP2UubmV4dFNpYmxpbmc6bnVsbH19ZWxzZXtjb25zdCB0PXRoaXMubWFwRG9tVG9WaWV3KGUucGFyZW50Tm9kZSk7aWYodCl7Y29uc3QgZT10LmdldENoaWxkKDApO3JldHVybiBlIGluc3RhbmNlb2YgUWQ/ZTpudWxsfX1yZXR1cm4gbnVsbH1tYXBWaWV3VG9Eb20oZSl7cmV0dXJuIHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuZ2V0KGUpfWZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dChlKXtjb25zdCB0PWUucHJldmlvdXNTaWJsaW5nO3JldHVybiB0JiZ0aGlzLm1hcFZpZXdUb0RvbSh0KT90aGlzLm1hcFZpZXdUb0RvbSh0KS5uZXh0U2libGluZzohdCYmZS5wYXJlbnQmJnRoaXMubWFwVmlld1RvRG9tKGUucGFyZW50KT90aGlzLm1hcFZpZXdUb0RvbShlLnBhcmVudCkuY2hpbGROb2Rlc1swXTpudWxsfWZvY3VzKGUpe2NvbnN0IHQ9dGhpcy5tYXBWaWV3VG9Eb20oZSk7aWYodCYmdC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10KXtjb25zdHtzY3JvbGxYOmUsc2Nyb2xsWTpvfT1nbS53aW5kb3csbj1bXTtXZSh0LChlKT0+e2NvbnN0e3Njcm9sbExlZnQ6dCxzY3JvbGxUb3A6b309ZTtuLnB1c2goW3Qsb10pfSksdC5mb2N1cygpLFdlKHQsKGUpPT57Y29uc3RbdCxvXT1uLnNoaWZ0KCk7ZS5zY3JvbGxMZWZ0PXQsZS5zY3JvbGxUb3A9b30pLGdtLndpbmRvdy5zY3JvbGxUbyhlLG8pfX1pc0VsZW1lbnQoZSl7cmV0dXJuIGUmJmUubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFfWlzRG9jdW1lbnRGcmFnbWVudChlKXtyZXR1cm4gZSYmZS5ub2RlVHlwZT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfWlzQ29tbWVudChlKXtyZXR1cm4gZSYmZS5ub2RlVHlwZT09Tm9kZS5DT01NRU5UX05PREV9aXNEb21TZWxlY3Rpb25CYWNrd2FyZChlKXtpZihlLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0LnNldFN0YXJ0KGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCksdC5zZXRFbmQoZS5mb2N1c05vZGUsZS5mb2N1c09mZnNldCk7Y29uc3Qgbz10LmNvbGxhcHNlZDtyZXR1cm4gdC5kZXRhY2goKSxvfWdldFBhcmVudFVJRWxlbWVudChlKXtjb25zdCB0PXplKGUpO2Zvcih0LnBvcCgpO3QubGVuZ3RoOyl7Y29uc3QgZT10LnBvcCgpLG89dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQoZSk7aWYobyYmby5pcygndWlFbGVtZW50JykpcmV0dXJuIG99cmV0dXJuIG51bGx9aXNEb21TZWxlY3Rpb25Db3JyZWN0KGUpe3JldHVybiB0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdChlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpJiZ0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdChlLmZvY3VzTm9kZSxlLmZvY3VzT2Zmc2V0KX1faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QoZSx0KXtpZihTZShlKSYmd2UoZSkmJnQ8Y20pcmV0dXJuITE7aWYodGhpcy5pc0VsZW1lbnQoZSkmJndlKGUuY2hpbGROb2Rlc1t0XSkpcmV0dXJuITE7Y29uc3Qgbz10aGlzLm1hcERvbVRvVmlldyhlKTtyZXR1cm4hKG8mJm8uaXMoJ3VpRWxlbWVudCcpKX1fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQoZSl7bGV0IHQ9ZS5kYXRhO2lmKGUuZ2V0QW5jZXN0b3JzKCkuc29tZSgoZSk9PnRoaXMucHJlRWxlbWVudHMuaW5jbHVkZXMoZS5uYW1lKSkpcmV0dXJuIHQ7aWYoJyAnPT10LmNoYXJBdCgwKSl7Y29uc3Qgbz10aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZShlLCExKSxuPW8mJnRoaXMuX25vZGVFbmRzV2l0aFNwYWNlKG8pOyhufHwhbykmJih0PSdcXHhBMCcrdC5zdWJzdHIoMSkpfWlmKCcgJz09dC5jaGFyQXQodC5sZW5ndGgtMSkpe2NvbnN0IG89dGhpcy5fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUoZSwhMCk7b3x8KHQ9dC5zdWJzdHIoMCx0Lmxlbmd0aC0xKSsnXFx4QTAnKX1yZXR1cm4gdC5yZXBsYWNlKC8gezJ9L2csJyBcXHhBMCcpfV9ub2RlRW5kc1dpdGhTcGFjZShlKXtpZihlLmdldEFuY2VzdG9ycygpLnNvbWUoKGUpPT50aGlzLnByZUVsZW1lbnRzLmluY2x1ZGVzKGUubmFtZSkpKXJldHVybiExO2NvbnN0IHQ9dGhpcy5fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQoZSk7cmV0dXJuJyAnPT10LmNoYXJBdCh0Lmxlbmd0aC0xKX1fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dChlKXtsZXQgdD1lLmRhdGE7aWYocWUoZSx0aGlzLnByZUVsZW1lbnRzKSlyZXR1cm4geWUoZSk7dD10LnJlcGxhY2UoL1sgXFxuXFx0XFxyXXsxLH0vZywnICcpO2NvbnN0IG89dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKGUsITEpLG49dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKGUsITApLGk9dGhpcy5fY2hlY2tTaG91bGRMZWZ0VHJpbURvbVRleHQobykscj10aGlzLl9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQoZSxuKTtyZXR1cm4gaSYmKHQ9dC5yZXBsYWNlKC9eIC8sJycpKSxyJiYodD10LnJlcGxhY2UoLyAkLywnJykpLHQ9eWUobmV3IFRleHQodCkpLHQ9dC5yZXBsYWNlKC8gXFx1MDBBMC9nLCcgICcpLGkmJih0PXQucmVwbGFjZSgvXlxcdTAwQTAvLCcgJykpLCghU2Uobil8fCdcXHhBMCc9PW4uZGF0YS5jaGFyQXQoMCkpJiYodD10LnJlcGxhY2UoL1xcdTAwQTAoICopJC8sJyAkMScpKSx0fV9jaGVja1Nob3VsZExlZnRUcmltRG9tVGV4dChlKXtyZXR1cm4hZXx8ISFmbShlKXx8L1teXFxTXFx1MDBBMF0vLnRlc3QoZS5kYXRhLmNoYXJBdChlLmRhdGEubGVuZ3RoLTEpKX1fY2hlY2tTaG91bGRSaWdodFRyaW1Eb21UZXh0KGUsdCl7cmV0dXJuIXQmJiF3ZShlKX1fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUoZSx0KXtjb25zdCBvPW5ldyBxYyh7c3RhcnRQb3NpdGlvbjp0P1djLmNyZWF0ZUFmdGVyKGUpOldjLmNyZWF0ZUJlZm9yZShlKSxkaXJlY3Rpb246dD8nZm9yd2FyZCc6J2JhY2t3YXJkJ30pO2Zvcihjb25zdCBuIG9mIG8pe2lmKG4uaXRlbS5pcygnY29udGFpbmVyRWxlbWVudCcpKXJldHVybiBudWxsO2lmKG4uaXRlbS5pcygnYnInKSlyZXR1cm4gbnVsbDtpZihuLml0ZW0uaXMoJ3RleHRQcm94eScpKXJldHVybiBuLml0ZW19cmV0dXJuIG51bGx9X2dldFRvdWNoaW5nSW5saW5lRG9tTm9kZShlLHQpe2lmKCFlLnBhcmVudE5vZGUpcmV0dXJuIG51bGw7Y29uc3Qgbz10PyduZXh0Tm9kZSc6J3ByZXZpb3VzTm9kZScsbj1lLm93bmVyRG9jdW1lbnQsaT16ZShlKVswXSxyPW4uY3JlYXRlVHJlZVdhbGtlcihpLE5vZGVGaWx0ZXIuU0hPV19URVhUfE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHthY2NlcHROb2RlKGUpe3JldHVybiBTZShlKT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6J0JSJz09ZS50YWdOYW1lP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpOb2RlRmlsdGVyLkZJTFRFUl9TS0lQfX0pO3IuY3VycmVudE5vZGU9ZTtjb25zdCBhPXJbb10oKTtpZihudWxsIT09YSl7Y29uc3QgdD1qZShlLGEpO2lmKHQmJiFxZShlLHRoaXMuYmxvY2tFbGVtZW50cyx0KSYmIXFlKGEsdGhpcy5ibG9ja0VsZW1lbnRzLHQpKXJldHVybiBhfXJldHVybiBudWxsfX1jb25zdCBibT1SYyh7fSxQcyx7bGlzdGVuVG8oZSwuLi50KXtpZihPZShlKXx8VWUoZSkpe2NvbnN0IG89dGhpcy5fZ2V0UHJveHlFbWl0dGVyKGUpfHxuZXcgX20oZSk7by5hdHRhY2goLi4udCksZT1vfVBzLmxpc3RlblRvLmNhbGwodGhpcyxlLC4uLnQpfSxzdG9wTGlzdGVuaW5nKGUsdCxvKXtpZihPZShlKXx8VWUoZSkpe2NvbnN0IHQ9dGhpcy5fZ2V0UHJveHlFbWl0dGVyKGUpO2lmKCF0KXJldHVybjtlPXR9UHMuc3RvcExpc3RlbmluZy5jYWxsKHRoaXMsZSx0LG8pLGUgaW5zdGFuY2VvZiBfbSYmZS5kZXRhY2godCl9LF9nZXRQcm94eUVtaXR0ZXIoZSl7cmV0dXJuIHIodGhpcyxIZShlKSl9fSk7dmFyIGttPWJtO2NsYXNzIF9te2NvbnN0cnVjdG9yKGUpe2EodGhpcyxIZShlKSksdGhpcy5fZG9tTm9kZT1lfX1SYyhfbS5wcm90b3R5cGUsUHMse2F0dGFjaChlLHQsbz17fSl7aWYoISh0aGlzLl9kb21MaXN0ZW5lcnMmJnRoaXMuX2RvbUxpc3RlbmVyc1tlXSkpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlRG9tTGlzdGVuZXIoZSwhIW8udXNlQ2FwdHVyZSk7dGhpcy5fZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKGUsdCwhIW8udXNlQ2FwdHVyZSksdGhpcy5fZG9tTGlzdGVuZXJzfHwodGhpcy5fZG9tTGlzdGVuZXJzPXt9KSx0aGlzLl9kb21MaXN0ZW5lcnNbZV09dH19LGRldGFjaChlKXtsZXQgdDshdGhpcy5fZG9tTGlzdGVuZXJzW2VdfHwodD10aGlzLl9ldmVudHNbZV0pJiZ0LmNhbGxiYWNrcy5sZW5ndGh8fHRoaXMuX2RvbUxpc3RlbmVyc1tlXS5yZW1vdmVMaXN0ZW5lcigpfSxfY3JlYXRlRG9tTGlzdGVuZXIoZSx0KXtjb25zdCBvPSh0KT0+e3RoaXMuZmlyZShlLHQpfTtyZXR1cm4gby5yZW1vdmVMaXN0ZW5lcj0oKT0+e3RoaXMuX2RvbU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG8sdCksZGVsZXRlIHRoaXMuX2RvbUxpc3RlbmVyc1tlXX0sb319KTtjbGFzcyB3bXtjb25zdHJ1Y3RvcihlKXt0aGlzLnZpZXc9ZSx0aGlzLmRvY3VtZW50PWUuZG9jdW1lbnQsdGhpcy5pc0VuYWJsZWQ9ITF9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkPSExfWRlc3Ryb3koKXt0aGlzLmRpc2FibGUoKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX19Zih3bSxrbSk7S2UucHJvdG90eXBlLmFkZD1LZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQoZSwnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXycpLHRoaXN9LEtlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpfTt2YXIgdm09S2UseW09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aDsrK288bjspaWYodChlW29dLG8sZSkpcmV0dXJuITA7cmV0dXJuITF9LHhtPWZ1bmN0aW9uKGUsdCxvLG4saSxyKXt2YXIgYT1pJjIscz1lLmxlbmd0aCxsPXQubGVuZ3RoO2lmKHMhPWwmJiEoYSYmbD5zKSlyZXR1cm4hMTt2YXIgZD1yLmdldChlKTtpZihkKXJldHVybiBkPT10O3ZhciBjPS0xLG09ITAsdT1pJjE/bmV3IHZtOnZvaWQgMDtmb3Ioci5zZXQoZSx0KTsrK2M8czspe3ZhciBwPWVbY10sZz10W2NdO2lmKG4pdmFyIGY9YT9uKGcscCxjLHQsZSxyKTpuKHAsZyxjLGUsdCxyKTtpZih2b2lkIDAhPT1mKXtpZihmKWNvbnRpbnVlO209ITE7YnJlYWt9aWYodSl7aWYoIXltKHQsZnVuY3Rpb24oZSx0KXtpZighdS5oYXModCkmJihwPT09ZXx8byhwLGUsbixpLHIpKSlyZXR1cm4gdS5hZGQodCl9KSl7bT0hMTticmVha319ZWxzZSBpZighKHA9PT1nfHxvKHAsZyxuLGkscikpKXttPSExO2JyZWFrfX1yZXR1cm4gclsnZGVsZXRlJ10oZSksbX0sQ209UmQ/UmQucHJvdG90eXBlOnZvaWQgMCxBbT1DbT9DbS52YWx1ZU9mOnZvaWQgMCxUbT1mdW5jdGlvbihlLHQsbyxuLGkscixhKXtzd2l0Y2gobyl7Y2FzZSdbb2JqZWN0IERhdGFWaWV3XSc6aWYoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fGUuYnl0ZU9mZnNldCE9dC5ieXRlT2Zmc2V0KXJldHVybiExO2U9ZS5idWZmZXIsdD10LmJ1ZmZlcjtjYXNlJ1tvYmplY3QgQXJyYXlCdWZmZXJdJzpyZXR1cm4hIShlLmJ5dGVMZW5ndGg9PXQuYnl0ZUxlbmd0aCYmbihuZXcgX2QoZSksbmV3IF9kKHQpKSk7Y2FzZSdbb2JqZWN0IEJvb2xlYW5dJzpjYXNlJ1tvYmplY3QgRGF0ZV0nOnJldHVybitlPT0rdDtjYXNlJ1tvYmplY3QgRXJyb3JdJzpyZXR1cm4gZS5uYW1lPT10Lm5hbWUmJmUubWVzc2FnZT09dC5tZXNzYWdlO2Nhc2UnW29iamVjdCBOdW1iZXJdJzpyZXR1cm4gZT09K2U/ZT09K3Q6dCE9K3Q7Y2FzZSdbb2JqZWN0IFJlZ0V4cF0nOmNhc2UnW29iamVjdCBTdHJpbmddJzpyZXR1cm4gZT09dCsnJztjYXNlJ1tvYmplY3QgTWFwXSc6dmFyIHM9Q2Q7Y2FzZSdbb2JqZWN0IFNldF0nOnZhciBsPXImMjtpZihzfHwocz1TZCksZS5zaXplIT10LnNpemUmJiFsKXJldHVybiExO3ZhciBkPWEuZ2V0KGUpO3JldHVybiBkP2Q9PXQ6KHJ8PTEsYS5zZXQoZSx0KSx4bShzKGUpLHModCksbixpLHIsYSkpO2Nhc2UnW29iamVjdCBTeW1ib2xdJzppZihBbSlyZXR1cm4gQW0uY2FsbChlKT09QW0uY2FsbCh0KTt9cmV0dXJuITF9LFBtPTIsRW09e307RW1bJ1tvYmplY3QgRmxvYXQzMkFycmF5XSddPUVtWydbb2JqZWN0IEZsb2F0NjRBcnJheV0nXT1FbVsnW29iamVjdCBJbnQ4QXJyYXldJ109RW1bJ1tvYmplY3QgSW50MTZBcnJheV0nXT1FbVsnW29iamVjdCBJbnQzMkFycmF5XSddPUVtWydbb2JqZWN0IFVpbnQ4QXJyYXldJ109RW1bJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ109RW1bJ1tvYmplY3QgVWludDE2QXJyYXldJ109RW1bJ1tvYmplY3QgVWludDMyQXJyYXldJ109ITAsRW1bJ1tvYmplY3QgQXJndW1lbnRzXSddPUVtWydbb2JqZWN0IEFycmF5XSddPUVtWydbb2JqZWN0IEFycmF5QnVmZmVyXSddPUVtWydbb2JqZWN0IEJvb2xlYW5dJ109RW1bJ1tvYmplY3QgRGF0YVZpZXddJ109RW1bJ1tvYmplY3QgRGF0ZV0nXT1FbVsnW29iamVjdCBFcnJvcl0nXT1FbVsnW29iamVjdCBGdW5jdGlvbl0nXT1FbVsnW29iamVjdCBNYXBdJ109RW1bJ1tvYmplY3QgTnVtYmVyXSddPUVtWydbb2JqZWN0IE9iamVjdF0nXT1FbVsnW29iamVjdCBSZWdFeHBdJ109RW1bJ1tvYmplY3QgU2V0XSddPUVtWydbb2JqZWN0IFN0cmluZ10nXT1FbVsnW29iamVjdCBXZWFrTWFwXSddPSExO3ZhciBTbT1PYmplY3QucHJvdG90eXBlLE9tPVNtLnRvU3RyaW5nLEltPWZ1bmN0aW9uKGUpe3JldHVybiBjcyhlKSYmd2woZS5sZW5ndGgpJiYhIUVtW09tLmNhbGwoZSldfSxSbT0nW29iamVjdCBBcmd1bWVudHNdJyxWbT0nW29iamVjdCBBcnJheV0nLEZtPSdbb2JqZWN0IE9iamVjdF0nLE5tPU9iamVjdC5wcm90b3R5cGUsRG09Tm0uaGFzT3duUHJvcGVydHksTW09ZnVuY3Rpb24oZSx0LG8sbixpLHIpe3ZhciBhPVNsKGUpLHM9U2wodCksbD1WbSxkPVZtO2F8fChsPWdkKGUpLGw9bD09Um0/Rm06bCksc3x8KGQ9Z2QodCksZD1kPT1SbT9GbTpkKTt2YXIgYz1sPT1GbSYmIWRzKGUpLG09ZD09Rm0mJiFkcyh0KSx1PWw9PWQ7aWYodSYmIWMpcmV0dXJuIHJ8fChyPW5ldyBhbCksYXx8SW0oZSk/eG0oZSx0LG8sbixpLHIpOlRtKGUsdCxsLG8sbixpLHIpO2lmKCEoaSYyKSl7dmFyIHA9YyYmRG0uY2FsbChlLCdfX3dyYXBwZWRfXycpLGc9bSYmRG0uY2FsbCh0LCdfX3dyYXBwZWRfXycpO2lmKHB8fGcpe3ZhciBmPXA/ZS52YWx1ZSgpOmUsaD1nP3QudmFsdWUoKTp0O3JldHVybiByfHwocj1uZXcgYWwpLG8oZixoLG4saSxyKX19cmV0dXJuISF1JiYocnx8KHI9bmV3IGFsKSxHZShlLHQsbyxuLGkscikpfSxCbT0kZSxMbT1mdW5jdGlvbihlLHQsbyl7bz0nZnVuY3Rpb24nPT10eXBlb2Ygbz9vOnZvaWQgMDt2YXIgbj1vP28oZSx0KTp2b2lkIDA7cmV0dXJuIG49PT12b2lkIDA/Qm0oZSx0LG8pOiEhbn07Y2xhc3Mgem0gZXh0ZW5kcyB3bXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9jb25maWc9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxzdWJ0cmVlOiEwfSx0aGlzLmRvbUNvbnZlcnRlcj1lLmRvbUNvbnZlcnRlcix0aGlzLnJlbmRlcmVyPWUuX3JlbmRlcmVyLHRoaXMuX2RvbUVsZW1lbnRzPVtdLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXI9bmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKHRoaXMuX29uTXV0YXRpb25zLmJpbmQodGhpcykpfWZsdXNoKCl7dGhpcy5fb25NdXRhdGlvbnModGhpcy5fbXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpKX1vYnNlcnZlKGUpe3RoaXMuX2RvbUVsZW1lbnRzLnB1c2goZSksdGhpcy5pc0VuYWJsZWQmJnRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlLHRoaXMuX2NvbmZpZyl9ZW5hYmxlKCl7c3VwZXIuZW5hYmxlKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZG9tRWxlbWVudHMpdGhpcy5fbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGUsdGhpcy5fY29uZmlnKX1kaXNhYmxlKCl7c3VwZXIuZGlzYWJsZSgpLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCl9X29uTXV0YXRpb25zKGUpe2Z1bmN0aW9uIHQoZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZT09PXR8fCEhKGUuaXMoJ3RleHQnKSYmdC5pcygndGV4dCcpKSYmZS5kYXRhPT09dC5kYXRhfWlmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlcixuPW5ldyBNYXAsaT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGUpaWYoJ2NoaWxkTGlzdCc9PT10LnR5cGUpe2NvbnN0IGU9by5tYXBEb21Ub1ZpZXcodC50YXJnZXQpO2lmKGUmJmUuaXMoJ3VpRWxlbWVudCcpKWNvbnRpbnVlO2UmJiF0aGlzLl9pc0JvZ3VzQnJNdXRhdGlvbih0KSYmaS5hZGQoZSl9Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1vLm1hcERvbVRvVmlldyh0LnRhcmdldCk7aWYoIShlJiZlLmlzKCd1aUVsZW1lbnQnKSkmJidjaGFyYWN0ZXJEYXRhJz09PXQudHlwZSl7Y29uc3QgZT1vLmZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQodC50YXJnZXQpO2UmJiFpLmhhcyhlLnBhcmVudCk/bi5zZXQoZSx7dHlwZTondGV4dCcsb2xkVGV4dDplLmRhdGEsbmV3VGV4dDp5ZSh0LnRhcmdldCksbm9kZTplfSk6IWUmJndlKHQudGFyZ2V0KSYmaS5hZGQoby5tYXBEb21Ub1ZpZXcodC50YXJnZXQucGFyZW50Tm9kZSkpfX1jb25zdCByPVtdO2Zvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpdGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKCd0ZXh0Jyx0Lm5vZGUpLHIucHVzaCh0KTtmb3IoY29uc3QgbiBvZiBpKXtjb25zdCBlPW8ubWFwVmlld1RvRG9tKG4pLGk9QXJyYXkuZnJvbShuLmdldENoaWxkcmVuKCkpLGE9QXJyYXkuZnJvbShvLmRvbUNoaWxkcmVuVG9WaWV3KGUse3dpdGhDaGlsZHJlbjohMX0pKTtMbShpLGEsdCl8fCh0aGlzLnJlbmRlcmVyLm1hcmtUb1N5bmMoJ2NoaWxkcmVuJyxuKSxyLnB1c2goe3R5cGU6J2NoaWxkcmVuJyxvbGRDaGlsZHJlbjppLG5ld0NoaWxkcmVuOmEsbm9kZTpufSkpfWNvbnN0IGE9ZVswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKGEmJmEuYW5jaG9yTm9kZSl7Y29uc3QgZT1vLmRvbVBvc2l0aW9uVG9WaWV3KGEuYW5jaG9yTm9kZSxhLmFuY2hvck9mZnNldCksdD1vLmRvbVBvc2l0aW9uVG9WaWV3KGEuZm9jdXNOb2RlLGEuZm9jdXNPZmZzZXQpO2UmJnQmJihzPW5ldyBIYyhlKSxzLnNldEZvY3VzKHQpKX10aGlzLmRvY3VtZW50LmZpcmUoJ211dGF0aW9ucycscixzKSx0aGlzLnZpZXcucmVuZGVyKCl9X2lzQm9ndXNCck11dGF0aW9uKGUpe2xldCB0PW51bGw7cmV0dXJuIG51bGw9PT1lLm5leHRTaWJsaW5nJiYwPT09ZS5yZW1vdmVkTm9kZXMubGVuZ3RoJiYxPT1lLmFkZGVkTm9kZXMubGVuZ3RoJiYodD10aGlzLmRvbUNvbnZlcnRlci5kb21Ub1ZpZXcoZS5hZGRlZE5vZGVzWzBdLHt3aXRoQ2hpbGRyZW46ITF9KSksdCYmdC5pcygnZWxlbWVudCcsJ2JyJyl9fWNsYXNzIGpte2NvbnN0cnVjdG9yKGUsdCxvKXt0aGlzLnZpZXc9ZSx0aGlzLmRvY3VtZW50PWUuZG9jdW1lbnQsdGhpcy5kb21FdmVudD10LHRoaXMuZG9tVGFyZ2V0PXQudGFyZ2V0LFJjKHRoaXMsbyl9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLnZpZXcuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0aGlzLmRvbVRhcmdldCl9cHJldmVudERlZmF1bHQoKXt0aGlzLmRvbUV2ZW50LnByZXZlbnREZWZhdWx0KCl9c3RvcFByb3BhZ2F0aW9uKCl7dGhpcy5kb21FdmVudC5zdG9wUHJvcGFnYXRpb24oKX19Y2xhc3MgcW0gZXh0ZW5kcyB3bXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnVzZUNhcHR1cmU9ITF9b2JzZXJ2ZShlKXtjb25zdCB0PSdzdHJpbmcnPT10eXBlb2YgdGhpcy5kb21FdmVudFR5cGU/W3RoaXMuZG9tRXZlbnRUeXBlXTp0aGlzLmRvbUV2ZW50VHlwZTt0LmZvckVhY2goKHQpPT57dGhpcy5saXN0ZW5UbyhlLHQsKGUsdCk9Pnt0aGlzLmlzRW5hYmxlZCYmdGhpcy5vbkRvbUV2ZW50KHQpfSx7dXNlQ2FwdHVyZTp0aGlzLnVzZUNhcHR1cmV9KX0pfWZpcmUoZSx0LG8pe3RoaXMuaXNFbmFibGVkJiZ0aGlzLmRvY3VtZW50LmZpcmUoZSxuZXcgam0odGhpcy52aWV3LHQsbykpfX1jbGFzcyBXbSBleHRlbmRzIHFte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPVsna2V5ZG93bicsJ2tleXVwJ119b25Eb21FdmVudChlKXt0aGlzLmZpcmUoZS50eXBlLGUse2tleUNvZGU6ZS5rZXlDb2RlLGFsdEtleTplLmFsdEtleSxjdHJsS2V5OmUuY3RybEtleXx8ZS5tZXRhS2V5LHNoaWZ0S2V5OmUuc2hpZnRLZXksZ2V0IGtleXN0cm9rZSgpe3JldHVybiB0ZSh0aGlzKX19KX19dmFyIFVtPURhdGUubm93LEhtPVVtLEttPSdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxHbT1pcywkbT1ycyxKbT1KZTtjbGFzcyBRbSBleHRlbmRzIHdte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPUptKChlKT0+dGhpcy5kb2N1bWVudC5maXJlKCdzZWxlY3Rpb25DaGFuZ2VEb25lJyxlKSwyMDApfW9ic2VydmUoKXtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbigna2V5ZG93bicsKHQsbyk9Pntjb25zdCBuPWUuc2VsZWN0aW9uO24uaXNGYWtlJiZRZShvLmtleUNvZGUpJiZ0aGlzLmlzRW5hYmxlZCYmKG8ucHJldmVudERlZmF1bHQoKSx0aGlzLl9oYW5kbGVTZWxlY3Rpb25Nb3ZlKG8ua2V5Q29kZSkpfSx7cHJpb3JpdHk6J2xvd2VzdCd9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkLmNhbmNlbCgpfV9oYW5kbGVTZWxlY3Rpb25Nb3ZlKGUpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sbz1uZXcgSGModC5nZXRSYW5nZXMoKSx7YmFja3dhcmQ6dC5pc0JhY2t3YXJkLGZha2U6ITF9KTsoZT09bm0uYXJyb3dsZWZ0fHxlPT1ubS5hcnJvd3VwKSYmby5zZXRUbyhvLmdldEZpcnN0UG9zaXRpb24oKSksKGU9PW5tLmFycm93cmlnaHR8fGU9PW5tLmFycm93ZG93bikmJm8uc2V0VG8oby5nZXRMYXN0UG9zaXRpb24oKSk7Y29uc3Qgbj17b2xkU2VsZWN0aW9uOnQsbmV3U2VsZWN0aW9uOm8sZG9tU2VsZWN0aW9uOm51bGx9O3RoaXMuZG9jdW1lbnQuZmlyZSgnc2VsZWN0aW9uQ2hhbmdlJyxuKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZChuKX19Y29uc3QgWW09e2Vycm9yKGUsdCl7Y29uc29sZS5lcnJvcihuKGUpLHQpfSx3YXJuKGUsdCl7Y29uc29sZS53YXJuKG4oZSksdCl9fTt2YXIgWG09WW07Y2xhc3MgWm0gZXh0ZW5kcyB3bXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9ZS5nZXRPYnNlcnZlcih6bSksdGhpcy5zZWxlY3Rpb249dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sdGhpcy5kb21Db252ZXJ0ZXI9ZS5kb21Db252ZXJ0ZXIsdGhpcy5fZG9jdW1lbnRzPW5ldyBXZWFrU2V0LHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPUptKChlKT0+dGhpcy5kb2N1bWVudC5maXJlKCdzZWxlY3Rpb25DaGFuZ2VEb25lJyxlKSwyMDApLHRoaXMuX2NsZWFySW5maW5pdGVMb29wSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKCk9PnRoaXMuX2NsZWFySW5maW5pdGVMb29wKCksMWUzKSx0aGlzLl9sb29wYmFja0NvdW50ZXI9MH1vYnNlcnZlKGUpe2NvbnN0IHQ9ZS5vd25lckRvY3VtZW50O3RoaXMuX2RvY3VtZW50cy5oYXModCl8fCh0aGlzLmxpc3RlblRvKHQsJ3NlbGVjdGlvbmNoYW5nZScsKCk9Pnt0aGlzLl9oYW5kbGVTZWxlY3Rpb25DaGFuZ2UodCl9KSx0aGlzLl9kb2N1bWVudHMuYWRkKHQpKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2xlYXJJbmZpbml0ZUxvb3BJbnRlcnZhbCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCl9X2hhbmRsZVNlbGVjdGlvbkNoYW5nZShlKXtpZih0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZG9jdW1lbnQuaXNGb2N1c2VkfHx0aGlzLmRvY3VtZW50LmlzUmVhZE9ubHkpKXt0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZmx1c2goKTtjb25zdCB0PWUuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCksbz10aGlzLmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcodCk7aWYoISh0aGlzLnNlbGVjdGlvbi5pc0VxdWFsKG8pJiZ0aGlzLmRvbUNvbnZlcnRlci5pc0RvbVNlbGVjdGlvbkNvcnJlY3QodCkpKXtpZig2MDwrK3RoaXMuX2xvb3BiYWNrQ291bnRlcilyZXR1cm4gdm9pZCBYbS53YXJuKCdzZWxlY3Rpb25jaGFuZ2UtaW5maW5pdGUtbG9vcDogU2VsZWN0aW9uIGNoYW5nZSBvYnNlcnZlciBkZXRlY3RlZCBhbiBpbmZpbml0ZSByZW5kZXJpbmcgbG9vcC4nKTtpZih0aGlzLnNlbGVjdGlvbi5pc1NpbWlsYXIobykpdGhpcy52aWV3LnJlbmRlcigpO2Vsc2V7Y29uc3QgZT17b2xkU2VsZWN0aW9uOnRoaXMuc2VsZWN0aW9uLG5ld1NlbGVjdGlvbjpvLGRvbVNlbGVjdGlvbjp0fTt0aGlzLmRvY3VtZW50LmZpcmUoJ3NlbGVjdGlvbkNoYW5nZScsZSksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQoZSl9fX19X2NsZWFySW5maW5pdGVMb29wKCl7dGhpcy5fbG9vcGJhY2tDb3VudGVyPTB9fWNsYXNzIGV1IGV4dGVuZHMgcW17Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kb21FdmVudFR5cGU9Wydmb2N1cycsJ2JsdXInXSx0aGlzLnVzZUNhcHR1cmU9ITA7Y29uc3QgdD10aGlzLmRvY3VtZW50O3Qub24oJ2ZvY3VzJywoKT0+e3QuaXNGb2N1c2VkPSEwLHRoaXMuX3JlbmRlclRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT5lLnJlbmRlcigpLDUwKX0pLHQub24oJ2JsdXInLChvLG4pPT57Y29uc3QgaT10LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7KG51bGw9PT1pfHxpPT09bi50YXJnZXQpJiYodC5pc0ZvY3VzZWQ9ITEsZS5yZW5kZXIoKSl9KX1vbkRvbUV2ZW50KGUpe3RoaXMuZmlyZShlLnR5cGUsZSl9ZGVzdHJveSgpe3RoaXMuX3JlbmRlclRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX3JlbmRlclRpbWVvdXRJZCksc3VwZXIuZGVzdHJveSgpfX1jbGFzcyB0dSBleHRlbmRzIHFte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPVsnY29tcG9zaXRpb25zdGFydCcsJ2NvbXBvc2l0aW9udXBkYXRlJywnY29tcG9zaXRpb25lbmQnXTtjb25zdCB0PXRoaXMuZG9jdW1lbnQ7dC5vbignY29tcG9zaXRpb25zdGFydCcsKCk9Pnt0LmlzQ29tcG9zaW5nPSEwfSksdC5vbignY29tcG9zaXRpb25lbmQnLCgpPT57dC5pc0NvbXBvc2luZz0hMX0pfW9uRG9tRXZlbnQoZSl7dGhpcy5maXJlKGUudHlwZSxlKX19Y2xhc3Mgb3V7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1ZZShlKTtpZihPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywnX3NvdXJjZScse3ZhbHVlOmUuX3NvdXJjZXx8ZSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExfSksZm0oZSl8fHQpe2NvbnN0IG89dD9lLnN0YXJ0Q29udGFpbmVyOmU7by5vd25lckRvY3VtZW50JiZvLm93bmVyRG9jdW1lbnQuYm9keS5jb250YWlucyhvKXx8WG0ud2FybigncmVjdC1zb3VyY2Utbm90LWluLWRvbTogVGhlIHNvdXJjZSBvZiB0aGlzIHJlY3QgZG9lcyBub3QgYmVsb25nIHRvIGFueSByZW5kZXJlZCBET00gdHJlZS4nLHtzb3VyY2U6ZX0pLHQ/WmUodGhpcyxvdS5nZXREb21SYW5nZVJlY3RzKGUpWzBdKTpaZSh0aGlzLGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfWVsc2UgaWYoVWUoZSkpe2NvbnN0e2lubmVyV2lkdGg6dCxpbm5lckhlaWdodDpvfT1lO1plKHRoaXMse3RvcDowLHJpZ2h0OnQsYm90dG9tOm8sbGVmdDowLHdpZHRoOnQsaGVpZ2h0Om99KX1lbHNlIFplKHRoaXMsZSl9Y2xvbmUoKXtyZXR1cm4gbmV3IG91KHRoaXMpfW1vdmVUbyhlLHQpe3JldHVybiB0aGlzLnRvcD10LHRoaXMucmlnaHQ9ZSt0aGlzLndpZHRoLHRoaXMuYm90dG9tPXQrdGhpcy5oZWlnaHQsdGhpcy5sZWZ0PWUsdGhpc31tb3ZlQnkoZSx0KXtyZXR1cm4gdGhpcy50b3ArPXQsdGhpcy5yaWdodCs9ZSx0aGlzLmxlZnQrPWUsdGhpcy5ib3R0b20rPXQsdGhpc31nZXRJbnRlcnNlY3Rpb24oZSl7Y29uc3QgdD17dG9wOmlzKHRoaXMudG9wLGUudG9wKSxyaWdodDpycyh0aGlzLnJpZ2h0LGUucmlnaHQpLGJvdHRvbTpycyh0aGlzLmJvdHRvbSxlLmJvdHRvbSksbGVmdDppcyh0aGlzLmxlZnQsZS5sZWZ0KX07cmV0dXJuIHQud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsMD50LndpZHRofHwwPnQuaGVpZ2h0P251bGw6bmV3IG91KHQpfWdldEludGVyc2VjdGlvbkFyZWEoZSl7Y29uc3QgdD10aGlzLmdldEludGVyc2VjdGlvbihlKTtyZXR1cm4gdD90LmdldEFyZWEoKTowfWdldEFyZWEoKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLmhlaWdodH1nZXRWaXNpYmxlKCl7Y29uc3QgZT10aGlzLl9zb3VyY2U7bGV0IHQ9dGhpcy5jbG9uZSgpO2lmKCFldChlKSlmb3IobGV0IG89ZS5wYXJlbnROb2RlfHxlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO28mJiFldChvKTspe2NvbnN0IGU9bmV3IG91KG8pLG49dC5nZXRJbnRlcnNlY3Rpb24oZSk7aWYobiluLmdldEFyZWEoKTx0LmdldEFyZWEoKSYmKHQ9bik7ZWxzZSByZXR1cm4gbnVsbDtvPW8ucGFyZW50Tm9kZX1yZXR1cm4gdH1pc0VxdWFsKGUpe2Zvcihjb25zdCB0IG9mIG51KWlmKHRoaXNbdF0hPT1lW3RdKXJldHVybiExO3JldHVybiEwfWNvbnRhaW5zKGUpe2NvbnN0IHQ9dGhpcy5nZXRJbnRlcnNlY3Rpb24oZSk7cmV0dXJuISEodCYmdC5pc0VxdWFsKGUpKX1leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKXtjb25zdCBlPXRoaXMuX3NvdXJjZTtsZXQgdCxvO2lmKFVlKGUpKXQ9ZS5pbm5lcldpZHRoLWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLG89ZS5pbm5lckhlaWdodC1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ZWxzZXtjb25zdCBuPVhlKHRoaXMuX3NvdXJjZSk7dD1lLm9mZnNldFdpZHRoLWUuY2xpZW50V2lkdGgsbz1lLm9mZnNldEhlaWdodC1lLmNsaWVudEhlaWdodCx0aGlzLm1vdmVCeShuLmxlZnQsbi50b3ApfXJldHVybiB0aGlzLndpZHRoLT10LHRoaXMucmlnaHQtPXQsdGhpcy5oZWlnaHQtPW8sdGhpcy5ib3R0b20tPW8sdGhpc31zdGF0aWMgZ2V0RG9tUmFuZ2VSZWN0cyhlKXtjb25zdCB0PVtdLG89QXJyYXkuZnJvbShlLmdldENsaWVudFJlY3RzKCkpO2lmKG8ubGVuZ3RoKWZvcihjb25zdCBlIG9mIG8pdC5wdXNoKG5ldyBvdShlKSk7ZWxzZXtsZXQgbz1lLnN0YXJ0Q29udGFpbmVyO1NlKG8pJiYobz1vLnBhcmVudE5vZGUpO2NvbnN0IG49bmV3IG91KG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO24ucmlnaHQ9bi5sZWZ0LG4ud2lkdGg9MCx0LnB1c2gobil9cmV0dXJuIHR9fWNvbnN0IG51PVsndG9wJywncmlnaHQnLCdib3R0b20nLCdsZWZ0Jywnd2lkdGgnLCdoZWlnaHQnXTtPYmplY3QuYXNzaWduKHt9LHtzY3JvbGxWaWV3cG9ydFRvU2hvd1RhcmdldDp0dCxzY3JvbGxBbmNlc3RvcnNUb1Nob3dUYXJnZXQ6ZnVuY3Rpb24oZSl7Y29uc3QgdD1jdChlKTtpdCh0LCgpPT5uZXcgb3UoZSkpfX0pO2NsYXNzIGl1e2NvbnN0cnVjdG9yKCl7dGhpcy5kb2N1bWVudD1uZXcgJGMsdGhpcy5kb21Db252ZXJ0ZXI9bmV3IGhtLHRoaXMuX3JlbmRlcmVyPW5ldyBwbSh0aGlzLmRvbUNvbnZlcnRlcix0aGlzLmRvY3VtZW50LnNlbGVjdGlvbiksdGhpcy5fcmVuZGVyZXIuYmluZCgnaXNGb2N1c2VkJykudG8odGhpcy5kb2N1bWVudCksdGhpcy5kb21Sb290cz1uZXcgTWFwLHRoaXMuX29ic2VydmVycz1uZXcgTWFwLHRoaXMuX29uZ29pbmdDaGFuZ2U9ITEsdGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMSx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMSx0aGlzLl93cml0ZXI9bmV3IGFtKHRoaXMuZG9jdW1lbnQpLHRoaXMuYWRkT2JzZXJ2ZXIoem0pLHRoaXMuYWRkT2JzZXJ2ZXIoWm0pLHRoaXMuYWRkT2JzZXJ2ZXIoZXUpLHRoaXMuYWRkT2JzZXJ2ZXIoV20pLHRoaXMuYWRkT2JzZXJ2ZXIoUW0pLHRoaXMuYWRkT2JzZXJ2ZXIodHUpLENlKHRoaXMpLHJlKHRoaXMpLHRoaXMub24oJ3JlbmRlcicsKCk9Pnt0aGlzLl9yZW5kZXIoKX0pfWF0dGFjaERvbVJvb3QoZSx0PSdtYWluJyl7Y29uc3Qgbz10aGlzLmRvY3VtZW50LmdldFJvb3QodCk7by5fbmFtZT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSx0aGlzLmRvbVJvb3RzLnNldCh0LGUpLHRoaXMuZG9tQ29udmVydGVyLmJpbmRFbGVtZW50cyhlLG8pLHRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoJ2NoaWxkcmVuJyxvKSx0aGlzLl9yZW5kZXJlci5kb21Eb2N1bWVudHMuYWRkKGUub3duZXJEb2N1bWVudCksby5vbignY2hhbmdlOmNoaWxkcmVuJywoZSx0KT0+dGhpcy5fcmVuZGVyZXIubWFya1RvU3luYygnY2hpbGRyZW4nLHQpKSxvLm9uKCdjaGFuZ2U6YXR0cmlidXRlcycsKGUsdCk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoJ2F0dHJpYnV0ZXMnLHQpKSxvLm9uKCdjaGFuZ2U6dGV4dCcsKGUsdCk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoJ3RleHQnLHQpKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpby5vYnNlcnZlKGUsdCl9Z2V0RG9tUm9vdChlPSdtYWluJyl7cmV0dXJuIHRoaXMuZG9tUm9vdHMuZ2V0KGUpfWFkZE9ic2VydmVyKGUpe2xldCB0PXRoaXMuX29ic2VydmVycy5nZXQoZSk7aWYodClyZXR1cm4gdDt0PW5ldyBlKHRoaXMpLHRoaXMuX29ic2VydmVycy5zZXQoZSx0KTtmb3IoY29uc3RbbyxuXW9mIHRoaXMuZG9tUm9vdHMpdC5vYnNlcnZlKG4sbyk7cmV0dXJuIHQuZW5hYmxlKCksdH1nZXRPYnNlcnZlcihlKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmdldChlKX1kaXNhYmxlT2JzZXJ2ZXJzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKWUuZGlzYWJsZSgpfWVuYWJsZU9ic2VydmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSllLmVuYWJsZSgpfXNjcm9sbFRvVGhlU2VsZWN0aW9uKCl7Y29uc3QgZT10aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCk7ZSYmdHQoe3RhcmdldDp0aGlzLmRvbUNvbnZlcnRlci52aWV3UmFuZ2VUb0RvbShlKSx2aWV3cG9ydE9mZnNldDoyMH0pfWZvY3VzKCl7aWYoIXRoaXMuZG9jdW1lbnQuaXNGb2N1c2VkKXtjb25zdCBlPXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudDtlPyh0aGlzLmRvbUNvbnZlcnRlci5mb2N1cyhlKSx0aGlzLnJlbmRlcigpKTpYbS53YXJuKCd2aWV3LWZvY3VzLW5vLXNlbGVjdGlvbjogVGhlcmUgaXMgbm8gc2VsZWN0aW9uIGluIGFueSBlZGl0YWJsZSB0byBmb2N1cy4nKX19Y2hhbmdlKGUpe2lmKHRoaXMuX3JlbmRlcmluZ0luUHJvZ3Jlc3N8fHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzKXRocm93IG5ldyBfcygnY2Fubm90LWNoYW5nZS12aWV3LXRyZWU6IEF0dGVtcHRpbmcgdG8gbWFrZSBjaGFuZ2VzIHRvIHRoZSB2aWV3IHdoZW4gaXQgaXMgaW4gaW5jb3JyZWN0IHN0YXRlOiByZW5kZXJpbmcgb3IgcG9zdC1maXhlcnMgYXJlIGluIHByb2dyZXNzLiBUaGlzIG1heSBjYXVzZSBzb21lIHVuZXhwZWN0ZWQgYmVoYXZpb3VyIGFuZCBpbmNvbnNpc3RlbmN5IGJldHdlZW4gdGhlIERPTSBhbmQgdGhlIHZpZXcuJyk7cmV0dXJuIHRoaXMuX29uZ29pbmdDaGFuZ2U/dm9pZCBlKHRoaXMuX3dyaXRlcik6dm9pZCh0aGlzLl9vbmdvaW5nQ2hhbmdlPSEwLGUodGhpcy5fd3JpdGVyKSx0aGlzLl9vbmdvaW5nQ2hhbmdlPSExLHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPSEwLHRoaXMuZG9jdW1lbnQuX2NhbGxQb3N0Rml4ZXJzKHRoaXMuX3dyaXRlciksdGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3M9ITEsdGhpcy5maXJlKCdyZW5kZXInKSl9cmVuZGVyKCl7dGhpcy5jaGFuZ2UoKCk9Pnt9KX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKWUuZGVzdHJveSgpO3RoaXMuc3RvcExpc3RlbmluZygpfV9yZW5kZXIoKXt0aGlzLl9yZW5kZXJpbmdJblByb2dyZXNzPSEwLHRoaXMuZGlzYWJsZU9ic2VydmVycygpLHRoaXMuX3JlbmRlcmVyLnJlbmRlcigpLHRoaXMuZW5hYmxlT2JzZXJ2ZXJzKCksdGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMX19ZihpdSxNYyk7Y2xhc3MgcnV7Y29uc3RydWN0b3IoZSl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLl9hdHRycz11dChlKX1nZXQgaW5kZXgoKXtsZXQgZTtpZighdGhpcy5wYXJlbnQpcmV0dXJuIG51bGw7aWYobnVsbD09PShlPXRoaXMucGFyZW50LmdldENoaWxkSW5kZXgodGhpcykpKXRocm93IG5ldyBfcygnbW9kZWwtbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZVxcJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLicpO3JldHVybiBlfWdldCBzdGFydE9mZnNldCgpe2xldCBlO2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbnVsbDtpZihudWxsPT09KGU9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRTdGFydE9mZnNldCh0aGlzKSkpdGhyb3cgbmV3IF9zKCdtb2RlbC1ub2RlLW5vdC1mb3VuZC1pbi1wYXJlbnQ6IFRoZSBub2RlXFwncyBwYXJlbnQgZG9lcyBub3QgY29udGFpbiB0aGlzIG5vZGUuJyk7cmV0dXJuIGV9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gMX1nZXQgZW5kT2Zmc2V0KCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMuc3RhcnRPZmZzZXQrdGhpcy5vZmZzZXRTaXplOm51bGx9Z2V0IG5leHRTaWJsaW5nKCl7Y29uc3QgZT10aGlzLmluZGV4O3JldHVybiBudWxsIT09ZSYmdGhpcy5wYXJlbnQuZ2V0Q2hpbGQoZSsxKXx8bnVsbH1nZXQgcHJldmlvdXNTaWJsaW5nKCl7Y29uc3QgZT10aGlzLmluZGV4O3JldHVybiBudWxsIT09ZSYmdGhpcy5wYXJlbnQuZ2V0Q2hpbGQoZS0xKXx8bnVsbH1nZXQgcm9vdCgpe2xldCBlPXRoaXM7Zm9yKDtlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5yb290PT10aGlzP251bGw6dGhpcy5yb290LmRvY3VtZW50fHxudWxsfWdldFBhdGgoKXtjb25zdCBlPVtdO2ZvcihsZXQgdD10aGlzO3QucGFyZW50OyllLnVuc2hpZnQodC5zdGFydE9mZnNldCksdD10LnBhcmVudDtyZXR1cm4gZX1nZXRBbmNlc3RvcnMoZT17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCB0PVtdO2ZvcihsZXQgbz1lLmluY2x1ZGVTZWxmP3RoaXM6dGhpcy5wYXJlbnQ7bzspdFtlLnBhcmVudEZpcnN0PydwdXNoJzondW5zaGlmdCddKG8pLG89by5wYXJlbnQ7cmV0dXJuIHR9Z2V0Q29tbW9uQW5jZXN0b3IoZSx0PXt9KXtjb25zdCBvPXRoaXMuZ2V0QW5jZXN0b3JzKHQpLG49ZS5nZXRBbmNlc3RvcnModCk7bGV0IHI9MDtmb3IoO29bcl09PW5bcl0mJm9bcl07KXIrKztyZXR1cm4gMD09cj9udWxsOm9bci0xXX1pc0JlZm9yZShlKXtpZih0aGlzPT1lKXJldHVybiExO2lmKHRoaXMucm9vdCE9PWUucm9vdClyZXR1cm4hMTtjb25zdCB0PXRoaXMuZ2V0UGF0aCgpLG89ZS5nZXRQYXRoKCksbj1BKHQsbyk7cmV0dXJuISgncHJlZml4JyE9PW4pfHwnZXh0ZW5zaW9uJyE9PW4mJnRbbl08b1tuXX1pc0FmdGVyKGUpe3JldHVybiB0aGlzIT1lJiYhKHRoaXMucm9vdCE9PWUucm9vdCkmJiF0aGlzLmlzQmVmb3JlKGUpfWhhc0F0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy5fYXR0cnMuaGFzKGUpfWdldEF0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KGUpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMuZW50cmllcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMua2V5cygpfXRvSlNPTigpe2NvbnN0IGU9e307cmV0dXJuIHRoaXMuX2F0dHJzLnNpemUmJihlLmF0dHJpYnV0ZXM9Wy4uLnRoaXMuX2F0dHJzXSksZX1fY2xvbmUoKXtyZXR1cm4gbmV3IHJ1KHRoaXMuX2F0dHJzKX1fcmVtb3ZlKCl7dGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkcmVuKHRoaXMuaW5kZXgpfV9zZXRBdHRyaWJ1dGUoZSx0KXt0aGlzLl9hdHRycy5zZXQoZSx0KX1fc2V0QXR0cmlidXRlc1RvKGUpe3RoaXMuX2F0dHJzPXV0KGUpfV9yZW1vdmVBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmRlbGV0ZShlKX1fY2xlYXJBdHRyaWJ1dGVzKCl7dGhpcy5fYXR0cnMuY2xlYXIoKX1pcyhlKXtyZXR1cm4nbm9kZSc9PWV9fWNsYXNzIGF1IGV4dGVuZHMgcnV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcih0KSx0aGlzLl9kYXRhPWV8fCcnfWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1pcyhlKXtyZXR1cm4ndGV4dCc9PWV8fHN1cGVyLmlzKGUpfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGUuZGF0YT10aGlzLmRhdGEsZX1fY2xvbmUoKXtyZXR1cm4gbmV3IGF1KHRoaXMuZGF0YSx0aGlzLmdldEF0dHJpYnV0ZXMoKSl9c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgYXUoZS5kYXRhLGUuYXR0cmlidXRlcyl9fWNsYXNzIHN1e2NvbnN0cnVjdG9yKGUsdCxvKXtpZih0aGlzLnRleHROb2RlPWUsMD50fHx0PmUub2Zmc2V0U2l6ZSl0aHJvdyBuZXcgX3MoJ21vZGVsLXRleHRwcm94eS13cm9uZy1vZmZzZXRpbnRleHQ6IEdpdmVuIG9mZnNldEluVGV4dCB2YWx1ZSBpcyBpbmNvcnJlY3QuJyk7aWYoMD5vfHx0K28+ZS5vZmZzZXRTaXplKXRocm93IG5ldyBfcygnbW9kZWwtdGV4dHByb3h5LXdyb25nLWxlbmd0aDogR2l2ZW4gbGVuZ3RoIHZhbHVlIGlzIGluY29ycmVjdC4nKTt0aGlzLmRhdGE9ZS5kYXRhLnN1YnN0cmluZyh0LHQrbyksdGhpcy5vZmZzZXRJblRleHQ9dH1nZXQgc3RhcnRPZmZzZXQoKXtyZXR1cm4gbnVsbD09PXRoaXMudGV4dE5vZGUuc3RhcnRPZmZzZXQ/bnVsbDp0aGlzLnRleHROb2RlLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0SW5UZXh0fWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9Z2V0IGVuZE9mZnNldCgpe3JldHVybiBudWxsPT09dGhpcy5zdGFydE9mZnNldD9udWxsOnRoaXMuc3RhcnRPZmZzZXQrdGhpcy5vZmZzZXRTaXplfWdldCBpc1BhcnRpYWwoKXtyZXR1cm4gdGhpcy5vZmZzZXRTaXplIT09dGhpcy50ZXh0Tm9kZS5vZmZzZXRTaXplfWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKGUpe3JldHVybid0ZXh0UHJveHknPT1lfWdldFBhdGgoKXtjb25zdCBlPXRoaXMudGV4dE5vZGUuZ2V0UGF0aCgpO3JldHVybiAwPGUubGVuZ3RoJiYoZVtlLmxlbmd0aC0xXSs9dGhpcy5vZmZzZXRJblRleHQpLGV9Z2V0QW5jZXN0b3JzKGU9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgdD1bXTtmb3IobGV0IG89ZS5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O287KXRbZS5wYXJlbnRGaXJzdD8ncHVzaCc6J3Vuc2hpZnQnXShvKSxvPW8ucGFyZW50O3JldHVybiB0fWhhc0F0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5oYXNBdHRyaWJ1dGUoZSl9Z2V0QXR0cmlidXRlKGUpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZShlKX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGVLZXlzKCl9fWNsYXNzIGx1e2NvbnN0cnVjdG9yKGUpe3RoaXMuX25vZGVzPVtdLGUmJnRoaXMuX2luc2VydE5vZGVzKDAsZSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fbm9kZXNbU3ltYm9sLml0ZXJhdG9yXSgpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbm9kZXMubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fbm9kZXMucmVkdWNlKChlLHQpPT5lK3Qub2Zmc2V0U2l6ZSwwKX1nZXROb2RlKGUpe3JldHVybiB0aGlzLl9ub2Rlc1tlXXx8bnVsbH1nZXROb2RlSW5kZXgoZSl7Y29uc3QgdD10aGlzLl9ub2Rlcy5pbmRleE9mKGUpO3JldHVybi0xPT10P251bGw6dH1nZXROb2RlU3RhcnRPZmZzZXQoZSl7Y29uc3QgdD10aGlzLmdldE5vZGVJbmRleChlKTtyZXR1cm4gbnVsbD09PXQ/bnVsbDp0aGlzLl9ub2Rlcy5zbGljZSgwLHQpLnJlZHVjZSgoZSx0KT0+ZSt0Lm9mZnNldFNpemUsMCl9aW5kZXhUb09mZnNldChlKXtpZihlPT10aGlzLl9ub2Rlcy5sZW5ndGgpcmV0dXJuIHRoaXMubWF4T2Zmc2V0O2NvbnN0IHQ9dGhpcy5fbm9kZXNbZV07aWYoIXQpdGhyb3cgbmV3IF9zKCdtb2RlbC1ub2RlbGlzdC1pbmRleC1vdXQtb2YtYm91bmRzOiBHaXZlbiBpbmRleCBjYW5ub3QgYmUgZm91bmQgaW4gdGhlIG5vZGUgbGlzdC4nKTtyZXR1cm4gdGhpcy5nZXROb2RlU3RhcnRPZmZzZXQodCl9b2Zmc2V0VG9JbmRleChlKXtsZXQgdD0wO2Zvcihjb25zdCBvIG9mIHRoaXMuX25vZGVzKXtpZihlPj10JiZlPHQrby5vZmZzZXRTaXplKXJldHVybiB0aGlzLmdldE5vZGVJbmRleChvKTt0Kz1vLm9mZnNldFNpemV9aWYodCE9ZSl0aHJvdyBuZXcgX3MoJ21vZGVsLW5vZGVsaXN0LW9mZnNldC1vdXQtb2YtYm91bmRzOiBHaXZlbiBvZmZzZXQgY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuJyx7b2Zmc2V0OmUsbm9kZUxpc3Q6dGhpc30pO3JldHVybiB0aGlzLmxlbmd0aH1faW5zZXJ0Tm9kZXMoZSx0KXtmb3IoY29uc3QgbyBvZiB0KWlmKCEobyBpbnN0YW5jZW9mIHJ1KSl0aHJvdyBuZXcgX3MoJ21vZGVsLW5vZGVsaXN0LWluc2VydE5vZGVzLW5vdC1ub2RlOiBUcnlpbmcgdG8gaW5zZXJ0IGFuIG9iamVjdCB3aGljaCBpcyBub3QgYSBOb2RlIGluc3RhbmNlLicpO3RoaXMuX25vZGVzLnNwbGljZShlLDAsLi4udCl9X3JlbW92ZU5vZGVzKGUsdD0xKXtyZXR1cm4gdGhpcy5fbm9kZXMuc3BsaWNlKGUsdCl9dG9KU09OKCl7cmV0dXJuIHRoaXMuX25vZGVzLm1hcCgoZSk9PmUudG9KU09OKCkpfX1jbGFzcyBkdSBleHRlbmRzIHJ1e2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcih0KSx0aGlzLm5hbWU9ZSx0aGlzLl9jaGlsZHJlbj1uZXcgbHUsbyYmdGhpcy5faW5zZXJ0Q2hpbGQoMCxvKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2VsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWU6J2VsZW1lbnQnPT1lfHxlPT10aGlzLm5hbWV8fHN1cGVyLmlzKGUpfWdldENoaWxkKGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlKGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXRDaGlsZEluZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgoZSl9Z2V0Q2hpbGRTdGFydE9mZnNldChlKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpfW9mZnNldFRvSW5kZXgoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm9mZnNldFRvSW5kZXgoZSl9Z2V0Tm9kZUJ5UGF0aChlKXtsZXQgdD10aGlzO2Zvcihjb25zdCBvIG9mIGUpdD10LmdldENoaWxkKHQub2Zmc2V0VG9JbmRleChvKSk7cmV0dXJuIHR9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtpZihlLm5hbWU9dGhpcy5uYW1lLDA8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoKXtlLmNoaWxkcmVuPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NoaWxkcmVuKWUuY2hpbGRyZW4ucHVzaCh0LnRvSlNPTigpKX1yZXR1cm4gZX1fY2xvbmUoZT0hMSl7Y29uc3QgdD1lP0FycmF5LmZyb20odGhpcy5fY2hpbGRyZW4pLm1hcCgoZSk9PmUuX2Nsb25lKCEwKSk6bnVsbDtyZXR1cm4gbmV3IGR1KHRoaXMubmFtZSx0aGlzLmdldEF0dHJpYnV0ZXMoKSx0KX1fYXBwZW5kQ2hpbGQoZSl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LGUpfV9pbnNlcnRDaGlsZChlLHQpe2NvbnN0IG89cHQodCk7Zm9yKGNvbnN0IG4gb2YgbyludWxsIT09bi5wYXJlbnQmJm4uX3JlbW92ZSgpLG4ucGFyZW50PXRoaXM7dGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKGUsbyl9X3JlbW92ZUNoaWxkcmVuKGUsdD0xKXtjb25zdCBvPXRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2RlcyhlLHQpO2Zvcihjb25zdCBuIG9mIG8pbi5wYXJlbnQ9bnVsbDtyZXR1cm4gb31zdGF0aWMgZnJvbUpTT04oZSl7bGV0IHQ9bnVsbDtpZihlLmNoaWxkcmVuKXt0PVtdO2Zvcihjb25zdCBvIG9mIGUuY2hpbGRyZW4pby5uYW1lP3QucHVzaChkdS5mcm9tSlNPTihvKSk6dC5wdXNoKGF1LmZyb21KU09OKG8pKX1yZXR1cm4gbmV3IGR1KGUubmFtZSxlLmF0dHJpYnV0ZXMsdCl9fWNsYXNzIGN1e2NvbnN0cnVjdG9yKGU9e30pe2lmKCFlLmJvdW5kYXJpZXMmJiFlLnN0YXJ0UG9zaXRpb24pdGhyb3cgbmV3IF9zKCdtb2RlbC10cmVlLXdhbGtlci1uby1zdGFydC1wb3NpdGlvbjogTmVpdGhlciBib3VuZGFyaWVzIG5vciBzdGFydGluZyBwb3NpdGlvbiBoYXZlIGJlZW4gZGVmaW5lZC4nKTtjb25zdCB0PWUuZGlyZWN0aW9ufHwnZm9yd2FyZCc7aWYoJ2ZvcndhcmQnIT10JiYnYmFja3dhcmQnIT10KXRocm93IG5ldyBfcygnbW9kZWwtdHJlZS13YWxrZXItdW5rbm93bi1kaXJlY3Rpb246IE9ubHkgYGJhY2t3YXJkYCBhbmQgYGZvcndhcmRgIGRpcmVjdGlvbiBhbGxvd2VkLicse2RpcmVjdGlvbjp0fSk7dGhpcy5kaXJlY3Rpb249dCx0aGlzLmJvdW5kYXJpZXM9ZS5ib3VuZGFyaWVzfHxudWxsLHRoaXMucG9zaXRpb249ZS5zdGFydFBvc2l0aW9uP3V1LmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0UG9zaXRpb24pOnV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLmJvdW5kYXJpZXNbJ2JhY2t3YXJkJz09dGhpcy5kaXJlY3Rpb24/J2VuZCc6J3N0YXJ0J10pLHRoaXMuc2luZ2xlQ2hhcmFjdGVycz0hIWUuc2luZ2xlQ2hhcmFjdGVycyx0aGlzLnNoYWxsb3c9ISFlLnNoYWxsb3csdGhpcy5pZ25vcmVFbGVtZW50RW5kPSEhZS5pZ25vcmVFbGVtZW50RW5kLHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5zdGFydC5wYXJlbnQ6bnVsbCx0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLmVuZC5wYXJlbnQ6bnVsbCx0aGlzLl92aXNpdGVkUGFyZW50PXRoaXMucG9zaXRpb24ucGFyZW50fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcChlKXtsZXQgdCxvLG4saTtkbyBuPXRoaXMucG9zaXRpb24saT10aGlzLl92aXNpdGVkUGFyZW50LCh7ZG9uZTp0LHZhbHVlOm99PXRoaXMubmV4dCgpKTt3aGlsZSghdCYmZShvKSk7dHx8KHRoaXMucG9zaXRpb249bix0aGlzLl92aXNpdGVkUGFyZW50PWkpfW5leHQoKXtyZXR1cm4nZm9yd2FyZCc9PXRoaXMuZGlyZWN0aW9uP3RoaXMuX25leHQoKTp0aGlzLl9wcmV2aW91cygpfV9uZXh0KCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLHQ9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLG89dGhpcy5fdmlzaXRlZFBhcmVudDtpZihudWxsPT09by5wYXJlbnQmJnQub2Zmc2V0PT09by5tYXhPZmZzZXQpcmV0dXJue2RvbmU6ITB9O2lmKG89PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXJldHVybntkb25lOiEwfTtjb25zdCBuPXQudGV4dE5vZGU/dC50ZXh0Tm9kZTp0Lm5vZGVBZnRlcjtpZihuIGluc3RhbmNlb2YgZHUpcmV0dXJuIHRoaXMuc2hhbGxvdz90Lm9mZnNldCsrOih0LnBhdGgucHVzaCgwKSx0aGlzLl92aXNpdGVkUGFyZW50PW4pLHRoaXMucG9zaXRpb249dCxndCgnZWxlbWVudFN0YXJ0JyxuLGUsdCwxKTtpZihuIGluc3RhbmNlb2YgYXUpe2xldCBpO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylpPTE7ZWxzZXtsZXQgZT1uLmVuZE9mZnNldDt0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD09byYmdGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQ8ZSYmKGU9dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpLGk9ZS10Lm9mZnNldH1jb25zdCByPXQub2Zmc2V0LW4uc3RhcnRPZmZzZXQsYT1uZXcgc3UobixyLGkpO3JldHVybiB0Lm9mZnNldCs9aSx0aGlzLnBvc2l0aW9uPXQsZ3QoJ3RleHQnLGEsZSx0LGkpfXJldHVybiB0LnBhdGgucG9wKCksdC5vZmZzZXQrKyx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fdmlzaXRlZFBhcmVudD1vLnBhcmVudCx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fbmV4dCgpOmd0KCdlbGVtZW50RW5kJyxvLGUsdCl9X3ByZXZpb3VzKCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLHQ9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLG89dGhpcy5fdmlzaXRlZFBhcmVudDtpZihudWxsPT09by5wYXJlbnQmJjA9PT10Lm9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobz09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2NvbnN0IG49dC50ZXh0Tm9kZT90LnRleHROb2RlOnQubm9kZUJlZm9yZTtpZihuIGluc3RhbmNlb2YgZHUpcmV0dXJuIHQub2Zmc2V0LS0sdGhpcy5zaGFsbG93Pyh0aGlzLnBvc2l0aW9uPXQsZ3QoJ2VsZW1lbnRTdGFydCcsbixlLHQsMSkpOih0LnBhdGgucHVzaChuLm1heE9mZnNldCksdGhpcy5wb3NpdGlvbj10LHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9bix0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fcHJldmlvdXMoKTpndCgnZWxlbWVudEVuZCcsbixlLHQpKTtpZihuIGluc3RhbmNlb2YgYXUpe2xldCBpO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylpPTE7ZWxzZXtsZXQgZT1uLnN0YXJ0T2Zmc2V0O3RoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9PW8mJnRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ+ZSYmKGU9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldCksaT10Lm9mZnNldC1lfWNvbnN0IHI9dC5vZmZzZXQtbi5zdGFydE9mZnNldCxhPW5ldyBzdShuLHItaSxpKTtyZXR1cm4gdC5vZmZzZXQtPWksdGhpcy5wb3NpdGlvbj10LGd0KCd0ZXh0JyxhLGUsdCxpKX1yZXR1cm4gdC5wYXRoLnBvcCgpLHRoaXMucG9zaXRpb249dCx0aGlzLl92aXNpdGVkUGFyZW50PW8ucGFyZW50LGd0KCdlbGVtZW50U3RhcnQnLG8sZSx0LDEpfX12YXIgbXU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZT9lLmxlbmd0aDowO3JldHVybiB0P2VbdC0xXTp2b2lkIDB9O2NsYXNzIHV1e2NvbnN0cnVjdG9yKGUsdCl7aWYoIWUuaXMoJ2VsZW1lbnQnKSYmIWUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl0aHJvdyBuZXcgX3MoJ21vZGVsLXBvc2l0aW9uLXJvb3QtaW52YWxpZDogUG9zaXRpb24gcm9vdCBpbnZhbGlkLicpO2lmKCEodCBpbnN0YW5jZW9mIEFycmF5KXx8MD09PXQubGVuZ3RoKXRocm93IG5ldyBfcygnbW9kZWwtcG9zaXRpb24tcGF0aC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhdGggbXVzdCBiZSBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBpdGVtLicse3BhdGg6dH0pO3Q9ZS5nZXRQYXRoKCkuY29uY2F0KHQpLGU9ZS5yb290LHRoaXMucm9vdD1lLHRoaXMucGF0aD10fWdldCBvZmZzZXQoKXtyZXR1cm4gbXUodGhpcy5wYXRoKX1zZXQgb2Zmc2V0KGUpe3RoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdPWV9Z2V0IHBhcmVudCgpe2xldCBlPXRoaXMucm9vdDtmb3IobGV0IHQ9MDt0PHRoaXMucGF0aC5sZW5ndGgtMTt0KyspZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleCh0aGlzLnBhdGhbdF0pKTtyZXR1cm4gZX1nZXQgaW5kZXgoKXtyZXR1cm4gdGhpcy5wYXJlbnQub2Zmc2V0VG9JbmRleCh0aGlzLm9mZnNldCl9Z2V0IHRleHROb2RlKCl7Y29uc3QgZT10aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4KTtyZXR1cm4gZSBpbnN0YW5jZW9mIGF1JiZlLnN0YXJ0T2Zmc2V0PHRoaXMub2Zmc2V0P2U6bnVsbH1nZXQgbm9kZUFmdGVyKCl7cmV0dXJuIG51bGw9PT10aGlzLnRleHROb2RlP3RoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgpOm51bGx9Z2V0IG5vZGVCZWZvcmUoKXtyZXR1cm4gbnVsbD09PXRoaXMudGV4dE5vZGU/dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleC0xKTpudWxsfWdldCBpc0F0U3RhcnQoKXtyZXR1cm4gMD09PXRoaXMub2Zmc2V0fWdldCBpc0F0RW5kKCl7cmV0dXJuIHRoaXMub2Zmc2V0PT10aGlzLnBhcmVudC5tYXhPZmZzZXR9Y29tcGFyZVdpdGgoZSl7aWYodGhpcy5yb290IT1lLnJvb3QpcmV0dXJuJ2RpZmZlcmVudCc7Y29uc3QgdD1BKHRoaXMucGF0aCxlLnBhdGgpO3JldHVybidzYW1lJz09PXQ/J3NhbWUnOidwcmVmaXgnPT09dD8nYmVmb3JlJzonZXh0ZW5zaW9uJz09PXQ/J2FmdGVyJzp0aGlzLnBhdGhbdF08ZS5wYXRoW3RdPydiZWZvcmUnOidhZnRlcid9Z2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oZSx0PXt9KXt0LnN0YXJ0UG9zaXRpb249dGhpcztjb25zdCBvPW5ldyBjdSh0KTtyZXR1cm4gby5za2lwKGUpLG8ucG9zaXRpb259Z2V0UGFyZW50UGF0aCgpe3JldHVybiB0aGlzLnBhdGguc2xpY2UoMCwtMSl9Z2V0QW5jZXN0b3JzKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKCdkb2N1bWVudEZyYWdtZW50Jyk/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uUGF0aChlKXtpZih0aGlzLnJvb3QhPWUucm9vdClyZXR1cm5bXTtjb25zdCB0PUEodGhpcy5wYXRoLGUucGF0aCksbz0nc3RyaW5nJz09dHlwZW9mIHQ/cnModGhpcy5wYXRoLmxlbmd0aCxlLnBhdGgubGVuZ3RoKTp0O3JldHVybiB0aGlzLnBhdGguc2xpY2UoMCxvKX1nZXRDb21tb25BbmNlc3RvcihlKXtjb25zdCB0PXRoaXMuZ2V0QW5jZXN0b3JzKCksbz1lLmdldEFuY2VzdG9ycygpO2xldCBuPTA7Zm9yKDt0W25dPT1vW25dJiZ0W25dOyluKys7cmV0dXJuIDA9PW4/bnVsbDp0W24tMV19Z2V0U2hpZnRlZEJ5KGUpe2NvbnN0IHQ9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpLG89dC5vZmZzZXQrZTtyZXR1cm4gdC5vZmZzZXQ9MD5vPzA6byx0fWlzQWZ0ZXIoZSl7cmV0dXJuJ2FmdGVyJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc0JlZm9yZShlKXtyZXR1cm4nYmVmb3JlJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc0VxdWFsKGUpe3JldHVybidzYW1lJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc1RvdWNoaW5nKGUpe2xldCB0PW51bGwsbz1udWxsO2NvbnN0IG49dGhpcy5jb21wYXJlV2l0aChlKTtzd2l0Y2gobil7Y2FzZSdzYW1lJzpyZXR1cm4hMDtjYXNlJ2JlZm9yZSc6dD11dS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbz11dS5jcmVhdGVGcm9tUG9zaXRpb24oZSk7YnJlYWs7Y2FzZSdhZnRlcic6dD11dS5jcmVhdGVGcm9tUG9zaXRpb24oZSksbz11dS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMTt9Zm9yKGxldCBuPXQucGFyZW50O3QucGF0aC5sZW5ndGgrby5wYXRoLmxlbmd0aDspe2lmKHQuaXNFcXVhbChvKSlyZXR1cm4hMDtpZih0LnBhdGgubGVuZ3RoPm8ucGF0aC5sZW5ndGgpe2lmKHQub2Zmc2V0IT09bi5tYXhPZmZzZXQpcmV0dXJuITE7dC5wYXRoPXQucGF0aC5zbGljZSgwLC0xKSxuPW4ucGFyZW50LHQub2Zmc2V0Kyt9ZWxzZXtpZigwIT09by5vZmZzZXQpcmV0dXJuITE7by5wYXRoPW8ucGF0aC5zbGljZSgwLC0xKX19fV9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSx0KXtjb25zdCBvPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTtpZih0aGlzLnJvb3QhPWUucm9vdClyZXR1cm4gbztpZignc2FtZSc9PUEoZS5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtpZihlLm9mZnNldDx0aGlzLm9mZnNldCl7aWYoZS5vZmZzZXQrdD50aGlzLm9mZnNldClyZXR1cm4gbnVsbDtvLm9mZnNldC09dH19ZWxzZSBpZigncHJlZml4Jz09QShlLmdldFBhcmVudFBhdGgoKSx0aGlzLmdldFBhcmVudFBhdGgoKSkpe2NvbnN0IG49ZS5wYXRoLmxlbmd0aC0xO2lmKGUub2Zmc2V0PD10aGlzLnBhdGhbbl0pe2lmKGUub2Zmc2V0K3Q+dGhpcy5wYXRoW25dKXJldHVybiBudWxsO28ucGF0aFtuXS09dH19cmV0dXJuIG99X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LG8pe2NvbnN0IG49dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpO2lmKHRoaXMucm9vdCE9ZS5yb290KXJldHVybiBuO2lmKCdzYW1lJz09QShlLmdldFBhcmVudFBhdGgoKSx0aGlzLmdldFBhcmVudFBhdGgoKSkpKGUub2Zmc2V0PHRoaXMub2Zmc2V0fHxlLm9mZnNldD09dGhpcy5vZmZzZXQmJm8pJiYobi5vZmZzZXQrPXQpO2Vsc2UgaWYoJ3ByZWZpeCc9PUEoZS5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtjb25zdCBvPWUucGF0aC5sZW5ndGgtMTtlLm9mZnNldDw9dGhpcy5wYXRoW29dJiYobi5wYXRoW29dKz10KX1yZXR1cm4gbn1fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZSx0LG8sbixpKXtsZXQgcj10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKTtyZXR1cm4gdD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKSxyPW51bGw9PT1yfHxpJiZyLmlzRXF1YWwoZSk/dGhpcy5fZ2V0Q29tYmluZWQoZSx0KTpyLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsbyxuKSxyfV9nZXRDb21iaW5lZChlLHQpe2NvbnN0IG89ZS5wYXRoLmxlbmd0aC0xLG49dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3JldHVybiBuLm9mZnNldD1uLm9mZnNldCt0aGlzLnBhdGhbb10tZS5vZmZzZXQsbi5wYXRoPW4ucGF0aC5jb25jYXQodGhpcy5wYXRoLnNsaWNlKG8rMSkpLG59c3RhdGljIGNyZWF0ZUF0KGUsdCl7aWYoZSBpbnN0YW5jZW9mIHV1KXJldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKTtlbHNle2NvbnN0IG89ZTtpZignZW5kJz09dCl0PW8ubWF4T2Zmc2V0O2Vsc2V7aWYoJ2JlZm9yZSc9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQmVmb3JlKG8pO2lmKCdhZnRlcic9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQWZ0ZXIobyk7dHx8KHQ9MCl9cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChvLHQpfX1zdGF0aWMgY3JlYXRlQWZ0ZXIoZSl7aWYoIWUucGFyZW50KXRocm93IG5ldyBfcygnbW9kZWwtcG9zaXRpb24tYWZ0ZXItcm9vdDogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYWZ0ZXIgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUucGFyZW50LGUuZW5kT2Zmc2V0KX1zdGF0aWMgY3JlYXRlQmVmb3JlKGUpe2lmKCFlLnBhcmVudCl0aHJvdyBuZXcgX3MoJ21vZGVsLXBvc2l0aW9uLWJlZm9yZS1yb290OiBZb3UgY2Fubm90IG1ha2UgYSBwb3NpdGlvbiBiZWZvcmUgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUucGFyZW50LGUuc3RhcnRPZmZzZXQpfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUsdCl7aWYoIWUuaXMoJ2VsZW1lbnQnKSYmIWUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl0aHJvdyBuZXcgX3MoJ21vZGVsLXBvc2l0aW9uLXBhcmVudC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhcmVudCBoYXZlIHRvIGJlIGEgZWxlbWVudCBvciBkb2N1bWVudCBmcmFnbWVudC4nKTtjb25zdCBvPWUuZ2V0UGF0aCgpO3JldHVybiBvLnB1c2godCksbmV3IHRoaXMoZS5yb290LG8pfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb24oZSl7cmV0dXJuIG5ldyB0aGlzKGUucm9vdCxlLnBhdGguc2xpY2UoKSl9c3RhdGljIGZyb21KU09OKGUsdCl7aWYoJyRncmF2ZXlhcmQnPT09ZS5yb290KXJldHVybiBuZXcgdXUodC5ncmF2ZXlhcmQsZS5wYXRoKTtpZighdC5nZXRSb290KGUucm9vdCkpdGhyb3cgbmV3IF9zKCdtb2RlbC1wb3NpdGlvbi1mcm9tanNvbi1uby1yb290OiBDYW5ub3QgY3JlYXRlIHBvc2l0aW9uIGZvciBkb2N1bWVudC4gUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0Licse3Jvb3ROYW1lOmUucm9vdH0pO3JldHVybiBuZXcgdXUodC5nZXRSb290KGUucm9vdCksZS5wYXRoKX19Y2xhc3MgcHV7Y29uc3RydWN0b3IoZSx0PW51bGwpe3RoaXMuc3RhcnQ9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKGUpLHRoaXMuZW5kPXQ/dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpOnV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKX0qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCpuZXcgY3Uoe2JvdW5kYXJpZXM6dGhpcyxpZ25vcmVFbGVtZW50RW5kOiEwfSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbCh0aGlzLmVuZCl9Z2V0IGlzRmxhdCgpe3JldHVybiB0aGlzLnN0YXJ0LnBhcmVudD09PXRoaXMuZW5kLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnN0YXJ0LnJvb3R9Y29udGFpbnNQb3NpdGlvbihlKXtyZXR1cm4gZS5pc0FmdGVyKHRoaXMuc3RhcnQpJiZlLmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKGUsdD0hMSl7ZS5pc0NvbGxhcHNlZCYmKHQ9ITEpO2NvbnN0IG89dGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpfHx0JiZ0aGlzLnN0YXJ0LmlzRXF1YWwoZS5zdGFydCksbj10aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpfHx0JiZ0aGlzLmVuZC5pc0VxdWFsKGUuZW5kKTtyZXR1cm4gbyYmbn1jb250YWluc0l0ZW0oZSl7Y29uc3QgdD11dS5jcmVhdGVCZWZvcmUoZSk7cmV0dXJuIHRoaXMuY29udGFpbnNQb3NpdGlvbih0KXx8dGhpcy5zdGFydC5pc0VxdWFsKHQpfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KSYmdGhpcy5lbmQuaXNFcXVhbChlLmVuZCl9aXNJbnRlcnNlY3RpbmcoZSl7cmV0dXJuIHRoaXMuc3RhcnQuaXNCZWZvcmUoZS5lbmQpJiZ0aGlzLmVuZC5pc0FmdGVyKGUuc3RhcnQpfWdldERpZmZlcmVuY2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5pc0ludGVyc2VjdGluZyhlKT8odGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpJiZ0LnB1c2gobmV3IHB1KHRoaXMuc3RhcnQsZS5zdGFydCkpLHRoaXMuY29udGFpbnNQb3NpdGlvbihlLmVuZCkmJnQucHVzaChuZXcgcHUoZS5lbmQsdGhpcy5lbmQpKSk6dC5wdXNoKHB1LmNyZWF0ZUZyb21SYW5nZSh0aGlzKSksdH1nZXRJbnRlcnNlY3Rpb24oZSl7aWYodGhpcy5pc0ludGVyc2VjdGluZyhlKSl7bGV0IHQ9dGhpcy5zdGFydCxvPXRoaXMuZW5kO3JldHVybiB0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5zdGFydCkmJih0PWUuc3RhcnQpLHRoaXMuY29udGFpbnNQb3NpdGlvbihlLmVuZCkmJihvPWUuZW5kKSxuZXcgcHUodCxvKX1yZXR1cm4gbnVsbH1nZXRNaW5pbWFsRmxhdFJhbmdlcygpe2NvbnN0IGU9W10sdD10aGlzLnN0YXJ0LmdldENvbW1vblBhdGgodGhpcy5lbmQpLmxlbmd0aCxvPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnN0YXJ0KTtmb3IobGV0IG49by5wYXJlbnQ7by5wYXRoLmxlbmd0aD50KzE7KXtjb25zdCB0PW4ubWF4T2Zmc2V0LW8ub2Zmc2V0OzAhPXQmJmUucHVzaChuZXcgcHUobyxvLmdldFNoaWZ0ZWRCeSh0KSkpLG8ucGF0aD1vLnBhdGguc2xpY2UoMCwtMSksby5vZmZzZXQrKyxuPW4ucGFyZW50fWZvcig7by5wYXRoLmxlbmd0aDw9dGhpcy5lbmQucGF0aC5sZW5ndGg7KXtjb25zdCB0PXRoaXMuZW5kLnBhdGhbby5wYXRoLmxlbmd0aC0xXSxuPXQtby5vZmZzZXQ7MCE9biYmZS5wdXNoKG5ldyBwdShvLG8uZ2V0U2hpZnRlZEJ5KG4pKSksby5vZmZzZXQ9dCxvLnBhdGgucHVzaCgwKX1yZXR1cm4gZX1nZXRXYWxrZXIoZT17fSl7cmV0dXJuIGUuYm91bmRhcmllcz10aGlzLG5ldyBjdShlKX0qZ2V0SXRlbXMoZT17fSl7ZS5ib3VuZGFyaWVzPXRoaXMsZS5pZ25vcmVFbGVtZW50RW5kPSEwO2NvbnN0IHQ9bmV3IGN1KGUpO2Zvcihjb25zdCBvIG9mIHQpeWllbGQgby5pdGVtfSpnZXRQb3NpdGlvbnMoZT17fSl7ZS5ib3VuZGFyaWVzPXRoaXM7Y29uc3QgdD1uZXcgY3UoZSk7eWllbGQgdC5wb3NpdGlvbjtmb3IoY29uc3QgbyBvZiB0KXlpZWxkIG8ubmV4dFBvc2l0aW9ufWdldFRyYW5zZm9ybWVkQnlEZWx0YShlKXtjb25zdCB0PVtwdS5jcmVhdGVGcm9tUmFuZ2UodGhpcyldLG89bmV3IFNldChbJ2luc2VydCcsJ21vdmUnLCdyZW1vdmUnLCdyZWluc2VydCddKTtmb3IoY29uc3QgbiBvZiBlLm9wZXJhdGlvbnMpaWYoby5oYXMobi50eXBlKSlmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7bGV0IGk7aT0naW5zZXJ0Jz09bi50eXBlP3Rbb10uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShuLnR5cGUsZS50eXBlLG4ucG9zaXRpb24sbi5ub2Rlcy5tYXhPZmZzZXQpOnRbb10uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShuLnR5cGUsZS50eXBlLG4udGFyZ2V0UG9zaXRpb24sbi5ob3dNYW55LG4uc291cmNlUG9zaXRpb24pLHQuc3BsaWNlKG8sMSwuLi5pKSxvKz1pLmxlbmd0aC0xfXJldHVybiB0fWdldFRyYW5zZm9ybWVkQnlEZWx0YXMoZSl7Y29uc3QgdD1bcHUuY3JlYXRlRnJvbVJhbmdlKHRoaXMpXTtmb3IoY29uc3QgbyBvZiBlKWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV0uZ2V0VHJhbnNmb3JtZWRCeURlbHRhKG8pO3Quc3BsaWNlKGUsMSwuLi5uKSxlKz1uLmxlbmd0aC0xfWZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbb107Zm9yKGxldCBuPW8rMTtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dOyhlLmNvbnRhaW5zUmFuZ2Uobyl8fG8uY29udGFpbnNSYW5nZShlKXx8ZS5pc0VxdWFsKG8pKSYmdC5zcGxpY2UobiwxKX19cmV0dXJuIHR9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9X2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShlLHQsbyxuLGkpe2lmKCdpbnNlcnQnPT1lKXJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKG8sbiwhMSwhMSk7ZWxzZXtjb25zdCBlPXB1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGksbik7aWYoJ21lcmdlJz09dCYmdGhpcy5pc0NvbGxhcHNlZCYmKHRoaXMuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KXx8dGhpcy5zdGFydC5pc0VxdWFsKGUuZW5kKSkpe2NvbnN0IHQ9dGhpcy5zdGFydC5vZmZzZXQtZS5zdGFydC5vZmZzZXQ7cmV0dXJuW25ldyBwdShvLmdldFNoaWZ0ZWRCeSh0KSldfWlmKCdzcGxpdCc9PXQmJnRoaXMuaXNDb2xsYXBzZWQmJnRoaXMuZW5kLmlzRXF1YWwoZS5lbmQpKXJldHVybltuZXcgcHUoby5nZXRTaGlmdGVkQnkobikpXTtpZigoZS5jb250YWluc1Bvc2l0aW9uKHRoaXMuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodGhpcy5zdGFydCkpJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpJiZ0aGlzLmVuZC5pc0FmdGVyKG8pKXtjb25zdCBlPXRoaXMuc3RhcnQuX2dldENvbWJpbmVkKGksby5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGksbikpLHQ9dGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGksbyxuLCExLCExKTtyZXR1cm5bbmV3IHB1KGUsdCldfWlmKChlLmNvbnRhaW5zUG9zaXRpb24odGhpcy5lbmQpfHxlLmVuZC5pc0VxdWFsKHRoaXMuZW5kKSkmJnRoaXMuY29udGFpbnNQb3NpdGlvbihlLnN0YXJ0KSYmdGhpcy5zdGFydC5pc0JlZm9yZShvKSl7Y29uc3QgZT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShpLG8sbiwhMCwhMSksdD10aGlzLmVuZC5fZ2V0Q29tYmluZWQoaSxvLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oaSxuKSk7cmV0dXJuW25ldyBwdShlLHQpXX1yZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoaSxvLG4pfX1fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLHQsbz0hMSxuPSExKXtpZihvJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSkpcmV0dXJuW25ldyBwdSh0aGlzLnN0YXJ0LGUpLG5ldyBwdShlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUsdCwhMCksdGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LHRoaXMuaXNDb2xsYXBzZWQpKV07ZWxzZXtjb25zdCBvPXB1LmNyZWF0ZUZyb21SYW5nZSh0aGlzKSxpPSEhby5pc0NvbGxhcHNlZHx8bjtyZXR1cm4gby5zdGFydD1vLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUsdCwhbiksby5lbmQ9by5lbmQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LGkpLFtvXX19X2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUsdCxvKXtpZih0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBuPXRoaXMuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUsdCxvLCEwLCExKTtyZXR1cm5bbmV3IHB1KG4pXX1sZXQgbjtjb25zdCBpPW5ldyBwdShlLGUuZ2V0U2hpZnRlZEJ5KG8pKSxyPXRoaXMuZ2V0RGlmZmVyZW5jZShpKTtsZXQgYT1udWxsO2NvbnN0IHM9dGhpcy5nZXRJbnRlcnNlY3Rpb24oaSk7MT09ci5sZW5ndGg/YT1uZXcgcHUoclswXS5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUsbyksclswXS5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLG8pKToyPT1yLmxlbmd0aCYmKGE9bmV3IHB1KHRoaXMuc3RhcnQsdGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLG8pKSk7Y29uc3QgbD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKTtyZXR1cm4gbj1hP2EuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24obCxvLG51bGwhPT1zKTpbXSxzJiZuLnB1c2gobmV3IHB1KHMuc3RhcnQuX2dldENvbWJpbmVkKGkuc3RhcnQsbCkscy5lbmQuX2dldENvbWJpbmVkKGkuc3RhcnQsbCkpKSxufXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLHQpe2NvbnN0IG89ZSxuPWUuZ2V0U2hpZnRlZEJ5KHQpO3JldHVybiAwPHQ/bmV3IHRoaXMobyxuKTpuZXcgdGhpcyhuLG8pfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0LG8sbil7cmV0dXJuIG5ldyB0aGlzKHV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoZSx0KSx1dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG8sbikpfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2UoZSl7cmV0dXJuIG5ldyB0aGlzKGUuc3RhcnQsZS5lbmQpfXN0YXRpYyBjcmVhdGVJbihlKXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSwwLGUsZS5tYXhPZmZzZXQpfXN0YXRpYyBjcmVhdGVPbihlKXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh1dS5jcmVhdGVCZWZvcmUoZSksZS5vZmZzZXRTaXplKX1zdGF0aWMgY3JlYXRlQ29sbGFwc2VkQXQoZSx0KXtjb25zdCBvPXV1LmNyZWF0ZUF0KGUsdCksbj11dS5jcmVhdGVGcm9tUG9zaXRpb24obyk7cmV0dXJuIG5ldyBwdShvLG4pfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2VzKGUpe2lmKDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgX3MoJ3JhbmdlLWNyZWF0ZS1mcm9tLXJhbmdlcy1lbXB0eS1hcnJheTogQXQgbGVhc3Qgb25lIHJhbmdlIGhhcyB0byBiZSBwYXNzZWQuJyk7ZWxzZSBpZigxPT1lLmxlbmd0aClyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUmFuZ2UoZVswXSk7Y29uc3QgdD1lWzBdO2Uuc29ydCgoZSx0KT0+ZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpPzE6LTEpO2NvbnN0IG89ZS5pbmRleE9mKHQpLG49bmV3IHRoaXModC5zdGFydCx0LmVuZCk7Zm9yKGxldCB0PW8tMTswPD10JiZlW3RdLmVuZC5pc0VxdWFsKG4uc3RhcnQpO3QrKyluLnN0YXJ0PXV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlW3RdLnN0YXJ0KTtmb3IobGV0IHQ9bysxO3Q8ZS5sZW5ndGgmJmVbdF0uc3RhcnQuaXNFcXVhbChuLmVuZCk7dCsrKW4uZW5kPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlW3RdLmVuZCk7cmV0dXJuIG59c3RhdGljIGZyb21KU09OKGUsdCl7cmV0dXJuIG5ldyB0aGlzKHV1LmZyb21KU09OKGUuc3RhcnQsdCksdXUuZnJvbUpTT04oZS5lbmQsdCkpfX1jbGFzcyBndXtjb25zdHJ1Y3Rvcigpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3M9bmV3IE1hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwLHRoaXMub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLChlLHQpPT57aWYoIXQudmlld1Bvc2l0aW9uKXtjb25zdCBlPXRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQodC5tb2RlbFBvc2l0aW9uLnBhcmVudCk7dC52aWV3UG9zaXRpb249dGhpcy5fZmluZFBvc2l0aW9uSW4oZSx0Lm1vZGVsUG9zaXRpb24ub2Zmc2V0KX19LHtwcmlvcml0eTonbG93J30pLHRoaXMub24oJ3ZpZXdUb01vZGVsUG9zaXRpb24nLChlLHQpPT57aWYodC5tb2RlbFBvc2l0aW9uKXJldHVybjtsZXQgbz10LnZpZXdQb3NpdGlvbi5wYXJlbnQsbj10aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KG8pO2Zvcig7IW47KW89by5wYXJlbnQsbj10aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KG8pO2NvbnN0IGk9dGhpcy5fdG9Nb2RlbE9mZnNldCh0LnZpZXdQb3NpdGlvbi5wYXJlbnQsdC52aWV3UG9zaXRpb24ub2Zmc2V0LG8pO3QubW9kZWxQb3NpdGlvbj11dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG4saSl9LHtwcmlvcml0eTonbG93J30pfWJpbmRFbGVtZW50cyhlLHQpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5zZXQoZSx0KSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuc2V0KHQsZSl9dW5iaW5kVmlld0VsZW1lbnQoZSl7Y29uc3QgdD10aGlzLnRvTW9kZWxFbGVtZW50KGUpO3RoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUoZSksdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmdldCh0KT09ZSYmdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZSh0KX11bmJpbmRNb2RlbEVsZW1lbnQoZSl7Y29uc3QgdD10aGlzLnRvVmlld0VsZW1lbnQoZSk7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZShlKSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KHQpPT1lJiZ0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZGVsZXRlKHQpfWJpbmRFbGVtZW50VG9NYXJrZXIoZSx0KXtjb25zdCBvPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldCh0KXx8bmV3IFNldDtvLmFkZChlKSx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5zZXQodCxvKX11bmJpbmRFbGVtZW50c0Zyb21NYXJrZXJOYW1lKGUpe3RoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmRlbGV0ZShlKX1jbGVhckJpbmRpbmdzKCl7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwfXRvTW9kZWxFbGVtZW50KGUpe3JldHVybiB0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KGUpfXRvVmlld0VsZW1lbnQoZSl7cmV0dXJuIHRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQoZSl9dG9Nb2RlbFJhbmdlKGUpe3JldHVybiBuZXcgcHUodGhpcy50b01vZGVsUG9zaXRpb24oZS5zdGFydCksdGhpcy50b01vZGVsUG9zaXRpb24oZS5lbmQpKX10b1ZpZXdSYW5nZShlKXtyZXR1cm4gbmV3IFVjKHRoaXMudG9WaWV3UG9zaXRpb24oZS5zdGFydCksdGhpcy50b1ZpZXdQb3NpdGlvbihlLmVuZCkpfXRvTW9kZWxQb3NpdGlvbihlKXtjb25zdCB0PXt2aWV3UG9zaXRpb246ZSxtYXBwZXI6dGhpc307cmV0dXJuIHRoaXMuZmlyZSgndmlld1RvTW9kZWxQb3NpdGlvbicsdCksdC5tb2RlbFBvc2l0aW9ufXRvVmlld1Bvc2l0aW9uKGUsdD17aXNQaGFudG9tOiExfSl7Y29uc3Qgbz17bW9kZWxQb3NpdGlvbjplLG1hcHBlcjp0aGlzLGlzUGhhbnRvbTp0LmlzUGhhbnRvbX07cmV0dXJuIHRoaXMuZmlyZSgnbW9kZWxUb1ZpZXdQb3NpdGlvbicsbyksby52aWV3UG9zaXRpb259bWFya2VyTmFtZVRvRWxlbWVudHMoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5nZXQoZSk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgbz1uZXcgU2V0O2Zvcihjb25zdCBuIG9mIHQpaWYobi5pcygnYXR0cmlidXRlRWxlbWVudCcpKWZvcihjb25zdCBlIG9mIG4uZ2V0RWxlbWVudHNXaXRoU2FtZUlkKCkpby5hZGQoZSk7ZWxzZSBvLmFkZChuKTtyZXR1cm4gb31yZWdpc3RlclZpZXdUb01vZGVsTGVuZ3RoKGUsdCl7dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3Muc2V0KGUsdCl9X3RvTW9kZWxPZmZzZXQoZSx0LG8pe2lmKG8hPWUpe2NvbnN0IG49dGhpcy5fdG9Nb2RlbE9mZnNldChlLnBhcmVudCxlLmluZGV4LG8pLGk9dGhpcy5fdG9Nb2RlbE9mZnNldChlLHQsZSk7cmV0dXJuIG4raX1pZihlLmlzKCd0ZXh0JykpcmV0dXJuIHQ7bGV0IG49MDtmb3IobGV0IHI9MDtyPHQ7cisrKW4rPXRoaXMuZ2V0TW9kZWxMZW5ndGgoZS5nZXRDaGlsZChyKSk7cmV0dXJuIG59Z2V0TW9kZWxMZW5ndGgoZSl7aWYodGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KGUubmFtZSkpe2NvbnN0IHQ9dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KGUubmFtZSk7cmV0dXJuIHQoZSl9aWYodGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmhhcyhlKSlyZXR1cm4gMTtpZihlLmlzKCd0ZXh0JykpcmV0dXJuIGUuZGF0YS5sZW5ndGg7aWYoZS5pcygndWlFbGVtZW50JykpcmV0dXJuIDA7ZWxzZXtsZXQgdD0wO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hpbGRyZW4oKSl0Kz10aGlzLmdldE1vZGVsTGVuZ3RoKG8pO3JldHVybiB0fX1fZmluZFBvc2l0aW9uSW4oZSx0KXtsZXQgbz0wLG49MCxpPTAscjtpZihlLmlzKCd0ZXh0JykpcmV0dXJuIG5ldyBXYyhlLHQpO2Zvcig7bjx0OylyPWUuZ2V0Q2hpbGQoaSksbz10aGlzLmdldE1vZGVsTGVuZ3RoKHIpLG4rPW8saSsrO3JldHVybiBuPT10P3RoaXMuX21vdmVWaWV3UG9zaXRpb25Ub1RleHROb2RlKG5ldyBXYyhlLGkpKTp0aGlzLl9maW5kUG9zaXRpb25JbihyLHQtKG4tbykpfV9tb3ZlVmlld1Bvc2l0aW9uVG9UZXh0Tm9kZShlKXtjb25zdCB0PWUubm9kZUJlZm9yZSxvPWUubm9kZUFmdGVyO2lmKHQgaW5zdGFuY2VvZiBRZClyZXR1cm4gbmV3IFdjKHQsdC5kYXRhLmxlbmd0aCk7cmV0dXJuIG8gaW5zdGFuY2VvZiBRZD9uZXcgV2MobywwKTplfX1mKGd1LFBzKTtjbGFzcyBmdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGU9bmV3IE1hcCx0aGlzLl90ZXh0UHJveHlSZWdpc3RyeT1uZXcgTWFwfWFkZChlLHQpe3Q9ZnQodCksZSBpbnN0YW5jZW9mIHN1JiYoZT10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSkpLHRoaXMuX2NvbnN1bWFibGUuaGFzKGUpfHx0aGlzLl9jb25zdW1hYmxlLnNldChlLG5ldyBNYXApLHRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpLnNldCh0LCEwKX1jb25zdW1lKGUsdCl7cmV0dXJuIHQ9ZnQodCksZSBpbnN0YW5jZW9mIHN1JiYoZT10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSkpLCEhdGhpcy50ZXN0KGUsdCkmJih0aGlzLl9jb25zdW1hYmxlLmdldChlKS5zZXQodCwhMSksITApfXRlc3QoZSx0KXt0PWZ0KHQpLGUgaW5zdGFuY2VvZiBzdSYmKGU9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KGUpKTtjb25zdCBvPXRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpO2lmKG89PT12b2lkIDApcmV0dXJuIG51bGw7Y29uc3Qgbj1vLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09bj9udWxsOm59cmV2ZXJ0KGUsdCl7dD1mdCh0KSxlIGluc3RhbmNlb2Ygc3UmJihlPXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eShlKSk7Y29uc3Qgbz10aGlzLnRlc3QoZSx0KTtyZXR1cm4hMT09PW8/KHRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpLnNldCh0LCEwKSwhMCk6ITAhPT1vJiZudWxsfV9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSl7bGV0IHQ9bnVsbDtjb25zdCBvPXRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5LmdldChlLnN0YXJ0T2Zmc2V0KTtpZihvKXtjb25zdCBuPW8uZ2V0KGUuZW5kT2Zmc2V0KTtuJiYodD1uLmdldChlLnBhcmVudCkpfXJldHVybiB0fHwodD10aGlzLl9hZGRTeW1ib2xGb3JUZXh0UHJveHkoZS5zdGFydE9mZnNldCxlLmVuZE9mZnNldCxlLnBhcmVudCkpLHR9X2FkZFN5bWJvbEZvclRleHRQcm94eShlLHQsbyl7Y29uc3Qgbj1TeW1ib2woJ3RleHRQcm94eVN5bWJvbCcpO2xldCBpLHI7cmV0dXJuIGk9dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuZ2V0KGUpLGl8fChpPW5ldyBNYXAsdGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuc2V0KGUsaSkpLHI9aS5nZXQodCkscnx8KHI9bmV3IE1hcCxpLnNldCh0LHIpKSxyLnNldChvLG4pLG59fWNsYXNzIGh1e2NvbnN0cnVjdG9yKGU9e30pe3RoaXMuY29udmVyc2lvbkFwaT1SYyh7ZGlzcGF0Y2hlcjp0aGlzfSxlKX1jb252ZXJ0Q2hhbmdlcyhlLHQpe2Zvcihjb25zdCBvIG9mIGUuZ2V0TWFya2Vyc1RvUmVtb3ZlKCkpdGhpcy5jb252ZXJ0TWFya2VyUmVtb3ZlKG8ubmFtZSxvLnJhbmdlLHQpO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hhbmdlcygpKSdpbnNlcnQnPT1vLnR5cGU/dGhpcy5jb252ZXJ0SW5zZXJ0KHB1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG8ucG9zaXRpb24sby5sZW5ndGgpLHQpOidyZW1vdmUnPT1vLnR5cGU/dGhpcy5jb252ZXJ0UmVtb3ZlKG8ucG9zaXRpb24sby5sZW5ndGgsby5uYW1lLHQpOnRoaXMuY29udmVydEF0dHJpYnV0ZShvLnJhbmdlLG8uYXR0cmlidXRlS2V5LG8uYXR0cmlidXRlT2xkVmFsdWUsby5hdHRyaWJ1dGVOZXdWYWx1ZSx0KTtmb3IoY29uc3QgbyBvZiBlLmdldE1hcmtlcnNUb0FkZCgpKXRoaXMuY29udmVydE1hcmtlckFkZChvLm5hbWUsby5yYW5nZSx0KX1jb252ZXJ0SW5zZXJ0KGUsdCl7dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj10LHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUluc2VydENvbnN1bWFibGUoZSk7Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1vLml0ZW0sdD1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChvLnByZXZpb3VzUG9zaXRpb24sby5sZW5ndGgpLG49e2l0ZW06ZSxyYW5nZTp0fTt0aGlzLl90ZXN0QW5kRmlyZSgnaW5zZXJ0JyxuKTtmb3IoY29uc3QgdCBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSluLmF0dHJpYnV0ZUtleT10LG4uYXR0cmlidXRlT2xkVmFsdWU9bnVsbCxuLmF0dHJpYnV0ZU5ld1ZhbHVlPWUuZ2V0QXR0cmlidXRlKHQpLHRoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHt0fWAsbil9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFJlbW92ZShlLHQsbyxuKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW4sdGhpcy5maXJlKCdyZW1vdmU6JytvLHtwb3NpdGlvbjplLGxlbmd0aDp0fSx0aGlzLmNvbnZlcnNpb25BcGkpLHRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRBdHRyaWJ1dGUoZSx0LG8sbixpKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKGUsYGF0dHJpYnV0ZToke3R9YCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLml0ZW0saT1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChyLnByZXZpb3VzUG9zaXRpb24sci5sZW5ndGgpO3RoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHt0fWAse2l0ZW06ZSxyYW5nZTppLGF0dHJpYnV0ZUtleTp0LGF0dHJpYnV0ZU9sZFZhbHVlOm8sYXR0cmlidXRlTmV3VmFsdWU6bn0pfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRTZWxlY3Rpb24oZSx0LG8pe2NvbnN0IG49QXJyYXkuZnJvbSh0LmdldE1hcmtlcnNBdFBvc2l0aW9uKGUuZ2V0Rmlyc3RQb3NpdGlvbigpKSk7aWYodGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1vLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUoZSxuKSx0aGlzLmZpcmUoJ3NlbGVjdGlvbicse3NlbGVjdGlvbjplfSx0aGlzLmNvbnZlcnNpb25BcGkpLCEhZS5pc0NvbGxhcHNlZCl7Zm9yKGNvbnN0IHQgb2Ygbil7Y29uc3Qgbz10LmdldFJhbmdlKCk7aWYoIWh0KGUuZ2V0Rmlyc3RQb3NpdGlvbigpLHQsdGhpcy5jb252ZXJzaW9uQXBpLm1hcHBlcikpY29udGludWU7Y29uc3Qgbj17aXRlbTplLG1hcmtlck5hbWU6dC5uYW1lLG1hcmtlclJhbmdlOm99O3RoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZSwnYWRkTWFya2VyOicrdC5uYW1lKSYmdGhpcy5maXJlKCdhZGRNYXJrZXI6Jyt0Lm5hbWUsbix0aGlzLmNvbnZlcnNpb25BcGkpfWZvcihjb25zdCB0IG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKXtjb25zdCBvPXtpdGVtOmUscmFuZ2U6ZS5nZXRGaXJzdFJhbmdlKCksYXR0cmlidXRlS2V5OnQsYXR0cmlidXRlT2xkVmFsdWU6bnVsbCxhdHRyaWJ1dGVOZXdWYWx1ZTplLmdldEF0dHJpYnV0ZSh0KX07dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdChlLCdhdHRyaWJ1dGU6JytvLmF0dHJpYnV0ZUtleSkmJnRoaXMuZmlyZSgnYXR0cmlidXRlOicrby5hdHRyaWJ1dGVLZXksbyx0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfX1jb252ZXJ0TWFya2VyQWRkKGUsdCxvKXtpZih0LnJvb3QuZG9jdW1lbnQmJickZ3JhdmV5YXJkJyE9dC5yb290LnJvb3ROYW1lKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW87Y29uc3Qgbj0nYWRkTWFya2VyOicrZTtpZih0LmlzQ29sbGFwc2VkKXtjb25zdCBvPW5ldyBmdTtyZXR1cm4gby5hZGQodCxuKSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT1vLHZvaWQgdGhpcy5maXJlKG4se21hcmtlck5hbWU6ZSxtYXJrZXJSYW5nZTp0fSx0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUNvbnN1bWFibGVGb3JSYW5nZSh0LG4pO2Zvcihjb25zdCBvIG9mIHQuZ2V0SXRlbXMoKSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QobyxuKSljb250aW51ZTtjb25zdCBpPXtpdGVtOm8scmFuZ2U6cHUuY3JlYXRlT24obyksbWFya2VyTmFtZTplLG1hcmtlclJhbmdlOnR9O3RoaXMuZmlyZShuLGksdGhpcy5jb252ZXJzaW9uQXBpKX10aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX19Y29udmVydE1hcmtlclJlbW92ZShlLHQsbyl7dC5yb290LmRvY3VtZW50JiYnJGdyYXZleWFyZCchPXQucm9vdC5yb290TmFtZSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9byx0aGlzLmZpcmUoJ3JlbW92ZU1hcmtlcjonK2Use21hcmtlck5hbWU6ZSxtYXJrZXJSYW5nZTp0fSx0aGlzLmNvbnZlcnNpb25BcGkpLHRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpKX1fY3JlYXRlSW5zZXJ0Q29uc3VtYWJsZShlKXtjb25zdCB0PW5ldyBmdTtmb3IoY29uc3QgbyBvZiBlKXtjb25zdCBlPW8uaXRlbTt0LmFkZChlLCdpbnNlcnQnKTtmb3IoY29uc3QgbyBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSl0LmFkZChlLCdhdHRyaWJ1dGU6JytvKX1yZXR1cm4gdH1fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKGUsdCl7Y29uc3Qgbz1uZXcgZnU7Zm9yKGNvbnN0IG4gb2YgZS5nZXRJdGVtcygpKW8uYWRkKG4sdCk7cmV0dXJuIG99X2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUoZSx0KXtjb25zdCBvPW5ldyBmdTtvLmFkZChlLCdzZWxlY3Rpb24nKTtmb3IoY29uc3QgbiBvZiB0KW8uYWRkKGUsJ2FkZE1hcmtlcjonK24ubmFtZSk7Zm9yKGNvbnN0IG4gb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpby5hZGQoZSwnYXR0cmlidXRlOicrbik7cmV0dXJuIG99X3Rlc3RBbmRGaXJlKGUsdCl7aWYodGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdCh0Lml0ZW0sZSkpe2NvbnN0IG89dC5pdGVtLm5hbWV8fCckdGV4dCc7dGhpcy5maXJlKGUrJzonK28sdCx0aGlzLmNvbnZlcnNpb25BcGkpfX1fY2xlYXJDb252ZXJzaW9uQXBpKCl7ZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIsZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlfX1mKGh1LFBzKTtjbGFzcyBidXtjb25zdHJ1Y3RvcihlLHQsbyl7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITEsdGhpcy5fcmFuZ2VzPVtdLHRoaXMuX2F0dHJzPW5ldyBNYXAsZSYmdGhpcy5zZXRUbyhlLHQsbyl9Z2V0IGFuY2hvcigpe2lmKDA8dGhpcy5fcmFuZ2VzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXTtyZXR1cm4gdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ/ZS5lbmQ6ZS5zdGFydH1yZXR1cm4gbnVsbH1nZXQgZm9jdXMoKXtpZigwPHRoaXMuX3Jhbmdlcy5sZW5ndGgpe2NvbnN0IGU9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07cmV0dXJuIHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP2Uuc3RhcnQ6ZS5lbmR9cmV0dXJuIG51bGx9Z2V0IGlzQ29sbGFwc2VkKCl7Y29uc3QgZT10aGlzLl9yYW5nZXMubGVuZ3RoO3JldHVybiEoMSE9PWUpJiZ0aGlzLl9yYW5nZXNbMF0uaXNDb2xsYXBzZWR9Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiF0aGlzLmlzQ29sbGFwc2VkJiZ0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZH1pc0VxdWFsKGUpe2lmKHRoaXMucmFuZ2VDb3VudCE9ZS5yYW5nZUNvdW50KXJldHVybiExO2lmKDA9PT10aGlzLnJhbmdlQ291bnQpcmV0dXJuITA7aWYoIXRoaXMuYW5jaG9yLmlzRXF1YWwoZS5hbmNob3IpfHwhdGhpcy5mb2N1cy5pc0VxdWFsKGUuZm9jdXMpKXJldHVybiExO2Zvcihjb25zdCB0IG9mIHRoaXMuX3Jhbmdlcyl7bGV0IG89ITE7Zm9yKGNvbnN0IG4gb2YgZS5fcmFuZ2VzKWlmKHQuaXNFcXVhbChuKSl7bz0hMDticmVha31pZighbylyZXR1cm4hMX1yZXR1cm4hMH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXlpZWxkIHB1LmNyZWF0ZUZyb21SYW5nZShlKX1nZXRGaXJzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpKSYmKGU9dCk7cmV0dXJuIGU/cHUuY3JlYXRlRnJvbVJhbmdlKGUpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LmVuZC5pc0FmdGVyKGUuZW5kKSkmJihlPXQpO3JldHVybiBlP3B1LmNyZWF0ZUZyb21SYW5nZShlKTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiBlP3V1LmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0KTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gZT91dS5jcmVhdGVGcm9tUG9zaXRpb24oZS5lbmQpOm51bGx9c2V0VG8oZSx0LG8pe2lmKG51bGw9PT1lKXRoaXMuX3NldFJhbmdlcyhbXSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgYnUpdGhpcy5fc2V0UmFuZ2VzKGUuZ2V0UmFuZ2VzKCksZS5pc0JhY2t3YXJkKTtlbHNlIGlmKGUmJidmdW5jdGlvbic9PXR5cGVvZiBlLmdldFJhbmdlcyl0aGlzLl9zZXRSYW5nZXMoZS5nZXRSYW5nZXMoKSxlLmlzQmFja3dhcmQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHB1KXRoaXMuX3NldFJhbmdlcyhbZV0sISF0JiYhIXQuYmFja3dhcmQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHV1KXRoaXMuX3NldFJhbmdlcyhbbmV3IHB1KGUpXSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcnUpe2NvbnN0IG49ISFvJiYhIW8uYmFja3dhcmQ7bGV0IGk7aWYoJ2luJz09dClpPXB1LmNyZWF0ZUluKGUpO2Vsc2UgaWYoJ29uJz09dClpPXB1LmNyZWF0ZU9uKGUpO2Vsc2UgaWYodCE9PXZvaWQgMClpPXB1LmNyZWF0ZUNvbGxhcHNlZEF0KGUsdCk7ZWxzZSB0aHJvdyBuZXcgX3MoJ21vZGVsLXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBzZWxlY3Rpb24uc2V0VG8gcmVxdWlyZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgbm9kZS4nKTt0aGlzLl9zZXRSYW5nZXMoW2ldLG4pfWVsc2UgaWYoUChlKSl0aGlzLl9zZXRSYW5nZXMoZSx0JiYhIXQuYmFja3dhcmQpO2Vsc2UgdGhyb3cgbmV3IF9zKCdtb2RlbC1zZWxlY3Rpb24tc2V0VG8tbm90LXNlbGVjdGFibGU6IENhbm5vdCBzZXQgc2VsZWN0aW9uIHRvIGdpdmVuIHBsYWNlLicpfV9zZXRSYW5nZXMoZSx0PSExKXtlPUFycmF5LmZyb20oZSk7Y29uc3Qgbz1lLnNvbWUoKGUpPT57aWYoIShlIGluc3RhbmNlb2YgcHUpKXRocm93IG5ldyBfcygnbW9kZWwtc2VsZWN0aW9uLWFkZGVkLW5vdC1yYW5nZTogVHJ5aW5nIHRvIGFkZCBhbiBvYmplY3QgdGhhdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgUmFuZ2UuJyk7cmV0dXJuIHRoaXMuX3Jhbmdlcy5ldmVyeSgodCk9PiF0LmlzRXF1YWwoZSkpfSk7aWYoZS5sZW5ndGghPT10aGlzLl9yYW5nZXMubGVuZ3RofHxvKXt0aGlzLl9yZW1vdmVBbGxSYW5nZXMoKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3B1c2hSYW5nZSh0KTt0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIXQsdGhpcy5maXJlKCdjaGFuZ2U6cmFuZ2UnLHtkaXJlY3RDaGFuZ2U6ITB9KX19c2V0Rm9jdXMoZSx0KXtpZihudWxsPT09dGhpcy5hbmNob3IpdGhyb3cgbmV3IF9zKCdtb2RlbC1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi4nKTtjb25zdCBvPXV1LmNyZWF0ZUF0KGUsdCk7aWYoJ3NhbWUnIT1vLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXtjb25zdCBlPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5sZW5ndGgmJnRoaXMuX3BvcFJhbmdlKCksJ2JlZm9yZSc9PW8uY29tcGFyZVdpdGgoZSk/KHRoaXMuX3B1c2hSYW5nZShuZXcgcHUobyxlKSksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITApOih0aGlzLl9wdXNoUmFuZ2UobmV3IHB1KGUsbykpLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExKSx0aGlzLmZpcmUoJ2NoYW5nZTpyYW5nZScse2RpcmVjdENoYW5nZTohMH0pfX1nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmdldChlKX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmVudHJpZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmtleXMoKX1oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyhlKX1yZW1vdmVBdHRyaWJ1dGUoZSl7dGhpcy5oYXNBdHRyaWJ1dGUoZSkmJih0aGlzLl9hdHRycy5kZWxldGUoZSksdGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpbZV0sZGlyZWN0Q2hhbmdlOiEwfSkpfXNldEF0dHJpYnV0ZShlLHQpe3RoaXMuZ2V0QXR0cmlidXRlKGUpIT09dCYmKHRoaXMuX2F0dHJzLnNldChlLHQpLHRoaXMuZmlyZSgnY2hhbmdlOmF0dHJpYnV0ZScse2F0dHJpYnV0ZUtleXM6W2VdLGRpcmVjdENoYW5nZTohMH0pKX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRGaXJzdFJhbmdlKCksdD1lLnN0YXJ0Lm5vZGVBZnRlcixvPWUuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIHQgaW5zdGFuY2VvZiBkdSYmdD09bz90Om51bGx9KmdldFNlbGVjdGVkQmxvY2tzKCl7Y29uc3QgZT1uZXcgV2Vha1NldDtmb3IoY29uc3QgdCBvZiB0aGlzLmdldFJhbmdlcygpKXtjb25zdCBvPWt0KHQuc3RhcnQsZSk7byYmKHlpZWxkIG8pO2Zvcihjb25zdCBvIG9mIHQuZ2V0V2Fsa2VyKCkpJ2VsZW1lbnRFbmQnPT1vLnR5cGUmJmJ0KG8uaXRlbSxlKSYmKHlpZWxkIG8uaXRlbSk7Y29uc3Qgbj1rdCh0LmVuZCxlKTtuJiYhdC5lbmQuaXNUb3VjaGluZyh1dS5jcmVhdGVBdChuKSkmJih5aWVsZCBuKX19Y29udGFpbnNFbnRpcmVDb250ZW50KGU9dGhpcy5hbmNob3Iucm9vdCl7Y29uc3QgdD11dS5jcmVhdGVBdChlKSxvPXV1LmNyZWF0ZUF0KGUsJ2VuZCcpO3JldHVybiB0LmlzVG91Y2hpbmcodGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkpJiZvLmlzVG91Y2hpbmcodGhpcy5nZXRMYXN0UG9zaXRpb24oKSl9X3B1c2hSYW5nZShlKXt0aGlzLl9jaGVja1JhbmdlKGUpLHRoaXMuX3Jhbmdlcy5wdXNoKHB1LmNyZWF0ZUZyb21SYW5nZShlKSl9X2NoZWNrUmFuZ2UoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yYW5nZXMubGVuZ3RoO3QrKylpZihlLmlzSW50ZXJzZWN0aW5nKHRoaXMuX3Jhbmdlc1t0XSkpdGhyb3cgbmV3IF9zKCdtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgZnJvbSBzZWxlY3Rpb24uJyx7YWRkZWRSYW5nZTplLGludGVyc2VjdGluZ1JhbmdlOnRoaXMuX3Jhbmdlc1t0XX0pfV9yZW1vdmVBbGxSYW5nZXMoKXtmb3IoOzA8dGhpcy5fcmFuZ2VzLmxlbmd0aDspdGhpcy5fcG9wUmFuZ2UoKX1fcG9wUmFuZ2UoKXt0aGlzLl9yYW5nZXMucG9wKCl9fWYoYnUsUHMpO2NsYXNzIGt1IGV4dGVuZHMgcHV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLF90LmNhbGwodGhpcyl9ZGV0YWNoKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fWYoa3UsUHMpO2NvbnN0IF91PSdzZWxlY3Rpb246JztjbGFzcyB3dXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zZWxlY3Rpb249bmV3IHZ1KGUpLHRoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZSgnY2hhbmdlOnJhbmdlJykudG8odGhpcyksdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKCdjaGFuZ2U6YXR0cmlidXRlJykudG8odGhpcyl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmhhc093blJhbmdlfWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0dyYXZpdHlPdmVycmlkZGVufWdldCBfcmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5fcmFuZ2VzfWdldFJhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VzKCl9Z2V0Rmlyc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpfWdldExhc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCl9Z2V0Rmlyc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFJhbmdlKCl9Z2V0U2VsZWN0ZWRCbG9ja3MoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1jb250YWluc0VudGlyZUNvbnRlbnQoZSl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQoZSl9ZGVzdHJveSgpe3RoaXMuX3NlbGVjdGlvbi5kZXN0cm95KCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoZSl9aGFzQXR0cmlidXRlKGUpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzQXR0cmlidXRlKGUpfV9zZXRGb2N1cyhlLHQpe3RoaXMuX3NlbGVjdGlvbi5zZXRGb2N1cyhlLHQpfV9zZXRUbyhlLHQsbyl7dGhpcy5fc2VsZWN0aW9uLnNldFRvKGUsdCxvKX1fc2V0QXR0cmlidXRlKGUsdCl7dGhpcy5fc2VsZWN0aW9uLnNldEF0dHJpYnV0ZShlLHQpfV9yZW1vdmVBdHRyaWJ1dGUoZSl7dGhpcy5fc2VsZWN0aW9uLnJlbW92ZUF0dHJpYnV0ZShlKX1fZ2V0U3RvcmVkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX2dldFN0b3JlZEF0dHJpYnV0ZXMoKX1fb3ZlcnJpZGVHcmF2aXR5KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5vdmVycmlkZUdyYXZpdHkoKX1fcmVzdG9yZUdyYXZpdHkoZSl7dGhpcy5fc2VsZWN0aW9uLnJlc3RvcmVHcmF2aXR5KGUpfXN0YXRpYyBfZ2V0U3RvcmVBdHRyaWJ1dGVLZXkoZSl7cmV0dXJuIF91K2V9c3RhdGljIF9pc1N0b3JlQXR0cmlidXRlS2V5KGUpe3JldHVybiBlLnN0YXJ0c1dpdGgoX3UpfX1mKHd1LFBzKTtjbGFzcyB2dSBleHRlbmRzIGJ1e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbW9kZWw9ZS5tb2RlbCx0aGlzLl9kb2N1bWVudD1lLHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YT1bXSx0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITEsdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlcj1uZXcgU2V0LHRoaXMub24oJ2NoYW5nZTpyYW5nZScsKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLmdldFJhbmdlcygpKWlmKCF0aGlzLl9kb2N1bWVudC5fdmFsaWRhdGVTZWxlY3Rpb25SYW5nZShlKSl0aHJvdyBuZXcgX3MoJ2RvY3VtZW50LXNlbGVjdGlvbi13cm9uZy1wb3NpdGlvbjogUmFuZ2UgZnJvbSBkb2N1bWVudCBzZWxlY3Rpb24gc3RhcnRzIG9yIGVuZHMgYXQgaW5jb3JyZWN0IHBvc2l0aW9uLicse3JhbmdlOmV9KX0pLHRoaXMubGlzdGVuVG8odGhpcy5fZG9jdW1lbnQsJ2NoYW5nZScsKGUsdCk9Pnt0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKCExKSx5dCh0aGlzLl9tb2RlbCx0KX0pLHRoaXMubGlzdGVuVG8odGhpcy5fbW9kZWwsJ2FwcGx5T3BlcmF0aW9uJywoKT0+e2Zvcig7dGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5sZW5ndGg7KXtjb25zdHtsaXZlUmFuZ2U6ZSxzb3VyY2VQb3NpdGlvbjp0fT10aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhLnNoaWZ0KCk7dGhpcy5fZml4R3JhdmV5YXJkU2VsZWN0aW9uKGUsdCl9dGhpcy5faGFzQ2hhbmdlZFJhbmdlJiYodGhpcy5faGFzQ2hhbmdlZFJhbmdlPSExLHRoaXMuZmlyZSgnY2hhbmdlOnJhbmdlJyx7ZGlyZWN0Q2hhbmdlOiExfSkpfSx7cHJpb3JpdHk6J2xvd2VzdCd9KX1nZXQgaXNDb2xsYXBzZWQoKXtjb25zdCBlPXRoaXMuX3Jhbmdlcy5sZW5ndGg7cmV0dXJuIDA9PT1lP3RoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKS5pc0NvbGxhcHNlZDpzdXBlci5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHN1cGVyLmFuY2hvcnx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLnN0YXJ0fWdldCBmb2N1cygpe3JldHVybiBzdXBlci5mb2N1c3x8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmVuZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX3Jhbmdlcy5sZW5ndGg6MX1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gMDx0aGlzLl9yYW5nZXMubGVuZ3RofWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemV9ZGVzdHJveSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmFuZ2VzLmxlbmd0aDtlKyspdGhpcy5fcmFuZ2VzW2VdLmRldGFjaCgpO3RoaXMuc3RvcExpc3RlbmluZygpfSpnZXRSYW5nZXMoKXt0aGlzLl9yYW5nZXMubGVuZ3RoP3lpZWxkKnN1cGVyLmdldFJhbmdlcygpOnlpZWxkIHRoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldEZpcnN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiBzdXBlci5nZXRMYXN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfXNldFRvKGUsdCxvKXtzdXBlci5zZXRUbyhlLHQsbyksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRGb2N1cyhlLHQpe3N1cGVyLnNldEZvY3VzKGUsdCksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRBdHRyaWJ1dGUoZSx0KXtpZih0aGlzLl9zZXRBdHRyaWJ1dGUoZSx0KSl7dGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpbZV0sZGlyZWN0Q2hhbmdlOiEwfSl9fXJlbW92ZUF0dHJpYnV0ZShlKXtpZih0aGlzLl9yZW1vdmVBdHRyaWJ1dGUoZSkpe3RoaXMuZmlyZSgnY2hhbmdlOmF0dHJpYnV0ZScse2F0dHJpYnV0ZUtleXM6W2VdLGRpcmVjdENoYW5nZTohMH0pfX1vdmVycmlkZUdyYXZpdHkoKXtjb25zdCBlPWkoKTtyZXR1cm4gdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5hZGQoZSksMT09PXRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuc2l6ZSYmdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKSxlfXJlc3RvcmVHcmF2aXR5KGUpe2lmKCF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmhhcyhlKSl0aHJvdyBuZXcgX3MoJ2RvY3VtZW50LXNlbGVjdGlvbi1ncmF2aXR5LXdyb25nLXJlc3RvcmU6IEF0dGVtcHRpbmcgdG8gcmVzdG9yZSB0aGUgc2VsZWN0aW9uIGdyYXZpdHkgZm9yIGFuIHVua25vd24gVUlELicse3VpZDplfSk7dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5kZWxldGUoZSksdGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHx0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpfV9yZWZyZXNoQXR0cmlidXRlcygpe3RoaXMuX3VwZGF0ZUF0dHJpYnV0ZXMoITApfV9wb3BSYW5nZSgpe3RoaXMuX3Jhbmdlcy5wb3AoKS5kZXRhY2goKX1fcHVzaFJhbmdlKGUpe2NvbnN0IHQ9dGhpcy5fcHJlcGFyZVJhbmdlKGUpO3QmJnRoaXMuX3Jhbmdlcy5wdXNoKHQpfV9wcmVwYXJlUmFuZ2UoZSl7aWYodGhpcy5fY2hlY2tSYW5nZShlKSxlLnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZClyZXR1cm4gdm9pZCBYbS53YXJuKCdtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW4tZ3JhdmV5YXJkOiBUcnlpbmcgdG8gYWRkIGEgUmFuZ2UgdGhhdCBpcyBpbiB0aGUgZ3JhdmV5YXJkIHJvb3QuIFJhbmdlIHJlamVjdGVkLicpO2NvbnN0IHQ9a3UuY3JlYXRlRnJvbVJhbmdlKGUpO3JldHVybiB0Lm9uKCdjaGFuZ2U6cmFuZ2UnLChlLG8sbik9Pnt0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITAsdC5yb290PT10aGlzLl9kb2N1bWVudC5ncmF2ZXlhcmQmJnRoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEucHVzaCh7bGl2ZVJhbmdlOnQsc291cmNlUG9zaXRpb246bi5zb3VyY2VQb3NpdGlvbn0pfSksdH1fdXBkYXRlQXR0cmlidXRlcyhlKXtjb25zdCB0PXV0KHRoaXMuX2dldFN1cnJvdW5kaW5nQXR0cmlidXRlcygpKSxvPXV0KHRoaXMuZ2V0QXR0cmlidXRlcygpKTtpZihlKXRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fYXR0cnM9bmV3IE1hcDtlbHNlIGZvcihjb25zdFtlLHRdb2YgdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkpJ2xvdyc9PXQmJih0aGlzLl9hdHRycy5kZWxldGUoZSksdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZGVsZXRlKGUpKTt0aGlzLl9zZXRBdHRyaWJ1dGVzVG8odCk7Y29uc3Qgbj1bXTtmb3IoY29uc3RbdCxpXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKW8uaGFzKHQpJiZvLmdldCh0KT09PWl8fG4ucHVzaCh0KTtmb3IoY29uc3RbdF1vZiBvKXRoaXMuaGFzQXR0cmlidXRlKHQpfHxuLnB1c2godCk7MDxuLmxlbmd0aCYmdGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpuLGRpcmVjdENoYW5nZTohMX0pfV9zZXRBdHRyaWJ1dGUoZSx0LG89ITApe2NvbnN0IG49bz8nbm9ybWFsJzonbG93JztpZignbG93Jz09biYmJ25vcm1hbCc9PXRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LmdldChlKSlyZXR1cm4hMTtjb25zdCBpPXN1cGVyLmdldEF0dHJpYnV0ZShlKTtyZXR1cm4gaSE9PXQmJih0aGlzLl9hdHRycy5zZXQoZSx0KSx0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5zZXQoZSxuKSwhMCl9X3JlbW92ZUF0dHJpYnV0ZShlLHQ9ITApe2NvbnN0IG89dD8nbm9ybWFsJzonbG93JztyZXR1cm4oJ2xvdychPW98fCdub3JtYWwnIT10aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5nZXQoZSkpJiYodGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KGUsbyksISFzdXBlci5oYXNBdHRyaWJ1dGUoZSkpJiYodGhpcy5fYXR0cnMuZGVsZXRlKGUpLCEwKX1fc2V0QXR0cmlidXRlc1RvKGUpe2NvbnN0IHQ9bmV3IFNldDtmb3IoY29uc3RbdCxvXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKWUuZ2V0KHQpIT09byYmdGhpcy5fcmVtb3ZlQXR0cmlidXRlKHQsITEpO2Zvcihjb25zdFtvLG5db2YgZSl7Y29uc3QgZT10aGlzLl9zZXRBdHRyaWJ1dGUobyxuLCExKTtlJiZ0LmFkZChvKX1yZXR1cm4gdH0qX2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudDtpZih0aGlzLmlzQ29sbGFwc2VkJiZlLmlzRW1wdHkpZm9yKGNvbnN0IHQgb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYodC5zdGFydHNXaXRoKF91KSl7Y29uc3Qgbz10LnN1YnN0cihfdS5sZW5ndGgpO3lpZWxkW28sZS5nZXRBdHRyaWJ1dGUodCldfX1fZ2V0U3Vycm91bmRpbmdBdHRyaWJ1dGVzKCl7Y29uc3QgZT10aGlzLmdldEZpcnN0UG9zaXRpb24oKSx0PXRoaXMuX21vZGVsLnNjaGVtYTtsZXQgbz1udWxsO2lmKCF0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO2Zvcihjb25zdCBuIG9mIGUpe2lmKG4uaXRlbS5pcygnZWxlbWVudCcpJiZ0LmlzT2JqZWN0KG4uaXRlbSkpYnJlYWs7J3RleHQnPT1uLnR5cGUmJm51bGw9PT1vJiYobz1uLml0ZW0uZ2V0QXR0cmlidXRlcygpKX19ZWxzZXtjb25zdCB0PWUudGV4dE5vZGU/ZS50ZXh0Tm9kZTplLm5vZGVCZWZvcmUsbj1lLnRleHROb2RlP2UudGV4dE5vZGU6ZS5ub2RlQWZ0ZXI7aWYodGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHwobz12dCh0KSksb3x8KG89dnQobikpLCF0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW4mJiFvKWZvcihsZXQgZT10O2UmJiFvOyllPWUucHJldmlvdXNTaWJsaW5nLG89dnQoZSk7aWYoIW8pZm9yKGxldCBlPW47ZSYmIW87KWU9ZS5uZXh0U2libGluZyxvPXZ0KGUpO298fChvPXRoaXMuX2dldFN0b3JlZEF0dHJpYnV0ZXMoKSl9cmV0dXJuIG99X2ZpeEdyYXZleWFyZFNlbGVjdGlvbihlLHQpe2NvbnN0IG89dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLG49dGhpcy5fbW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShvKSxpPXRoaXMuX3Jhbmdlcy5pbmRleE9mKGUpO2lmKHRoaXMuX3Jhbmdlcy5zcGxpY2UoaSwxKSxlLmRldGFjaCgpLG4pe2NvbnN0IGU9dGhpcy5fcHJlcGFyZVJhbmdlKG4pO3RoaXMuX3Jhbmdlcy5zcGxpY2UoaSwwLGUpfX19dmFyIHl1PWZ1bmN0aW9uKGUpe3JldHVybiBHZChlLCEwLCEwKX07Y2xhc3MgeHV7Y29uc3RydWN0b3IoZSl7dGhpcy5tb2RlbD1lLHRoaXMudmlldz1uZXcgaXUsdGhpcy5tYXBwZXI9bmV3IGd1LHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyBodSh7bWFwcGVyOnRoaXMubWFwcGVyfSk7Y29uc3QgdD10aGlzLm1vZGVsLmRvY3VtZW50LG89dC5zZWxlY3Rpb24sbj10aGlzLm1vZGVsLm1hcmtlcnM7dGhpcy5saXN0ZW5Ubyh0LCdjaGFuZ2UnLCgpPT57dGhpcy52aWV3LmNoYW5nZSgoZSk9Pnt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0Q2hhbmdlcyh0LmRpZmZlcixlKSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0U2VsZWN0aW9uKG8sbixlKX0pfSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmxpc3RlblRvKHRoaXMudmlldy5kb2N1bWVudCwnc2VsZWN0aW9uQ2hhbmdlJyxOdCh0aGlzLm1vZGVsLHRoaXMubWFwcGVyKSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDokdGV4dCcsSXQoKSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlJyxSdCgpLHtwcmlvcml0eTonbG93J30pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdzZWxlY3Rpb24nLEJ0KCkse3ByaW9yaXR5Oidsb3cnfSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ3NlbGVjdGlvbicsRHQoKSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJyxNdCgpLHtwcmlvcml0eTonbG93J30pLHRoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcoKGUpPT57aWYoJyRncmF2ZXlhcmQnPT1lLnJvb3ROYW1lKXJldHVybiBudWxsO2NvbnN0IHQ9bmV3IGpjKGUubmFtZSk7cmV0dXJuIHQucm9vdE5hbWU9ZS5yb290TmFtZSx0Ll9kb2N1bWVudD10aGlzLnZpZXcuZG9jdW1lbnQsdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKGUsdCksdH0pfWRlc3Ryb3koKXt0aGlzLnZpZXcuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1mKHh1LE1jKTtjbGFzcyBDdXtjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMuX2VkaXRvcj1lLHRoaXMuX2F2YWlsYWJsZVBsdWdpbnM9bmV3IE1hcCx0aGlzLl9wbHVnaW5zPW5ldyBNYXA7Zm9yKGNvbnN0IG8gb2YgdCl0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldChvLG8pLG8ucGx1Z2luTmFtZSYmdGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQoby5wbHVnaW5OYW1lLG8pfSpbU3ltYm9sLml0ZXJhdG9yXSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3BsdWdpbnMpJ2Z1bmN0aW9uJz09dHlwZW9mIGVbMF0mJih5aWVsZCBlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3BsdWdpbnMuZ2V0KGUpfWxvYWQoZSx0PVtdKXtmdW5jdGlvbiBvKGUpe3JldHVybiBtLmluY2x1ZGVzKGUpfHxhLmdldChlKXx8bC5oYXMoZSk/dm9pZCAwOm4oZSkuY2F0Y2goKHQpPT57dGhyb3cgWG0uZXJyb3IoJ3BsdWdpbmNvbGxlY3Rpb24tbG9hZDogSXQgd2FzIG5vdCBwb3NzaWJsZSB0byBsb2FkIHRoZSBwbHVnaW4uJyx7cGx1Z2luOmV9KSx0fSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKG4pPT57bC5hZGQoZSksZS5yZXF1aXJlcyYmZS5yZXF1aXJlcy5mb3JFYWNoKChuKT0+e2NvbnN0IHI9aShuKTtpZih0LmluY2x1ZGVzKHIpKXRocm93IG5ldyBfcygncGx1Z2luY29sbGVjdGlvbi1yZXF1aXJlZDogQ2Fubm90IGxvYWQgYSBwbHVnaW4gYmVjYXVzZSBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyBsaXN0ZWQgaW50aGUgYHJlbW92ZVBsdWdpbnNgIG9wdGlvbi4nLHtwbHVnaW46cixyZXF1aXJlZEJ5OmV9KTtvKHIpfSk7Y29uc3Qgcj1uZXcgZShzKTthLl9hZGQoZSxyKSxkLnB1c2gociksbigpfSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4nZnVuY3Rpb24nPT10eXBlb2YgZT9lOmEuX2F2YWlsYWJsZVBsdWdpbnMuZ2V0KGUpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUubWFwKChlKT0+aShlKSkuZmlsdGVyKChlKT0+ISFlKX1jb25zdCBhPXRoaXMscz10aGlzLl9lZGl0b3IsbD1uZXcgU2V0LGQ9W10sYz1yKGUpLG09cih0KSx1PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG8gb2YgZSlpKG8pfHx0LnB1c2gobyk7cmV0dXJuIHQubGVuZ3RoP3Q6bnVsbH0oZSk7aWYodSl7Y29uc3QgZT0ncGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbm90LWZvdW5kOiBTb21lIHBsdWdpbnMgYXJlIG5vdCBhdmFpbGFibGUgYW5kIGNvdWxkIG5vdCBiZSBsb2FkZWQuJztyZXR1cm4gWG0uZXJyb3IoZSx7cGx1Z2luczp1fSksUHJvbWlzZS5yZWplY3QobmV3IF9zKGUse3BsdWdpbnM6dX0pKX1yZXR1cm4gUHJvbWlzZS5hbGwoYy5tYXAobykpLnRoZW4oKCk9PmQpfWRlc3Ryb3koKXtjb25zdCBlPUFycmF5LmZyb20odGhpcykubWFwKChbLGVdKT0+ZSkuZmlsdGVyKChlKT0+J2Z1bmN0aW9uJz09dHlwZW9mIGUuZGVzdHJveSkubWFwKChlKT0+ZS5kZXN0cm95KCkpO3JldHVybiBQcm9taXNlLmFsbChlKX1fYWRkKGUsdCl7dGhpcy5fcGx1Z2lucy5zZXQoZSx0KTtjb25zdCBvPWUucGx1Z2luTmFtZTtvJiYodGhpcy5fcGx1Z2lucy5oYXMobyk/WG0ud2FybigncGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbmFtZS1jb25mbGljdDogVHdvIHBsdWdpbnMgd2l0aCB0aGUgc2FtZSBuYW1lIHdlcmUgbG9hZGVkLicse3BsdWdpbk5hbWU6byxwbHVnaW4xOnRoaXMuX3BsdWdpbnMuZ2V0KG8pLmNvbnN0cnVjdG9yLHBsdWdpbjI6ZX0pOnRoaXMuX3BsdWdpbnMuc2V0KG8sdCkpfX1jbGFzcyBBdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbW1hbmRzPW5ldyBNYXB9YWRkKGUsdCl7dGhpcy5fY29tbWFuZHMuc2V0KGUsdCl9Z2V0KGUpe3JldHVybiB0aGlzLl9jb21tYW5kcy5nZXQoZSl9ZXhlY3V0ZShlLC4uLnQpe2NvbnN0IG89dGhpcy5nZXQoZSk7aWYoIW8pdGhyb3cgbmV3IF9zKCdjb21tYW5kY29sbGVjdGlvbi1jb21tYW5kLW5vdC1mb3VuZDogQ29tbWFuZCBkb2VzIG5vdCBleGlzdC4nLHtjb21tYW5kTmFtZTplfSk7by5leGVjdXRlKC4uLnQpfSpuYW1lcygpe3lpZWxkKnRoaXMuX2NvbW1hbmRzLmtleXMoKX0qY29tbWFuZHMoKXt5aWVsZCp0aGlzLl9jb21tYW5kcy52YWx1ZXMoKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jb21tYW5kc1tTeW1ib2wuaXRlcmF0b3JdKCl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuY29tbWFuZHMoKSllLmRlc3Ryb3koKX19d2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU3x8KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e30pO2NsYXNzIFR1e2NvbnN0cnVjdG9yKGUpe3RoaXMubGFuZ3VhZ2U9ZXx8J2VuJyx0aGlzLnQ9KC4uLmUpPT50aGlzLl90KC4uLmUpfV90KGUsdCl7bGV0IG89THQodGhpcy5sYW5ndWFnZSxlKTtyZXR1cm4gdCYmKG89by5yZXBsYWNlKC8lKFxcZCspL2csKGUsbyk9Pm88dC5sZW5ndGg/dFtvXTplKSksb319Y2xhc3MgUHV7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zdW1hYmxlcz1uZXcgTWFwfWFkZChlLHQpe2xldCBvO3JldHVybiBlLmlzKCd0ZXh0Jyl8fGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKT92b2lkIHRoaXMuX2NvbnN1bWFibGVzLnNldChlLCEwKTp2b2lkKHRoaXMuX2NvbnN1bWFibGVzLmhhcyhlKT9vPXRoaXMuX2NvbnN1bWFibGVzLmdldChlKToobz1uZXcgRXUsdGhpcy5fY29uc3VtYWJsZXMuc2V0KGUsbykpLG8uYWRkKHQpKX10ZXN0KGUsdCl7Y29uc3Qgbz10aGlzLl9jb25zdW1hYmxlcy5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PW8/bnVsbDplLmlzKCd0ZXh0Jyl8fGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKT9vOm8udGVzdCh0KX1jb25zdW1lKGUsdCl7cmV0dXJuISF0aGlzLnRlc3QoZSx0KSYmKGUuaXMoJ3RleHQnKXx8ZS5pcygnZG9jdW1lbnRGcmFnbWVudCcpP3RoaXMuX2NvbnN1bWFibGVzLnNldChlLCExKTp0aGlzLl9jb25zdW1hYmxlcy5nZXQoZSkuY29uc3VtZSh0KSwhMCl9cmV2ZXJ0KGUsdCl7Y29uc3Qgbz10aGlzLl9jb25zdW1hYmxlcy5nZXQoZSk7byE9PXZvaWQgMCYmKGUuaXMoJ3RleHQnKXx8ZS5pcygnZG9jdW1lbnRGcmFnbWVudCcpP3RoaXMuX2NvbnN1bWFibGVzLnNldChlLCEwKTpvLnJldmVydCh0KSl9c3RhdGljIGNvbnN1bWFibGVzRnJvbUVsZW1lbnQoZSl7Y29uc3QgdD17bmFtZTohMCxhdHRyaWJ1dGVzOltdLGNsYXNzZXM6W10sc3R5bGVzOltdfSxvPWUuZ2V0QXR0cmlidXRlS2V5cygpO2Zvcihjb25zdCBuIG9mIG8pJ3N0eWxlJyE9biYmJ2NsYXNzJyE9biYmdC5hdHRyaWJ1dGVzLnB1c2gobik7Y29uc3Qgbj1lLmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgbyBvZiBuKXQuY2xhc3Nlcy5wdXNoKG8pO2NvbnN0IGk9ZS5nZXRTdHlsZU5hbWVzKCk7Zm9yKGNvbnN0IG8gb2YgaSl0LnN0eWxlcy5wdXNoKG8pO3JldHVybiB0fXN0YXRpYyBjcmVhdGVGcm9tKGUsdCl7aWYodHx8KHQ9bmV3IFB1KSxlLmlzKCd0ZXh0JykpcmV0dXJuIHQuYWRkKGUpLHQ7ZS5pcygnZWxlbWVudCcpJiZ0LmFkZChlLFB1LmNvbnN1bWFibGVzRnJvbUVsZW1lbnQoZSkpLGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSYmdC5hZGQoZSk7Zm9yKGNvbnN0IG8gb2YgZS5nZXRDaGlsZHJlbigpKXQ9UHUuY3JlYXRlRnJvbShvLHQpO3JldHVybiB0fX1jbGFzcyBFdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NhbkNvbnN1bWVOYW1lPW51bGwsdGhpcy5fY29uc3VtYWJsZXM9e2F0dHJpYnV0ZXM6bmV3IE1hcCxzdHlsZXM6bmV3IE1hcCxjbGFzc2VzOm5ldyBNYXB9fWFkZChlKXtmb3IoY29uc3QgdCBpbiBlLm5hbWUmJih0aGlzLl9jYW5Db25zdW1lTmFtZT0hMCksdGhpcy5fY29uc3VtYWJsZXMpdCBpbiBlJiZ0aGlzLl9hZGQodCxlW3RdKX10ZXN0KGUpe2lmKGUubmFtZSYmIXRoaXMuX2NhbkNvbnN1bWVOYW1lKXJldHVybiB0aGlzLl9jYW5Db25zdW1lTmFtZTtmb3IoY29uc3QgdCBpbiB0aGlzLl9jb25zdW1hYmxlcylpZih0IGluIGUpe2NvbnN0IG89dGhpcy5fdGVzdCh0LGVbdF0pO2lmKCEwIT09bylyZXR1cm4gb31yZXR1cm4hMH1jb25zdW1lKGUpe2Zvcihjb25zdCB0IGluIGUubmFtZSYmKHRoaXMuX2NhbkNvbnN1bWVOYW1lPSExKSx0aGlzLl9jb25zdW1hYmxlcyl0IGluIGUmJnRoaXMuX2NvbnN1bWUodCxlW3RdKX1yZXZlcnQoZSl7Zm9yKGNvbnN0IHQgaW4gZS5uYW1lJiYodGhpcy5fY2FuQ29uc3VtZU5hbWU9ITApLHRoaXMuX2NvbnN1bWFibGVzKXQgaW4gZSYmdGhpcy5fcmV2ZXJ0KHQsZVt0XSl9X2FkZChlLHQpe2NvbnN0IG89U2wodCk/dDpbdF0sbj10aGlzLl9jb25zdW1hYmxlc1tlXTtmb3IoY29uc3QgaSBvZiBvKXtpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl0aHJvdyBuZXcgX3MoJ3ZpZXdjb25zdW1hYmxlLWludmFsaWQtYXR0cmlidXRlOiBDbGFzc2VzIGFuZCBzdHlsZXMgc2hvdWxkIGJlIGhhbmRsZWQgc2VwYXJhdGVseS4nKTtuLnNldChpLCEwKX19X3Rlc3QoZSx0KXtjb25zdCBvPVNsKHQpP3Q6W3RdLG49dGhpcy5fY29uc3VtYWJsZXNbZV07Zm9yKGNvbnN0IGkgb2YgbylpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl7Y29uc3QgZT0nY2xhc3MnPT1pPydjbGFzc2VzJzonc3R5bGVzJyx0PXRoaXMuX3Rlc3QoZSxbLi4udGhpcy5fY29uc3VtYWJsZXNbZV0ua2V5cygpXSk7aWYoITAhPT10KXJldHVybiB0fWVsc2V7Y29uc3QgZT1uLmdldChpKTtpZihlPT09dm9pZCAwKXJldHVybiBudWxsO2lmKCFlKXJldHVybiExfXJldHVybiEwfV9jb25zdW1lKGUsdCl7Y29uc3Qgbz1TbCh0KT90Olt0XSxuPXRoaXMuX2NvbnN1bWFibGVzW2VdO2Zvcihjb25zdCBpIG9mIG8paWYoJ2F0dHJpYnV0ZXMnPT09ZSYmKCdjbGFzcyc9PT1pfHwnc3R5bGUnPT09aSkpe2NvbnN0IGU9J2NsYXNzJz09aT8nY2xhc3Nlcyc6J3N0eWxlcyc7dGhpcy5fY29uc3VtZShlLFsuLi50aGlzLl9jb25zdW1hYmxlc1tlXS5rZXlzKCldKX1lbHNlIG4uc2V0KGksITEpfV9yZXZlcnQoZSx0KXtjb25zdCBvPVNsKHQpP3Q6W3RdLG49dGhpcy5fY29uc3VtYWJsZXNbZV07Zm9yKGNvbnN0IGkgb2YgbylpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl7Y29uc3QgZT0nY2xhc3MnPT1pPydjbGFzc2VzJzonc3R5bGVzJzt0aGlzLl9yZXZlcnQoZSxbLi4udGhpcy5fY29uc3VtYWJsZXNbZV0ua2V5cygpXSl9ZWxzZXtjb25zdCBlPW4uZ2V0KGkpOyExPT09ZSYmbi5zZXQoaSwhMCl9fX1jbGFzcyBTdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3NvdXJjZURlZmluaXRpb25zPXt9LHRoaXMuZGVjb3JhdGUoJ2NoZWNrQ2hpbGQnKSx0aGlzLmRlY29yYXRlKCdjaGVja0F0dHJpYnV0ZScpLHRoaXMub24oJ2NoZWNrQXR0cmlidXRlJywoZSx0KT0+e3RbMF09bmV3IE91KHRbMF0pfSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5vbignY2hlY2tDaGlsZCcsKGUsdCk9Pnt0WzBdPW5ldyBPdSh0WzBdKSx0WzFdPXRoaXMuZ2V0RGVmaW5pdGlvbih0WzFdKX0se3ByaW9yaXR5OidoaWdoZXN0J30pfXJlZ2lzdGVyKGUsdCl7aWYodGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV0pdGhyb3cgbmV3IF9zKCdzY2hlbWEtY2Fubm90LXJlZ2lzdGVyLWl0ZW0tdHdpY2U6IEEgc2luZ2xlIGl0ZW0gY2Fubm90IGJlIHJlZ2lzdGVyZWQgdHdpY2UgaW4gdGhlIHNjaGVtYS4nLHtpdGVtTmFtZTplfSk7dGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV09W09iamVjdC5hc3NpZ24oe30sdCldLHRoaXMuX2NsZWFyQ2FjaGUoKX1leHRlbmQoZSx0KXtpZighdGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV0pdGhyb3cgbmV3IF9zKCdzY2hlbWEtY2Fubm90LWV4dGVuZC1taXNzaW5nLWl0ZW06IENhbm5vdCBleHRlbmQgYW4gaXRlbSB3aGljaCB3YXMgbm90IHJlZ2lzdGVyZWQgeWV0Licse2l0ZW1OYW1lOmV9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1tlXS5wdXNoKE9iamVjdC5hc3NpZ24oe30sdCkpLHRoaXMuX2NsZWFyQ2FjaGUoKX1nZXREZWZpbml0aW9ucygpe3JldHVybiB0aGlzLl9jb21waWxlZERlZmluaXRpb25zfHx0aGlzLl9jb21waWxlKCksdGhpcy5fY29tcGlsZWREZWZpbml0aW9uc31nZXREZWZpbml0aW9uKGUpe2xldCB0O3JldHVybiB0PSdzdHJpbmcnPT10eXBlb2YgZT9lOmUuaXMmJihlLmlzKCd0ZXh0Jyl8fGUuaXMoJ3RleHRQcm94eScpKT8nJHRleHQnOmUubmFtZSx0aGlzLmdldERlZmluaXRpb25zKClbdF19aXNSZWdpc3RlcmVkKGUpe3JldHVybiEhdGhpcy5nZXREZWZpbml0aW9uKGUpfWlzQmxvY2soZSl7Y29uc3QgdD10aGlzLmdldERlZmluaXRpb24oZSk7cmV0dXJuISEodCYmdC5pc0Jsb2NrKX1pc0xpbWl0KGUpe2NvbnN0IHQ9dGhpcy5nZXREZWZpbml0aW9uKGUpO3JldHVybiEhdCYmISEodC5pc0xpbWl0fHx0LmlzT2JqZWN0KX1pc09iamVjdChlKXtjb25zdCB0PXRoaXMuZ2V0RGVmaW5pdGlvbihlKTtyZXR1cm4hISh0JiZ0LmlzT2JqZWN0KX1jaGVja0NoaWxkKGUsdCl7cmV0dXJuISF0JiZ0aGlzLl9jaGVja0NvbnRleHRNYXRjaCh0LGUpfWNoZWNrQXR0cmlidXRlKGUsdCl7Y29uc3Qgbz10aGlzLmdldERlZmluaXRpb24oZS5sYXN0KTtyZXR1cm4hIW8mJm8uYWxsb3dBdHRyaWJ1dGVzLmluY2x1ZGVzKHQpfWNoZWNrTWVyZ2UoZSx0PW51bGwpe2lmKGUgaW5zdGFuY2VvZiB1dSl7Y29uc3QgdD1lLm5vZGVCZWZvcmUsbz1lLm5vZGVBZnRlcjtpZighKHQgaW5zdGFuY2VvZiBkdSkpdGhyb3cgbmV3IF9zKCdzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1iZWZvcmU6IFRoZSBub2RlIGJlZm9yZSB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LicpO2lmKCEobyBpbnN0YW5jZW9mIGR1KSl0aHJvdyBuZXcgX3MoJ3NjaGVtYS1jaGVjay1tZXJnZS1uby1lbGVtZW50LWFmdGVyOiBUaGUgbm9kZSBhZnRlciB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LicpO3JldHVybiB0aGlzLmNoZWNrTWVyZ2UodCxvKX1mb3IoY29uc3QgbyBvZiB0LmdldENoaWxkcmVuKCkpaWYoIXRoaXMuY2hlY2tDaGlsZChlLG8pKXJldHVybiExO3JldHVybiEwfWFkZENoaWxkQ2hlY2soZSl7dGhpcy5vbignY2hlY2tDaGlsZCcsKHQsW28sbl0pPT57aWYobil7Y29uc3QgaT1lKG8sbik7J2Jvb2xlYW4nPT10eXBlb2YgaSYmKHQuc3RvcCgpLHQucmV0dXJuPWkpfX0se3ByaW9yaXR5OidoaWdoJ30pfWFkZEF0dHJpYnV0ZUNoZWNrKGUpe3RoaXMub24oJ2NoZWNrQXR0cmlidXRlJywodCxbbyxuXSk9Pntjb25zdCBpPWUobyxuKTsnYm9vbGVhbic9PXR5cGVvZiBpJiYodC5zdG9wKCksdC5yZXR1cm49aSl9LHtwcmlvcml0eTonaGlnaCd9KX1nZXRMaW1pdEVsZW1lbnQoZSl7bGV0IHQ9QXJyYXkuZnJvbShlLmdldFJhbmdlcygpKS5yZWR1Y2UoKGUsdCk9Pntjb25zdCBvPXQuZ2V0Q29tbW9uQW5jZXN0b3IoKTtyZXR1cm4gZT9lLmdldENvbW1vbkFuY2VzdG9yKG8se2luY2x1ZGVTZWxmOiEwfSk6b30sbnVsbCk7Zm9yKDshdGhpcy5pc0xpbWl0KHQpJiZ0LnBhcmVudDspdD10LnBhcmVudDtyZXR1cm4gdH1jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKGUsdCl7aWYoZS5pc0NvbGxhcHNlZClyZXR1cm4gdGhpcy5jaGVja0F0dHJpYnV0ZShbLi4uZS5nZXRGaXJzdFBvc2l0aW9uKCkuZ2V0QW5jZXN0b3JzKCksJyR0ZXh0J10sdCk7ZWxzZXtjb25zdCBvPWUuZ2V0UmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2Ygbylmb3IoY29uc3QgbyBvZiBlKWlmKHRoaXMuY2hlY2tBdHRyaWJ1dGUoby5pdGVtLHQpKXJldHVybiEwfXJldHVybiExfWdldFZhbGlkUmFuZ2VzKGUsdCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgbiBvZiBlKXtsZXQgZT1uLnN0YXJ0LGk9bi5zdGFydDtjb25zdCByPW4uZW5kO2Zvcihjb25zdCByIG9mIG4uZ2V0V2Fsa2VyKCkpdGhpcy5jaGVja0F0dHJpYnV0ZShyLml0ZW0sdCl8fCghaS5pc0VxdWFsKGUpJiZvLnB1c2gobmV3IHB1KGksZSkpLGk9ci5uZXh0UG9zaXRpb24pLGU9ci5uZXh0UG9zaXRpb247aSYmIWkuaXNFcXVhbChyKSYmby5wdXNoKG5ldyBwdShpLHIpKX1yZXR1cm4gb31nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UoZSx0PSdib3RoJyl7aWYodGhpcy5jaGVja0NoaWxkKGUsJyR0ZXh0JykpcmV0dXJuIG5ldyBwdShlKTtsZXQgbyxuOygnYm90aCc9PXR8fCdiYWNrd2FyZCc9PXQpJiYobz1uZXcgY3Uoe3N0YXJ0UG9zaXRpb246ZSxkaXJlY3Rpb246J2JhY2t3YXJkJ30pKSwoJ2JvdGgnPT10fHwnZm9yd2FyZCc9PXQpJiYobj1uZXcgY3Uoe3N0YXJ0UG9zaXRpb246ZX0pKTtmb3IoY29uc3QgaSBvZiB0byhvLG4pKXtjb25zdCBlPWkud2Fsa2VyPT1vPydlbGVtZW50RW5kJzonZWxlbWVudFN0YXJ0Jyx0PWkudmFsdWU7aWYodC50eXBlPT1lJiZ0aGlzLmlzT2JqZWN0KHQuaXRlbSkpcmV0dXJuIHB1LmNyZWF0ZU9uKHQuaXRlbSk7aWYodGhpcy5jaGVja0NoaWxkKHQubmV4dFBvc2l0aW9uLCckdGV4dCcpKXJldHVybiBuZXcgcHUodC5uZXh0UG9zaXRpb24pfXJldHVybiBudWxsfWZpbmRBbGxvd2VkUGFyZW50KGUsdCl7Zm9yKGxldCBvPXQucGFyZW50O287KXtpZih0aGlzLmNoZWNrQ2hpbGQobyxlKSlyZXR1cm4gbztpZih0aGlzLmlzTGltaXQobykpcmV0dXJuIG51bGw7bz1vLnBhcmVudH1yZXR1cm4gbnVsbH1yZW1vdmVEaXNhbGxvd2VkQXR0cmlidXRlcyhlLHQpe2Zvcihjb25zdCBvIG9mIGUpe2Zvcihjb25zdCBlIG9mIG8uZ2V0QXR0cmlidXRlS2V5cygpKXRoaXMuY2hlY2tBdHRyaWJ1dGUobyxlKXx8dC5yZW1vdmVBdHRyaWJ1dGUoZSxvKTtvLmlzKCdlbGVtZW50JykmJnRoaXMucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXMoby5nZXRDaGlsZHJlbigpLHQpfX1fY2xlYXJDYWNoZSgpe3RoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnM9bnVsbH1fY29tcGlsZSgpe2NvbnN0IGU9e30sdD10aGlzLl9zb3VyY2VEZWZpbml0aW9ucyxvPU9iamVjdC5rZXlzKHQpO2Zvcihjb25zdCBuIG9mIG8pZVtuXT1xdCh0W25dLG4pO2Zvcihjb25zdCB0IG9mIG8pV3QoZSx0KTtmb3IoY29uc3QgdCBvZiBvKVV0KGUsdCk7Zm9yKGNvbnN0IHQgb2YgbylIdChlLHQpLEt0KGUsdCk7Zm9yKGNvbnN0IHQgb2YgbylHdChlLHQpLCR0KGUsdCk7dGhpcy5fY29tcGlsZWREZWZpbml0aW9ucz1lfV9jaGVja0NvbnRleHRNYXRjaChlLHQsbz10Lmxlbmd0aC0xKXtjb25zdCBuPXQuZ2V0SXRlbShvKTtpZighZS5hbGxvd0luLmluY2x1ZGVzKG4ubmFtZSkpcmV0dXJuITE7ZWxzZSBpZigwPT1vKXJldHVybiEwO2Vsc2V7Y29uc3QgZT10aGlzLmdldERlZmluaXRpb24obik7cmV0dXJuIHRoaXMuX2NoZWNrQ29udGV4dE1hdGNoKGUsdCxvLTEpfX19ZihTdSxNYyk7Y2xhc3MgT3V7Y29uc3RydWN0b3IoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBPdT9lOnZvaWQoJ3N0cmluZyc9PXR5cGVvZiBlP2U9W2VdOiFBcnJheS5pc0FycmF5KGUpJiYoZT1lLmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6ITB9KSksZVswXSYmJ3N0cmluZychPXR5cGVvZiBlWzBdJiZlWzBdLmlzKCdkb2N1bWVudEZyYWdtZW50JykmJmUuc2hpZnQoKSx0aGlzLl9pdGVtcz1lLm1hcChlbykpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RofWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aC0xXX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9pdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCl9cHVzaChlKXtjb25zdCB0PW5ldyBPdShbZV0pO3JldHVybiB0Ll9pdGVtcz1bLi4udGhpcy5faXRlbXMsLi4udC5faXRlbXNdLHR9Z2V0SXRlbShlKXtyZXR1cm4gdGhpcy5faXRlbXNbZV19KmdldE5hbWVzKCl7eWllbGQqdGhpcy5faXRlbXMubWFwKChlKT0+ZS5uYW1lKX1lbmRzV2l0aChlKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmdldE5hbWVzKCkpLmpvaW4oJyAnKS5lbmRzV2l0aChlKX19Y2xhc3MgSXV7Y29uc3RydWN0b3IoZT17fSl7dGhpcy5fcmVtb3ZlSWZFbXB0eT1uZXcgU2V0LHRoaXMuX21vZGVsQ3Vyc29yPW51bGwsdGhpcy5jb252ZXJzaW9uQXBpPU9iamVjdC5hc3NpZ24oe30sZSksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRJdGVtPXRoaXMuX2NvbnZlcnRJdGVtLmJpbmQodGhpcyksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRDaGlsZHJlbj10aGlzLl9jb252ZXJ0Q2hpbGRyZW4uYmluZCh0aGlzKSx0aGlzLmNvbnZlcnNpb25BcGkuc3BsaXRUb0FsbG93ZWRQYXJlbnQ9dGhpcy5fc3BsaXRUb0FsbG93ZWRQYXJlbnQuYmluZCh0aGlzKX1jb252ZXJ0KGUsdCxvPVsnJHJvb3QnXSl7dGhpcy5maXJlKCd2aWV3Q2xlYW51cCcsZSksdGhpcy5fbW9kZWxDdXJzb3I9bm8obyx0KSx0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPXQsdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9UHUuY3JlYXRlRnJvbShlKSx0aGlzLmNvbnZlcnNpb25BcGkuc3RvcmU9e307Y29uc3R7bW9kZWxSYW5nZTpufT10aGlzLl9jb252ZXJ0SXRlbShlLHRoaXMuX21vZGVsQ3Vyc29yKSxpPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKG4pe3RoaXMuX3JlbW92ZUVtcHR5RWxlbWVudHMoKTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHRoaXMuX21vZGVsQ3Vyc29yLnBhcmVudC5nZXRDaGlsZHJlbigpKSl0LmFwcGVuZChlLGkpO2kubWFya2Vycz1vbyhpLHQpfXJldHVybiB0aGlzLl9tb2RlbEN1cnNvcj1udWxsLHRoaXMuX3JlbW92ZUlmRW1wdHkuY2xlYXIoKSx0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW51bGwsdGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlPW51bGwsaX1fY29udmVydEl0ZW0oZSx0KXtjb25zdCBvPU9iamVjdC5hc3NpZ24oe3ZpZXdJdGVtOmUsbW9kZWxDdXJzb3I6dCxtb2RlbFJhbmdlOm51bGx9KTtpZihlLmlzKCdlbGVtZW50Jyk/dGhpcy5maXJlKCdlbGVtZW50OicrZS5uYW1lLG8sdGhpcy5jb252ZXJzaW9uQXBpKTplLmlzKCd0ZXh0Jyk/dGhpcy5maXJlKCd0ZXh0JyxvLHRoaXMuY29udmVyc2lvbkFwaSk6dGhpcy5maXJlKCdkb2N1bWVudEZyYWdtZW50JyxvLHRoaXMuY29udmVyc2lvbkFwaSksby5tb2RlbFJhbmdlJiYhKG8ubW9kZWxSYW5nZSBpbnN0YW5jZW9mIHB1KSl0aHJvdyBuZXcgX3MoJ3ZpZXctY29udmVyc2lvbi1kaXNwYXRjaGVyLWluY29ycmVjdC1yZXN1bHQ6IEluY29ycmVjdCBjb252ZXJzaW9uIHJlc3VsdCB3YXMgZHJvcHBlZC4nKTtyZXR1cm57bW9kZWxSYW5nZTpvLm1vZGVsUmFuZ2UsbW9kZWxDdXJzb3I6by5tb2RlbEN1cnNvcn19X2NvbnZlcnRDaGlsZHJlbihlLHQpe2NvbnN0IG89bmV3IHB1KHQpO2xldCBuPXQ7Zm9yKGNvbnN0IGkgb2YgQXJyYXkuZnJvbShlLmdldENoaWxkcmVuKCkpKXtjb25zdCBlPXRoaXMuX2NvbnZlcnRJdGVtKGksbik7ZS5tb2RlbFJhbmdlIGluc3RhbmNlb2YgcHUmJihvLmVuZD1lLm1vZGVsUmFuZ2UuZW5kLG49ZS5tb2RlbEN1cnNvcil9cmV0dXJue21vZGVsUmFuZ2U6byxtb2RlbEN1cnNvcjpufX1fc3BsaXRUb0FsbG93ZWRQYXJlbnQoZSx0KXtjb25zdCBvPXRoaXMuY29udmVyc2lvbkFwaS5zY2hlbWEuZmluZEFsbG93ZWRQYXJlbnQoZSx0KTtpZighbylyZXR1cm4gbnVsbDtpZihvPT09dC5wYXJlbnQpcmV0dXJue3Bvc2l0aW9uOnR9O2lmKHRoaXMuX21vZGVsQ3Vyc29yLnBhcmVudC5nZXRBbmNlc3RvcnMoKS5pbmNsdWRlcyhvKSlyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIuc3BsaXQodCxvKTtmb3IoY29uc3QgbyBvZiBuLnJhbmdlLmdldFBvc2l0aW9ucygpKW8uaXNFcXVhbChuLnBvc2l0aW9uKXx8dGhpcy5fcmVtb3ZlSWZFbXB0eS5hZGQoby5wYXJlbnQpO3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLGN1cnNvclBhcmVudDpuLnJhbmdlLmVuZC5wYXJlbnR9fV9yZW1vdmVFbXB0eUVsZW1lbnRzKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmVtb3ZlSWZFbXB0eSl0LmlzRW1wdHkmJih0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLnJlbW92ZSh0KSx0aGlzLl9yZW1vdmVJZkVtcHR5LmRlbGV0ZSh0KSxlPSEwKTtlJiZ0aGlzLl9yZW1vdmVFbXB0eUVsZW1lbnRzKCl9fWYoSXUsUHMpO2NsYXNzIFJ1e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tb2RlbD1lLHRoaXMucHJvY2Vzc29yPXQsdGhpcy5tYXBwZXI9bmV3IGd1LHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyBodSh7bWFwcGVyOnRoaXMubWFwcGVyfSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDokdGV4dCcsSXQoKSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLnVwY2FzdERpc3BhdGNoZXI9bmV3IEl1KHtzY2hlbWE6ZS5zY2hlbWF9KSx0aGlzLnVwY2FzdERpc3BhdGNoZXIub24oJ3RleHQnLGJvKCkse3ByaW9yaXR5Oidsb3dlc3QnfSksdGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50JyxobygpLHtwcmlvcml0eTonbG93ZXN0J30pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbignZG9jdW1lbnRGcmFnbWVudCcsaG8oKSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLmRlY29yYXRlKCdpbml0Jyl9Z2V0KGU9J21haW4nKXtyZXR1cm4gdGhpcy5zdHJpbmdpZnkodGhpcy5tb2RlbC5kb2N1bWVudC5nZXRSb290KGUpKX1zdHJpbmdpZnkoZSl7Y29uc3QgdD10aGlzLnRvVmlldyhlKTtyZXR1cm4gdGhpcy5wcm9jZXNzb3IudG9EYXRhKHQpfXRvVmlldyhlKXtjb25zdCB0PXB1LmNyZWF0ZUluKGUpLG89bmV3IHJtLG49bmV3IGFtKG5ldyAkYygpKTtpZih0aGlzLm1hcHBlci5iaW5kRWxlbWVudHMoZSxvKSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0SW5zZXJ0KHQsbiksIWUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl7Y29uc3QgdD1rbyhlKTtmb3IoY29uc3RbZSxvXW9mIHQpdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydE1hcmtlckFkZChlLG8sbil9cmV0dXJuIHRoaXMubWFwcGVyLmNsZWFyQmluZGluZ3MoKSxvfWluaXQoZSx0PSdtYWluJyl7aWYodGhpcy5tb2RlbC5kb2N1bWVudC52ZXJzaW9uKXRocm93IG5ldyBfcygnZGF0YWNvbnRyb2xsZXItaW5pdC1kb2N1bWVudC1ub3QtZW1wdHk6IFRyeWluZyB0byBzZXQgaW5pdGlhbCBkYXRhIHRvIG5vdCBlbXB0eSBkb2N1bWVudC4nKTtjb25zdCBvPXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdCh0KTtyZXR1cm4gdGhpcy5tb2RlbC5lbnF1ZXVlQ2hhbmdlKCd0cmFuc3BhcmVudCcsKHQpPT57dC5pbnNlcnQodGhpcy5wYXJzZShlLG8pLG8pfSksUHJvbWlzZS5yZXNvbHZlKCl9c2V0KGUsdD0nbWFpbicpe2NvbnN0IG89dGhpcy5tb2RlbC5kb2N1bWVudC5nZXRSb290KHQpO3RoaXMubW9kZWwuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLCh0KT0+e3Quc2V0U2VsZWN0aW9uKG51bGwpLHQucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEF0dHJpYnV0ZUtleXMoKSksdC5yZW1vdmUocHUuY3JlYXRlSW4obykpLHQuaW5zZXJ0KHRoaXMucGFyc2UoZSxvKSxvKX0pfXBhcnNlKGUsdD0nJHJvb3QnKXtjb25zdCBvPXRoaXMucHJvY2Vzc29yLnRvVmlldyhlKTtyZXR1cm4gdGhpcy50b01vZGVsKG8sdCl9dG9Nb2RlbChlLHQ9JyRyb290Jyl7cmV0dXJuIHRoaXMubW9kZWwuY2hhbmdlKChvKT0+dGhpcy51cGNhc3REaXNwYXRjaGVyLmNvbnZlcnQoZSxvLHQpKX1kZXN0cm95KCl7fX1mKFJ1LE1jKTtjbGFzcyBWdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzPW5ldyBNYXB9cmVnaXN0ZXIoZSx0KXtpZih0aGlzLl9kaXNwYXRjaGVyc0dyb3Vwcy5oYXMoZSkpdGhyb3cgbmV3IF9zKCdjb252ZXJzaW9uLXJlZ2lzdGVyLWdyb3VwLWV4aXN0czogVHJ5aW5nIHRvIHJlZ2lzdGVyIGEgZ3JvdXAgbmFtZSB0aGF0IHdhcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dGhpcy5fZGlzcGF0Y2hlcnNHcm91cHMuc2V0KGUsdCl9Zm9yKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0RGlzcGF0Y2hlcnMoZSk7cmV0dXJue2FkZChlKXtyZXR1cm4gX28odCxlKSx0aGlzfX19ZWxlbWVudFRvRWxlbWVudChlKXt0aGlzLmZvcignZG93bmNhc3QnKS5hZGQoeHQoZSkpO2Zvcihjb25zdHttb2RlbDp0LHZpZXc6b31vZiB3byhlKSl0aGlzLmZvcigndXBjYXN0JykuYWRkKGlvKHttb2RlbDp0LHZpZXc6byxjb252ZXJ0ZXJQcmlvcml0eTplLmNvbnZlcnRlclByaW9yaXR5fSkpfWF0dHJpYnV0ZVRvRWxlbWVudChlKXt0aGlzLmZvcignZG93bmNhc3QnKS5hZGQoQ3QoZSkpO2Zvcihjb25zdHttb2RlbDp0LHZpZXc6b31vZiB3byhlKSl0aGlzLmZvcigndXBjYXN0JykuYWRkKHJvKHt2aWV3Om8sbW9kZWw6dCxwcmlvcml0eTplLnByaW9yaXR5fSkpfWF0dHJpYnV0ZVRvQXR0cmlidXRlKGUpe3RoaXMuZm9yKCdkb3duY2FzdCcpLmFkZChBdChlKSk7Zm9yKGNvbnN0e21vZGVsOnQsdmlldzpvfW9mIHdvKGUpKXRoaXMuZm9yKCd1cGNhc3QnKS5hZGQoYW8oe3ZpZXc6byxtb2RlbDp0fSkpfV9nZXREaXNwYXRjaGVycyhlKXtjb25zdCB0PXRoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzLmdldChlKTtpZighdCl0aHJvdyBuZXcgX3MoJ2NvbnZlcnNpb24tZm9yLXVua25vd24tZ3JvdXA6IFRyeWluZyB0byBhZGQgYSBjb252ZXJ0ZXIgdG8gYW4gdW5rbm93biBkaXNwYXRjaGVycyBncm91cC4nKTtyZXR1cm4gdH19Y2xhc3MgRnV7Y29uc3RydWN0b3IoZSl7dGhpcy5iYXNlVmVyc2lvbj1lLHRoaXMuaXNEb2N1bWVudE9wZXJhdGlvbj1udWxsIT09dGhpcy5iYXNlVmVyc2lvbn1fdmFsaWRhdGUoKXt9dG9KU09OKCl7Y29uc3QgZT0kZCh0aGlzLCEwKTtyZXR1cm4gZS5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgZS5kZWx0YSxkZWxldGUgZS5pc0RvY3VtZW50T3BlcmF0aW9uLGV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5PcGVyYXRpb24nfXN0YXRpYyBmcm9tSlNPTihlKXtyZXR1cm4gbmV3IHRoaXMoZS5iYXNlVmVyc2lvbil9fWNsYXNzIE51e2NvbnN0cnVjdG9yKGUpe3RoaXMubWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoaWxkcmVuPW5ldyBsdSxlJiZ0aGlzLl9pbnNlcnRDaGlsZCgwLGUpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzfWdldCBwYXJlbnQoKXtyZXR1cm4gbnVsbH1pcyhlKXtyZXR1cm4nZG9jdW1lbnRGcmFnbWVudCc9PWV9Z2V0Q2hpbGQoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUoZSl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldENoaWxkSW5kZXgoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleChlKX1nZXRDaGlsZFN0YXJ0T2Zmc2V0KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlU3RhcnRPZmZzZXQoZSl9Z2V0UGF0aCgpe3JldHVybltdfWdldE5vZGVCeVBhdGgoZSl7bGV0IHQ9dGhpcztmb3IoY29uc3QgbyBvZiBlKXQ9dC5nZXRDaGlsZCh0Lm9mZnNldFRvSW5kZXgobykpO3JldHVybiB0fW9mZnNldFRvSW5kZXgoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm9mZnNldFRvSW5kZXgoZSl9dG9KU09OKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiB0aGlzLl9jaGlsZHJlbillLnB1c2godC50b0pTT04oKSk7cmV0dXJuIGV9c3RhdGljIGZyb21KU09OKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG8gb2YgZSlvLm5hbWU/dC5wdXNoKGR1LmZyb21KU09OKG8pKTp0LnB1c2goYXUuZnJvbUpTT04obykpO3JldHVybiBuZXcgTnUodCl9X2FwcGVuZENoaWxkKGUpe3RoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCxlKX1faW5zZXJ0Q2hpbGQoZSx0KXtjb25zdCBvPXlvKHQpO2Zvcihjb25zdCBuIG9mIG8pbnVsbCE9PW4ucGFyZW50JiZuLl9yZW1vdmUoKSxuLnBhcmVudD10aGlzO3RoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2RlcyhlLG8pfV9yZW1vdmVDaGlsZHJlbihlLHQ9MSl7Y29uc3Qgbz10aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXMoZSx0KTtmb3IoY29uc3QgbiBvZiBvKW4ucGFyZW50PW51bGw7cmV0dXJuIG99fXZhciBEdT1mdW5jdGlvbihlLHQpe3JldHVybiBCbShlLHQpfTtjbGFzcyBNdSBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCxvLG4saSl7c3VwZXIoaSksdGhpcy5yYW5nZT1wdS5jcmVhdGVGcm9tUmFuZ2UoZSksdGhpcy5rZXk9dCx0aGlzLm9sZFZhbHVlPW89PT12b2lkIDA/bnVsbDpvLHRoaXMubmV3VmFsdWU9bj09PXZvaWQgMD9udWxsOm59Z2V0IHR5cGUoKXtyZXR1cm4gbnVsbD09PXRoaXMub2xkVmFsdWU/J2FkZEF0dHJpYnV0ZSc6bnVsbD09PXRoaXMubmV3VmFsdWU/J3JlbW92ZUF0dHJpYnV0ZSc6J2NoYW5nZUF0dHJpYnV0ZSd9Y2xvbmUoKXtyZXR1cm4gbmV3IE11KHRoaXMucmFuZ2UsdGhpcy5rZXksdGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBNdSh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMubmV3VmFsdWUsdGhpcy5vbGRWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMucmFuZ2UuZ2V0SXRlbXMoKSl7aWYobnVsbCE9PXRoaXMub2xkVmFsdWUmJiFEdShlLmdldEF0dHJpYnV0ZSh0aGlzLmtleSksdGhpcy5vbGRWYWx1ZSkpdGhyb3cgbmV3IF9zKCdhdHRyaWJ1dGUtb3BlcmF0aW9uLXdyb25nLW9sZC12YWx1ZTogQ2hhbmdlZCBub2RlIGhhcyBkaWZmZXJlbnQgYXR0cmlidXRlIHZhbHVlIHRoYW4gb3BlcmF0aW9uXFwncyBvbGQgYXR0cmlidXRlIHZhbHVlLicse2l0ZW06ZSxrZXk6dGhpcy5rZXksdmFsdWU6dGhpcy5vbGRWYWx1ZX0pO2lmKG51bGw9PT10aGlzLm9sZFZhbHVlJiZudWxsIT09dGhpcy5uZXdWYWx1ZSYmZS5oYXNBdHRyaWJ1dGUodGhpcy5rZXkpKXRocm93IG5ldyBfcygnYXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLicse25vZGU6ZSxrZXk6dGhpcy5rZXl9KX19X2V4ZWN1dGUoKXtEdSh0aGlzLm9sZFZhbHVlLHRoaXMubmV3VmFsdWUpfHxUbyh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMubmV3VmFsdWUpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uQXR0cmlidXRlT3BlcmF0aW9uJ31zdGF0aWMgZnJvbUpTT04oZSx0KXtyZXR1cm4gbmV3IE11KHB1LmZyb21KU09OKGUucmFuZ2UsdCksZS5rZXksZS5vbGRWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pfX1jbGFzcyBCdSBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCxvLG4pe3N1cGVyKG4pLHRoaXMuc291cmNlUG9zaXRpb249dXUuY3JlYXRlRnJvbVBvc2l0aW9uKGUpLHRoaXMuaG93TWFueT10LHRoaXMudGFyZ2V0UG9zaXRpb249dXUuY3JlYXRlRnJvbVBvc2l0aW9uKG8pLHRoaXMuaXNTdGlja3k9ITF9Z2V0IHR5cGUoKXtyZXR1cm4nbW92ZSd9Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbik7cmV0dXJuIGUuaXNTdGlja3k9dGhpcy5pc1N0aWNreSxlfWdldE1vdmVkUmFuZ2VTdGFydCgpe3JldHVybiB0aGlzLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpfWdldFJldmVyc2VkKCl7Y29uc3QgZT10aGlzLnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55KSx0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdGhpcy5ob3dNYW55LGUsdGhpcy5iYXNlVmVyc2lvbisxKTtyZXR1cm4gdC5pc1N0aWNreT10aGlzLmlzU3RpY2t5LHR9X3ZhbGlkYXRlKCl7Y29uc3QgZT10aGlzLnNvdXJjZVBvc2l0aW9uLnBhcmVudCx0PXRoaXMudGFyZ2V0UG9zaXRpb24ucGFyZW50LG89dGhpcy5zb3VyY2VQb3NpdGlvbi5vZmZzZXQsbj10aGlzLnRhcmdldFBvc2l0aW9uLm9mZnNldDtpZighZXx8IXQpdGhyb3cgbmV3IF9zKCdtb3ZlLW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBTb3VyY2UgcG9zaXRpb24gb3IgdGFyZ2V0IHBvc2l0aW9uIGlzIGludmFsaWQuJyk7ZWxzZSBpZihvK3RoaXMuaG93TWFueT5lLm1heE9mZnNldCl0aHJvdyBuZXcgX3MoJ21vdmUtb3BlcmF0aW9uLW5vZGVzLWRvLW5vdC1leGlzdDogVGhlIG5vZGVzIHdoaWNoIHNob3VsZCBiZSBtb3ZlZCBkbyBub3QgZXhpc3QuJyk7ZWxzZSBpZihlPT09dCYmbzxuJiZuPG8rdGhpcy5ob3dNYW55KXRocm93IG5ldyBfcygnbW92ZS1vcGVyYXRpb24tcmFuZ2UtaW50by1pdHNlbGY6IFRyeWluZyB0byBtb3ZlIGEgcmFuZ2Ugb2Ygbm9kZXMgdG8gdGhlIGluc2lkZSBvZiB0aGF0IHJhbmdlLicpO2Vsc2UgaWYodGhpcy5zb3VyY2VQb3NpdGlvbi5yb290PT10aGlzLnRhcmdldFBvc2l0aW9uLnJvb3QmJidwcmVmaXgnPT1BKHRoaXMuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHRoaXMudGFyZ2V0UG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3QgZT10aGlzLnNvdXJjZVBvc2l0aW9uLnBhdGgubGVuZ3RoLTE7aWYodGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW2VdPj1vJiZ0aGlzLnRhcmdldFBvc2l0aW9uLnBhdGhbZV08byt0aGlzLmhvd01hbnkpdGhyb3cgbmV3IF9zKCdtb3ZlLW9wZXJhdGlvbi1ub2RlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIGludG8gb25lIG9mIG5vZGVzIGZyb20gdGhhdCByYW5nZS4nKX19X2V4ZWN1dGUoKXtBbyhwdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0aGlzLnNvdXJjZVBvc2l0aW9uLHRoaXMuaG93TWFueSksdGhpcy50YXJnZXRQb3NpdGlvbil9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5Nb3ZlT3BlcmF0aW9uJ31zdGF0aWMgZnJvbUpTT04oZSx0KXtjb25zdCBvPXV1LmZyb21KU09OKGUuc291cmNlUG9zaXRpb24sdCksbj11dS5mcm9tSlNPTihlLnRhcmdldFBvc2l0aW9uLHQpLGk9bmV3IHRoaXMobyxlLmhvd01hbnksbixlLmJhc2VWZXJzaW9uKTtyZXR1cm4gZS5pc1N0aWNreSYmKGkuaXNTdGlja3k9ITApLGl9fWNsYXNzIEx1IGV4dGVuZHMgQnV7Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0UG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMudGFyZ2V0UG9zaXRpb249ZX1nZXQgdHlwZSgpe3JldHVybidyZWluc2VydCd9Z2V0UmV2ZXJzZWQoKXtjb25zdCBlPXRoaXMuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odGhpcy50YXJnZXRQb3NpdGlvbix0aGlzLmhvd01hbnkpO3JldHVybiBuZXcgenUodGhpcy5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0aGlzLmhvd01hbnksZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2lmKHN1cGVyLl92YWxpZGF0ZSgpLCF0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QuZG9jdW1lbnQpdGhyb3cgbmV3IF9zKCdyZWluc2VydC1vcGVyYXRpb24tb24tZGV0YWNoZWQtaXRlbTogQ2Fubm90IHJlaW5zZXJ0IGRldGFjaGVkIGl0ZW0uJyk7aWYoIXRoaXMudGFyZ2V0UG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgX3MoJ3JlaW5zZXJ0LW9wZXJhdGlvbi10by1kZXRhY2hlZC1wYXJlbnQ6IENhbm5vdCByZWluc2VydCBpdGVtIHRvIGRldGFjaGVkIHBhcmVudC4nKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLlJlaW5zZXJ0T3BlcmF0aW9uJ319Y2xhc3MgenUgZXh0ZW5kcyBCdXtnZXQgdHlwZSgpe3JldHVybidyZW1vdmUnfWdldFJldmVyc2VkKCl7Y29uc3QgZT10aGlzLnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55KTtyZXR1cm4gbmV3IEx1KHRoaXMuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdGhpcy5ob3dNYW55LGUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtpZihzdXBlci5fdmFsaWRhdGUoKSwhdGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LmRvY3VtZW50KXRocm93IG5ldyBfcygncmVtb3ZlLW9wZXJhdGlvbi1vbi1kZXRhY2hlZC1pdGVtOiBDYW5ub3QgcmVtb3ZlIGRldGFjaGVkIGl0ZW0uJyl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5SZW1vdmVPcGVyYXRpb24nfX1jbGFzcyBqdSBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcihvKSx0aGlzLnBvc2l0aW9uPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKSx0aGlzLm5vZGVzPW5ldyBsdShQbyh0KSl9Z2V0IHR5cGUoKXtyZXR1cm4naW5zZXJ0J31jbG9uZSgpe2NvbnN0IGU9bmV3IGx1KFsuLi50aGlzLm5vZGVzXS5tYXAoKGUpPT5lLl9jbG9uZSghMCkpKTtyZXR1cm4gbmV3IGp1KHRoaXMucG9zaXRpb24sZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe2NvbnN0IGU9dGhpcy5wb3NpdGlvbi5yb290LmRvY3VtZW50LmdyYXZleWFyZCx0PW5ldyB1dShlLFswXSk7cmV0dXJuIG5ldyB6dSh0aGlzLnBvc2l0aW9uLHRoaXMubm9kZXMubWF4T2Zmc2V0LHQsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCBlPXRoaXMucG9zaXRpb24ucGFyZW50O2lmKCFlfHxlLm1heE9mZnNldDx0aGlzLnBvc2l0aW9uLm9mZnNldCl0aHJvdyBuZXcgX3MoJ2luc2VydC1vcGVyYXRpb24tcG9zaXRpb24taW52YWxpZDogSW5zZXJ0aW9uIHBvc2l0aW9uIGlzIGludmFsaWQuJyl9X2V4ZWN1dGUoKXtjb25zdCBlPXRoaXMubm9kZXM7dGhpcy5ub2Rlcz1uZXcgbHUoWy4uLmVdLm1hcCgoZSk9PmUuX2Nsb25lKCEwKSkpLHhvKHRoaXMucG9zaXRpb24sZSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5JbnNlcnRPcGVyYXRpb24nfXN0YXRpYyBmcm9tSlNPTihlLHQpe2NvbnN0IG89W107Zm9yKGNvbnN0IG4gb2YgZS5ub2RlcyluLm5hbWU/by5wdXNoKGR1LmZyb21KU09OKG4pKTpvLnB1c2goYXUuZnJvbUpTT04obikpO3JldHVybiBuZXcganUodXUuZnJvbUpTT04oZS5wb3NpdGlvbix0KSxvLGUuYmFzZVZlcnNpb24pfX1jbGFzcyBxdSBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCxvLG4saSxyKXtzdXBlcihpKSx0aGlzLm5hbWU9ZSx0aGlzLm9sZFJhbmdlPXQ/cHUuY3JlYXRlRnJvbVJhbmdlKHQpOm51bGwsdGhpcy5uZXdSYW5nZT1vP3B1LmNyZWF0ZUZyb21SYW5nZShvKTpudWxsLHRoaXMuYWZmZWN0c0RhdGE9cix0aGlzLl9tYXJrZXJzPW59Z2V0IHR5cGUoKXtyZXR1cm4nbWFya2VyJ31jbG9uZSgpe3JldHVybiBuZXcgcXUodGhpcy5uYW1lLHRoaXMub2xkUmFuZ2UsdGhpcy5uZXdSYW5nZSx0aGlzLl9tYXJrZXJzLHRoaXMuYmFzZVZlcnNpb24sdGhpcy5hZmZlY3RzRGF0YSl9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IHF1KHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLHRoaXMub2xkUmFuZ2UsdGhpcy5fbWFya2Vycyx0aGlzLmJhc2VWZXJzaW9uKzEsdGhpcy5hZmZlY3RzRGF0YSl9X2V4ZWN1dGUoKXtjb25zdCBlPXRoaXMubmV3UmFuZ2U/J19zZXQnOidfcmVtb3ZlJzt0aGlzLl9tYXJrZXJzW2VdKHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLCEwLHRoaXMuYWZmZWN0c0RhdGEpfXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGRlbGV0ZSBlLl9tYXJrZXJzLGV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5NYXJrZXJPcGVyYXRpb24nfXN0YXRpYyBmcm9tSlNPTihlLHQpe3JldHVybiBuZXcgcXUoZS5uYW1lLGUub2xkUmFuZ2U/cHUuZnJvbUpTT04oZS5vbGRSYW5nZSx0KTpudWxsLGUubmV3UmFuZ2U/cHUuZnJvbUpTT04oZS5uZXdSYW5nZSx0KTpudWxsLHQubW9kZWwubWFya2VycyxlLmJhc2VWZXJzaW9uLGUuYWZmZWN0c0RhdGEpfX1jbGFzcyBXdSBleHRlbmRzIEZ1e2dldCB0eXBlKCl7cmV0dXJuJ25vb3AnfWNsb25lKCl7cmV0dXJuIG5ldyBXdSh0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgV3UodGhpcy5iYXNlVmVyc2lvbisxKX1fZXhlY3V0ZSgpe31zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLk5vT3BlcmF0aW9uJ319Y2xhc3MgVXUgZXh0ZW5kcyBGdXtjb25zdHJ1Y3RvcihlLHQsbyxuKXtzdXBlcihuKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5vbGROYW1lPXQsdGhpcy5uZXdOYW1lPW99Z2V0IHR5cGUoKXtyZXR1cm4ncmVuYW1lJ31jbG9uZSgpe3JldHVybiBuZXcgVXUodXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMub2xkTmFtZSx0aGlzLm5ld05hbWUsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IFV1KHV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKSx0aGlzLm5ld05hbWUsdGhpcy5vbGROYW1lLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLm5vZGVBZnRlcjtpZighKGUgaW5zdGFuY2VvZiBkdSkpdGhyb3cgbmV3IF9zKCdyZW5hbWUtb3BlcmF0aW9uLXdyb25nLXBvc2l0aW9uOiBHaXZlbiBwb3NpdGlvbiBpcyBpbnZhbGlkIG9yIG5vZGUgYWZ0ZXIgaXQgaXMgbm90IGFuIGluc3RhbmNlIG9mIEVsZW1lbnQuJyk7ZWxzZSBpZihlLm5hbWUhPT10aGlzLm9sZE5hbWUpdGhyb3cgbmV3IF9zKCdyZW5hbWUtb3BlcmF0aW9uLXdyb25nLW5hbWU6IEVsZW1lbnQgdG8gY2hhbmdlIGhhcyBkaWZmZXJlbnQgbmFtZSB0aGFuIG9wZXJhdGlvblxcJ3Mgb2xkIG5hbWUuJyl9X2V4ZWN1dGUoKXtjb25zdCBlPXRoaXMucG9zaXRpb24ubm9kZUFmdGVyO2UubmFtZT10aGlzLm5ld05hbWV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5SZW5hbWVPcGVyYXRpb24nfXN0YXRpYyBmcm9tSlNPTihlLHQpe3JldHVybiBuZXcgVXUodXUuZnJvbUpTT04oZS5wb3NpdGlvbix0KSxlLm9sZE5hbWUsZS5uZXdOYW1lLGUuYmFzZVZlcnNpb24pfX1jbGFzcyBIdSBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCxvLG4saSl7c3VwZXIoaSksdGhpcy5yb290PWUsdGhpcy5rZXk9dCx0aGlzLm9sZFZhbHVlPW8sdGhpcy5uZXdWYWx1ZT1ufWdldCB0eXBlKCl7cmV0dXJuIG51bGw9PT10aGlzLm9sZFZhbHVlPydhZGRSb290QXR0cmlidXRlJzpudWxsPT09dGhpcy5uZXdWYWx1ZT8ncmVtb3ZlUm9vdEF0dHJpYnV0ZSc6J2NoYW5nZVJvb3RBdHRyaWJ1dGUnfWNsb25lKCl7cmV0dXJuIG5ldyBIdSh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBIdSh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSx0aGlzLm9sZFZhbHVlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7aWYodGhpcy5yb290IT10aGlzLnJvb3Qucm9vdHx8dGhpcy5yb290LmlzKCdkb2N1bWVudEZyYWdtZW50JykpdGhyb3cgbmV3IF9zKCdyb290YXR0cmlidXRlLW9wZXJhdGlvbi1ub3QtYS1yb290OiBUaGUgZWxlbWVudCB0byBjaGFuZ2UgaXMgbm90IGEgcm9vdCBlbGVtZW50Licse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pO2lmKG51bGwhPT10aGlzLm9sZFZhbHVlJiZ0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKHRoaXMua2V5KSE9PXRoaXMub2xkVmFsdWUpdGhyb3cgbmV3IF9zKCdyb290YXR0cmlidXRlLW9wZXJhdGlvbi13cm9uZy1vbGQtdmFsdWU6IENoYW5nZWQgbm9kZSBoYXMgZGlmZmVyZW50IGF0dHJpYnV0ZSB2YWx1ZSB0aGFuIG9wZXJhdGlvblxcJ3Mgb2xkIGF0dHJpYnV0ZSB2YWx1ZS4nLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KTtpZihudWxsPT09dGhpcy5vbGRWYWx1ZSYmbnVsbCE9PXRoaXMubmV3VmFsdWUmJnRoaXMucm9vdC5oYXNBdHRyaWJ1dGUodGhpcy5rZXkpKXRocm93IG5ldyBfcygncm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tYXR0cmlidXRlLWV4aXN0czogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cy4nLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KX1fZXhlY3V0ZSgpe251bGw9PT10aGlzLm5ld1ZhbHVlP3RoaXMucm9vdC5fcmVtb3ZlQXR0cmlidXRlKHRoaXMua2V5KTp0aGlzLnJvb3QuX3NldEF0dHJpYnV0ZSh0aGlzLmtleSx0aGlzLm5ld1ZhbHVlKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLlJvb3RBdHRyaWJ1dGVPcGVyYXRpb24nfXN0YXRpYyBmcm9tSlNPTihlLHQpe2lmKCF0LmdldFJvb3QoZS5yb290KSl0aHJvdyBuZXcgX3MoJ3Jvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLWZyb21qc29uLW5vLXJvb3Q6IENhbm5vdCBjcmVhdGUgUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbi4gUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0Licse3Jvb3ROYW1lOmV9KTtyZXR1cm4gbmV3IEh1KHQuZ2V0Um9vdChlLnJvb3QpLGUua2V5LGUub2xkVmFsdWUsZS5uZXdWYWx1ZSxlLmJhc2VWZXJzaW9uKX19Y29uc3QgS3U9e307S3VbTXUuY2xhc3NOYW1lXT1NdSxLdVtqdS5jbGFzc05hbWVdPWp1LEt1W3F1LmNsYXNzTmFtZV09cXUsS3VbQnUuY2xhc3NOYW1lXT1CdSxLdVtXdS5jbGFzc05hbWVdPVd1LEt1W0Z1LmNsYXNzTmFtZV09RnUsS3VbTHUuY2xhc3NOYW1lXT1MdSxLdVt6dS5jbGFzc05hbWVdPXp1LEt1W1V1LmNsYXNzTmFtZV09VXUsS3VbSHUuY2xhc3NOYW1lXT1IdTtjbGFzcyBHdXtzdGF0aWMgZnJvbUpTT04oZSx0KXtyZXR1cm4gS3VbZS5fX2NsYXNzTmFtZV0uZnJvbUpTT04oZSx0KX19Y29uc3QgJHU9bmV3IE1hcDtjbGFzcyBKdXtzdGF0aWMgZnJvbUpTT04oZSx0KXtpZighJHUuaGFzKGUuX19jbGFzc05hbWUpKXRocm93IG5ldyBfcygnZGVsdGEtZnJvbWpzb24tbm8tZGVzZXJpYWxpemVyOiBUaGlzIGRlbHRhIGhhcyBubyBkZWZpbmVkIGRlc2VyaWFsaXplcicse25hbWU6ZS5fX2NsYXNzTmFtZX0pO2NvbnN0IG89JHUuZ2V0KGUuX19jbGFzc05hbWUpLG49bmV3IG87Zm9yKGNvbnN0IG8gb2YgZS5vcGVyYXRpb25zKW4uYWRkT3BlcmF0aW9uKEd1LmZyb21KU09OKG8sdCkpO2Zvcihjb25zdCBvIGluIGUpJ19fY2xhc3NOYW1lJyE9byYmdm9pZCAwPT09bltvXSYmKG5bb109ZVtvXSk7cmV0dXJuIG59c3RhdGljIHJlZ2lzdGVyKGUpeyR1LnNldChlLmNsYXNzTmFtZSxlKX19Y2xhc3MgUXV7Y29uc3RydWN0b3IoKXt0aGlzLmJhdGNoPW51bGwsdGhpcy5vcGVyYXRpb25zPVtdfWdldCBiYXNlVmVyc2lvbigpe3JldHVybiAwPHRoaXMub3BlcmF0aW9ucy5sZW5ndGg/dGhpcy5vcGVyYXRpb25zWzBdLmJhc2VWZXJzaW9uOm51bGx9c2V0IGJhc2VWZXJzaW9uKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMub3BlcmF0aW9ucyl0LmJhc2VWZXJzaW9uPWUrK31nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIFF1fWFkZE9wZXJhdGlvbihlKXtyZXR1cm4gZS5kZWx0YT10aGlzLHRoaXMub3BlcmF0aW9ucy5wdXNoKGUpLGV9Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO2Zvcihjb25zdCB0IG9mIHRoaXMub3BlcmF0aW9ucyllLmFkZE9wZXJhdGlvbih0LmNsb25lKCkpO3JldHVybiBlfWdldFJldmVyc2VkKCl7Y29uc3QgZT1uZXcgdGhpcy5fcmV2ZXJzZURlbHRhQ2xhc3M7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vcGVyYXRpb25zKWUuYWRkT3BlcmF0aW9uKHQuZ2V0UmV2ZXJzZWQoKSk7ZS5vcGVyYXRpb25zLnJldmVyc2UoKTtmb3IobGV0IHQ9MDt0PGUub3BlcmF0aW9ucy5sZW5ndGg7dCsrKWUub3BlcmF0aW9uc1t0XS5iYXNlVmVyc2lvbj10aGlzLm9wZXJhdGlvbnNbdGhpcy5vcGVyYXRpb25zLmxlbmd0aC0xXS5iYXNlVmVyc2lvbit0KzE7cmV0dXJuIGV9dG9KU09OKCl7Y29uc3QgZT0kZCh0aGlzKTtyZXR1cm4gZS5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgZS5iYXRjaCxlfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5EZWx0YSd9fUp1LnJlZ2lzdGVyKFF1KTtjbGFzcyBZdSBleHRlbmRzIFF1e2dldCB0eXBlKCl7cmV0dXJuJ2F0dHJpYnV0ZSd9Z2V0IGtleSgpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF0/dGhpcy5vcGVyYXRpb25zWzBdLmtleTpudWxsfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF0/dGhpcy5vcGVyYXRpb25zWzBdLm5ld1ZhbHVlOm51bGx9Z2V0IHJhbmdlKCl7aWYodGhpcy5fcmFuZ2UpcmV0dXJuIHRoaXMuX3JhbmdlO2xldCBlPW51bGwsdD1udWxsO2Zvcihjb25zdCBvIG9mIHRoaXMub3BlcmF0aW9ucylvIGluc3RhbmNlb2YgV3V8fCgobnVsbD09PWV8fGUuaXNBZnRlcihvLnJhbmdlLnN0YXJ0KSkmJihlPW8ucmFuZ2Uuc3RhcnQpLChudWxsPT09dHx8dC5pc0JlZm9yZShvLnJhbmdlLmVuZCkpJiYodD1vLnJhbmdlLmVuZCkpO3JldHVybiBlJiZ0Pyh0aGlzLl9yYW5nZT1uZXcgcHUoZSx0KSx0aGlzLl9yYW5nZSk6bnVsbH1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIFl1fXRvSlNPTigpe2NvbnN0IGU9c3VwZXIudG9KU09OKCk7cmV0dXJuIGRlbGV0ZSBlLl9yYW5nZSxlfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5BdHRyaWJ1dGVEZWx0YSd9fUp1LnJlZ2lzdGVyKFl1KTtjbGFzcyBYdSBleHRlbmRzIFF1e2dldCB0eXBlKCl7cmV0dXJuJ3NwbGl0J31nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fbW92ZU9wZXJhdGlvbj90aGlzLl9tb3ZlT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uOm51bGx9Z2V0IF9jbG9uZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF18fG51bGx9Z2V0IF9tb3ZlT3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1sxXSYmdGhpcy5vcGVyYXRpb25zWzFdaW5zdGFuY2VvZiBCdT90aGlzLm9wZXJhdGlvbnNbMV06bnVsbH1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIFp1fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5TcGxpdERlbHRhJ319SnUucmVnaXN0ZXIoWHUpO2NsYXNzIFp1IGV4dGVuZHMgUXV7Z2V0IHR5cGUoKXtyZXR1cm4nbWVyZ2UnfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9yZW1vdmVPcGVyYXRpb24/dGhpcy5fcmVtb3ZlT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uOm51bGx9Z2V0IF9yZW1vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzFdfHxudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gWHV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLk1lcmdlRGVsdGEnfX1KdS5yZWdpc3RlcihadSk7Y2xhc3MgZXAgZXh0ZW5kcyBRdXtnZXQgdHlwZSgpe3JldHVybidtb3ZlJ31nZXQgaG93TWFueSgpe3JldHVybiB0aGlzLl9tb3ZlT3BlcmF0aW9uP3RoaXMuX21vdmVPcGVyYXRpb24uaG93TWFueTpudWxsfWdldCBzb3VyY2VQb3NpdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlT3BlcmF0aW9uP3RoaXMuX21vdmVPcGVyYXRpb24uc291cmNlUG9zaXRpb246bnVsbH1nZXQgdGFyZ2V0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fbW92ZU9wZXJhdGlvbj90aGlzLl9tb3ZlT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uOm51bGx9Z2V0IF9tb3ZlT3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIGVwfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5Nb3ZlRGVsdGEnfX1KdS5yZWdpc3RlcihlcCk7Y2xhc3MgdHAgZXh0ZW5kcyBlcHtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuUmVtb3ZlRGVsdGEnfX1KdS5yZWdpc3Rlcih0cCk7Y2xhc3Mgb3AgZXh0ZW5kcyBRdXtnZXQgdHlwZSgpe3JldHVybidyZW5hbWUnfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gb3B9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLlJlbmFtZURlbHRhJ319SnUucmVnaXN0ZXIob3ApO2NsYXNzIG5wIGV4dGVuZHMgUXV7Z2V0IHR5cGUoKXtyZXR1cm4nd3JhcCd9Z2V0IHJhbmdlKCl7Y29uc3QgZT10aGlzLl9tb3ZlT3BlcmF0aW9uO3JldHVybiBlP3B1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTpudWxsfWdldCBob3dNYW55KCl7Y29uc3QgZT10aGlzLnJhbmdlO3JldHVybiBlP2UuZW5kLm9mZnNldC1lLnN0YXJ0Lm9mZnNldDowfWdldCBfaW5zZXJ0T3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX21vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzFdfHxudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gaXB9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLldyYXBEZWx0YSd9fUp1LnJlZ2lzdGVyKG5wKTtjbGFzcyBpcCBleHRlbmRzIFF1e2dldCB0eXBlKCl7cmV0dXJuJ3Vud3JhcCd9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVPcGVyYXRpb24/dGhpcy5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbjpudWxsfWdldCBfbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBucH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuVW53cmFwRGVsdGEnfX1KdS5yZWdpc3RlcihpcCk7Y2xhc3MgcnAgZXh0ZW5kcyBRdXtnZXQgdHlwZSgpe3JldHVybidpbnNlcnQnfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9pbnNlcnRPcGVyYXRpb24/dGhpcy5faW5zZXJ0T3BlcmF0aW9uLnBvc2l0aW9uOm51bGx9Z2V0IG5vZGVzKCl7cmV0dXJuIHRoaXMuX2luc2VydE9wZXJhdGlvbj90aGlzLl9pbnNlcnRPcGVyYXRpb24ubm9kZXM6bnVsbH1nZXQgX2luc2VydE9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMF18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiB0cH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuSW5zZXJ0RGVsdGEnfX1KdS5yZWdpc3RlcihycCk7Y2xhc3MgYXAgZXh0ZW5kcyBycHtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuV2Vha0luc2VydERlbHRhJ319SnUucmVnaXN0ZXIoYXApO3ZhciBzcD1mdW5jdGlvbihlLHQsbz17aXNTdHJvbmc6ITF9KXtsZXQgbixpO2UgaW5zdGFuY2VvZiBqdT9uPWxwLkluc2VydE9wZXJhdGlvbjplIGluc3RhbmNlb2YgTXU/bj1scC5BdHRyaWJ1dGVPcGVyYXRpb246ZSBpbnN0YW5jZW9mIEh1P249bHAuUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjplIGluc3RhbmNlb2YgVXU/bj1scC5SZW5hbWVPcGVyYXRpb246ZSBpbnN0YW5jZW9mIHF1P249bHAuTWFya2VyT3BlcmF0aW9uOmUgaW5zdGFuY2VvZiBCdT9uPWxwLk1vdmVPcGVyYXRpb246aT1JbyxuJiYodCBpbnN0YW5jZW9mIGp1P2k9bi5JbnNlcnRPcGVyYXRpb246dCBpbnN0YW5jZW9mIE11P2k9bi5BdHRyaWJ1dGVPcGVyYXRpb246dCBpbnN0YW5jZW9mIEh1P2k9bi5Sb290QXR0cmlidXRlT3BlcmF0aW9uOnQgaW5zdGFuY2VvZiBVdT9pPW4uUmVuYW1lT3BlcmF0aW9uOnQgaW5zdGFuY2VvZiBxdT9pPW4uTWFya2VyT3BlcmF0aW9uOnQgaW5zdGFuY2VvZiBCdT9pPW4uTW92ZU9wZXJhdGlvbjppPUlvKTtjb25zdCByPWkoZSx0LG8pO3JldHVybiBSbyhlLmJhc2VWZXJzaW9uLHIpfTtjb25zdCBscD17SW5zZXJ0T3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24oZSx0LG8pe2NvbnN0IG49ZS5jbG9uZSgpLGk9dm9pZCAwPT09by5pbnNlcnRCZWZvcmU/IW8uaXNTdHJvbmc6by5pbnNlcnRCZWZvcmU7cmV0dXJuIG4ucG9zaXRpb249bi5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LGkpLFtuXX0sQXR0cmlidXRlT3BlcmF0aW9uOklvLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246SW8sUmVuYW1lT3BlcmF0aW9uOklvLE1hcmtlck9wZXJhdGlvbjpJbyxNb3ZlT3BlcmF0aW9uKGUsdCxvKXtjb25zdCBuPWUuY2xvbmUoKSxpPXZvaWQgMD09PW8uaW5zZXJ0QmVmb3JlPyFvLmlzU3Ryb25nOm8uaW5zZXJ0QmVmb3JlO3JldHVybiBuLnBvc2l0aW9uPWUucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnksaSx0LmlzU3RpY2t5JiYhby5mb3JjZU5vdFN0aWNreSksW25dfX0sQXR0cmlidXRlT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24oZSx0KXtjb25zdCBvPWUucmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCwhMCwhMSk7cmV0dXJuIG8ucmV2ZXJzZSgpLm1hcCgodCk9Pm5ldyBNdSh0LGUua2V5LGUub2xkVmFsdWUsZS5uZXdWYWx1ZSxlLmJhc2VWZXJzaW9uKSl9LEF0dHJpYnV0ZU9wZXJhdGlvbihlLHQsbyl7aWYoZS5rZXk9PT10LmtleSl7Y29uc3Qgbj1lLnJhbmdlLmdldERpZmZlcmVuY2UodC5yYW5nZSkubWFwKCh0KT0+bmV3IE11KHQsZS5rZXksZS5vbGRWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pKSxpPWUucmFuZ2UuZ2V0SW50ZXJzZWN0aW9uKHQucmFuZ2UpO3JldHVybiBpJiYoby5pc1N0cm9uZz9uLnB1c2gobmV3IE11KGksdC5rZXksdC5uZXdWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pKTowPT09bi5sZW5ndGgmJm4ucHVzaChuZXcgV3UoMCkpKSxufXJldHVybltlLmNsb25lKCldfSxSb290QXR0cmlidXRlT3BlcmF0aW9uOklvLFJlbmFtZU9wZXJhdGlvbjpJbyxNYXJrZXJPcGVyYXRpb246SW8sTW92ZU9wZXJhdGlvbihlLHQpe2NvbnN0IG89cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpO2xldCBuPVtdO2NvbnN0IGk9Rm8oZS5yYW5nZS5nZXREaWZmZXJlbmNlKG8pKSxyPWUucmFuZ2UuZ2V0SW50ZXJzZWN0aW9uKG8pO3JldHVybiBudWxsIT09aSYmKGkuc3RhcnQ9aS5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KSxpLmVuZD1pLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KSxuPWkuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0Lmhvd01hbnksITAsITEpLnJldmVyc2UoKSksbnVsbCE9PXImJihyLnN0YXJ0PXIuc3RhcnQuX2dldENvbWJpbmVkKHQuc291cmNlUG9zaXRpb24sdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksci5lbmQ9ci5lbmQuX2dldENvbWJpbmVkKHQuc291cmNlUG9zaXRpb24sdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksbi5wdXNoKHIpKSxuLm1hcCgodCk9Pm5ldyBNdSh0LGUua2V5LGUub2xkVmFsdWUsZS5uZXdWYWx1ZSxlLmJhc2VWZXJzaW9uKSl9fSxSb290QXR0cmlidXRlT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb246SW8sQXR0cmlidXRlT3BlcmF0aW9uOklvLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb24oZSx0LG8pe3JldHVybiBlLnJvb3QhPT10LnJvb3R8fGUua2V5IT09dC5rZXl8fChlLm5ld1ZhbHVlPT09dC5uZXdWYWx1ZXx8by5pc1N0cm9uZykmJmUubmV3VmFsdWUhPT10Lm5ld1ZhbHVlP1tlLmNsb25lKCldOltuZXcgV3UoZS5iYXNlVmVyc2lvbildfSxSZW5hbWVPcGVyYXRpb246SW8sTWFya2VyT3BlcmF0aW9uOklvLE1vdmVPcGVyYXRpb246SW99LFJlbmFtZU9wZXJhdGlvbjp7SW5zZXJ0T3BlcmF0aW9uKGUsdCl7Y29uc3Qgbz1lLmNsb25lKCk7cmV0dXJuIG8ucG9zaXRpb249by5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LCEwKSxbb119LEF0dHJpYnV0ZU9wZXJhdGlvbjpJbyxSb290QXR0cmlidXRlT3BlcmF0aW9uOklvLFJlbmFtZU9wZXJhdGlvbihlLHQsbyl7Y29uc3Qgbj1lLmNsb25lKCk7aWYoZS5wb3NpdGlvbi5pc0VxdWFsKHQucG9zaXRpb24pKWlmKG8uaXNTdHJvbmcpbi5vbGROYW1lPXQubmV3TmFtZTtlbHNlIHJldHVybltuZXcgV3UoZS5iYXNlVmVyc2lvbildO3JldHVybltuXX0sTWFya2VyT3BlcmF0aW9uOklvLE1vdmVPcGVyYXRpb24oZSx0KXtjb25zdCBvPWUuY2xvbmUoKSxuPW8ucG9zaXRpb24uaXNFcXVhbCh0LnNvdXJjZVBvc2l0aW9uKTtyZXR1cm4gby5wb3NpdGlvbj1vLnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LCEwLG4pLFtvXX19LE1hcmtlck9wZXJhdGlvbjp7SW5zZXJ0T3BlcmF0aW9uKGUsdCl7Y29uc3Qgbz1lLmNsb25lKCk7cmV0dXJuIG8ub2xkUmFuZ2UmJihvLm9sZFJhbmdlPW8ub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCwhMSwhMSlbMF0pLG8ubmV3UmFuZ2UmJihvLm5ld1JhbmdlPW8ubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCwhMSwhMSlbMF0pLFtvXX0sQXR0cmlidXRlT3BlcmF0aW9uOklvLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246SW8sUmVuYW1lT3BlcmF0aW9uOklvLE1hcmtlck9wZXJhdGlvbihlLHQsbyl7Y29uc3Qgbj1lLmNsb25lKCk7aWYoZS5uYW1lPT10Lm5hbWUpaWYoby5pc1N0cm9uZyluLm9sZFJhbmdlPXQubmV3UmFuZ2U7ZWxzZSByZXR1cm5bbmV3IFd1KGUuYmFzZVZlcnNpb24pXTtyZXR1cm5bbl19LE1vdmVPcGVyYXRpb24oZSx0KXtjb25zdCBvPWUuY2xvbmUoKTtpZihvLm9sZFJhbmdlKXtjb25zdCBlPW8ub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnkpO28ub2xkUmFuZ2U9cHUuY3JlYXRlRnJvbVJhbmdlcyhlKX1pZihvLm5ld1JhbmdlKXtjb25zdCBlPW8ubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnkpO28ubmV3UmFuZ2U9cHUuY3JlYXRlRnJvbVJhbmdlcyhlKX1yZXR1cm5bb119fSxNb3ZlT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24oZSx0LG8pe2xldCBuPXB1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtjb25zdCBpPWUuaXNTdGlja3kmJiFvLmZvcmNlTm90U3RpY2t5O249bi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LCExLGkpWzBdO2NvbnN0IHI9dm9pZCAwPT09by5pbnNlcnRCZWZvcmU/IW8uaXNTdHJvbmc6by5pbnNlcnRCZWZvcmUsYT1uZXcgZS5jb25zdHJ1Y3RvcihuLnN0YXJ0LG4uZW5kLm9mZnNldC1uLnN0YXJ0Lm9mZnNldCxlLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQsciksZS5iYXNlVmVyc2lvbik7cmV0dXJuIGEuaXNTdGlja3k9ZS5pc1N0aWNreSxbYV19LEF0dHJpYnV0ZU9wZXJhdGlvbjpJbyxSb290QXR0cmlidXRlT3BlcmF0aW9uOklvLFJlbmFtZU9wZXJhdGlvbjpJbyxNYXJrZXJPcGVyYXRpb246SW8sTW92ZU9wZXJhdGlvbihlLHQsbyl7Y29uc3Qgbj1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSksaT1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7bGV0IHI9by5pc1N0cm9uZztjb25zdCBhPWUuaXNTdGlja3kmJiFvLmZvcmNlTm90U3RpY2t5LHM9dm9pZCAwPT09by5pbnNlcnRCZWZvcmU/IXI6by5pbnNlcnRCZWZvcmUsbD1lLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LHMsdC5pc1N0aWNreSYmIW8uZm9yY2VOb3RTdGlja3kpO2lmKFZvKGUsdCkmJlZvKHQsZSkpcmV0dXJuW3QuZ2V0UmV2ZXJzZWQoKV07Y29uc3QgZD1uLmNvbnRhaW5zUG9zaXRpb24odC50YXJnZXRQb3NpdGlvbil8fG4uc3RhcnQuaXNFcXVhbCh0LnRhcmdldFBvc2l0aW9uKSYmYXx8bi5lbmQuaXNFcXVhbCh0LnRhcmdldFBvc2l0aW9uKSYmYTtpZihkJiZuLmNvbnRhaW5zUmFuZ2UoaSwhMCkpcmV0dXJuIG4uc3RhcnQ9bi5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSwhYSksbi5lbmQ9bi5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnksYSksTm8oW25dLGwsZSk7Y29uc3QgYz1pLmNvbnRhaW5zUG9zaXRpb24oZS50YXJnZXRQb3NpdGlvbil8fGkuc3RhcnQuaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmdC5pc1N0aWNreSYmIW8uZm9yY2VOb3RTdGlja3l8fGkuZW5kLmlzRXF1YWwoZS50YXJnZXRQb3NpdGlvbikmJnQuaXNTdGlja3kmJiFvLmZvcmNlTm90U3RpY2t5O2lmKGMmJmkuY29udGFpbnNSYW5nZShuLCEwKSlyZXR1cm4gbi5zdGFydD1uLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLG4uZW5kPW4uZW5kLl9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLE5vKFtuXSxsLGUpO2NvbnN0IG09QShlLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0LnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSk7aWYoJ3ByZWZpeCc9PW18fCdleHRlbnNpb24nPT1tKXJldHVybiBuLnN0YXJ0PW4uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnksIWEpLG4uZW5kPW4uZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LGEpLE5vKFtuXSxsLGUpO28uZm9yY2VXZWFrUmVtb3ZlfHwoZSBpbnN0YW5jZW9mIHp1JiYhKHQgaW5zdGFuY2VvZiB6dSk/cj0hMDohKGUgaW5zdGFuY2VvZiB6dSkmJnQgaW5zdGFuY2VvZiB6dSYmKHI9ITEpKTtjb25zdCB1PVtdLHA9bi5nZXREaWZmZXJlbmNlKGkpO2Zvcihjb25zdCBuIG9mIHApe24uc3RhcnQ9bi5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KSxuLmVuZD1uLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KTtjb25zdCBlPSdzYW1lJz09QShuLnN0YXJ0LmdldFBhcmVudFBhdGgoKSx0LmdldE1vdmVkUmFuZ2VTdGFydCgpLmdldFBhcmVudFBhdGgoKSksbz1uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdC5ob3dNYW55LGUsYSk7dS5wdXNoKC4uLm8pfWNvbnN0IGc9bi5nZXRJbnRlcnNlY3Rpb24oaSk7cmV0dXJuIG51bGwhPT1nJiZyJiYhZCYmKGcuc3RhcnQ9Zy5zdGFydC5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LmdldE1vdmVkUmFuZ2VTdGFydCgpKSxnLmVuZD1nLmVuZC5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LmdldE1vdmVkUmFuZ2VTdGFydCgpKSwwPT09dS5sZW5ndGg/dS5wdXNoKGcpOjE9PXUubGVuZ3RoP2kuc3RhcnQuaXNCZWZvcmUobi5zdGFydCl8fGkuc3RhcnQuaXNFcXVhbChuLnN0YXJ0KT91LnVuc2hpZnQoZyk6dS5wdXNoKGcpOnUuc3BsaWNlKDEsMCxnKSksMD09PXUubGVuZ3RoP1tuZXcgV3UoZS5iYXNlVmVyc2lvbildOk5vKHUsbCxlKX19fTt2YXIgb3Q9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPS0xLGk9ZS5sZW5ndGg7MD50JiYodD0tdD5pPzA6aSt0KSxvPW8+aT9pOm8sMD5vJiYobys9aSksaT10Pm8/MDpvLXQ+Pj4wLHQ+Pj49MDtmb3IodmFyIHI9QXJyYXkoaSk7KytuPGk7KXJbbl09ZVtuK3RdO3JldHVybiByfSxkcD1NYXRoLmNlaWwsY3A9ZnVuY3Rpb24oZSl7cmV0dXJuIFNsKGUpfHxQbChlKX0sbXA9TW8sdXA9ZnVuY3Rpb24oZSx0LG8pe2Zvcih2YXIgbj1lLmxlbmd0aCxpPXQrKG8/MDotMSk7bz9pLS06KytpPG47KXt2YXIgcj1lW2ldO2lmKHIhPT1yKXJldHVybiBpfXJldHVybi0xfSxwcD1mdW5jdGlvbihlLHQsbyl7aWYodCE9PXQpcmV0dXJuIHVwKGUsbyk7Zm9yKHZhciBuPW8tMSxpPWUubGVuZ3RoOysrbjxpOylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sZ3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUubGVuZ3RoJiYtMTxwcChlLHQsMCl9LGZwPWZ1bmN0aW9uKGUsdCxvKXtmb3IodmFyIG49LTEsaT1lLmxlbmd0aDsrK248aTspaWYobyh0LGVbbl0pKXJldHVybiEwO3JldHVybiExfSxocD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbz0tMSxuPWUubGVuZ3RoLGk9QXJyYXkobik7KytvPG47KWlbb109dChlW29dLG8sZSk7cmV0dXJuIGl9LGJwPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX19LGtwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzKHQpfSxfcD1mdW5jdGlvbihlLHQsbyxuKXt2YXIgaT0tMSxyPWdwLGE9ITAscz1lLmxlbmd0aCxsPVtdLGQ9dC5sZW5ndGg7aWYoIXMpcmV0dXJuIGw7byYmKHQ9aHAodCxicChvKSkpLG4/KHI9ZnAsYT0hMSk6dC5sZW5ndGg+PTIwMCYmKHI9a3AsYT0hMSx0PW5ldyB2bSh0KSk7b3V0ZXI6Zm9yKDsrK2k8czspe3ZhciBjPWVbaV0sbT1vP28oYyk6YztpZihjPW58fDAhPT1jP2M6MCxhJiZtPT09bSl7Zm9yKHZhciB1PWQ7dS0tOylpZih0W3VdPT09bSljb250aW51ZSBvdXRlcjtsLnB1c2goYyl9ZWxzZSByKHQsbSxuKXx8bC5wdXNoKGMpfXJldHVybiBsfSx3cD1iYyhmdW5jdGlvbihlLHQpe3JldHVybiB5bChlKT9fcChlLG1wKHQsMSx5bCwhMCkpOltdfSksdnA9MSx5cD0yLHhwPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZSYmIVZzKGUpfSxDcD1mdW5jdGlvbihlLHQpe3JldHVybiBocCh0LGZ1bmN0aW9uKHQpe3JldHVyblt0LGVbdF1dfSl9LEFwPWZ1bmN0aW9uKGUpe3ZhciB0PS0xLG89QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe29bKyt0XT1bZSxlXX0pLG99LFRwPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbz1nZCh0KTtyZXR1cm4gbz09J1tvYmplY3QgTWFwXSc/Q2QodCk6bz09J1tvYmplY3QgU2V0XSc/QXAodCk6Q3AodCxlKHQpKX19KEJsKSxQcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9VHAoZSksbz10Lmxlbmd0aDtvLS07KXRbb11bMl09eHAodFtvXVsxXSk7cmV0dXJuIHR9LEVwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG8pe3JldHVybiBudWxsIT1vJiZvW2VdPT09dCYmKHQhPT12b2lkIDB8fGUgaW4gT2JqZWN0KG8pKX19LFNwPWZ1bmN0aW9uKGUpe3ZhciB0PVBwKGUpO3JldHVybiAxPT10Lmxlbmd0aCYmdFswXVsyXT9FcCh0WzBdWzBdLHRbMF1bMV0pOmZ1bmN0aW9uKG8pe3JldHVybiBvPT09ZXx8Qm8obyxlLHQpfX0sT3A9J0V4cGVjdGVkIGEgZnVuY3Rpb24nO0xvLkNhY2hlPXJsO3ZhciBJcD1SZD9SZC5wcm90b3R5cGU6dm9pZCAwLFJwPUlwP0lwLnRvU3RyaW5nOnZvaWQgMCxWcD1mdW5jdGlvbihlKXtpZignc3RyaW5nJz09dHlwZW9mIGUpcmV0dXJuIGU7aWYocmMoZSkpcmV0dXJuIFJwP1JwLmNhbGwoZSk6Jyc7dmFyIHQ9ZSsnJztyZXR1cm4nMCc9PXQmJjEvZT09LSgxLzApPyctMCc6dH0sRnA9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/Jyc6VnAoZSl9LE5wPS9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdL2csRHA9L1xcXFwoXFxcXCk/L2csTXA9TG8oZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEZwKGUpLnJlcGxhY2UoTnAsZnVuY3Rpb24oZSxvLG4saSl7dC5wdXNoKG4/aS5yZXBsYWNlKERwLCckMScpOm98fGUpfSksdH0pLEJwPWZ1bmN0aW9uKGUpe3JldHVybiBTbChlKT9lOk1wKGUpfSxMcD0vXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLHpwPS9eXFx3KiQvLGpwPXpvLHFwPWZ1bmN0aW9uKGUpe2lmKCdzdHJpbmcnPT10eXBlb2YgZXx8cmMoZSkpcmV0dXJuIGU7dmFyIHQ9ZSsnJztyZXR1cm4nMCc9PXQmJjEvZT09LSgxLzApPyctMCc6dH0sV3A9ZnVuY3Rpb24oZSx0KXt0PWpwKHQsZSk/W3RdOkJwKHQpO2Zvcih2YXIgbz0wLG49dC5sZW5ndGg7bnVsbCE9ZSYmbzxuOyllPWVbcXAodFtvKytdKV07cmV0dXJuIG8mJm89PW4/ZTp2b2lkIDB9LFVwPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1udWxsPT1lP3ZvaWQgMDpXcChlLHQpO3JldHVybiBuPT09dm9pZCAwP286bn0sSHA9ZnVuY3Rpb24oZSx0LG8pe3Q9anAodCxlKT9bdF06QnAodCk7Zm9yKHZhciBuPS0xLGk9dC5sZW5ndGgscjsrK248aTspe3ZhciBhPXFwKHRbbl0pO2lmKCEocj1udWxsIT1lJiZvKGUsYSkpKWJyZWFrO2U9ZVthXX1pZihyKXJldHVybiByO3ZhciBpPWU/ZS5sZW5ndGg6MDtyZXR1cm4hIWkmJndsKGkpJiZObChhLGkpJiYoU2woZSl8fFJsKGUpfHxQbChlKSl9LEtwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPWUmJkhwKGUsdCxqbyl9LEdwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGpwKGUpJiZ4cCh0KT9FcChxcChlKSx0KTpmdW5jdGlvbihvKXt2YXIgbj1VcChvLGUpO3JldHVybiBuPT09dm9pZCAwJiZuPT09dD9LcChvLGUpOkJtKHQsbix2b2lkIDAsMXwyKX19LCRwPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxKcD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIFdwKHQsZSl9fSxRcD1mdW5jdGlvbihlKXtyZXR1cm4ganAoZSk/a2wocXAoZSkpOkpwKGUpfSxZcD1mdW5jdGlvbihlKXtyZXR1cm4nZnVuY3Rpb24nPT10eXBlb2YgZT9lOm51bGw9PWU/JHA6J29iamVjdCc9PXR5cGVvZiBlP1NsKGUpP0dwKGVbMF0sZVsxXSk6U3AoZSk6UXAoZSl9LFhwPWJjKGZ1bmN0aW9uKGUsdCl7dmFyIG89bXUodCk7cmV0dXJuIHlsKG8pJiYobz12b2lkIDApLHlsKGUpP19wKGUsbXAodCwxLHlsLCEwKSxZcChvKSk6W119KSxacD1iYyhmdW5jdGlvbihlLHQpe3ZhciBvPW11KHQpO3JldHVybiB5bChvKSYmKG89dm9pZCAwKSx5bChlKT9fcChlLG1wKHQsMSx5bCwhMCksdm9pZCAwLG8pOltdfSksZWc9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPWU/ZS5sZW5ndGg6MDtyZXR1cm4gbj8odD1vfHx2b2lkIDA9PT10PzE6ZmModCksb3QoZSwwPnQ/MDp0LG4pKTpbXX0sdGc9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPWU/ZS5sZW5ndGg6MDtyZXR1cm4gbj8odD1vfHx2b2lkIDA9PT10PzE6ZmModCksdD1uLXQsb3QoZSwwLDA+dD8wOnQpKTpbXX0sb2c9ZnVuY3Rpb24oZSx0LG8sbil7Zm9yKHZhciBpPWUubGVuZ3RoLHI9bj9pOi0xOyhuP3ItLTorK3I8aSkmJnQoZVtyXSxyLGUpOyk7cmV0dXJuIG8/b3QoZSxuPzA6cixuP3IrMTppKTpvdChlLG4/cisxOjAsbj9pOnIpfSxuZz1mdW5jdGlvbihlLHQsbyl7cmV0dXJuIGU9PT1lJiYodm9pZCAwIT09byYmKGU9ZTw9bz9lOm8pLHZvaWQgMCE9PXQmJihlPWU+PXQ/ZTp0KSksZX0saWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bmcoZmMoZSksMCw0Mjk0OTY3Mjk1KTowfSxyZz1mdW5jdGlvbihlLHQsbyxuKXt2YXIgaT1lLmxlbmd0aDtmb3Iobz1mYyhvKSwwPm8mJihvPS1vPmk/MDppK28pLG49dm9pZCAwPT09bnx8bj5pP2k6ZmMobiksMD5uJiYobis9aSksbj1vPm4/MDppZyhuKTtvPG47KWVbbysrXT10O3JldHVybiBlfSxhZz1mdW5jdGlvbihlLHQsbyl7Zm9yKHZhciBuPWUubGVuZ3RoLGk9bz9uOi0xO28/aS0tOisraTxuOylpZih0KGVbaV0saSxlKSlyZXR1cm4gaTtyZXR1cm4tMX0sc2c9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoP2VbMF06dm9pZCAwfSxsZz1mdW5jdGlvbihlLHQsbyl7Zm9yKHZhciBuPW8/ZnA6Z3AsaT1lWzBdLmxlbmd0aCxyPWUubGVuZ3RoLGE9cixzPUFycmF5KHIpLGw9SW5maW5pdHksZD1bXTthLS07KXt2YXIgYz1lW2FdO2EmJnQmJihjPWhwKGMsYnAodCkpKSxsPXJzKGMubGVuZ3RoLGwpLHNbYV09IW8mJih0fHwxMjA8PWkmJjEyMDw9Yy5sZW5ndGgpP25ldyB2bShhJiZjKTp2b2lkIDB9Yz1lWzBdO3ZhciBtPS0xLHU9c1swXTtvdXRlcjpmb3IoOysrbTxpJiZkLmxlbmd0aDxsOyl7dmFyIHA9Y1ttXSxnPXQ/dChwKTpwO2lmKHA9b3x8MCE9PXA/cDowLHU/IWtwKHUsZyk6IW4oZCxnLG8pKXtmb3IoYT1yOy0tYTspe3ZhciBmPXNbYV07aWYoZj8ha3AoZixnKTohbihlW2FdLGcsbykpY29udGludWUgb3V0ZXJ9dSYmdS5wdXNoKGcpLGQucHVzaChwKX19cmV0dXJuIGR9LGRnPWZ1bmN0aW9uKGUpe3JldHVybiB5bChlKT9lOltdfSxjZz1iYyhmdW5jdGlvbihlKXt2YXIgdD1ocChlLGRnKTtyZXR1cm4gdC5sZW5ndGgmJnRbMF09PT1lWzBdP2xnKHQpOltdfSksbWc9YmMoZnVuY3Rpb24oZSl7dmFyIHQ9bXUoZSksbz1ocChlLGRnKTtyZXR1cm4gdD09PW11KG8pP3Q9dm9pZCAwOm8ucG9wKCksby5sZW5ndGgmJm9bMF09PT1lWzBdP2xnKG8sWXAodCkpOltdfSksdWc9YmMoZnVuY3Rpb24oZSl7dmFyIHQ9bXUoZSksbz1ocChlLGRnKTtyZXR1cm4gdD09PW11KG8pP3Q9dm9pZCAwOm8ucG9wKCksby5sZW5ndGgmJm9bMF09PT1lWzBdP2xnKG8sdm9pZCAwLHQpOltdfSkscGc9QXJyYXkucHJvdG90eXBlLGdnPXBnLmpvaW4sZmc9ZnVuY3Rpb24oZSx0KXt2YXIgbz1lLmxlbmd0aDtpZihvKXJldHVybiB0Kz0wPnQ/bzowLE5sKHQsbyk/ZVt0XTp2b2lkIDB9LGhnPWZ1bmN0aW9uKGUsdCxvLG4pe2Zvcih2YXIgaT1vLTEscj1lLmxlbmd0aDsrK2k8cjspaWYobihlW2ldLHQpKXJldHVybiBpO3JldHVybi0xfSxiZz1BcnJheS5wcm90b3R5cGUsa2c9Ymcuc3BsaWNlLF9nPWZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPW4/aGc6cHAscj0tMSxhPXQubGVuZ3RoLHM9ZTtmb3IobyYmKHM9aHAoZSxicChvKSkpOysrcjxhOylmb3IodmFyIGw9MCxkPXRbcl0sYz1vP28oZCk6ZDstMTwobD1pKHMsYyxsLG4pKTspcyE9PWUmJmtnLmNhbGwocyxsLDEpLGtnLmNhbGwoZSxsLDEpO3JldHVybiBlfSx3Zz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aCYmdCYmdC5sZW5ndGg/X2coZSx0KTplfSx2Zz1iYyh3ZykseWc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj10Lmxlbmd0aCxpPUFycmF5KG4pOysrbzxuOylpW29dPW51bGw9PWU/dm9pZCAwOlVwKGUsdFtvXSk7cmV0dXJuIGl9LHhnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDE9PXQubGVuZ3RoP2U6V3AoZSxvdCh0LDAsLTEpKX0sQ2c9QXJyYXkucHJvdG90eXBlLEFnPUNnLnNwbGljZSxUZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbz1lP3QubGVuZ3RoOjAsbj1vLTE7by0tOyl7dmFyIGk9dFtvXTtpZihvPT1ufHxpIT09cil7dmFyIHI9aTtpZihObChpKSlBZy5jYWxsKGUsaSwxKTtlbHNlIGlmKCFqcChpLGUpKXt2YXIgYT1CcChpKSxzPXhnKGUsYSk7bnVsbCE9cyYmZGVsZXRlIHNbcXAobXUoYSkpXX1lbHNlIGRlbGV0ZSBlW3FwKGkpXX19cmV0dXJuIGV9LFBnPWZ1bmN0aW9uKGUsdCl7aWYoZSE9PXQpe3ZhciBvPWUhPT12b2lkIDAsbj1udWxsPT09ZSxpPWU9PT1lLHI9cmMoZSksYT10IT09dm9pZCAwLHM9bnVsbD09PXQsbD10PT09dCxkPXJjKHQpO2lmKCFzJiYhZCYmIXImJmU+dHx8ciYmYSYmbCYmIXMmJiFkfHxuJiZhJiZsfHwhbyYmbHx8IWkpcmV0dXJuIDE7aWYoIW4mJiFyJiYhZCYmZTx0fHxkJiZvJiZpJiYhbiYmIXJ8fHMmJm8mJml8fCFhJiZpfHwhbClyZXR1cm4tMX1yZXR1cm4gMH0sRWc9YmMoZnVuY3Rpb24oZSx0KXt0PW1wKHQsMSk7dmFyIG89ZT9lLmxlbmd0aDowLG49eWcoZSx0KTtyZXR1cm4gVGcoZSxocCh0LGZ1bmN0aW9uKGUpe3JldHVybiBObChlLG8pPytlOmV9KS5zb3J0KFBnKSksbn0pLFNnPUFycmF5LnByb3RvdHlwZSxPZz1TZy5yZXZlcnNlLElnPWZ1bmN0aW9uKGUsdCxvLG4pe3Q9byh0KTtmb3IodmFyIGk9MCxyPWU/ZS5sZW5ndGg6MCxhPXQhPT10LHM9bnVsbD09PXQsbD1yYyh0KSxkPXZvaWQgMD09PXQ7aTxyOyl7dmFyIGM9YXMoKGkrcikvMiksbT1vKGVbY10pLHU9bSE9PXZvaWQgMCxwPW51bGw9PT1tLGc9bT09PW0sZj1yYyhtKTtpZihhKXZhciBoPW58fGc7ZWxzZSBoPWQ/ZyYmKG58fHUpOnM/ZyYmdSYmKG58fCFwKTpsP2cmJnUmJiFwJiYobnx8IWYpOiEocHx8ZikmJihuP208PXQ6bTx0KTtoP2k9YysxOnI9Y31yZXR1cm4gcnMociw0Mjk0OTY3Mjk1LTEpfSxSZz1mdW5jdGlvbihlLHQsbyl7dmFyIG49MCxpPWU/ZS5sZW5ndGg6bjtpZignbnVtYmVyJz09dHlwZW9mIHQmJnQ9PT10JiZpPD00Mjk0OTY3Mjk1Pj4+MSl7Zm9yKDtuPGk7KXt2YXIgcj1uK2k+Pj4xLGE9ZVtyXTtudWxsIT09YSYmIXJjKGEpJiYobz9hPD10OmE8dCk/bj1yKzE6aT1yfXJldHVybiBpfXJldHVybiBJZyhlLHQsJHAsbyl9LFZnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49ZS5sZW5ndGgsaT0wLHI9W107KytvPG47KXt2YXIgYT1lW29dLHM9dD90KGEpOmE7aWYoIW98fCFFcyhzLGwpKXt2YXIgbD1zO3JbaSsrXT0wPT09YT8wOmF9fXJldHVybiByfSxGZz1abCYmMS9TZChuZXcgWmwoWywtMF0pKVsxXT09MS8wP2Z1bmN0aW9uKGUpe3JldHVybiBuZXcgWmwoZSl9OmZ1bmN0aW9uKCl7fSxOZz1mdW5jdGlvbihlLHQsbyl7dmFyIG49LTEsaT1ncCxyPWUubGVuZ3RoLGE9ITAscz1bXSxsPXM7aWYobylhPSExLGk9ZnA7ZWxzZSBpZihyPj0yMDApe3ZhciBkPXQ/bnVsbDpGZyhlKTtpZihkKXJldHVybiBTZChkKTthPSExLGk9a3AsbD1uZXcgdm19ZWxzZSBsPXQ/W106cztvdXRlcjpmb3IoOysrbjxyOyl7dmFyIGM9ZVtuXSxtPXQ/dChjKTpjO2lmKGM9b3x8MCE9PWM/YzowLGEmJm09PT1tKXtmb3IodmFyIHU9bC5sZW5ndGg7dS0tOylpZihsW3VdPT09bSljb250aW51ZSBvdXRlcjt0JiZsLnB1c2gobSkscy5wdXNoKGMpfWVsc2UgaShsLG0sbyl8fChsIT09cyYmbC5wdXNoKG0pLHMucHVzaChjKSl9cmV0dXJuIHN9LERnPWJjKGZ1bmN0aW9uKGUpe3JldHVybiBOZyhtcChlLDEseWwsITApKX0pLE1nPWJjKGZ1bmN0aW9uKGUpe3ZhciB0PW11KGUpO3JldHVybiB5bCh0KSYmKHQ9dm9pZCAwKSxOZyhtcChlLDEseWwsITApLFlwKHQpKX0pLEJnPWJjKGZ1bmN0aW9uKGUpe3ZhciB0PW11KGUpO3JldHVybiB5bCh0KSYmKHQ9dm9pZCAwKSxOZyhtcChlLDEseWwsITApLHZvaWQgMCx0KX0pLExnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49ZS5sZW5ndGgsaT0wLHI9W107KytvPG47KXt2YXIgYT1lW29dO3QoYSxvLGUpJiYocltpKytdPWEpfXJldHVybiByfSx6Zz1mdW5jdGlvbihlKXtpZighKGUmJmUubGVuZ3RoKSlyZXR1cm5bXTt2YXIgdD0wO3JldHVybiBlPUxnKGUsZnVuY3Rpb24oZSl7aWYoeWwoZSkpcmV0dXJuIHQ9aXMoZS5sZW5ndGgsdCksITB9KSxibCh0LGZ1bmN0aW9uKHQpe3JldHVybiBocChlLGtsKHQpKX0pfSxqZz1mdW5jdGlvbihlLHQpe2lmKCEoZSYmZS5sZW5ndGgpKXJldHVybltdO3ZhciBvPXpnKGUpO3JldHVybiBudWxsPT10P286aHAobyxmdW5jdGlvbihlKXtyZXR1cm4gb2ModCx2b2lkIDAsZSl9KX0scWc9YmMoZnVuY3Rpb24oZSx0KXtyZXR1cm4geWwoZSk/X3AoZSx0KTpbXX0pLFdnPWZ1bmN0aW9uKGUsdCxvKXtmb3IodmFyIG49LTEsaT1lLmxlbmd0aDsrK248aTspdmFyIHI9cj9IbChfcChyLGVbbl0sdCxvKSxfcChlW25dLHIsdCxvKSk6ZVtuXTtyZXR1cm4gciYmci5sZW5ndGg/Tmcocix0LG8pOltdfSxVZz1iYyhmdW5jdGlvbihlKXtyZXR1cm4gV2coTGcoZSx5bCkpfSksSGc9YmMoZnVuY3Rpb24oZSl7dmFyIHQ9bXUoZSk7cmV0dXJuIHlsKHQpJiYodD12b2lkIDApLFdnKExnKGUseWwpLFlwKHQpKX0pLEtnPWJjKGZ1bmN0aW9uKGUpe3ZhciB0PW11KGUpO3JldHVybiB5bCh0KSYmKHQ9dm9pZCAwKSxXZyhMZyhlLHlsKSx2b2lkIDAsdCl9KSxHZz1iYyh6ZyksJGc9ZnVuY3Rpb24oZSx0LG8pe2Zvcih2YXIgbj0tMSxpPWUubGVuZ3RoLHI9dC5sZW5ndGgsYT17fTsrK248aTspe3ZhciBzPW48cj90W25dOnZvaWQgMDtvKGEsZVtuXSxzKX1yZXR1cm4gYX0sSmc9ZnVuY3Rpb24oZSx0LG8sbil7dD1qcCh0LGUpP1t0XTpCcCh0KTtmb3IodmFyIGk9LTEscj10Lmxlbmd0aCxhPWU7bnVsbCE9YSYmKytpPHI7KXt2YXIgcz1xcCh0W2ldKTtpZihWcyhhKSl7dmFyIGw9bztpZihpIT1yLTEpe3ZhciBkPWFbc107bD1uP24oZCxzLGEpOnZvaWQgMCxsPT09dm9pZCAwJiYobD1udWxsPT1kP05sKHRbaSsxXSk/W106e306ZCl9Y2woYSxzLGwpfWE9YVtzXX1yZXR1cm4gZX0sUWc9YmMoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGgsbz0xPHQ/ZVt0LTFdOnZvaWQgMDtyZXR1cm4gbz0nZnVuY3Rpb24nPT10eXBlb2Ygbz8oZS5wb3AoKSxvKTp2b2lkIDAsamcoZSxvKX0pLFlnPXtjaHVuazpmdW5jdGlvbihlLHQsbyl7dD0obz90YyhlLHQsbyk6dm9pZCAwPT09dCk/MTppcyhmYyh0KSwwKTt2YXIgbj1lP2UubGVuZ3RoOjA7aWYoIW58fDE+dClyZXR1cm5bXTtmb3IodmFyIGk9MCxyPTAsYT1BcnJheShkcChuL3QpKTtpPG47KWFbcisrXT1vdChlLGksaSs9dCk7cmV0dXJuIGF9LGNvbXBhY3Q6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLG89ZT9lLmxlbmd0aDowLG49MCxpPVtdOysrdDxvOyl7dmFyIHI9ZVt0XTtyJiYoaVtuKytdPXIpfXJldHVybiBpfSxjb25jYXQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PUFycmF5KGU/ZS0xOjApLG89YXJndW1lbnRzWzBdLG49ZTtuLS07KXRbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGU/SGwoU2wobyk/amwobyk6W29dLG1wKHQsMSkpOltdfSxkaWZmZXJlbmNlOndwLGRpZmZlcmVuY2VCeTpYcCxkaWZmZXJlbmNlV2l0aDpacCxkcm9wOmVnLGRyb3BSaWdodDp0Zyxkcm9wUmlnaHRXaGlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9vZyhlLFlwKHQsMyksITAsITApOltdfSxkcm9wV2hpbGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5sZW5ndGg/b2coZSxZcCh0LDMpLCEwKTpbXX0sZmlsbDpmdW5jdGlvbihlLHQsbyxuKXt2YXIgaT1lP2UubGVuZ3RoOjA7cmV0dXJuIGk/KG8mJidudW1iZXInIT10eXBlb2YgbyYmdGMoZSx0LG8pJiYobz0wLG49aSkscmcoZSx0LG8sbikpOltdfSxmaW5kSW5kZXg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5sZW5ndGg/YWcoZSxZcCh0LDMpKTotMX0sZmluZExhc3RJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9hZyhlLFlwKHQsMyksITApOi0xfSxmaXJzdDpzZyxmbGF0dGVuOmZ1bmN0aW9uKGUpe3ZhciB0PWU/ZS5sZW5ndGg6MDtyZXR1cm4gdD9tcChlLDEpOltdfSxmbGF0dGVuRGVlcDpmdW5jdGlvbihlKXt2YXIgdD1lP2UubGVuZ3RoOjA7cmV0dXJuIHQ/bXAoZSwxLzApOltdfSxmbGF0dGVuRGVwdGg6ZnVuY3Rpb24oZSx0KXt2YXIgbz1lP2UubGVuZ3RoOjA7cmV0dXJuIG8/KHQ9dm9pZCAwPT09dD8xOmZjKHQpLG1wKGUsdCkpOltdfSxmcm9tUGFpcnM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLG89ZT9lLmxlbmd0aDowLG49e307Kyt0PG87KXt2YXIgaT1lW3RdO25baVswXV09aVsxXX1yZXR1cm4gbn0saGVhZDpzZyxpbmRleE9mOmZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1lP2UubGVuZ3RoOjA7cmV0dXJuIG4/KG89ZmMobyksMD5vJiYobz1pcyhuK28sMCkpLHBwKGUsdCxvKSk6LTF9LGluaXRpYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRnKGUsMSl9LGludGVyc2VjdGlvbjpjZyxpbnRlcnNlY3Rpb25CeTptZyxpbnRlcnNlY3Rpb25XaXRoOnVnLGpvaW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nZy5jYWxsKGUsdCk6Jyd9LGxhc3Q6bXUsbGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPWU/ZS5sZW5ndGg6MDtpZighbilyZXR1cm4tMTt2YXIgaT1uO2lmKHZvaWQgMCE9PW8mJihpPWZjKG8pLGk9KDA+aT9pcyhuK2ksMCk6cnMoaSxuLTEpKSsxKSx0IT09dClyZXR1cm4gdXAoZSxpLCEwKTtmb3IoO2ktLTspaWYoZVtpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9LG50aDpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9mZyhlLGZjKHQpKTp2b2lkIDB9LHB1bGw6dmcscHVsbEFsbDp3ZyxwdWxsQWxsQnk6ZnVuY3Rpb24oZSx0LG8pe3JldHVybiBlJiZlLmxlbmd0aCYmdCYmdC5sZW5ndGg/X2coZSx0LFlwKG8pKTplfSxwdWxsQWxsV2l0aDpmdW5jdGlvbihlLHQsbyl7cmV0dXJuIGUmJmUubGVuZ3RoJiZ0JiZ0Lmxlbmd0aD9fZyhlLHQsdm9pZCAwLG8pOmV9LHB1bGxBdDpFZyxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt2YXIgbz1bXTtpZighKGUmJmUubGVuZ3RoKSlyZXR1cm4gbzt2YXIgbj0tMSxpPVtdLHI9ZS5sZW5ndGg7Zm9yKHQ9WXAodCwzKTsrK248cjspe3ZhciBhPWVbbl07dChhLG4sZSkmJihvLnB1c2goYSksaS5wdXNoKG4pKX1yZXR1cm4gVGcoZSxpKSxvfSxyZXZlcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBlP09nLmNhbGwoZSk6ZX0sc2xpY2U6ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPWU/ZS5sZW5ndGg6MDtyZXR1cm4gbj8obyYmJ251bWJlcichPXR5cGVvZiBvJiZ0YyhlLHQsbyk/KHQ9MCxvPW4pOih0PW51bGw9PXQ/MDpmYyh0KSxvPXZvaWQgMD09PW8/bjpmYyhvKSksb3QoZSx0LG8pKTpbXX0sc29ydGVkSW5kZXg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUmcoZSx0KX0sc29ydGVkSW5kZXhCeTpmdW5jdGlvbihlLHQsbyl7cmV0dXJuIElnKGUsdCxZcChvKSl9LHNvcnRlZEluZGV4T2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbz1lP2UubGVuZ3RoOjA7aWYobyl7dmFyIG49UmcoZSx0KTtpZihuPG8mJkVzKGVbbl0sdCkpcmV0dXJuIG59cmV0dXJuLTF9LHNvcnRlZExhc3RJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBSZyhlLHQsITApfSxzb3J0ZWRMYXN0SW5kZXhCeTpmdW5jdGlvbihlLHQsbyl7cmV0dXJuIElnKGUsdCxZcChvKSwhMCl9LHNvcnRlZExhc3RJbmRleE9mOmZ1bmN0aW9uKGUsdCl7dmFyIG89ZT9lLmxlbmd0aDowO2lmKG8pe3ZhciBuPVJnKGUsdCwhMCktMTtpZihFcyhlW25dLHQpKXJldHVybiBufXJldHVybi0xfSxzb3J0ZWRVbmlxOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD9WZyhlKTpbXX0sc29ydGVkVW5pcUJ5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP1ZnKGUsWXAodCkpOltdfSx0YWlsOmZ1bmN0aW9uKGUpe3JldHVybiBlZyhlLDEpfSx0YWtlOmZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gZSYmZS5sZW5ndGg/KHQ9b3x8dm9pZCAwPT09dD8xOmZjKHQpLG90KGUsMCwwPnQ/MDp0KSk6W119LHRha2VSaWdodDpmdW5jdGlvbihlLHQsbyl7dmFyIG49ZT9lLmxlbmd0aDowO3JldHVybiBuPyh0PW98fHZvaWQgMD09PXQ/MTpmYyh0KSx0PW4tdCxvdChlLDA+dD8wOnQsbikpOltdfSx0YWtlUmlnaHRXaGlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9vZyhlLFlwKHQsMyksITEsITApOltdfSx0YWtlV2hpbGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5sZW5ndGg/b2coZSxZcCh0LDMpKTpbXX0sdW5pb246RGcsdW5pb25CeTpNZyx1bmlvbldpdGg6QmcsdW5pcTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg/TmcoZSk6W119LHVuaXFCeTpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9OZyhlLFlwKHQpKTpbXX0sdW5pcVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5sZW5ndGg/TmcoZSx2b2lkIDAsdCk6W119LHVuemlwOnpnLHVuemlwV2l0aDpqZyx3aXRob3V0OnFnLHhvcjpVZyx4b3JCeTpIZyx4b3JXaXRoOktnLHppcDpHZyx6aXBPYmplY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJGcoZXx8W10sdHx8W10sY2wpfSx6aXBPYmplY3REZWVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuICRnKGV8fFtdLHR8fFtdLEpnKX0semlwV2l0aDpRZ307Y29uc3QgWGc9bmV3IE1hcCxaZz17dHJhbnNmb3JtKGUsdCxvKXtjb25zdCBuPVpnLmdldFRyYW5zZm9ybWF0aW9uQ2FzZShlLHQpfHxaZy5kZWZhdWx0VHJhbnNmb3JtLGk9bihlLHQsT2JqZWN0LmFzc2lnbih7fSxvKSkscj1ZZy5sYXN0KHQub3BlcmF0aW9ucykuYmFzZVZlcnNpb247cmV0dXJuIHFvKHIsaSl9LGRlZmF1bHRUcmFuc2Zvcm0oZSx0LG8pe2NvbnN0IG49W107bGV0IGk9dC5vcGVyYXRpb25zLHI9W107Zm9yKGNvbnN0IGEgb2YgZS5vcGVyYXRpb25zKXtjb25zdCBlPVthXTtmb3IoY29uc3QgdCBvZiBpKWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWVbbl0sYT1zcChpLHQsbyk7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShlLFtuLDFdLmNvbmNhdChhKSksbis9YS5sZW5ndGgtMTtjb25zdCBzPU9iamVjdC5hc3NpZ24oe30sbyk7cy5pc1N0cm9uZz0hby5pc1N0cm9uZyxzLmluc2VydEJlZm9yZT1vLmluc2VydEJlZm9yZT09PXZvaWQgMD92b2lkIDA6IW8uaW5zZXJ0QmVmb3JlO2NvbnN0IGw9c3AodCxpLHMpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHIsbCl9aT1yLHI9W107Zm9yKGNvbnN0IHQgb2YgZSluLnB1c2godCl9cmV0dXJuIFhvKGUuY29uc3RydWN0b3Isbil9LGFkZFRyYW5zZm9ybWF0aW9uQ2FzZShlLHQsbyl7bGV0IG49WGcuZ2V0KGUpO258fChuPW5ldyBNYXAsWGcuc2V0KGUsbikpLG4uc2V0KHQsbyl9LGdldFRyYW5zZm9ybWF0aW9uQ2FzZShlLHQpe2xldCBvPVhnLmdldChlLmNvbnN0cnVjdG9yKTtpZighb3x8IW8uZ2V0KHQuY29uc3RydWN0b3IpKXtjb25zdCBuPVhnLmtleXMoKTtmb3IoY29uc3QgaSBvZiBuKWlmKGUgaW5zdGFuY2VvZiBpJiZYZy5nZXQoaSkuZ2V0KHQuY29uc3RydWN0b3IpKXtvPVhnLmdldChpKTticmVha319cmV0dXJuIG8/by5nZXQodC5jb25zdHJ1Y3Rvcik6dm9pZCAwfSx0cmFuc2Zvcm1EZWx0YVNldHMoZSx0LG89bnVsbCl7Y29uc3Qgbj1BcnJheS5mcm9tKGUpLGk9QXJyYXkuZnJvbSh0KSxyPW51bGwhPT1vLGE9e2lzU3Ryb25nOiEwfTtpZihyKXthLndhc0FmZmVjdGVkPW5ldyBNYXAsYS5vcmlnaW5hbERlbHRhPW5ldyBNYXAsYS5kb2N1bWVudD1vLGEudW5kb01vZGU9ITA7Zm9yKGNvbnN0IGUgb2YgaSlhLm9yaWdpbmFsRGVsdGEuc2V0KGUsZSl9Zm9yKGxldCBzPTA7czxuLmxlbmd0aDtzKyspe2NvbnN0IGU9W25bc11dO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBvPVtpW3RdXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylmb3IobGV0IG49MDtuPG8ubGVuZ3RoO24rKyl7ciYmSG8oZVt0XSxvW25dLGEpO2NvbnN0IGk9WmcudHJhbnNmb3JtKGVbdF0sb1tuXSx7aW5zZXJ0QmVmb3JlOmEuaW5zZXJ0QmVmb3JlLGZvcmNlTm90U3RpY2t5OmEuZm9yY2VOb3RTdGlja3ksaXNTdHJvbmc6YS5pc1N0cm9uZyxmb3JjZVdlYWtSZW1vdmU6YS5mb3JjZVdlYWtSZW1vdmUsdW5kb01vZGU6YS51bmRvTW9kZX0pLHM9WmcudHJhbnNmb3JtKG9bbl0sZVt0XSx7aW5zZXJ0QmVmb3JlOiFhLmluc2VydEJlZm9yZSxmb3JjZU5vdFN0aWNreTphLmZvcmNlTm90U3RpY2t5LGlzU3Ryb25nOiFhLmlzU3Ryb25nLGZvcmNlV2Vha1JlbW92ZTphLmZvcmNlV2Vha1JlbW92ZSx1bmRvTW9kZTphLnVuZG9Nb2RlfSk7aWYocil7WW8oZVt0XSxpLGEpO2NvbnN0IHI9YS5vcmlnaW5hbERlbHRhLmdldChvW25dKTtmb3IoY29uc3QgZSBvZiBzKWEub3JpZ2luYWxEZWx0YS5zZXQoZSxyKX1lLnNwbGljZSh0LDEsLi4uaSksdCs9aS5sZW5ndGgtMSxvLnNwbGljZShuLDEsLi4ucyksbis9cy5sZW5ndGgtMX1pLnNwbGljZSh0LDEsLi4ubyksdCs9by5sZW5ndGgtMX1uLnNwbGljZShzLDEsLi4uZSkscys9ZS5sZW5ndGgtMX1jb25zdCBzPVdvKG4pLVdvKGUpLGw9V28oaSktV28odCk7cmV0dXJuIGw8cz9VbyhpLHMtbCk6czxsJiZVbyhuLGwtcykse2RlbHRhc0E6bixkZWx0YXNCOml9fX07dmFyIGVmPVpnO2NsYXNzIHRmIGV4dGVuZHMgUXV7Z2V0IHR5cGUoKXtyZXR1cm4nbWFya2VyJ31nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIHRmfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5NYXJrZXJEZWx0YSd9fUp1LnJlZ2lzdGVyKHRmKTtjb25zdCBvZj1lZi5hZGRUcmFuc2Zvcm1hdGlvbkNhc2UsbmY9ZWYuZGVmYXVsdFRyYW5zZm9ybTtvZihZdSxhcCwoZSx0LG8pPT57Y29uc3Qgbj1uZihlLHQsbyk7cmV0dXJuIGUucmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnBvc2l0aW9uKSYmbi5wdXNoKGVuKHQsZSkpLG59KSxvZihZdSxYdSwoZSx0LG8pPT57aWYoIXQucG9zaXRpb24pcmV0dXJuIG5mKGUsdCxvKTtjb25zdCBuPW8udW5kb01vZGUsaT1uZXcgdXUodC5wb3NpdGlvbi5yb290LHQucG9zaXRpb24ucGF0aC5zbGljZSgwLC0xKSkscj1uZihlLHQsbyk7aWYobnx8ISh0Ll9jbG9uZU9wZXJhdGlvbiBpbnN0YW5jZW9mIGp1KSlyZXR1cm4gcjtmb3IoY29uc3QgbiBvZiBlLm9wZXJhdGlvbnMpaWYobi5yYW5nZS5jb250YWluc1Bvc2l0aW9uKGkpfHxuLnJhbmdlLnN0YXJ0LmlzRXF1YWwoaSkpe2NvbnN0IGU9bmV3IFl1LG89aS5nZXRTaGlmdGVkQnkoMSksYT11dS5jcmVhdGVGcm9tUG9zaXRpb24obyk7YS5wYXRoLnB1c2goMCk7Y29uc3Qgcz10Ll9jbG9uZU9wZXJhdGlvbi5ub2Rlcy5nZXROb2RlKDApLmdldEF0dHJpYnV0ZShuLmtleSk7ZS5hZGRPcGVyYXRpb24obmV3IE11KG5ldyBwdShvLGEpLG4ua2V5LHM9PT12b2lkIDA/bnVsbDpzLG4ubmV3VmFsdWUsMCkpLHIucHVzaChlKTticmVha31yZXR1cm4gcn0pLG9mKHJwLFp1LChlLHQsbyk9PntpZighdC5wb3NpdGlvbilyZXR1cm4gbmYoZSx0LG8pO2NvbnN0IG49by51bmRvTW9kZTtyZXR1cm4hbiYmZS5wb3NpdGlvbi5pc0VxdWFsKHQucG9zaXRpb24pP1t0LmdldFJldmVyc2VkKCksZS5jbG9uZSgpXTpuZihlLHQsbyl9KSxvZih0ZixYdSxabyksb2YodGYsWnUsWm8pLG9mKHRmLG5wLFpvKSxvZih0ZixpcCxabyksb2YodGYsZXAsWm8pLG9mKHRmLG9wLFpvKSxvZihlcCxadSwoZSx0LG8pPT57Y29uc3Qgbj1vLnVuZG9Nb2RlO2lmKG58fCF0LnBvc2l0aW9uKXJldHVybiBuZihlLHQsbyk7Y29uc3QgaT1lLnNvdXJjZVBvc2l0aW9uLnJvb3Q9PXQucG9zaXRpb24ucm9vdCYmJ3NhbWUnPT09QShlLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0LnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSkscj1lLnNvdXJjZVBvc2l0aW9uLm9mZnNldDw9dC5wb3NpdGlvbi5vZmZzZXQmJmUuc291cmNlUG9zaXRpb24ub2Zmc2V0K2UuaG93TWFueT50LnBvc2l0aW9uLm9mZnNldDtyZXR1cm4gaSYmcj9bdC5nZXRSZXZlcnNlZCgpLGUuY2xvbmUoKV06bmYoZSx0LG8pfSksb2YoWnUscnAsKGUsdCxvKT0+e2lmKCFlLnBvc2l0aW9uKXJldHVybiBuZihlLHQsbyk7Y29uc3Qgbj1vLnVuZG9Nb2RlO3JldHVybiFuJiZlLnBvc2l0aW9uLmlzRXF1YWwodC5wb3NpdGlvbik/W3RuKCldOm5mKGUsdCxvKX0pLG9mKFp1LGVwLChlLHQsbyk9Pntjb25zdCBuPW8udW5kb01vZGU7aWYobnx8IWUucG9zaXRpb24pcmV0dXJuIG5mKGUsdCxvKTtjb25zdCBpPWUucG9zaXRpb24ucm9vdD09dC5zb3VyY2VQb3NpdGlvbi5yb290JiYnc2FtZSc9PT1BKGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHQuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSxyPXQuc291cmNlUG9zaXRpb24ub2Zmc2V0PD1lLnBvc2l0aW9uLm9mZnNldCYmdC5zb3VyY2VQb3NpdGlvbi5vZmZzZXQrdC5ob3dNYW55PmUucG9zaXRpb24ub2Zmc2V0O3JldHVybiBpJiZyP1t0bigpXTpuZihlLHQsbyl9KSxvZihYdSxYdSwoZSx0LG8pPT57Y29uc3Qgbj1vLnVuZG9Nb2RlO2lmKG4pcmV0dXJuIG5mKGUsdCxvKTtpZighZS5wb3NpdGlvbnx8IXQucG9zaXRpb24pcmV0dXJuIG5mKGUsdCxvKTtjb25zdCBpPWUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHI9dC5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCk7aWYoZS5wb3NpdGlvbi5yb290PT10LnBvc2l0aW9uLnJvb3QmJidzYW1lJz09QShpLHIpKWlmKGU9ZS5jbG9uZSgpLGUucG9zaXRpb24ub2Zmc2V0PHQucG9zaXRpb24ub2Zmc2V0fHxlLnBvc2l0aW9uLm9mZnNldD09dC5wb3NpdGlvbi5vZmZzZXQmJm8uaXNTdHJvbmcpe2UuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgTHUmJnQuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgTHUmJmUuX2Nsb25lT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uLm9mZnNldD50Ll9jbG9uZU9wZXJhdGlvbi5zb3VyY2VQb3NpdGlvbi5vZmZzZXQmJmUuX2Nsb25lT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uLm9mZnNldC0tO2NvbnN0IG89cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wb3NpdGlvbixlLl9tb3ZlT3BlcmF0aW9uLmhvd01hbnkpLG49cHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5wb3NpdGlvbix0Ll9tb3ZlT3BlcmF0aW9uLmhvd01hbnkpLGk9by5nZXREaWZmZXJlbmNlKG4pO2xldCByPTA7Zm9yKGNvbnN0IGUgb2YgaSlyKz1lLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQ7cmV0dXJuIDA9PXI/KGUub3BlcmF0aW9ucy5wb3AoKSxlLmFkZE9wZXJhdGlvbihuZXcgV3UoZS5vcGVyYXRpb25zWzBdLmJhc2VWZXJzaW9uKzEpKSk6ZS5vcGVyYXRpb25zWzFdLmhvd01hbnk9cixbZV19ZWxzZXtjb25zdCBuPU9iamVjdC5hc3NpZ24oe30sbyk7cmV0dXJuIG4uaXNTdHJvbmc9ITAsbi5pbnNlcnRCZWZvcmU9ITAsbmYoZSx0LG4pfXJldHVybiBuZihlLHQsbyl9KSxvZihYdSxpcCwoZSx0LG8pPT5lLnBvc2l0aW9uP2UucG9zaXRpb24ucm9vdD09dC5wb3NpdGlvbi5yb290JiYnc2FtZSc9PT1BKHQucG9zaXRpb24ucGF0aCxlLnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSk/W3RuKCldOm5mKGUsdCxvKTpuZihlLHQsbykpLG9mKFh1LG5wLChlLHQsbyk9PntpZighZS5wb3NpdGlvbilyZXR1cm4gbmYoZSx0LG8pO2NvbnN0IG49ZS5wb3NpdGlvbi5yb290PT10LnJhbmdlLnN0YXJ0LnJvb3QsaT1uJiYnc2FtZSc9PT1BKGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHQucmFuZ2Uuc3RhcnQuZ2V0UGFyZW50UGF0aCgpKSxyPXQucmFuZ2Uuc3RhcnQub2Zmc2V0PGUucG9zaXRpb24ub2Zmc2V0JiZ0LnJhbmdlLmVuZC5vZmZzZXQ+PWUucG9zaXRpb24ub2Zmc2V0O2lmKGkmJnIpcmV0dXJuW3RuKCldO2lmKG4mJidzYW1lJz09PUEoZS5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksdC5yYW5nZS5lbmQuZ2V0U2hpZnRlZEJ5KC0xKS5wYXRoKSl7Y29uc3Qgbz1lLmNsb25lKCksbj11dS5jcmVhdGVGcm9tUG9zaXRpb24odC5yYW5nZS5zdGFydCk7bi5wYXRoLnB1c2godC5ob3dNYW55LTEpO2NvbnN0IGk9bi5nZXRTaGlmdGVkQnkoMSk7by5fY2xvbmVPcGVyYXRpb24ucG9zaXRpb249aTtjb25zdCByPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbihuKTtyLnBhdGgucHVzaChlLnBvc2l0aW9uLm9mZnNldCksby5fbW92ZU9wZXJhdGlvbi5zb3VyY2VQb3NpdGlvbj1yO2NvbnN0IGE9dXUuY3JlYXRlRnJvbVBvc2l0aW9uKGkpO3JldHVybiBhLnBhdGgucHVzaCgwKSxvLl9tb3ZlT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uPWEsW29dfXJldHVybiBuZihlLHQsbyl9KSxvZihYdSxZdSwoZSx0LG8pPT57aWYoIWUucG9zaXRpb24pcmV0dXJuIG5mKGUsdCxvKTtlPWUuY2xvbmUoKTtjb25zdCBuPW8udW5kb01vZGUsaT1uZXcgdXUoZS5wb3NpdGlvbi5yb290LGUucG9zaXRpb24ucGF0aC5zbGljZSgwLC0xKSk7aWYobnx8IShlLl9jbG9uZU9wZXJhdGlvbiBpbnN0YW5jZW9mIGp1KSlyZXR1cm5bZV07Zm9yKGNvbnN0IG4gb2YgdC5vcGVyYXRpb25zKWlmKG4ucmFuZ2UuY29udGFpbnNQb3NpdGlvbihpKXx8bi5yYW5nZS5zdGFydC5pc0VxdWFsKGkpKXtudWxsPT09bi5uZXdWYWx1ZT9lLl9jbG9uZU9wZXJhdGlvbi5ub2Rlcy5nZXROb2RlKDApLl9yZW1vdmVBdHRyaWJ1dGUobi5rZXkpOmUuX2Nsb25lT3BlcmF0aW9uLm5vZGVzLmdldE5vZGUoMCkuX3NldEF0dHJpYnV0ZShuLmtleSxuLm5ld1ZhbHVlKTticmVha31yZXR1cm5bZV19KSxvZihpcCxYdSwoZSx0LG8pPT50LnBvc2l0aW9uP2UucG9zaXRpb24ucm9vdD09dC5wb3NpdGlvbi5yb290JiYnc2FtZSc9PT1BKGUucG9zaXRpb24ucGF0aCx0LnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSk/W3QuZ2V0UmV2ZXJzZWQoKSxlLmNsb25lKCldOm5mKGUsdCxvKTpuZihlLHQsbykpLG9mKGFwLFl1LChlLHQpPT57Y29uc3Qgbz1bZS5jbG9uZSgpXTtyZXR1cm4gdC5yYW5nZS5jb250YWluc1Bvc2l0aW9uKGUucG9zaXRpb24pJiZvLnB1c2goZW4oZSx0KSksb30pLG9mKG5wLFh1LChlLHQsbyk9PntpZighdC5wb3NpdGlvbilyZXR1cm4gbmYoZSx0LG8pO2NvbnN0IG49ZS5yYW5nZS5zdGFydC5yb290PT10LnBvc2l0aW9uLnJvb3QsaT1uJiYnc2FtZSc9PT1BKGUucmFuZ2Uuc3RhcnQuZ2V0UGFyZW50UGF0aCgpLHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSxyPWUucmFuZ2Uuc3RhcnQub2Zmc2V0PHQucG9zaXRpb24ub2Zmc2V0JiZlLnJhbmdlLmVuZC5vZmZzZXQ+PXQucG9zaXRpb24ub2Zmc2V0O2lmKGkmJnIpcmV0dXJuW3QuZ2V0UmV2ZXJzZWQoKSxlLmNsb25lKCldO2lmKG4mJidzYW1lJz09PUEodC5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksZS5yYW5nZS5lbmQuZ2V0U2hpZnRlZEJ5KC0xKS5wYXRoKSl7Y29uc3QgdD1lLmNsb25lKCk7cmV0dXJuIHQuX2luc2VydE9wZXJhdGlvbi5wb3NpdGlvbi5vZmZzZXQrKyx0Ll9tb3ZlT3BlcmF0aW9uLmhvd01hbnkrKyx0Ll9tb3ZlT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uLnBhdGhbdC5fbW92ZU9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbi5wYXRoLmxlbmd0aC0yXSsrLFt0XX1yZXR1cm4gbmYoZSx0LG8pfSksb2Yob3AsWHUsKGUsdCxvKT0+e2NvbnN0IG49by51bmRvTW9kZSxpPW5mKGUsdCxvKTtpZihufHwhKHQuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YganUpKXJldHVybiBpO2NvbnN0IHI9dC5fY2xvbmVPcGVyYXRpb24ucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KC0xKTtpZihyJiZlLm9wZXJhdGlvbnNbMF0ucG9zaXRpb24uaXNFcXVhbChyKSl7Y29uc3QgdD1lLmNsb25lKCk7dC5vcGVyYXRpb25zWzBdLnBvc2l0aW9uPXIuZ2V0U2hpZnRlZEJ5KDEpLGkucHVzaCh0KX1yZXR1cm4gaX0pLG9mKFh1LG9wLChlLHQsbyk9PntlPWUuY2xvbmUoKTtjb25zdCBuPW8udW5kb01vZGU7aWYobnx8IShlLl9jbG9uZU9wZXJhdGlvbiBpbnN0YW5jZW9mIGp1KSlyZXR1cm5bZV07Y29uc3QgaT1lLl9jbG9uZU9wZXJhdGlvbi5wb3NpdGlvbi5nZXRTaGlmdGVkQnkoLTEpO2lmKGkmJiFuJiZ0Lm9wZXJhdGlvbnNbMF0ucG9zaXRpb24uaXNFcXVhbChpKSl7Y29uc3Qgbz10LmNsb25lKCk7cmV0dXJuIG8ub3BlcmF0aW9uc1swXS5wb3NpdGlvbj1pLmdldFNoaWZ0ZWRCeSgxKSxvLm9wZXJhdGlvbnNbMF0ub2xkTmFtZT1lLl9jbG9uZU9wZXJhdGlvbi5ub2Rlcy5nZXROb2RlKDApLm5hbWUsW2Usb119cmV0dXJuW2VdfSksb2YodHAsWHUsKGUsdCxvKT0+e2NvbnN0IG49bmYoZSx0LG8pLGk9dC5fY2xvbmVPcGVyYXRpb24ucG9zaXRpb258fHQuX2Nsb25lT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uO2lmKCFpKXJldHVybiBuZihlLHQsbyk7Y29uc3Qgcj1vLnVuZG9Nb2RlO2lmKHIpcmV0dXJuIG47Zm9yKGNvbnN0IHIgb2YgbilpZihyIGluc3RhbmNlb2YgdHApe2NvbnN0IGU9ci5fbW92ZU9wZXJhdGlvbix0PWUuc291cmNlUG9zaXRpb24uZ2V0U2hpZnRlZEJ5KGUuaG93TWFueSk7dC5pc0VxdWFsKGkpJiYoZS5ob3dNYW55Kz0xKX1yZXR1cm4gbn0pLG9mKFh1LHRwLChlLHQsbyk9Pntjb25zdCBuPW8udW5kb01vZGU7aWYobilyZXR1cm4gbmYoZSx0LG8pO2NvbnN0IGk9ZS5fY2xvbmVPcGVyYXRpb24ucG9zaXRpb258fGUuX2Nsb25lT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uO2lmKCFpKXJldHVybiBuZihlLHQsbyk7dD10LmNsb25lKCk7Y29uc3Qgcj10Ll9tb3ZlT3BlcmF0aW9uLGE9ci5zb3VyY2VQb3NpdGlvbi5nZXRTaGlmdGVkQnkoci5ob3dNYW55KTtyZXR1cm4gYS5pc0VxdWFsKGkpJiYoci5ob3dNYW55Kz0xKSxuZihlLHQsbyl9KTtjbGFzcyByZntjb25zdHJ1Y3RvcihlPSdkZWZhdWx0Jyl7dGhpcy5kZWx0YXM9W10sdGhpcy50eXBlPWV9Z2V0IGJhc2VWZXJzaW9uKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5kZWx0YXMpaWYobnVsbCE9PWUuYmFzZVZlcnNpb24pcmV0dXJuIGUuYmFzZVZlcnNpb247cmV0dXJuIG51bGx9YWRkRGVsdGEoZSl7cmV0dXJuIGUuYmF0Y2g9dGhpcyx0aGlzLmRlbHRhcy5wdXNoKGUpLGV9KmdldE9wZXJhdGlvbnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmRlbHRhcyl5aWVsZCplLm9wZXJhdGlvbnN9fWNsYXNzIGFmIGV4dGVuZHMgUXV7c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLlJvb3RBdHRyaWJ1dGVEZWx0YSd9fUp1LnJlZ2lzdGVyKGFmKTtjbGFzcyBzZiBleHRlbmRzIEZ1e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIobnVsbCksdGhpcy5zb3VyY2VQb3NpdGlvbj11dS5jcmVhdGVGcm9tUG9zaXRpb24oZSksdGhpcy5ob3dNYW55PXR9Z2V0IHR5cGUoKXtyZXR1cm4nZGV0YWNoJ31fdmFsaWRhdGUoKXtpZih0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QuZG9jdW1lbnQpdGhyb3cgbmV3IF9zKCdkZXRhY2gtb3BlcmF0aW9uLW9uLWRvY3VtZW50LW5vZGU6IENhbm5vdCBkZXRhY2ggZG9jdW1lbnQgbm9kZS4nKX1fZXhlY3V0ZSgpe0NvKHB1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5EZXRhY2hPcGVyYXRpb24nfX1jbGFzcyBsZiBleHRlbmRzIGR1e2NvbnN0cnVjdG9yKGUsdCxvPSdtYWluJyl7c3VwZXIodCksdGhpcy5fZG9jPWUsdGhpcy5yb290TmFtZT1vfWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLl9kb2N9aXMoZSx0KXtyZXR1cm4gdD8ncm9vdEVsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWV8fHN1cGVyLmlzKGUsdCk6J3Jvb3RFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMucm9vdE5hbWV9fWNsYXNzIGRme2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tb2RlbD1lLHRoaXMuYmF0Y2g9dH1jcmVhdGVUZXh0KGUsdCl7cmV0dXJuIG5ldyBhdShlLHQpfWNyZWF0ZUVsZW1lbnQoZSx0KXtyZXR1cm4gbmV3IGR1KGUsdCl9Y3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpe3JldHVybiBuZXcgTnV9aW5zZXJ0KGUsdCxvKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3Qgbj11dS5jcmVhdGVBdCh0LG8pLGk9ZSBpbnN0YW5jZW9mIGF1JiYhZS5wYXJlbnQ/bmV3IGFwOm5ldyBycDtpZihlLnBhcmVudCl7aWYoc24oZS5yb290LG4ucm9vdCkpcmV0dXJuIHZvaWQgdGhpcy5tb3ZlKHB1LmNyZWF0ZU9uKGUpLG4pO2lmKGUucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoJ21vZGVsLXdyaXRlci1pbnNlcnQtZm9yYmlkZGVuLW1vdmU6IENhbm5vdCBtb3ZlIGEgbm9kZSBmcm9tIGEgZG9jdW1lbnQgdG8gYSBkaWZmZXJlbnQgdHJlZS4nKTtlbHNlIHRoaXMucmVtb3ZlKGUpfWNvbnN0IHI9bi5yb290LmRvY3VtZW50P24ucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsYT1uZXcganUobixlLHIpO2lmKHRoaXMuYmF0Y2guYWRkRGVsdGEoaSksaS5hZGRPcGVyYXRpb24oYSksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihhKSxlIGluc3RhbmNlb2YgTnUpZm9yKGNvbnN0W3Qsb11vZiBlLm1hcmtlcnMpe2NvbnN0IGU9dXUuY3JlYXRlQXQoby5yb290KSxpPW5ldyBwdShvLnN0YXJ0Ll9nZXRDb21iaW5lZChlLG4pLG8uZW5kLl9nZXRDb21iaW5lZChlLG4pKTt0aGlzLmFkZE1hcmtlcih0LHtyYW5nZTppLHVzaW5nT3BlcmF0aW9uOiEwfSl9fWluc2VydFRleHQoZSx0LG8sbil7dCBpbnN0YW5jZW9mIE51fHx0IGluc3RhbmNlb2YgZHV8fHQgaW5zdGFuY2VvZiB1dT90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQoZSksdCxvKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQoZSx0KSxvLG4pfWluc2VydEVsZW1lbnQoZSx0LG8sbil7dCBpbnN0YW5jZW9mIE51fHx0IGluc3RhbmNlb2YgZHV8fHQgaW5zdGFuY2VvZiB1dT90aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQoZSksdCxvKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQoZSx0KSxvLG4pfWFwcGVuZChlLHQpe3RoaXMuaW5zZXJ0KGUsdCwnZW5kJyl9YXBwZW5kVGV4dChlLHQsbyl7dCBpbnN0YW5jZW9mIE51fHx0IGluc3RhbmNlb2YgZHU/dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVUZXh0KGUpLHQsJ2VuZCcpOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlVGV4dChlLHQpLG8sJ2VuZCcpfWFwcGVuZEVsZW1lbnQoZSx0LG8pe3QgaW5zdGFuY2VvZiBOdXx8dCBpbnN0YW5jZW9mIGR1P3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudChlKSx0LCdlbmQnKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQoZSx0KSxvLCdlbmQnKX1zZXRBdHRyaWJ1dGUoZSx0LG8pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxvIGluc3RhbmNlb2YgcHU/b24odGhpcyxlLHQsbyk6bm4odGhpcyxlLHQsbyl9c2V0QXR0cmlidXRlcyhlLHQpe2Zvcihjb25zdFtvLG5db2YgdXQoZSkpdGhpcy5zZXRBdHRyaWJ1dGUobyxuLHQpfXJlbW92ZUF0dHJpYnV0ZShlLHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0IGluc3RhbmNlb2YgcHU/b24odGhpcyxlLG51bGwsdCk6bm4odGhpcyxlLG51bGwsdCl9Y2xlYXJBdHRyaWJ1dGVzKGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCB0PShlKT0+e2Zvcihjb25zdCB0IG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKXRoaXMucmVtb3ZlQXR0cmlidXRlKHQsZSl9O2lmKCEoZSBpbnN0YW5jZW9mIHB1KSl0KGUpO2Vsc2UgZm9yKGNvbnN0IG8gb2YgZS5nZXRJdGVtcygpKXQobyl9bW92ZShlLHQsbyl7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEoZSBpbnN0YW5jZW9mIHB1KSl0aHJvdyBuZXcgX3MoJ3dyaXRlci1tb3ZlLWludmFsaWQtcmFuZ2U6IEludmFsaWQgcmFuZ2UgdG8gbW92ZS4nKTtpZighZS5pc0ZsYXQpdGhyb3cgbmV3IF9zKCd3cml0ZXItbW92ZS1yYW5nZS1ub3QtZmxhdDogUmFuZ2UgdG8gbW92ZSBpcyBub3QgZmxhdC4nKTtjb25zdCBuPXV1LmNyZWF0ZUF0KHQsbyk7aWYoIXNuKGUucm9vdCxuLnJvb3QpKXRocm93IG5ldyBfcygnd3JpdGVyLW1vdmUtZGlmZmVyZW50LWRvY3VtZW50OiBSYW5nZSBpcyBnb2luZyB0byBiZSBtb3ZlZCBiZXR3ZWVuIGRpZmZlcmVudCBkb2N1bWVudHMuJyk7Y29uc3QgaT1uZXcgZXA7dGhpcy5iYXRjaC5hZGREZWx0YShpKTtjb25zdCByPWUucm9vdC5kb2N1bWVudD9lLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLGE9bmV3IEJ1KGUuc3RhcnQsZS5lbmQub2Zmc2V0LWUuc3RhcnQub2Zmc2V0LG4scik7aS5hZGRPcGVyYXRpb24oYSksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihhKX1yZW1vdmUoZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IHQ9KGUsdCk9Pntjb25zdCBvPW5ldyB0cDt0aGlzLmJhdGNoLmFkZERlbHRhKG8pLGFuKGUsdCxvLHRoaXMubW9kZWwpfTtpZihlIGluc3RhbmNlb2YgcHUpe2NvbnN0IG89ZS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLnJldmVyc2UoKTtmb3IoY29uc3QgZSBvZiBvKXQoZS5zdGFydCxlLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQpfWVsc2V7Y29uc3Qgbz1lLmlzKCd0ZXh0Jyk/ZS5vZmZzZXRTaXplOjE7dCh1dS5jcmVhdGVCZWZvcmUoZSksbyl9fW1lcmdlKGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCB0PW5ldyBadTt0aGlzLmJhdGNoLmFkZERlbHRhKHQpO2NvbnN0IG89ZS5ub2RlQmVmb3JlLG49ZS5ub2RlQWZ0ZXI7aWYoIShvIGluc3RhbmNlb2YgZHUpKXRocm93IG5ldyBfcygnd3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBOb2RlIGJlZm9yZSBtZXJnZSBwb3NpdGlvbiBtdXN0IGJlIGFuIGVsZW1lbnQuJyk7aWYoIShuIGluc3RhbmNlb2YgZHUpKXRocm93IG5ldyBfcygnd3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYWZ0ZXI6IE5vZGUgYWZ0ZXIgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LicpO2NvbnN0IGk9dXUuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChuLDApLHI9dXUuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChvLG8ubWF4T2Zmc2V0KSxhPWUucm9vdC5kb2N1bWVudD9lLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLHM9bmV3IEJ1KGksbi5tYXhPZmZzZXQscixhKTtzLmlzU3RpY2t5PSEwLHQuYWRkT3BlcmF0aW9uKHMpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyksYW4oZSwxLHQsdGhpcy5tb2RlbCl9cmVuYW1lKGUsdCl7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEoZSBpbnN0YW5jZW9mIGR1KSl0aHJvdyBuZXcgX3MoJ3dyaXRlci1yZW5hbWUtbm90LWVsZW1lbnQtaW5zdGFuY2U6IFRyeWluZyB0byByZW5hbWUgYW4gb2JqZWN0IHdoaWNoIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LicpO2NvbnN0IG89bmV3IG9wO3RoaXMuYmF0Y2guYWRkRGVsdGEobyk7Y29uc3Qgbj1lLnJvb3QuZG9jdW1lbnQ/ZS5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxpPW5ldyBVdSh1dS5jcmVhdGVCZWZvcmUoZSksZS5uYW1lLHQsbik7by5hZGRPcGVyYXRpb24oaSksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihpKX1zcGxpdChlLHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtsZXQgbz1lLnBhcmVudDtpZighby5wYXJlbnQpdGhyb3cgbmV3IF9zKCd3cml0ZXItc3BsaXQtZWxlbWVudC1uby1wYXJlbnQ6IEVsZW1lbnQgd2l0aCBubyBwYXJlbnQgY2FuIG5vdCBiZSBzcGxpdC4nKTtpZih0fHwodD1vLnBhcmVudCksIWUucGFyZW50LmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6ITB9KS5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgX3MoJ3dyaXRlci1zcGxpdC1pbnZhbGlkLWxpbWl0LWVsZW1lbnQ6IExpbWl0IGVsZW1lbnQgaXMgbm90IGEgcG9zaXRpb24gYW5jZXN0b3IuJyk7bGV0IG4saTtkb3tjb25zdCB0PW5ldyBYdTt0aGlzLmJhdGNoLmFkZERlbHRhKHQpO2NvbnN0IHI9bmV3IGR1KG8ubmFtZSxvLmdldEF0dHJpYnV0ZXMoKSksYT1vLnJvb3QuZG9jdW1lbnQ/by5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxzPW5ldyBqdSh1dS5jcmVhdGVBZnRlcihvKSxyLGEpO3QuYWRkT3BlcmF0aW9uKHMpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyk7Y29uc3QgbD1udWxsPT09YT9udWxsOmErMSxkPW5ldyBCdShlLG8ubWF4T2Zmc2V0LWUub2Zmc2V0LHV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQociwwKSxsKTtkLmlzU3RpY2t5PSEwLHQuYWRkT3BlcmF0aW9uKGQpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24oZCksbnx8aXx8KG49byxpPXIpLGU9dXUuY3JlYXRlQmVmb3JlKHIpLG89ZS5wYXJlbnR9d2hpbGUobyE9PXQpO3JldHVybntwb3NpdGlvbjplLHJhbmdlOm5ldyBwdSh1dS5jcmVhdGVBdChuLCdlbmQnKSx1dS5jcmVhdGVBdChpKSl9fXdyYXAoZSx0KXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksIWUuaXNGbGF0KXRocm93IG5ldyBfcygnd3JpdGVyLXdyYXAtcmFuZ2Utbm90LWZsYXQ6IFJhbmdlIHRvIHdyYXAgaXMgbm90IGZsYXQuJyk7Y29uc3Qgbz10IGluc3RhbmNlb2YgZHU/dDpuZXcgZHUodCk7aWYoMDxvLmNoaWxkQ291bnQpdGhyb3cgbmV3IF9zKCd3cml0ZXItd3JhcC1lbGVtZW50LW5vdC1lbXB0eTogRWxlbWVudCB0byB3cmFwIHdpdGggaXMgbm90IGVtcHR5LicpO2lmKG51bGwhPT1vLnBhcmVudCl0aHJvdyBuZXcgX3MoJ3dyaXRlci13cmFwLWVsZW1lbnQtYXR0YWNoZWQ6IEVsZW1lbnQgdG8gd3JhcCB3aXRoIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdHJlZSBtb2RlbC4nKTtjb25zdCBuPW5ldyBucDt0aGlzLmJhdGNoLmFkZERlbHRhKG4pO2NvbnN0IGk9ZS5yb290LmRvY3VtZW50P2Uucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscj1uZXcganUoZS5lbmQsbyxpKTtuLmFkZE9wZXJhdGlvbihyKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHIpO2NvbnN0IGE9bnVsbD09PWk/bnVsbDppKzEscz11dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG8sMCksbD1uZXcgQnUoZS5zdGFydCxlLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQscyxhKTtuLmFkZE9wZXJhdGlvbihsKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGwpfXVud3JhcChlKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksbnVsbD09PWUucGFyZW50KXRocm93IG5ldyBfcygnd3JpdGVyLXVud3JhcC1lbGVtZW50LW5vLXBhcmVudDogVHJ5aW5nIHRvIHVud3JhcCBhbiBlbGVtZW50IHdoaWNoIGhhcyBubyBwYXJlbnQuJyk7Y29uc3QgdD1uZXcgaXA7dGhpcy5iYXRjaC5hZGREZWx0YSh0KTtjb25zdCBvPXV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoZSwwKSxuPW8ucm9vdC5kb2N1bWVudD9vLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLGk9bmV3IEJ1KG8sZS5tYXhPZmZzZXQsdXUuY3JlYXRlQmVmb3JlKGUpLG4pO2kuaXNTdGlja3k9ITAsdC5hZGRPcGVyYXRpb24oaSksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihpKSxhbih1dS5jcmVhdGVCZWZvcmUoZSksMSx0LHRoaXMubW9kZWwpfWFkZE1hcmtlcihlLHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhdHx8J2Jvb2xlYW4nIT10eXBlb2YgdC51c2luZ09wZXJhdGlvbil0aHJvdyBuZXcgX3MoJ3dyaXRlci1hZGRNYXJrZXItbm8tdXNpbmdPcGVyYXRpb25zOiBUaGUgb3B0aW9ucy51c2luZ09wZXJhdGlvbnMgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIHdoZW4gYWRkaW5nIGEgbmV3IG1hcmtlci4nKTtjb25zdCBvPXQudXNpbmdPcGVyYXRpb24sbj10LnJhbmdlLGk9dm9pZCAwIT09dC5hZmZlY3RzRGF0YSYmdC5hZmZlY3RzRGF0YTtpZih0aGlzLm1vZGVsLm1hcmtlcnMuaGFzKGUpKXRocm93IG5ldyBfcygnd3JpdGVyLWFkZE1hcmtlci1tYXJrZXItZXhpc3RzOiBNYXJrZXIgd2l0aCBwcm92aWRlZCBuYW1lIGFscmVhZHkgZXhpc3RzLicpO2lmKCFuKXRocm93IG5ldyBfcygnd3JpdGVyLWFkZE1hcmtlci1uby1yYW5nZTogUmFuZ2UgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIHdoZW4gYWRkaW5nIGEgbmV3IG1hcmtlci4nKTtyZXR1cm4gbz8ocm4odGhpcyxlLG51bGwsbixpKSx0aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KGUpKTp0aGlzLm1vZGVsLm1hcmtlcnMuX3NldChlLG4sbyxpKX11cGRhdGVNYXJrZXIoZSx0PXt9KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3Qgbz0nc3RyaW5nJz09dHlwZW9mIGU/ZTplLm5hbWUsbj10aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KG8pO2lmKCFuKXRocm93IG5ldyBfcygnd3JpdGVyLXVwZGF0ZU1hcmtlci1tYXJrZXItbm90LWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBkb2VzIG5vdCBleGlzdHMuJyk7Y29uc3QgaT0nYm9vbGVhbic9PXR5cGVvZiB0LnVzaW5nT3BlcmF0aW9uLHI9J2Jvb2xlYW4nPT10eXBlb2YgdC5hZmZlY3RzRGF0YSxhPXI/dC5hZmZlY3RzRGF0YTpuLmFmZmVjdHNEYXRhO2lmKCFpJiYhdC5yYW5nZSYmIXIpdGhyb3cgbmV3IF9zKCd3cml0ZXItdXBkYXRlTWFya2VyLXdyb25nLW9wdGlvbnM6IE9uZSBvZiB0aGUgb3B0aW9ucyBpcyByZXF1aXJlZCAtIHByb3ZpZGUgcmFuZ2UsIHVzaW5nT3BlcmF0aW9ucyBvciBhZmZlY3RzRGF0YS4nKTtjb25zdCBzPW4uZ2V0UmFuZ2UoKSxsPXQucmFuZ2U/dC5yYW5nZTpzO3JldHVybiBpJiZ0LnVzaW5nT3BlcmF0aW9uIT09bi5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zP3ZvaWQodC51c2luZ09wZXJhdGlvbj9ybih0aGlzLG8sbnVsbCxsLGEpOihybih0aGlzLG8scyxudWxsLGEpLHRoaXMubW9kZWwubWFya2Vycy5fc2V0KG8sbCx2b2lkIDAsYSkpKTp2b2lkKG4ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz9ybih0aGlzLG8scyxsLGEpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KG8sbCx2b2lkIDAsYSkpfXJlbW92ZU1hcmtlcihlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgdD0nc3RyaW5nJz09dHlwZW9mIGU/ZTplLm5hbWU7aWYoIXRoaXMubW9kZWwubWFya2Vycy5oYXModCkpdGhyb3cgbmV3IF9zKCd3cml0ZXItcmVtb3ZlTWFya2VyLW5vLW1hcmtlcjogVHJ5aW5nIHRvIHJlbW92ZSBtYXJrZXIgd2hpY2ggZG9lcyBub3QgZXhpc3QuJyk7Y29uc3Qgbz10aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KHQpO2lmKCFvLm1hbmFnZWRVc2luZ09wZXJhdGlvbnMpcmV0dXJuIHZvaWQgdGhpcy5tb2RlbC5tYXJrZXJzLl9yZW1vdmUodCk7Y29uc3Qgbj1vLmdldFJhbmdlKCk7cm4odGhpcyx0LG4sbnVsbCxvLmFmZmVjdHNEYXRhKX1zZXRTZWxlY3Rpb24oZSx0LG8pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8oZSx0LG8pfXNldFNlbGVjdGlvbkZvY3VzKGUsdCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyhlLHQpfXNldFNlbGVjdGlvbkF0dHJpYnV0ZShlLHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwnc3RyaW5nJz09dHlwZW9mIGUpdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKGUsdCk7ZWxzZSBmb3IoY29uc3RbdCxvXW9mIHV0KGUpKXRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LG8pfXJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShlKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksJ3N0cmluZyc9PXR5cGVvZiBlKXRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShlKTtlbHNlIGZvcihjb25zdCB0IG9mIGUpdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpfW92ZXJyaWRlU2VsZWN0aW9uR3Jhdml0eSgpe3JldHVybiB0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fb3ZlcnJpZGVHcmF2aXR5KCl9cmVzdG9yZVNlbGVjdGlvbkdyYXZpdHkoZSl7dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uX3Jlc3RvcmVHcmF2aXR5KGUpfV9zZXRTZWxlY3Rpb25BdHRyaWJ1dGUoZSx0KXtjb25zdCBvPXRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG8uaXNDb2xsYXBzZWQmJm8uYW5jaG9yLnBhcmVudC5pc0VtcHR5KXtjb25zdCBuPXd1Ll9nZXRTdG9yZUF0dHJpYnV0ZUtleShlKTt0aGlzLnNldEF0dHJpYnV0ZShuLHQsby5hbmNob3IucGFyZW50KX1vLl9zZXRBdHRyaWJ1dGUoZSx0KX1fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKGUpe2NvbnN0IHQ9dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYodC5pc0NvbGxhcHNlZCYmdC5hbmNob3IucGFyZW50LmlzRW1wdHkpe2NvbnN0IG89d3UuX2dldFN0b3JlQXR0cmlidXRlS2V5KGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKG8sdC5hbmNob3IucGFyZW50KX10Ll9yZW1vdmVBdHRyaWJ1dGUoZSl9X2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKXtpZih0aGlzLm1vZGVsLl9jdXJyZW50V3JpdGVyIT09dGhpcyl0aHJvdyBuZXcgX3MoJ3dyaXRlci1pbmNvcnJlY3QtdXNlOiBUcnlpbmcgdG8gdXNlIGEgd3JpdGVyIG91dHNpZGUgdGhlIGNoYW5nZSgpIGJsb2NrLicpfX1jbGFzcyBjZntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXJrZXJDb2xsZWN0aW9uPWUsdGhpcy5fY2hhbmdlc0luRWxlbWVudD1uZXcgTWFwLHRoaXMuX2VsZW1lbnRTbmFwc2hvdHM9bmV3IE1hcCx0aGlzLl9jaGFuZ2VkTWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsLHRoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkPW51bGx9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09dGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplJiYwPT10aGlzLl9jaGFuZ2VkTWFya2Vycy5zaXplfWJ1ZmZlck9wZXJhdGlvbihlKXtzd2l0Y2goZS50eXBlKXtjYXNlJ2luc2VydCc6e2lmKHRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wb3NpdGlvbi5wYXJlbnQpKXJldHVybjt0aGlzLl9tYXJrSW5zZXJ0KGUucG9zaXRpb24ucGFyZW50LGUucG9zaXRpb24ub2Zmc2V0LGUubm9kZXMubWF4T2Zmc2V0KTticmVha31jYXNlJ2FkZEF0dHJpYnV0ZSc6Y2FzZSdyZW1vdmVBdHRyaWJ1dGUnOmNhc2UnY2hhbmdlQXR0cmlidXRlJzp7Zm9yKGNvbnN0IHQgb2YgZS5yYW5nZS5nZXRJdGVtcygpKXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC5wYXJlbnQpfHx0aGlzLl9tYXJrQXR0cmlidXRlKHQpO2JyZWFrfWNhc2UncmVtb3ZlJzpjYXNlJ21vdmUnOmNhc2UncmVpbnNlcnQnOntjb25zdCB0PXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5zb3VyY2VQb3NpdGlvbi5wYXJlbnQpLG89dGhpcy5faXNJbkluc2VydGVkRWxlbWVudChlLnRhcmdldFBvc2l0aW9uLnBhcmVudCk7dHx8dGhpcy5fbWFya1JlbW92ZShlLnNvdXJjZVBvc2l0aW9uLnBhcmVudCxlLnNvdXJjZVBvc2l0aW9uLm9mZnNldCxlLmhvd01hbnkpLG98fHRoaXMuX21hcmtJbnNlcnQoZS50YXJnZXRQb3NpdGlvbi5wYXJlbnQsZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5vZmZzZXQsZS5ob3dNYW55KTticmVha31jYXNlJ3JlbmFtZSc6e2lmKHRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wb3NpdGlvbi5wYXJlbnQpKXJldHVybjt0aGlzLl9tYXJrUmVtb3ZlKGUucG9zaXRpb24ucGFyZW50LGUucG9zaXRpb24ub2Zmc2V0LDEpLHRoaXMuX21hcmtJbnNlcnQoZS5wb3NpdGlvbi5wYXJlbnQsZS5wb3NpdGlvbi5vZmZzZXQsMSk7Y29uc3QgdD1wdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnBvc2l0aW9uLDEpO2Zvcihjb25zdCBlIG9mIHRoaXMuX21hcmtlckNvbGxlY3Rpb24uZ2V0TWFya2Vyc0ludGVyc2VjdGluZ1JhbmdlKHQpKXtjb25zdCB0PWUuZ2V0UmFuZ2UoKTt0aGlzLmJ1ZmZlck1hcmtlckNoYW5nZShlLm5hbWUsdCx0LGUuYWZmZWN0c0RhdGEpfWJyZWFrfX10aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9YnVmZmVyTWFya2VyQ2hhbmdlKGUsdCxvLG4pe2NvbnN0IGk9dGhpcy5fY2hhbmdlZE1hcmtlcnMuZ2V0KGUpO2k/KGkubmV3UmFuZ2U9byxpLmFmZmVjdHNEYXRhPW4sbnVsbD09aS5vbGRSYW5nZSYmbnVsbD09aS5uZXdSYW5nZSYmdGhpcy5fY2hhbmdlZE1hcmtlcnMuZGVsZXRlKGUpKTp0aGlzLl9jaGFuZ2VkTWFya2Vycy5zZXQoZSx7b2xkUmFuZ2U6dCxuZXdSYW5nZTpvLGFmZmVjdHNEYXRhOm59KX1nZXRNYXJrZXJzVG9SZW1vdmUoKXtjb25zdCBlPVtdO2Zvcihjb25zdFt0LG9db2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpbnVsbCE9by5vbGRSYW5nZSYmZS5wdXNoKHtuYW1lOnQscmFuZ2U6by5vbGRSYW5nZX0pO3JldHVybiBlfWdldE1hcmtlcnNUb0FkZCgpe2NvbnN0IGU9W107Zm9yKGNvbnN0W3Qsb11vZiB0aGlzLl9jaGFuZ2VkTWFya2VycyludWxsIT1vLm5ld1JhbmdlJiZlLnB1c2goe25hbWU6dCxyYW5nZTpvLm5ld1JhbmdlfSk7cmV0dXJuIGV9aGFzRGF0YUNoYW5nZXMoKXtmb3IoY29uc3RbLGVdb2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpaWYoZS5hZmZlY3RzRGF0YSlyZXR1cm4hMDtyZXR1cm4gMDx0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNpemV9Z2V0Q2hhbmdlcyhlPXtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOiExfSl7aWYodGhpcy5fY2FjaGVkQ2hhbmdlcylyZXR1cm4gZS5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkLnNsaWNlKCk6dGhpcy5fY2FjaGVkQ2hhbmdlcy5zbGljZSgpO2NvbnN0IHQ9W107Zm9yKGNvbnN0IG8gb2YgdGhpcy5fY2hhbmdlc0luRWxlbWVudC5rZXlzKCkpe2NvbnN0IGU9dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQobykuc29ydCgoZSx0KT0+ZS5vZmZzZXQ9PT10Lm9mZnNldD9lLnR5cGU9PXQudHlwZT8wOidyZW1vdmUnPT1lLnR5cGU/LTE6MTplLm9mZnNldDx0Lm9mZnNldD8tMToxKSxuPXRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuZ2V0KG8pLHI9bG4oby5nZXRDaGlsZHJlbigpKSxhPWRuKG4ubGVuZ3RoLGUpO2xldCBzPTAsaT0wO2Zvcihjb25zdCBlIG9mIGEpaWYoJ2knPT09ZSl0LnB1c2godGhpcy5fZ2V0SW5zZXJ0RGlmZihvLHMscltzXS5uYW1lKSkscysrO2Vsc2UgaWYoJ3InPT09ZSl0LnB1c2godGhpcy5fZ2V0UmVtb3ZlRGlmZihvLHMsbltpXS5uYW1lKSksaSsrO2Vsc2UgaWYoJ2EnPT09ZSl7Y29uc3QgZT1yW3NdLmF0dHJpYnV0ZXMsYT1uW2ldLmF0dHJpYnV0ZXM7bGV0IGw7aWYoJyR0ZXh0Jz09cltzXS5uYW1lKWw9cHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKG8scyxvLHMrMSk7ZWxzZXtjb25zdCBlPW8ub2Zmc2V0VG9JbmRleChzKTtsPXB1LmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhvLHMsby5nZXRDaGlsZChlKSwwKX10LnB1c2goLi4udGhpcy5fZ2V0QXR0cmlidXRlc0RpZmYobCxhLGUpKSxzKyssaSsrfWVsc2UgcysrLGkrK310LnNvcnQoKGUsdCk9PmUucG9zaXRpb24ucm9vdD09dC5wb3NpdGlvbi5yb290P2UucG9zaXRpb24uaXNFcXVhbCh0LnBvc2l0aW9uKT9lLmNoYW5nZUNvdW50PHQuY2hhbmdlQ291bnQ/LTE6MTplLnBvc2l0aW9uLmlzQmVmb3JlKHQucG9zaXRpb24pPy0xOjE6ZS5wb3NpdGlvbi5yb290LnJvb3ROYW1lPHQucG9zaXRpb24ucm9vdC5yb290TmFtZT8tMToxKTtmb3IobGV0IG89MTtvPHQubGVuZ3RoO28rKyl7Y29uc3QgZT10W28tMV0sbj10W29dLGk9J3JlbW92ZSc9PWUudHlwZSYmJ3JlbW92ZSc9PW4udHlwZSYmJyR0ZXh0Jz09ZS5uYW1lJiYnJHRleHQnPT1uLm5hbWUmJmUucG9zaXRpb24uaXNFcXVhbChuLnBvc2l0aW9uKSxyPSdpbnNlcnQnPT1lLnR5cGUmJidpbnNlcnQnPT1uLnR5cGUmJickdGV4dCc9PWUubmFtZSYmJyR0ZXh0Jz09bi5uYW1lJiZlLnBvc2l0aW9uLnBhcmVudD09bi5wb3NpdGlvbi5wYXJlbnQmJmUucG9zaXRpb24ub2Zmc2V0K2UubGVuZ3RoPT1uLnBvc2l0aW9uLm9mZnNldCxhPSdhdHRyaWJ1dGUnPT1lLnR5cGUmJidhdHRyaWJ1dGUnPT1uLnR5cGUmJmUucG9zaXRpb24ucGFyZW50PT1uLnBvc2l0aW9uLnBhcmVudCYmZS5yYW5nZS5pc0ZsYXQmJm4ucmFuZ2UuaXNGbGF0JiZlLnBvc2l0aW9uLm9mZnNldCtlLmxlbmd0aD09bi5wb3NpdGlvbi5vZmZzZXQmJmUuYXR0cmlidXRlS2V5PT1uLmF0dHJpYnV0ZUtleSYmZS5hdHRyaWJ1dGVPbGRWYWx1ZT09bi5hdHRyaWJ1dGVPbGRWYWx1ZSYmZS5hdHRyaWJ1dGVOZXdWYWx1ZT09bi5hdHRyaWJ1dGVOZXdWYWx1ZTsoaXx8cnx8YSkmJih0W28tMV0ubGVuZ3RoKyssYSYmKHRbby0xXS5yYW5nZS5lbmQ9dFtvLTFdLnJhbmdlLmVuZC5nZXRTaGlmdGVkQnkoMSkpLHQuc3BsaWNlKG8sMSksby0tKX1mb3IoY29uc3QgbyBvZiB0KWRlbGV0ZSBvLmNoYW5nZUNvdW50LCdhdHRyaWJ1dGUnPT1vLnR5cGUmJihkZWxldGUgby5wb3NpdGlvbixkZWxldGUgby5sZW5ndGgpO3JldHVybiB0aGlzLl9jaGFuZ2VDb3VudD0wLHRoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkPXQuc2xpY2UoKSx0aGlzLl9jYWNoZWRDaGFuZ2VzPXQuc2xpY2UoKS5maWx0ZXIoY24pLGUuaW5jbHVkZUNoYW5nZXNJbkdyYXZleWFyZD90aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZDp0aGlzLl9jYWNoZWRDaGFuZ2VzfXJlc2V0KCl7dGhpcy5fY2hhbmdlc0luRWxlbWVudC5jbGVhcigpLHRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuY2xlYXIoKSx0aGlzLl9jaGFuZ2VkTWFya2Vycy5jbGVhcigpLHRoaXMuX2NhY2hlZENoYW5nZXM9bnVsbH1fbWFya0luc2VydChlLHQsbyl7Y29uc3Qgbj17dHlwZTonaW5zZXJ0JyxvZmZzZXQ6dCxob3dNYW55Om8sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5fbWFya0NoYW5nZShlLG4pfV9tYXJrUmVtb3ZlKGUsdCxvKXtjb25zdCBuPXt0eXBlOidyZW1vdmUnLG9mZnNldDp0LGhvd01hbnk6byxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9tYXJrQ2hhbmdlKGUsbiksdGhpcy5fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyhlLHQsbyl9X21hcmtBdHRyaWJ1dGUoZSl7Y29uc3QgdD17dHlwZTonYXR0cmlidXRlJyxvZmZzZXQ6ZS5zdGFydE9mZnNldCxob3dNYW55OmUub2Zmc2V0U2l6ZSxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9tYXJrQ2hhbmdlKGUucGFyZW50LHQpfV9tYXJrQ2hhbmdlKGUsdCl7dGhpcy5fbWFrZVNuYXBzaG90KGUpO2NvbnN0IG89dGhpcy5fZ2V0Q2hhbmdlc0ZvckVsZW1lbnQoZSk7dGhpcy5faGFuZGxlQ2hhbmdlKHQsbyksby5wdXNoKHQpO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bisrKTE+b1tuXS5ob3dNYW55JiYoby5zcGxpY2UobiwxKSxuLS0pfV9nZXRDaGFuZ2VzRm9yRWxlbWVudChlKXtsZXQgdDtyZXR1cm4gdGhpcy5fY2hhbmdlc0luRWxlbWVudC5oYXMoZSk/dD10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldChlKToodD1bXSx0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LnNldChlLHQpKSx0fV9tYWtlU25hcHNob3QoZSl7dGhpcy5fZWxlbWVudFNuYXBzaG90cy5oYXMoZSl8fHRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuc2V0KGUsbG4oZS5nZXRDaGlsZHJlbigpKSl9X2hhbmRsZUNoYW5nZShlLHQpe2Uubm9kZXNUb0hhbmRsZT1lLmhvd01hbnk7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3Qgbj1lLm9mZnNldCtlLmhvd01hbnksaT1vLm9mZnNldCtvLmhvd01hbnk7aWYoJ2luc2VydCc9PWUudHlwZSYmKCdpbnNlcnQnPT1vLnR5cGUmJihlLm9mZnNldDw9by5vZmZzZXQ/by5vZmZzZXQrPWUuaG93TWFueTplLm9mZnNldDxpJiYoby5ob3dNYW55Kz1lLm5vZGVzVG9IYW5kbGUsZS5ub2Rlc1RvSGFuZGxlPTApKSwncmVtb3ZlJz09by50eXBlJiZlLm9mZnNldDxvLm9mZnNldCYmKG8ub2Zmc2V0Kz1lLmhvd01hbnkpLCdhdHRyaWJ1dGUnPT1vLnR5cGUpKWlmKGUub2Zmc2V0PD1vLm9mZnNldClvLm9mZnNldCs9ZS5ob3dNYW55O2Vsc2UgaWYoZS5vZmZzZXQ8aSl7Y29uc3QgaT1vLmhvd01hbnk7by5ob3dNYW55PWUub2Zmc2V0LW8ub2Zmc2V0LHQudW5zaGlmdCh7dHlwZTonYXR0cmlidXRlJyxvZmZzZXQ6bixob3dNYW55Omktby5ob3dNYW55LGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1pZigncmVtb3ZlJz09ZS50eXBlKXtpZignaW5zZXJ0Jz09by50eXBlKWlmKG48PW8ub2Zmc2V0KW8ub2Zmc2V0LT1lLmhvd01hbnk7ZWxzZSBpZihuPD1pKXtpZihlLm9mZnNldDxvLm9mZnNldCl7Y29uc3QgdD1uLW8ub2Zmc2V0O28ub2Zmc2V0PWUub2Zmc2V0LG8uaG93TWFueS09dCxlLm5vZGVzVG9IYW5kbGUtPXR9ZWxzZSBvLmhvd01hbnktPWUubm9kZXNUb0hhbmRsZSxlLm5vZGVzVG9IYW5kbGU9MDt9ZWxzZSBpZihlLm9mZnNldDw9by5vZmZzZXQpZS5ub2Rlc1RvSGFuZGxlLT1vLmhvd01hbnksby5ob3dNYW55PTA7ZWxzZSBpZihlLm9mZnNldDxpKXtjb25zdCB0PWktZS5vZmZzZXQ7by5ob3dNYW55LT10LGUubm9kZXNUb0hhbmRsZS09dH1pZigncmVtb3ZlJz09by50eXBlJiYobjw9by5vZmZzZXQ/by5vZmZzZXQtPWUuaG93TWFueTplLm9mZnNldDxvLm9mZnNldCYmKGUubm9kZXNUb0hhbmRsZSs9by5ob3dNYW55LG8uaG93TWFueT0wKSksJ2F0dHJpYnV0ZSc9PW8udHlwZSlpZihuPD1vLm9mZnNldClvLm9mZnNldC09ZS5ob3dNYW55O2Vsc2UgaWYoZS5vZmZzZXQ8by5vZmZzZXQpe2NvbnN0IHQ9bi1vLm9mZnNldDtvLm9mZnNldD1lLm9mZnNldCxvLmhvd01hbnktPXR9ZWxzZSBpZihlLm9mZnNldDxpKWlmKG48PWkpe2NvbnN0IG49by5ob3dNYW55O28uaG93TWFueT1lLm9mZnNldC1vLm9mZnNldDtjb25zdCBpPW4tby5ob3dNYW55LWUubm9kZXNUb0hhbmRsZTt0LnVuc2hpZnQoe3R5cGU6J2F0dHJpYnV0ZScsb2Zmc2V0OmUub2Zmc2V0LGhvd01hbnk6aSxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfSl9ZWxzZSBvLmhvd01hbnktPWktZS5vZmZzZXR9aWYoJ2F0dHJpYnV0ZSc9PWUudHlwZSl7aWYoJ2luc2VydCc9PW8udHlwZSlpZihlLm9mZnNldDxvLm9mZnNldCYmbj5vLm9mZnNldCl7aWYobj5pKXtjb25zdCBlPXt0eXBlOidhdHRyaWJ1dGUnLG9mZnNldDppLGhvd01hbnk6bi1pLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX2hhbmRsZUNoYW5nZShlLHQpLHQucHVzaChlKX1lLm5vZGVzVG9IYW5kbGU9by5vZmZzZXQtZS5vZmZzZXQsZS5ob3dNYW55PWUubm9kZXNUb0hhbmRsZX1lbHNlIGUub2Zmc2V0Pj1vLm9mZnNldCYmZS5vZmZzZXQ8aSYmKG4+aT8oZS5ub2Rlc1RvSGFuZGxlPW4taSxlLm9mZnNldD1pKTplLm5vZGVzVG9IYW5kbGU9MCk7J2F0dHJpYnV0ZSc9PW8udHlwZSYmKGUub2Zmc2V0Pj1vLm9mZnNldCYmbjw9aT8oZS5ub2Rlc1RvSGFuZGxlPTAsZS5ob3dNYW55PTAsZS5vZmZzZXQ9MCk6ZS5vZmZzZXQ8PW8ub2Zmc2V0JiZuPj1pJiYoby5ob3dNYW55PTApKX19ZS5ob3dNYW55PWUubm9kZXNUb0hhbmRsZSxkZWxldGUgZS5ub2Rlc1RvSGFuZGxlfV9nZXRJbnNlcnREaWZmKGUsdCxvKXtyZXR1cm57dHlwZTonaW5zZXJ0Jyxwb3NpdGlvbjp1dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUsdCksbmFtZTpvLGxlbmd0aDoxLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9fV9nZXRSZW1vdmVEaWZmKGUsdCxvKXtyZXR1cm57dHlwZToncmVtb3ZlJyxwb3NpdGlvbjp1dS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUsdCksbmFtZTpvLGxlbmd0aDoxLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9fV9nZXRBdHRyaWJ1dGVzRGlmZihlLHQsbyl7Y29uc3Qgbj1bXTtvPW5ldyBNYXAobyk7Zm9yKGNvbnN0W2kscl1vZiB0KXtjb25zdCB0PW8uaGFzKGkpP28uZ2V0KGkpOm51bGw7dCE9PXImJm4ucHVzaCh7dHlwZTonYXR0cmlidXRlJyxwb3NpdGlvbjplLnN0YXJ0LHJhbmdlOnB1LmNyZWF0ZUZyb21SYW5nZShlKSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6aSxhdHRyaWJ1dGVPbGRWYWx1ZTpyLGF0dHJpYnV0ZU5ld1ZhbHVlOnQsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pLG8uZGVsZXRlKGkpfWZvcihjb25zdFtpLHJdb2YgbyluLnB1c2goe3R5cGU6J2F0dHJpYnV0ZScscG9zaXRpb246ZS5zdGFydCxyYW5nZTpwdS5jcmVhdGVGcm9tUmFuZ2UoZSksbGVuZ3RoOjEsYXR0cmlidXRlS2V5OmksYXR0cmlidXRlT2xkVmFsdWU6bnVsbCxhdHRyaWJ1dGVOZXdWYWx1ZTpyLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KTtyZXR1cm4gbn1faXNJbkluc2VydGVkRWxlbWVudChlKXtjb25zdCB0PWUucGFyZW50O2lmKCF0KXJldHVybiExO2NvbnN0IG89dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQodCksbj1lLnN0YXJ0T2Zmc2V0O2lmKG8pZm9yKGNvbnN0IGUgb2YgbylpZignaW5zZXJ0Jz09ZS50eXBlJiZuPj1lLm9mZnNldCYmbjxlLm9mZnNldCtlLmhvd01hbnkpcmV0dXJuITA7cmV0dXJuIHRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodCl9X3JlbW92ZUFsbE5lc3RlZENoYW5nZXMoZSx0LG8pe2NvbnN0IG49cHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGUsdCxlLHQrbyk7Zm9yKGNvbnN0IGkgb2Ygbi5nZXRJdGVtcyh7c2hhbGxvdzohMH0pKWkuaXMoJ2VsZW1lbnQnKSYmKHRoaXMuX2VsZW1lbnRTbmFwc2hvdHMuZGVsZXRlKGkpLHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZGVsZXRlKGkpLHRoaXMuX3JlbW92ZUFsbE5lc3RlZENoYW5nZXMoaSwwLGkubWF4T2Zmc2V0KSl9fWNsYXNzIG1me2NvbnN0cnVjdG9yKCl7dGhpcy5fZGVsdGFzPVtdLHRoaXMuX2hpc3RvcnlQb2ludHM9bmV3IE1hcCx0aGlzLl91bmRvUGFpcnM9bmV3IE1hcCx0aGlzLl91bmRvbmVEZWx0YXM9bmV3IFNldH1hZGREZWx0YShlKXtpZigwPGUub3BlcmF0aW9ucy5sZW5ndGgmJiF0aGlzLl9oaXN0b3J5UG9pbnRzLmhhcyhlLmJhc2VWZXJzaW9uKSl7Y29uc3QgdD10aGlzLl9kZWx0YXMubGVuZ3RoO3RoaXMuX2RlbHRhc1t0XT1lLHRoaXMuX2hpc3RvcnlQb2ludHMuc2V0KGUuYmFzZVZlcnNpb24sdCl9fSpnZXREZWx0YXMoZT0wLHQ9bnMpe2lmKDAhPT10aGlzLl9kZWx0YXMubGVuZ3RoKXtsZXQgbz10aGlzLl9nZXRJbmRleChlKTtpZigtMSE9bylmb3IoO288dGhpcy5fZGVsdGFzLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5fZGVsdGFzW28rK107aWYoZS5iYXNlVmVyc2lvbj49dClicmVhazt5aWVsZCBlfX19Z2V0RGVsdGEoZSl7Y29uc3QgdD10aGlzLl9oaXN0b3J5UG9pbnRzLmdldChlKTtyZXR1cm4gdD09PXZvaWQgMD9udWxsOnRoaXMuX2RlbHRhc1t0XX1zZXREZWx0YUFzVW5kb25lKGUsdCl7dGhpcy5fdW5kb1BhaXJzLnNldCh0LGUpLHRoaXMuX3VuZG9uZURlbHRhcy5hZGQoZSl9aXNVbmRvaW5nRGVsdGEoZSl7cmV0dXJuIHRoaXMuX3VuZG9QYWlycy5oYXMoZSl9aXNVbmRvbmVEZWx0YShlKXtyZXR1cm4gdGhpcy5fdW5kb25lRGVsdGFzLmhhcyhlKX1nZXRVbmRvbmVEZWx0YShlKXtyZXR1cm4gdGhpcy5fdW5kb1BhaXJzLmdldChlKX1fZ2V0SW5kZXgoZSl7Y29uc3QgdD10aGlzLl9oaXN0b3J5UG9pbnRzLmdldChlKTtpZih0PT09dm9pZCAwKXtjb25zdCB0PXRoaXMuX2RlbHRhc1t0aGlzLl9kZWx0YXMubGVuZ3RoLTFdLG89dC5iYXNlVmVyc2lvbit0Lm9wZXJhdGlvbnMubGVuZ3RoO2lmKDA+ZXx8ZT49bylyZXR1cm4tMTt0aHJvdyBuZXcgX3MoJ21vZGVsLWhpc3Rvcnktd3JvbmctdmVyc2lvbjogR2l2ZW4gYmFzZSB2ZXJzaW9uIHBvaW50cyB0byB0aGUgbWlkZGxlIG9mIGEgZGVsdGEuJyl9cmV0dXJuIHR9fWNvbnN0IHVmPSckZ3JhdmV5YXJkJztjbGFzcyBwZntjb25zdHJ1Y3RvcihlKXt0aGlzLm1vZGVsPWUsdGhpcy52ZXJzaW9uPTAsdGhpcy5oaXN0b3J5PW5ldyBtZih0aGlzKSx0aGlzLnNlbGVjdGlvbj1uZXcgd3UodGhpcyksdGhpcy5yb290cz1uZXcgR2Moe2lkUHJvcGVydHk6J3Jvb3ROYW1lJ30pLHRoaXMuZGlmZmVyPW5ldyBjZihlLm1hcmtlcnMpLHRoaXMuX3Bvc3RGaXhlcnM9bmV3IFNldCx0aGlzLmNyZWF0ZVJvb3QoJyRyb290Jyx1ZiksdGhpcy5saXN0ZW5UbyhlLCdhcHBseU9wZXJhdGlvbicsKGUsdCk9Pntjb25zdCBvPXRbMF07aWYoby5pc0RvY3VtZW50T3BlcmF0aW9uJiZvLmJhc2VWZXJzaW9uIT09dGhpcy52ZXJzaW9uKXRocm93IG5ldyBfcygnbW9kZWwtZG9jdW1lbnQtYXBwbHlPcGVyYXRpb24td3JvbmctdmVyc2lvbjogT25seSBvcGVyYXRpb25zIHdpdGggbWF0Y2hpbmcgdmVyc2lvbnMgY2FuIGJlIGFwcGxpZWQuJyx7b3BlcmF0aW9uOm99KX0se3ByaW9yaXR5OidoaWdoZXN0J30pLHRoaXMubGlzdGVuVG8oZSwnYXBwbHlPcGVyYXRpb24nLChlLHQpPT57Y29uc3Qgbz10WzBdO28uaXNEb2N1bWVudE9wZXJhdGlvbiYmdGhpcy5kaWZmZXIuYnVmZmVyT3BlcmF0aW9uKG8pfSx7cHJpb3JpdHk6J2hpZ2gnfSksdGhpcy5saXN0ZW5UbyhlLCdhcHBseU9wZXJhdGlvbicsKGUsdCk9Pntjb25zdCBvPXRbMF07by5pc0RvY3VtZW50T3BlcmF0aW9uJiYodGhpcy52ZXJzaW9uKyssdGhpcy5oaXN0b3J5LmFkZERlbHRhKG8uZGVsdGEpKX0se3ByaW9yaXR5Oidsb3cnfSk7bGV0IHQ9ITE7dGhpcy5saXN0ZW5Ubyh0aGlzLnNlbGVjdGlvbiwnY2hhbmdlJywoKT0+e3Q9ITB9KSx0aGlzLmxpc3RlblRvKGUsJ19jaGFuZ2UnLChlLG8pPT57KCF0aGlzLmRpZmZlci5pc0VtcHR5fHx0KSYmKHRoaXMuX2NhbGxQb3N0Rml4ZXJzKG8pLHRoaXMuZGlmZmVyLmhhc0RhdGFDaGFuZ2VzKCk/dGhpcy5maXJlKCdjaGFuZ2U6ZGF0YScsby5iYXRjaCk6dGhpcy5maXJlKCdjaGFuZ2UnLG8uYmF0Y2gpLHRoaXMuZGlmZmVyLnJlc2V0KCksdD0hMSl9KSx0aGlzLmxpc3RlblRvKGUubWFya2VycywndXBkYXRlJywoZSx0LG8sbik9Pnt0aGlzLmRpZmZlci5idWZmZXJNYXJrZXJDaGFuZ2UodC5uYW1lLG8sbix0LmFmZmVjdHNEYXRhKSxudWxsPT09byYmdC5vbignY2hhbmdlJywoZSxvKT0+e3RoaXMuZGlmZmVyLmJ1ZmZlck1hcmtlckNoYW5nZSh0Lm5hbWUsbyx0LmdldFJhbmdlKCksdC5hZmZlY3RzRGF0YSl9KX0pfWdldCBncmF2ZXlhcmQoKXtyZXR1cm4gdGhpcy5nZXRSb290KHVmKX1jcmVhdGVSb290KGU9JyRyb290Jyx0PSdtYWluJyl7aWYodGhpcy5yb290cy5nZXQodCkpdGhyb3cgbmV3IF9zKCdtb2RlbC1kb2N1bWVudC1jcmVhdGVSb290LW5hbWUtZXhpc3RzOiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgYWxyZWFkeSBleGlzdHMuJyx7bmFtZTp0fSk7Y29uc3Qgbz1uZXcgbGYodGhpcyxlLHQpO3JldHVybiB0aGlzLnJvb3RzLmFkZChvKSxvfWRlc3Ryb3koKXt0aGlzLnNlbGVjdGlvbi5kZXN0cm95KCksdGhpcy5zdG9wTGlzdGVuaW5nKCl9Z2V0Um9vdChlPSdtYWluJyl7cmV0dXJuIHRoaXMucm9vdHMuZ2V0KGUpfWdldFJvb3ROYW1lcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucm9vdHMsKGUpPT5lLnJvb3ROYW1lKS5maWx0ZXIoKGUpPT5lIT11Zil9cmVnaXN0ZXJQb3N0Rml4ZXIoZSl7dGhpcy5fcG9zdEZpeGVycy5hZGQoZSl9dG9KU09OKCl7Y29uc3QgZT0kZCh0aGlzKTtyZXR1cm4gZS5zZWxlY3Rpb249J1tlbmdpbmUubW9kZWwuRG9jdW1lbnRTZWxlY3Rpb25dJyxlLm1vZGVsPSdbZW5naW5lLm1vZGVsLk1vZGVsXScsZX1fZ2V0RGVmYXVsdFJvb3QoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnJvb3RzKWlmKGUhPT10aGlzLmdyYXZleWFyZClyZXR1cm4gZTtyZXR1cm4gdGhpcy5ncmF2ZXlhcmR9X2dldERlZmF1bHRSYW5nZSgpe2NvbnN0IGU9dGhpcy5fZ2V0RGVmYXVsdFJvb3QoKSx0PXRoaXMubW9kZWwuc2NoZW1hLG89bmV3IHV1KGUsWzBdKSxuPXQuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKG8pO3JldHVybiBufHxuZXcgcHUobyl9X3ZhbGlkYXRlU2VsZWN0aW9uUmFuZ2UoZSl7cmV0dXJuIGhuKGUuc3RhcnQpJiZobihlLmVuZCl9X2NhbGxQb3N0Rml4ZXJzKGUpe2xldCB0PSExO2RvIGZvcihjb25zdCBvIG9mIHRoaXMuX3Bvc3RGaXhlcnMpaWYodD1vKGUpLHQpYnJlYWs7d2hpbGUodCl9fWYocGYsUHMpO2NsYXNzIGdme2NvbnN0cnVjdG9yKCl7dGhpcy5fbWFya2Vycz1uZXcgTWFwfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX21hcmtlcnMudmFsdWVzKCl9aGFzKGUpe3JldHVybiB0aGlzLl9tYXJrZXJzLmhhcyhlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX21hcmtlcnMuZ2V0KGUpfHxudWxsfV9zZXQoZSx0LG89ITEsbj0hMSl7Y29uc3QgaT1lIGluc3RhbmNlb2YgZmY/ZS5uYW1lOmUscj10aGlzLl9tYXJrZXJzLmdldChpKTtpZihyKXtjb25zdCBlPXIuZ2V0UmFuZ2UoKTtsZXQgYT0hMTtyZXR1cm4gZS5pc0VxdWFsKHQpfHwoci5fYXR0YWNoTGl2ZVJhbmdlKGt1LmNyZWF0ZUZyb21SYW5nZSh0KSksYT0hMCksbyE9ci5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zJiYoci5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1vLGE9ITApLCdib29sZWFuJz09dHlwZW9mIG4mJm4hPXIuYWZmZWN0c0RhdGEmJihyLl9hZmZlY3RzRGF0YT1uLGE9ITApLGEmJnRoaXMuZmlyZSgndXBkYXRlOicraSxyLGUsdCkscn1jb25zdCBhPWt1LmNyZWF0ZUZyb21SYW5nZSh0KSxzPW5ldyBmZihpLGEsbyxuKTtyZXR1cm4gdGhpcy5fbWFya2Vycy5zZXQoaSxzKSx0aGlzLmZpcmUoJ3VwZGF0ZTonK2kscyxudWxsLHQpLHN9X3JlbW92ZShlKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBmZj9lLm5hbWU6ZSxvPXRoaXMuX21hcmtlcnMuZ2V0KHQpO3JldHVybiEhbyYmKHRoaXMuX21hcmtlcnMuZGVsZXRlKHQpLHRoaXMuZmlyZSgndXBkYXRlOicrdCxvLG8uZ2V0UmFuZ2UoKSxudWxsKSx0aGlzLl9kZXN0cm95TWFya2VyKG8pLCEwKX0qZ2V0TWFya2Vyc0F0UG9zaXRpb24oZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcyl0LmdldFJhbmdlKCkuY29udGFpbnNQb3NpdGlvbihlKSYmKHlpZWxkIHQpfSpnZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcyludWxsIT09dC5nZXRSYW5nZSgpLmdldEludGVyc2VjdGlvbihlKSYmKHlpZWxkIHQpfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpKXRoaXMuX2Rlc3Ryb3lNYXJrZXIoZSk7dGhpcy5fbWFya2Vycz1udWxsLHRoaXMuc3RvcExpc3RlbmluZygpfSpnZXRNYXJrZXJzR3JvdXAoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2Vycy52YWx1ZXMoKSl0Lm5hbWUuc3RhcnRzV2l0aChlKyc6JykmJih5aWVsZCB0KX1fZGVzdHJveU1hcmtlcihlKXtlLnN0b3BMaXN0ZW5pbmcoKSxlLl9kZXRhY2hMaXZlUmFuZ2UoKX19ZihnZixQcyk7Y2xhc3MgZmZ7Y29uc3RydWN0b3IoZSx0LG8sbil7dGhpcy5uYW1lPWUsdGhpcy5fbGl2ZVJhbmdlPXRoaXMuX2F0dGFjaExpdmVSYW5nZSh0KSx0aGlzLl9tYW5hZ2VkVXNpbmdPcGVyYXRpb25zPW8sdGhpcy5fYWZmZWN0c0RhdGE9bn1nZXQgbWFuYWdlZFVzaW5nT3BlcmF0aW9ucygpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IF9zKCdtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS4nKTtyZXR1cm4gdGhpcy5fbWFuYWdlZFVzaW5nT3BlcmF0aW9uc31nZXQgYWZmZWN0c0RhdGEoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBfcygnbWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuJyk7cmV0dXJuIHRoaXMuX2FmZmVjdHNEYXRhfWdldFN0YXJ0KCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgX3MoJ21hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLicpO3JldHVybiB1dS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5fbGl2ZVJhbmdlLnN0YXJ0KX1nZXRFbmQoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBfcygnbWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuJyk7cmV0dXJuIHV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLl9saXZlUmFuZ2UuZW5kKX1nZXRSYW5nZSgpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IF9zKCdtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS4nKTtyZXR1cm4gcHUuY3JlYXRlRnJvbVJhbmdlKHRoaXMuX2xpdmVSYW5nZSl9X2F0dGFjaExpdmVSYW5nZShlKXtyZXR1cm4gdGhpcy5fbGl2ZVJhbmdlJiZ0aGlzLl9kZXRhY2hMaXZlUmFuZ2UoKSxlLmRlbGVnYXRlKCdjaGFuZ2U6cmFuZ2UnKS50byh0aGlzKSxlLmRlbGVnYXRlKCdjaGFuZ2U6Y29udGVudCcpLnRvKHRoaXMpLHRoaXMuX2xpdmVSYW5nZT1lLGV9X2RldGFjaExpdmVSYW5nZSgpe3RoaXMuX2xpdmVSYW5nZS5zdG9wRGVsZWdhdGluZygnY2hhbmdlOnJhbmdlJyx0aGlzKSx0aGlzLl9saXZlUmFuZ2Uuc3RvcERlbGVnYXRpbmcoJ2NoYW5nZTpjb250ZW50Jyx0aGlzKSx0aGlzLl9saXZlUmFuZ2UuZGV0YWNoKCksdGhpcy5fbGl2ZVJhbmdlPW51bGx9fWYoZmYsUHMpO2NsYXNzIGhmIGV4dGVuZHMgdXV7Y29uc3RydWN0b3IoZSx0LG8pe2lmKHN1cGVyKGUsdCksIXRoaXMucm9vdC5pcygncm9vdEVsZW1lbnQnKSl0aHJvdyBuZXcgX3MoJ21vZGVsLWxpdmVwb3NpdGlvbi1yb290LW5vdC1yb290ZWxlbWVudDogTGl2ZVBvc2l0aW9uXFwncyByb290IGhhcyB0byBiZSBhbiBpbnN0YW5jZSBvZiBSb290RWxlbWVudC4nKTt0aGlzLnN0aWNraW5lc3M9b3x8J3N0aWNrc1RvTmV4dCcsYm4uY2FsbCh0aGlzKX1kZXRhY2goKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19ZihoZixQcyk7Y2xhc3MgYmZ7Y29uc3RydWN0b3IoZSx0LG8pe3RoaXMubW9kZWw9ZSx0aGlzLndyaXRlcj10LHRoaXMucG9zaXRpb249byx0aGlzLmNhbk1lcmdlV2l0aD1uZXcgU2V0KFt0aGlzLnBvc2l0aW9uLnBhcmVudF0pLHRoaXMuc2NoZW1hPWUuc2NoZW1hLHRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZj1bXX1oYW5kbGVOb2RlcyhlLHQpe2U9QXJyYXkuZnJvbShlKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgbj1lW29dO3RoaXMuX2hhbmRsZU5vZGUobix7aXNGaXJzdDowPT09byYmdC5pc0ZpcnN0LGlzTGFzdDpvPT09ZS5sZW5ndGgtMSYmdC5pc0xhc3R9KX10aGlzLnNjaGVtYS5yZW1vdmVEaXNhbGxvd2VkQXR0cmlidXRlcyh0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YsdGhpcy53cml0ZXIpLHRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZj1bXX1nZXRTZWxlY3Rpb25SYW5nZSgpe3JldHVybiB0aGlzLm5vZGVUb1NlbGVjdD9wdS5jcmVhdGVPbih0aGlzLm5vZGVUb1NlbGVjdCk6dGhpcy5tb2RlbC5zY2hlbWEuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHRoaXMucG9zaXRpb24pfV9oYW5kbGVOb2RlKGUsdCl7aWYodGhpcy5zY2hlbWEuaXNPYmplY3QoZSkpcmV0dXJuIHZvaWQgdGhpcy5faGFuZGxlT2JqZWN0KGUsdCk7Y29uc3Qgbz10aGlzLl9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24oZSx0KTtyZXR1cm4gbz92b2lkKHRoaXMuX2luc2VydChlKSx0aGlzLl9tZXJnZVNpYmxpbmdzT2YoZSx0KSk6dm9pZCB0aGlzLl9oYW5kbGVEaXNhbGxvd2VkTm9kZShlLHQpfV9oYW5kbGVPYmplY3QoZSx0KXt0aGlzLl9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24oZSk/dGhpcy5faW5zZXJ0KGUpOnRoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcoZSx0KX1faGFuZGxlRGlzYWxsb3dlZE5vZGUoZSx0KXtlLmlzKCdlbGVtZW50Jyk/dGhpcy5oYW5kbGVOb2RlcyhlLmdldENoaWxkcmVuKCksdCk6dGhpcy5fdHJ5QXV0b3BhcmFncmFwaGluZyhlLHQpfV9pbnNlcnQoZSl7aWYoIXRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQodGhpcy5wb3NpdGlvbixlKSlyZXR1cm4gdm9pZCBYbS5lcnJvcignaW5zZXJ0Y29udGVudC13cm9uZy1wb3NpdGlvbjogVGhlIG5vZGUgY2Fubm90IGJlIGluc2VydGVkIG9uIHRoZSBnaXZlbiBwb3NpdGlvbi4nLHtub2RlOmUscG9zaXRpb246dGhpcy5wb3NpdGlvbn0pO2NvbnN0IHQ9aGYuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO3RoaXMud3JpdGVyLmluc2VydChlLHRoaXMucG9zaXRpb24pLHRoaXMucG9zaXRpb249dXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHQuZGV0YWNoKCksdGhpcy5ub2RlVG9TZWxlY3Q9dGhpcy5zY2hlbWEuaXNPYmplY3QoZSkmJiF0aGlzLnNjaGVtYS5jaGVja0NoaWxkKHRoaXMucG9zaXRpb24sJyR0ZXh0Jyk/ZTpudWxsLHRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKGUpfV9tZXJnZVNpYmxpbmdzT2YoZSx0KXtpZihlIGluc3RhbmNlb2YgZHUpe2NvbnN0IG89dGhpcy5fY2FuTWVyZ2VMZWZ0KGUsdCksbj10aGlzLl9jYW5NZXJnZVJpZ2h0KGUsdCksaT1oZi5jcmVhdGVCZWZvcmUoZSkscj1oZi5jcmVhdGVBZnRlcihlKTtpZihvKXtjb25zdCBlPWhmLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKTt0aGlzLndyaXRlci5tZXJnZShpKSx0aGlzLnBvc2l0aW9uPXV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKSxlLmRldGFjaCgpfWlmKG4pe3RoaXMucG9zaXRpb24uaXNFcXVhbChyKXx8WG0uZXJyb3IoJ2luc2VydGNvbnRlbnQtd3JvbmctcG9zaXRpb24tb24tbWVyZ2U6IFRoZSBpbnNlcnRpb24gcG9zaXRpb24gc2hvdWxkIGVxdWFsIHRoZSBtZXJnZSBwb3NpdGlvbicpLHRoaXMucG9zaXRpb249dXUuY3JlYXRlQXQoci5ub2RlQmVmb3JlLCdlbmQnKTtjb25zdCBlPW5ldyBoZih0aGlzLnBvc2l0aW9uLnJvb3QsdGhpcy5wb3NpdGlvbi5wYXRoLCdzdGlja3NUb1ByZXZpb3VzJyk7dGhpcy53cml0ZXIubWVyZ2UociksdGhpcy5wb3NpdGlvbj11dS5jcmVhdGVGcm9tUG9zaXRpb24oZSksZS5kZXRhY2goKX0ob3x8bikmJnRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKHRoaXMucG9zaXRpb24ucGFyZW50KSxpLmRldGFjaCgpLHIuZGV0YWNoKCl9fV9jYW5NZXJnZUxlZnQoZSx0KXtjb25zdCBvPWUucHJldmlvdXNTaWJsaW5nO3JldHVybiB0LmlzRmlyc3QmJm8gaW5zdGFuY2VvZiBkdSYmdGhpcy5jYW5NZXJnZVdpdGguaGFzKG8pJiZ0aGlzLm1vZGVsLnNjaGVtYS5jaGVja01lcmdlKG8sZSl9X2Nhbk1lcmdlUmlnaHQoZSx0KXtjb25zdCBvPWUubmV4dFNpYmxpbmc7cmV0dXJuIHQuaXNMYXN0JiZvIGluc3RhbmNlb2YgZHUmJnRoaXMuY2FuTWVyZ2VXaXRoLmhhcyhvKSYmdGhpcy5tb2RlbC5zY2hlbWEuY2hlY2tNZXJnZShlLG8pfV90cnlBdXRvcGFyYWdyYXBoaW5nKGUsdCl7Y29uc3Qgbz10aGlzLndyaXRlci5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKTt0aGlzLl9nZXRBbGxvd2VkSW4obyx0aGlzLnBvc2l0aW9uLnBhcmVudCkmJnRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQobyxlKSYmKG8uX2FwcGVuZENoaWxkKGUpLHRoaXMuX2hhbmRsZU5vZGUobyx0KSl9X2NoZWNrQW5kU3BsaXRUb0FsbG93ZWRQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuX2dldEFsbG93ZWRJbihlLHRoaXMucG9zaXRpb24ucGFyZW50KTtpZighdClyZXR1cm4hMTtmb3IoO3QhPXRoaXMucG9zaXRpb24ucGFyZW50Oyl7aWYodGhpcy5zY2hlbWEuaXNMaW1pdCh0aGlzLnBvc2l0aW9uLnBhcmVudCkpcmV0dXJuITE7aWYodGhpcy5wb3NpdGlvbi5pc0F0U3RhcnQpe2NvbnN0IGU9dGhpcy5wb3NpdGlvbi5wYXJlbnQ7dGhpcy5wb3NpdGlvbj11dS5jcmVhdGVCZWZvcmUoZSksZS5pc0VtcHR5JiZ0aGlzLndyaXRlci5yZW1vdmUoZSl9ZWxzZSBpZih0aGlzLnBvc2l0aW9uLmlzQXRFbmQpdGhpcy5wb3NpdGlvbj11dS5jcmVhdGVBZnRlcih0aGlzLnBvc2l0aW9uLnBhcmVudCk7ZWxzZXtjb25zdCBlPXV1LmNyZWF0ZUFmdGVyKHRoaXMucG9zaXRpb24ucGFyZW50KTt0aGlzLndyaXRlci5zcGxpdCh0aGlzLnBvc2l0aW9uKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5jYW5NZXJnZVdpdGguYWRkKHRoaXMucG9zaXRpb24ubm9kZUFmdGVyKX19cmV0dXJuITB9X2dldEFsbG93ZWRJbihlLHQpe3JldHVybiB0aGlzLnNjaGVtYS5jaGVja0NoaWxkKHQsZSk/dDp0LnBhcmVudD90aGlzLl9nZXRBbGxvd2VkSW4oZSx0LnBhcmVudCk6bnVsbH19Y29uc3Qga2Y9JyAsLj8hOjtcIi0oKSc7Y2xhc3MgX2Z7Y29uc3RydWN0b3IoKXt0aGlzLm1hcmtlcnM9bmV3IGdmLHRoaXMuZG9jdW1lbnQ9bmV3IHBmKHRoaXMpLHRoaXMuc2NoZW1hPW5ldyBTdSx0aGlzLl9wZW5kaW5nQ2hhbmdlcz1bXSx0aGlzLl9jdXJyZW50V3JpdGVyPW51bGwsWydpbnNlcnRDb250ZW50JywnZGVsZXRlQ29udGVudCcsJ21vZGlmeVNlbGVjdGlvbicsJ2dldFNlbGVjdGVkQ29udGVudCcsJ2FwcGx5T3BlcmF0aW9uJ10uZm9yRWFjaCgoZSk9PnRoaXMuZGVjb3JhdGUoZSkpLHRoaXMub24oJ2FwcGx5T3BlcmF0aW9uJywoZSx0KT0+e2NvbnN0IG89dFswXTtvLl92YWxpZGF0ZSgpfSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoJyRyb290Jyx7aXNMaW1pdDohMH0pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKCckYmxvY2snLHthbGxvd0luOickcm9vdCcsaXNCbG9jazohMH0pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKCckdGV4dCcse2FsbG93SW46JyRibG9jayd9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcignJGNsaXBib2FyZEhvbGRlcicse2FsbG93Q29udGVudE9mOickcm9vdCcsaXNMaW1pdDohMH0pLHRoaXMuc2NoZW1hLmV4dGVuZCgnJHRleHQnLHthbGxvd0luOickY2xpcGJvYXJkSG9sZGVyJ30pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKCckbWFya2VyJyx7YWxsb3dJbjpbJyRyb290JywnJGJsb2NrJ119KSxEbih0aGlzKX1jaGFuZ2UoZSl7cmV0dXJuIDA9PT10aGlzLl9wZW5kaW5nQ2hhbmdlcy5sZW5ndGg/KHRoaXMuX3BlbmRpbmdDaGFuZ2VzLnB1c2goe2JhdGNoOm5ldyByZixjYWxsYmFjazplfSksdGhpcy5fcnVuUGVuZGluZ0NoYW5nZXMoKVswXSk6ZSh0aGlzLl9jdXJyZW50V3JpdGVyKX1lbnF1ZXVlQ2hhbmdlKGUsdCl7J3N0cmluZyc9PXR5cGVvZiBlP2U9bmV3IHJmKGUpOidmdW5jdGlvbic9PXR5cGVvZiBlJiYodD1lLGU9bmV3IHJmKSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5wdXNoKHtiYXRjaDplLGNhbGxiYWNrOnR9KSwxPT10aGlzLl9wZW5kaW5nQ2hhbmdlcy5sZW5ndGgmJnRoaXMuX3J1blBlbmRpbmdDaGFuZ2VzKCl9YXBwbHlPcGVyYXRpb24oZSl7ZS5fZXhlY3V0ZSgpfXRyYW5zZm9ybURlbHRhcyhlLHQsbz0hMSl7cmV0dXJuIGVmLnRyYW5zZm9ybURlbHRhU2V0cyhlLHQsbz90aGlzLmRvY3VtZW50Om51bGwpfWluc2VydENvbnRlbnQoZSx0KXtfbih0aGlzLGUsdCl9ZGVsZXRlQ29udGVudChlLHQpe3duKHRoaXMsZSx0KX1tb2RpZnlTZWxlY3Rpb24oZSx0KXtQbih0aGlzLGUsdCl9Z2V0U2VsZWN0ZWRDb250ZW50KGUpe3JldHVybiBGbih0aGlzLGUpfWhhc0NvbnRlbnQoZSl7aWYoZSBpbnN0YW5jZW9mIGR1JiYoZT1wdS5jcmVhdGVJbihlKSksZS5pc0NvbGxhcHNlZClyZXR1cm4hMTtmb3IoY29uc3QgdCBvZiBlLmdldEl0ZW1zKCkpaWYodC5pcygndGV4dFByb3h5Jyl8fHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpKXJldHVybiEwO3JldHVybiExfWRlc3Ryb3koKXt0aGlzLmRvY3VtZW50LmRlc3Ryb3koKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fcnVuUGVuZGluZ0NoYW5nZXMoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoOyl7Y29uc3QgdD10aGlzLl9wZW5kaW5nQ2hhbmdlc1swXS5iYXRjaDt0aGlzLl9jdXJyZW50V3JpdGVyPW5ldyBkZih0aGlzLHQpO2NvbnN0IG89dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uY2FsbGJhY2sodGhpcy5fY3VycmVudFdyaXRlcik7ZS5wdXNoKG8pLHRoaXMuZmlyZSgnX2NoYW5nZScsdGhpcy5fY3VycmVudFdyaXRlciksdGhpcy5fcGVuZGluZ0NoYW5nZXMuc2hpZnQoKSx0aGlzLl9jdXJyZW50V3JpdGVyPW51bGx9cmV0dXJuIGV9fWYoX2YsTWMpO2NsYXNzIHdme2NvbnN0cnVjdG9yKCl7dGhpcy5fbGlzdGVuZXI9T2JqZWN0LmNyZWF0ZShrbSl9bGlzdGVuVG8oZSl7dGhpcy5fbGlzdGVuZXIubGlzdGVuVG8oZSwna2V5ZG93bicsKGUsdCk9Pnt0aGlzLl9saXN0ZW5lci5maXJlKCdfa2V5ZG93bjonK3RlKHQpLHQpfSl9c2V0KGUsdCxvPXt9KXtjb25zdCBuPW9lKGUpLGk9by5wcmlvcml0eTt0aGlzLl9saXN0ZW5lci5saXN0ZW5Ubyh0aGlzLl9saXN0ZW5lciwnX2tleWRvd246JytuLChlLG8pPT57dChvLCgpPT57by5wcmV2ZW50RGVmYXVsdCgpLG8uc3RvcFByb3BhZ2F0aW9uKCksZS5zdG9wKCl9KSxlLnJldHVybj0hMH0se3ByaW9yaXR5Oml9KX1wcmVzcyhlKXtyZXR1cm4hIXRoaXMuX2xpc3RlbmVyLmZpcmUoJ19rZXlkb3duOicrdGUoZSksZSl9ZGVzdHJveSgpe3RoaXMuX2xpc3RlbmVyLnN0b3BMaXN0ZW5pbmcoKX19Y2xhc3MgdmYgZXh0ZW5kcyB3Zntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuZWRpdG9yPWV9c2V0KGUsdCxvPXt9KXtpZignc3RyaW5nJz09dHlwZW9mIHQpe2NvbnN0IGU9dDt0PSh0LG8pPT57dGhpcy5lZGl0b3IuZXhlY3V0ZShlKSxvKCl9fXN1cGVyLnNldChlLHQsbyl9fWNsYXNzIHlme2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9dGhpcy5jb25zdHJ1Y3Rvci5idWlsZCYmdGhpcy5jb25zdHJ1Y3Rvci5idWlsZC5wbHVnaW5zO3RoaXMuY29uZmlnPW5ldyBicyhlLHRoaXMuY29uc3RydWN0b3IuYnVpbGQmJnRoaXMuY29uc3RydWN0b3IuYnVpbGQuY29uZmlnKSx0aGlzLmNvbmZpZy5kZWZpbmUoJ3BsdWdpbnMnLHQpLHRoaXMucGx1Z2lucz1uZXcgQ3UodGhpcyx0KSx0aGlzLmNvbW1hbmRzPW5ldyBBdSx0aGlzLmxvY2FsZT1uZXcgVHUodGhpcy5jb25maWcuZ2V0KCdsYW5ndWFnZScpKSx0aGlzLnQ9dGhpcy5sb2NhbGUudCx0aGlzLnNldCgnaXNSZWFkT25seScsITEpLHRoaXMubW9kZWw9bmV3IF9mLHRoaXMuZGF0YT1uZXcgUnUodGhpcy5tb2RlbCksdGhpcy5lZGl0aW5nPW5ldyB4dSh0aGlzLm1vZGVsKSx0aGlzLmVkaXRpbmcudmlldy5kb2N1bWVudC5iaW5kKCdpc1JlYWRPbmx5JykudG8odGhpcyksdGhpcy5jb252ZXJzaW9uPW5ldyBWdSx0aGlzLmNvbnZlcnNpb24ucmVnaXN0ZXIoJ2Rvd25jYXN0JyxbdGhpcy5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlcix0aGlzLmRhdGEuZG93bmNhc3REaXNwYXRjaGVyXSksdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKCdlZGl0aW5nRG93bmNhc3QnLFt0aGlzLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyXSksdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKCdkYXRhRG93bmNhc3QnLFt0aGlzLmRhdGEuZG93bmNhc3REaXNwYXRjaGVyXSksdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKCd1cGNhc3QnLFt0aGlzLmRhdGEudXBjYXN0RGlzcGF0Y2hlcl0pLHRoaXMua2V5c3Ryb2tlcz1uZXcgdmYodGhpcyksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWRpdGluZy52aWV3LmRvY3VtZW50KX1pbml0UGx1Z2lucygpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGUsbyk9Pm9bdF0/ZS50aGVuKG9bdF0uYmluZChvKSk6ZSxQcm9taXNlLnJlc29sdmUoKSl9Y29uc3QgdD10aGlzLG89dGhpcy5jb25maWc7cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgZT1vLmdldCgncGx1Z2lucycpfHxbXSxuPW8uZ2V0KCdyZW1vdmVQbHVnaW5zJyl8fFtdO3JldHVybiB0LnBsdWdpbnMubG9hZChlLG4pfSgpLnRoZW4oKHQpPT5lKHQsJ2luaXQnKS50aGVuKCgpPT5lKHQsJ2FmdGVySW5pdCcpKSkudGhlbigoKT0+dGhpcy5maXJlKCdwbHVnaW5zUmVhZHknKSl9ZGVzdHJveSgpe3JldHVybiB0aGlzLmZpcmUoJ2Rlc3Ryb3knKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKSx0aGlzLmNvbW1hbmRzLmRlc3Ryb3koKSx0aGlzLnBsdWdpbnMuZGVzdHJveSgpLnRoZW4oKCk9Pnt0aGlzLm1vZGVsLmRlc3Ryb3koKSx0aGlzLmRhdGEuZGVzdHJveSgpLHRoaXMuZWRpdGluZy5kZXN0cm95KCksdGhpcy5rZXlzdHJva2VzLmRlc3Ryb3koKX0pfWV4ZWN1dGUoLi4uZSl7dGhpcy5jb21tYW5kcy5leGVjdXRlKC4uLmUpfXN0YXRpYyBjcmVhdGUoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0KT0+e2NvbnN0IG89bmV3IHRoaXMoZSk7dChvLmluaXRQbHVnaW5zKCkudGhlbigoKT0+e28uZmlyZSgnZGF0YVJlYWR5Jyksby5maXJlKCdyZWFkeScpfSkudGhlbigoKT0+bykpfSl9fWYoeWYsTWMpO2NvbnN0IHhmPXtzZXREYXRhKGUpe3RoaXMuZGF0YS5zZXQoZSl9LGdldERhdGEoKXtyZXR1cm4gdGhpcy5kYXRhLmdldCgpfX07Y29uc3QgQ2Y9e3VwZGF0ZUVsZW1lbnQoKXtXbih0aGlzLmVsZW1lbnQsdGhpcy5kYXRhLmdldCgpKX19O2NsYXNzIEFme2dldEh0bWwoZSl7Y29uc3QgdD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpLG89dC5jcmVhdGVFbGVtZW50KCdkaXYnKTtyZXR1cm4gby5hcHBlbmRDaGlsZChlKSxvLmlubmVySFRNTH19Y2xhc3MgVGZ7Y29uc3RydWN0b3IoKXt0aGlzLl9kb21QYXJzZXI9bmV3IERPTVBhcnNlcix0aGlzLl9kb21Db252ZXJ0ZXI9bmV3IGhtKHtibG9ja0ZpbGxlcjpkbX0pLHRoaXMuX2h0bWxXcml0ZXI9bmV3IEFmfXRvRGF0YShlKXtjb25zdCB0PXRoaXMuX2RvbUNvbnZlcnRlci52aWV3VG9Eb20oZSxkb2N1bWVudCk7cmV0dXJuIHRoaXMuX2h0bWxXcml0ZXIuZ2V0SHRtbCh0KX10b1ZpZXcoZSl7Y29uc3QgdD10aGlzLl90b0RvbShlKTtyZXR1cm4gdGhpcy5fZG9tQ29udmVydGVyLmRvbVRvVmlldyh0KX1fdG9Eb20oZSl7Y29uc3QgdD10aGlzLl9kb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKGUsJ3RleHQvaHRtbCcpLG89dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj10LmJvZHkuY2hpbGROb2Rlcztmb3IoOzA8bi5sZW5ndGg7KW8uYXBwZW5kQ2hpbGQoblswXSk7cmV0dXJuIG99fWNsYXNzIFBme2NvbnN0cnVjdG9yKGUpe3RoaXMuZWRpdG9yPWUsdGhpcy5fY29tcG9uZW50cz1uZXcgTWFwfSpuYW1lcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbXBvbmVudHMudmFsdWVzKCkpeWllbGQgZS5vcmlnaW5hbE5hbWV9YWRkKGUsdCl7aWYodGhpcy5oYXMoZSkpdGhyb3cgbmV3IF9zKCdjb21wb25lbnRmYWN0b3J5LWl0ZW0tZXhpc3RzOiBUaGUgaXRlbSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgY29tcG9uZW50IGZhY3RvcnkuJyx7bmFtZTplfSk7dGhpcy5fY29tcG9uZW50cy5zZXQoSG4oZSkse2NhbGxiYWNrOnQsb3JpZ2luYWxOYW1lOmV9KX1jcmVhdGUoZSl7aWYoIXRoaXMuaGFzKGUpKXRocm93IG5ldyBfcygnY29tcG9uZW50ZmFjdG9yeS1pdGVtLW1pc3Npbmc6IFRoZSByZXF1aXJlZCBjb21wb25lbnQgaXMgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGZhY3RvcnkuJyx7bmFtZTplfSk7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KEhuKGUpKS5jYWxsYmFjayh0aGlzLmVkaXRvci5sb2NhbGUpfWhhcyhlKXtyZXR1cm4gdGhpcy5fY29tcG9uZW50cy5oYXMoSG4oZSkpfX1jbGFzcyBFZntjb25zdHJ1Y3Rvcigpe3RoaXMuc2V0KCdpc0ZvY3VzZWQnLCExKSx0aGlzLmZvY3VzZWRFbGVtZW50PW51bGwsdGhpcy5fZWxlbWVudHM9bmV3IFNldCx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1udWxsfWFkZChlKXtpZih0aGlzLl9lbGVtZW50cy5oYXMoZSkpdGhyb3cgbmV3IF9zKCdmb2N1c1RyYWNrZXItYWRkLWVsZW1lbnQtYWxyZWFkeS1leGlzdCcpO3RoaXMubGlzdGVuVG8oZSwnZm9jdXMnLCgpPT50aGlzLl9mb2N1cyhlKSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMubGlzdGVuVG8oZSwnYmx1cicsKCk9PnRoaXMuX2JsdXIoKSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMuX2VsZW1lbnRzLmFkZChlKX1yZW1vdmUoZSl7ZT09PXRoaXMuZm9jdXNlZEVsZW1lbnQmJnRoaXMuX2JsdXIoZSksdGhpcy5fZWxlbWVudHMuaGFzKGUpJiYodGhpcy5zdG9wTGlzdGVuaW5nKGUpLHRoaXMuX2VsZW1lbnRzLmRlbGV0ZShlKSl9X2ZvY3VzKGUpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCksdGhpcy5mb2N1c2VkRWxlbWVudD1lLHRoaXMuaXNGb2N1c2VkPSEwfV9ibHVyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX25leHRFdmVudExvb3BUaW1lb3V0KSx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dGhpcy5mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuaXNGb2N1c2VkPSExfSwwKX19ZihFZixrbSksZihFZixNYyk7Y2xhc3MgU2Z7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmVkaXRvcj1lLHRoaXMudmlldz10LHRoaXMuY29tcG9uZW50RmFjdG9yeT1uZXcgUGYoZSksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IEVmLHRoaXMuX3Rvb2xiYXJDb25maWc9R24oZS5jb25maWcuZ2V0KCd0b29sYmFyJykpfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9dGhpcy52aWV3O3QucmVuZGVyKCksdC5zdGlja3lQYW5lbC5iaW5kKCdpc0FjdGl2ZScpLnRvKHRoaXMuZm9jdXNUcmFja2VyLCdpc0ZvY3VzZWQnKSx0LnN0aWNreVBhbmVsLmxpbWl0ZXJFbGVtZW50PXQuZWxlbWVudCx0aGlzLl90b29sYmFyQ29uZmlnLnZpZXdwb3J0VG9wT2Zmc2V0JiYodC5zdGlja3lQYW5lbC52aWV3cG9ydFRvcE9mZnNldD10aGlzLl90b29sYmFyQ29uZmlnLnZpZXdwb3J0VG9wT2Zmc2V0KTtjb25zdCBvPWUuZWRpdGluZy52aWV3LmRvY3VtZW50LmdldFJvb3QoKTt0LmVkaXRhYmxlLmJpbmQoJ2lzUmVhZE9ubHknKS50byhvKSx0LmVkaXRhYmxlLmJpbmQoJ2lzRm9jdXNlZCcpLnRvKGUuZWRpdGluZy52aWV3LmRvY3VtZW50KSx0LmVkaXRhYmxlLm5hbWU9by5yb290TmFtZSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodGhpcy52aWV3LmVkaXRhYmxlRWxlbWVudCksdGhpcy52aWV3LnRvb2xiYXIuZmlsbEZyb21Db25maWcodGhpcy5fdG9vbGJhckNvbmZpZy5pdGVtcyx0aGlzLmNvbXBvbmVudEZhY3RvcnkpLEtuKHtvcmlnaW46ZS5lZGl0aW5nLnZpZXcsb3JpZ2luRm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLG9yaWdpbktleXN0cm9rZUhhbmRsZXI6ZS5rZXlzdHJva2VzLHRvb2xiYXI6dGhpcy52aWV3LnRvb2xiYXJ9KX1kZXN0cm95KCl7dGhpcy52aWV3LmRlc3Ryb3koKX19Y2xhc3MgT2YgZXh0ZW5kcyBHY3tjb25zdHJ1Y3RvcihlKXtzdXBlcih7aWRQcm9wZXJ0eTondmlld1VpZCd9KSx0aGlzLm9uKCdhZGQnLChlLHQsbyk9Pnt0LmlzUmVuZGVyZWR8fHQucmVuZGVyKCksdC5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0LmVsZW1lbnQsdGhpcy5fcGFyZW50RWxlbWVudC5jaGlsZHJlbltvXSl9KSx0aGlzLm9uKCdyZW1vdmUnLChlLHQpPT57dC5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50JiZ0LmVsZW1lbnQucmVtb3ZlKCl9KSx0aGlzLmxvY2FsZT1lLHRoaXMuX3BhcmVudEVsZW1lbnQ9bnVsbH1kZXN0cm95KCl7dGhpcy5tYXAoKGUpPT5lLmRlc3Ryb3koKSl9c2V0UGFyZW50KGUpe3RoaXMuX3BhcmVudEVsZW1lbnQ9ZX1kZWxlZ2F0ZSguLi5lKXtpZighZS5sZW5ndGh8fCEkbihlKSl0aHJvdyBuZXcgX3MoJ3VpLXZpZXdjb2xsZWN0aW9uLWRlbGVnYXRlLXdyb25nLWV2ZW50czogQWxsIGV2ZW50IG5hbWVzIG11c3QgYmUgc3RyaW5ncy4nKTtyZXR1cm57dG86KHQpPT57Zm9yKGNvbnN0IG8gb2YgdGhpcylmb3IoY29uc3QgbiBvZiBlKW8uZGVsZWdhdGUobikudG8odCk7dGhpcy5vbignYWRkJywobyxuKT0+e2Zvcihjb25zdCBpIG9mIGUpbi5kZWxlZ2F0ZShpKS50byh0KX0pLHRoaXMub24oJ3JlbW92ZScsKG8sbik9Pntmb3IoY29uc3QgaSBvZiBlKW4uc3RvcERlbGVnYXRpbmcoaSx0KX0pfX19fWYoR2MsTWMpO3ZhciBJZj1mdW5jdGlvbihlLHQpe3JldHVybiBHZChlLCEwLCEwLHQpfTtjbGFzcyBSZntjb25zdHJ1Y3RvcihlKXtPYmplY3QuYXNzaWduKHRoaXMsb2kodGkoZSkpKSx0aGlzLl9pc1JlbmRlcmVkPSExLHRoaXMuX3JldmVydERhdGE9bnVsbH1yZW5kZXIoKXtjb25zdCBlPXRoaXMuX3JlbmRlck5vZGUoe2ludG9GcmFnbWVudDohMH0pO3JldHVybiB0aGlzLl9pc1JlbmRlcmVkPSEwLGV9YXBwbHkoZSl7cmV0dXJuIHRoaXMuX3JldmVydERhdGE9ZmkoKSx0aGlzLl9yZW5kZXJOb2RlKHtub2RlOmUsaXNBcHBseWluZzohMCxyZXZlcnREYXRhOnRoaXMuX3JldmVydERhdGF9KSxlfXJldmVydChlKXtpZighdGhpcy5fcmV2ZXJ0RGF0YSl0aHJvdyBuZXcgX3MoJ3VpLXRlbXBsYXRlLXJldmVydC1ub3QtYXBwbGllZDogQXR0ZW1wdGluZyB0byByZXZlcnQgYSB0ZW1wbGF0ZSB3aGljaCBoYXMgbm90IGJlZW4gYXBwbGllZCB5ZXQuJyk7dGhpcy5fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZShlLHRoaXMuX3JldmVydERhdGEpfSpnZXRWaWV3cygpe2Z1bmN0aW9uKmUodCl7aWYodC5jaGlsZHJlbilmb3IoY29uc3QgbyBvZiB0LmNoaWxkcmVuKXVpKG8pP3lpZWxkIG86cGkobykmJih5aWVsZCplKG8pKX15aWVsZCplKHRoaXMpfXN0YXRpYyBiaW5kKGUsdCl7cmV0dXJue3RvKG8sbil7cmV0dXJuIG5ldyBGZih7ZXZlbnROYW1lT3JGdW5jdGlvbjpvLGF0dHJpYnV0ZTpvLG9ic2VydmFibGU6ZSxlbWl0dGVyOnQsY2FsbGJhY2s6bn0pfSxpZihvLG4saSl7cmV0dXJuIG5ldyBOZih7b2JzZXJ2YWJsZTplLGVtaXR0ZXI6dCxhdHRyaWJ1dGU6byx2YWx1ZUlmVHJ1ZTpuLGNhbGxiYWNrOml9KX19fXN0YXRpYyBleHRlbmQoZSx0KXtlLl9pc1JlbmRlcmVkJiZYbS53YXJuKCd0ZW1wbGF0ZS1leHRlbmQtcmVuZGVyOiBBdHRlbXB0aW5nIHRvIGV4dGVuZCBhIHRlbXBsYXRlIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gcmVuZGVyZWQuJyksY2koZSxvaSh0aSh0KSkpfV9yZW5kZXJOb2RlKGUpe2xldCB0O2lmKHQ9ZS5ub2RlP3RoaXMudGFnJiZ0aGlzLnRleHQ6dGhpcy50YWc/dGhpcy50ZXh0OiF0aGlzLnRleHQsdCl0aHJvdyBuZXcgX3MoJ3VpLXRlbXBsYXRlLXdyb25nLXN5bnRheDogTm9kZSBkZWZpbml0aW9uIG11c3QgaGF2ZSBlaXRoZXIgXCJ0YWdcIiBvciBcInRleHRcIiB3aGVuIHJlbmRlcmluZyBhIG5ldyBOb2RlLicpO3JldHVybiB0aGlzLnRleHQ/dGhpcy5fcmVuZGVyVGV4dChlKTp0aGlzLl9yZW5kZXJFbGVtZW50KGUpfV9yZW5kZXJFbGVtZW50KGUpe2xldCB0PWUubm9kZTtyZXR1cm4gdHx8KHQ9ZS5ub2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5zfHwnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcsdGhpcy50YWcpKSx0aGlzLl9yZW5kZXJBdHRyaWJ1dGVzKGUpLHRoaXMuX3JlbmRlckVsZW1lbnRDaGlsZHJlbihlKSx0aGlzLl9zZXRVcExpc3RlbmVycyhlKSx0fV9yZW5kZXJUZXh0KGUpe2xldCB0PWUubm9kZTtyZXR1cm4gdD9lLnJldmVydERhdGEudGV4dD10LnRleHRDb250ZW50OnQ9ZS5ub2RlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSxKbih0aGlzLnRleHQpP3RoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTp0aGlzLnRleHQsdXBkYXRlcjpYbih0KSxkYXRhOmV9KTp0LnRleHRDb250ZW50PXRoaXMudGV4dC5qb2luKCcnKSx0fV9yZW5kZXJBdHRyaWJ1dGVzKGUpe2xldCB0LG8sbixpO2lmKHRoaXMuYXR0cmlidXRlcyl7Y29uc3Qgcj1lLm5vZGUsYT1lLnJldmVydERhdGE7Zm9yKHQgaW4gdGhpcy5hdHRyaWJ1dGVzKWlmKG49ci5nZXRBdHRyaWJ1dGUodCksbz10aGlzLmF0dHJpYnV0ZXNbdF0sYSYmKGEuYXR0cmlidXRlc1t0XT1uKSxpPVZzKG9bMF0pJiZvWzBdLm5zP29bMF0ubnM6bnVsbCxKbihvKSl7Y29uc3Qgcz1pP29bMF0udmFsdWU6bzthJiZoaSh0KSYmcy51bnNoaWZ0KG4pLHRoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTpzLHVwZGF0ZXI6Wm4ocix0LGkpLGRhdGE6ZX0pfWVsc2Unc3R5bGUnPT10JiYnc3RyaW5nJyE9dHlwZW9mIG9bMF0/dGhpcy5fcmVuZGVyU3R5bGVBdHRyaWJ1dGUob1swXSxlKTooYSYmbiYmaGkodCkmJm8udW5zaGlmdChuKSxvPW8ubWFwKChlKT0+ZT9lLnZhbHVlfHxlOmUpLnJlZHVjZSgoZSx0KT0+ZS5jb25jYXQodCksW10pLnJlZHVjZShsaSwnJyksbWkobyl8fHIuc2V0QXR0cmlidXRlTlMoaSx0LG8pKX19X3JlbmRlclN0eWxlQXR0cmlidXRlKGUsdCl7Y29uc3Qgbz10Lm5vZGU7Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dO0puKGkpP3RoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTpbaV0sdXBkYXRlcjplaShvLG4pLGRhdGE6dH0pOm8uc3R5bGVbbl09aX19X3JlbmRlckVsZW1lbnRDaGlsZHJlbihlKXtjb25zdCB0PWUubm9kZSxvPWUuaW50b0ZyYWdtZW50P2RvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTp0LG49ZS5pc0FwcGx5aW5nO2xldCBpPTA7Zm9yKGNvbnN0IHIgb2YgdGhpcy5jaGlsZHJlbilpZihnaShyKSl7aWYoIW4pe3Iuc2V0UGFyZW50KHQpO2Zvcihjb25zdCBlIG9mIHIpby5hcHBlbmRDaGlsZChlLmVsZW1lbnQpfX1lbHNlIGlmKHVpKHIpKW58fCghci5pc1JlbmRlcmVkJiZyLnJlbmRlcigpLG8uYXBwZW5kQ2hpbGQoci5lbGVtZW50KSk7ZWxzZSBpZihPZShyKSlvLmFwcGVuZENoaWxkKHIpO2Vsc2UgaWYobil7Y29uc3QgdD1lLnJldmVydERhdGEsbj1maSgpO3QuY2hpbGRyZW4ucHVzaChuKSxyLl9yZW5kZXJOb2RlKHtub2RlOm8uY2hpbGROb2Rlc1tpKytdLGlzQXBwbHlpbmc6ITAscmV2ZXJ0RGF0YTpufSl9ZWxzZSBvLmFwcGVuZENoaWxkKHIucmVuZGVyKCkpO2UuaW50b0ZyYWdtZW50JiZ0LmFwcGVuZENoaWxkKG8pfV9zZXRVcExpc3RlbmVycyhlKXtpZih0aGlzLmV2ZW50TGlzdGVuZXJzKWZvcihjb25zdCB0IGluIHRoaXMuZXZlbnRMaXN0ZW5lcnMpe2NvbnN0IG89dGhpcy5ldmVudExpc3RlbmVyc1t0XS5tYXAoKG8pPT57Y29uc3RbbixpXT10LnNwbGl0KCdAJyk7cmV0dXJuIG8uYWN0aXZhdGVEb21FdmVudExpc3RlbmVyKG4saSxlKX0pO2UucmV2ZXJ0RGF0YSYmZS5yZXZlcnREYXRhLmJpbmRpbmdzLnB1c2gobyl9fV9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6ZSx1cGRhdGVyOnQsZGF0YTpvfSl7Y29uc3Qgbj1vLnJldmVydERhdGE7WW4oZSx0LG8pO2NvbnN0IGk9ZS5maWx0ZXIoKGUpPT4hbWkoZSkpLmZpbHRlcigoZSk9PmUub2JzZXJ2YWJsZSkubWFwKChuKT0+bi5hY3RpdmF0ZUF0dHJpYnV0ZUxpc3RlbmVyKGUsdCxvKSk7biYmbi5iaW5kaW5ncy5wdXNoKGkpfV9yZXZlcnRUZW1wbGF0ZUZyb21Ob2RlKGUsdCl7Zm9yKGNvbnN0IG8gb2YgdC5iaW5kaW5ncylmb3IoY29uc3QgZSBvZiBvKWUoKTtpZih0LnRleHQpcmV0dXJuIHZvaWQoZS50ZXh0Q29udGVudD10LnRleHQpO2Zvcihjb25zdCBvIGluIHQuYXR0cmlidXRlcyl7Y29uc3Qgbj10LmF0dHJpYnV0ZXNbb107bnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUobyk6ZS5zZXRBdHRyaWJ1dGUobyxuKX1mb3IobGV0IG89MDtvPHQuY2hpbGRyZW4ubGVuZ3RoOysrbyl0aGlzLl9yZXZlcnRUZW1wbGF0ZUZyb21Ob2RlKGUuY2hpbGROb2Rlc1tvXSx0LmNoaWxkcmVuW29dKX19ZihSZixQcyk7Y2xhc3MgVmZ7Y29uc3RydWN0b3IoZSl7T2JqZWN0LmFzc2lnbih0aGlzLGUpfWdldFZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5vYnNlcnZhYmxlW3RoaXMuYXR0cmlidXRlXTtyZXR1cm4gdGhpcy5jYWxsYmFjaz90aGlzLmNhbGxiYWNrKHQsZSk6dH1hY3RpdmF0ZUF0dHJpYnV0ZUxpc3RlbmVyKGUsdCxvKXtjb25zdCBuPSgpPT5ZbihlLHQsbyk7cmV0dXJuIHRoaXMuZW1pdHRlci5saXN0ZW5Ubyh0aGlzLm9ic2VydmFibGUsJ2NoYW5nZTonK3RoaXMuYXR0cmlidXRlLG4pLCgpPT57dGhpcy5lbWl0dGVyLnN0b3BMaXN0ZW5pbmcodGhpcy5vYnNlcnZhYmxlLCdjaGFuZ2U6Jyt0aGlzLmF0dHJpYnV0ZSxuKX19fWNsYXNzIEZmIGV4dGVuZHMgVmZ7YWN0aXZhdGVEb21FdmVudExpc3RlbmVyKGUsdCxvKXtjb25zdCBuPShlLG8pPT57KCF0fHxvLnRhcmdldC5tYXRjaGVzKHQpKSYmKCdmdW5jdGlvbic9PXR5cGVvZiB0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24/dGhpcy5ldmVudE5hbWVPckZ1bmN0aW9uKG8pOnRoaXMub2JzZXJ2YWJsZS5maXJlKHRoaXMuZXZlbnROYW1lT3JGdW5jdGlvbixvKSl9O3JldHVybiB0aGlzLmVtaXR0ZXIubGlzdGVuVG8oby5ub2RlLGUsbiksKCk9Pnt0aGlzLmVtaXR0ZXIuc3RvcExpc3RlbmluZyhvLm5vZGUsZSxuKX19fWNsYXNzIE5mIGV4dGVuZHMgVmZ7Z2V0VmFsdWUoZSl7Y29uc3QgdD1zdXBlci5nZXRWYWx1ZShlKTtyZXR1cm4hbWkodCkmJih0aGlzLnZhbHVlSWZUcnVlfHwhMCl9fXZhciBEZj1vKDExKSxNZj1vLm4oRGYpO2NsYXNzIEJme2NvbnN0cnVjdG9yKGUpe3RoaXMuZWxlbWVudD1udWxsLHRoaXMuaXNSZW5kZXJlZD0hMSx0aGlzLmxvY2FsZT1lLHRoaXMudD1lJiZlLnQsdGhpcy5fdmlld0NvbGxlY3Rpb25zPW5ldyBHYyx0aGlzLl91bmJvdW5kQ2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm9uKCdhZGQnLCh0LG8pPT57by5sb2NhbGU9ZX0pLHRoaXMuZGVjb3JhdGUoJ3JlbmRlcicpfWdldCBiaW5kVGVtcGxhdGUoKXtyZXR1cm4gdGhpcy5fYmluZFRlbXBsYXRlP3RoaXMuX2JpbmRUZW1wbGF0ZTp0aGlzLl9iaW5kVGVtcGxhdGU9UmYuYmluZCh0aGlzLHRoaXMpfWNyZWF0ZUNvbGxlY3Rpb24oKXtjb25zdCBlPW5ldyBPZjtyZXR1cm4gdGhpcy5fdmlld0NvbGxlY3Rpb25zLmFkZChlKSxlfXJlZ2lzdGVyQ2hpbGQoZSl7UChlKXx8KGU9W2VdKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3VuYm91bmRDaGlsZHJlbi5hZGQodCl9ZGVyZWdpc3RlckNoaWxkKGUpe1AoZSl8fChlPVtlXSk7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl91bmJvdW5kQ2hpbGRyZW4ucmVtb3ZlKHQpfXNldFRlbXBsYXRlKGUpe3RoaXMudGVtcGxhdGU9bmV3IFJmKGUpfWV4dGVuZFRlbXBsYXRlKGUpe1JmLmV4dGVuZCh0aGlzLnRlbXBsYXRlLGUpfXJlbmRlcigpe2lmKHRoaXMuaXNSZW5kZXJlZCl0aHJvdyBuZXcgX3MoJ3VpLXZpZXctcmVuZGVyLWFscmVhZHktcmVuZGVyZWQ6IFRoaXMgVmlldyBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLicpO3RoaXMudGVtcGxhdGUmJih0aGlzLmVsZW1lbnQ9dGhpcy50ZW1wbGF0ZS5yZW5kZXIoKSx0aGlzLnJlZ2lzdGVyQ2hpbGQodGhpcy50ZW1wbGF0ZS5nZXRWaWV3cygpKSksdGhpcy5pc1JlbmRlcmVkPSEwfWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKSx0aGlzLl92aWV3Q29sbGVjdGlvbnMubWFwKChlKT0+ZS5kZXN0cm95KCkpfX1mKEJmLGttKSxmKEJmLE1jKTt2YXIgTGY9bygxNCksemY9by5uKExmKTtjbGFzcyBqZiBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYm9keT10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLl9yZW5kZXJCb2R5Q29sbGVjdGlvbigpfWRlc3Ryb3koKXtyZXR1cm4gdGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXIucmVtb3ZlKCksc3VwZXIuZGVzdHJveSgpfV9yZW5kZXJCb2R5Q29sbGVjdGlvbigpe2NvbnN0IGU9dGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXI9bmV3IFJmKHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXJlc2V0X2FsbCcsJ2NrLWJvZHknLCdjay1yb3VuZGVkLWNvcm5lcnMnXX0sY2hpbGRyZW46dGhpcy5ib2R5fSkucmVuZGVyKCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKX19dmFyIHFmPW8oMTYpLFdmPW8ubihxZik7Y2xhc3MgVWYgZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNldCgndGV4dCcpLHRoaXMuc2V0KCdmb3InKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzonbGFiZWwnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1sYWJlbCddLGZvcjp0LnRvKCdmb3InKX0sY2hpbGRyZW46W3t0ZXh0OnQudG8oJ3RleHQnKX1dfSl9fWNsYXNzIEhmIGV4dGVuZHMgamZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD1pKCk7dGhpcy50b3A9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5tYWluPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX3ZvaWNlTGFiZWxWaWV3PXRoaXMuX2NyZWF0ZVZvaWNlTGFiZWwodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1yZXNldCcsJ2NrLWVkaXRvcicsJ2NrLXJvdW5kZWQtY29ybmVycyddLHJvbGU6J2FwcGxpY2F0aW9uJyxkaXI6J2x0cicsbGFuZzplLmxhbmd1YWdlLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YH0sY2hpbGRyZW46W3RoaXMuX3ZvaWNlTGFiZWxWaWV3LHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWVkaXRvcl9fdG9wJywnY2stcmVzZXRfYWxsJ10scm9sZToncHJlc2VudGF0aW9uJ30sY2hpbGRyZW46dGhpcy50b3B9LHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWVkaXRvcl9fbWFpbiddLHJvbGU6J3ByZXNlbnRhdGlvbid9LGNoaWxkcmVuOnRoaXMubWFpbn1dfSl9X2NyZWF0ZVZvaWNlTGFiZWwoZSl7Y29uc3Qgbz10aGlzLnQsdD1uZXcgVWY7cmV0dXJuIHQudGV4dD1vKCdhZycpLHQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2lkOmBjay1lZGl0b3JfX2FyaWEtbGFiZWxfJHtlfWAsY2xhc3M6J2NrLXZvaWNlLWxhYmVsJ319KSx0fX1jbGFzcyBLZiBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSk7Y29uc3Qgbz10aGlzLmJpbmRUZW1wbGF0ZTt0JiYodGhpcy5lbGVtZW50PXRoaXMuZWRpdGFibGVFbGVtZW50PXQpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stY29udGVudCcsJ2NrLWVkaXRvcl9fZWRpdGFibGUnLCdjay1yb3VuZGVkLWNvcm5lcnMnLG8udG8oJ2lzRm9jdXNlZCcsKGUpPT5lPydjay1mb2N1c2VkJzonY2stYmx1cnJlZCcpXSxjb250ZW50ZWRpdGFibGU6by50bygnaXNSZWFkT25seScsKGUpPT4hZSl9fSksdGhpcy5zZXQoJ2lzUmVhZE9ubHknLCExKSx0aGlzLnNldCgnaXNGb2N1c2VkJywhMSksdGhpcy5leHRlcm5hbEVsZW1lbnQ9dH1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmV4dGVybmFsRWxlbWVudD90aGlzLnRlbXBsYXRlLmFwcGx5KHRoaXMuZWxlbWVudD10aGlzLmV4dGVybmFsRWxlbWVudCk6dGhpcy5lZGl0YWJsZUVsZW1lbnQ9dGhpcy5lbGVtZW50fWRlc3Ryb3koKXt0aGlzLmV4dGVybmFsRWxlbWVudCYmdGhpcy50ZW1wbGF0ZS5yZXZlcnQodGhpcy5leHRlcm5hbEVsZW1lbnQpLHN1cGVyLmRlc3Ryb3koKX19Y2xhc3MgR2YgZXh0ZW5kcyBLZntjb25zdHJ1Y3RvcihlLG8pe3N1cGVyKGUsbyk7Y29uc3Qgbj10aGlzLmJpbmRUZW1wbGF0ZSxpPXRoaXMudDt0aGlzLnNldCgnbmFtZScsbnVsbCk7dGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7cm9sZTondGV4dGJveCcsXCJhcmlhLWxhYmVsXCI6bi50bygnbmFtZScsKGUpPT5pKCdhZicsW2VdKSksY2xhc3M6J2NrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lJ319KX19dmFyICRmPW8oMTgpLEpmPW8ubigkZik7Y29uc3QgUWY9YmkoJ3B4Jyk7Y2xhc3MgWWYgZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KCdpc0FjdGl2ZScsITEpLHRoaXMuc2V0KCdpc1N0aWNreScsITEpLHRoaXMuc2V0KCdsaW1pdGVyRWxlbWVudCcsbnVsbCksdGhpcy5zZXQoJ2xpbWl0ZXJCb3R0b21PZmZzZXQnLDUwKSx0aGlzLnNldCgndmlld3BvcnRUb3BPZmZzZXQnLDApLHRoaXMuc2V0KCdfbWFyZ2luTGVmdCcsbnVsbCksdGhpcy5zZXQoJ19pc1N0aWNreVRvVGhlTGltaXRlcicsITEpLHRoaXMuc2V0KCdfaGFzVmlld3BvcnRUb3BPZmZzZXQnLCExKSx0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5fY29udGVudFBhbmVsUGxhY2Vob2xkZXI9bmV3IFJmKHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXN0aWNreS1wYW5lbF9fcGxhY2Vob2xkZXInXSxzdHlsZTp7ZGlzcGxheTp0LnRvKCdpc1N0aWNreScsKGUpPT5lPydibG9jayc6J25vbmUnKSxoZWlnaHQ6dC50bygnaXNTdGlja3knLChlKT0+ZT9RZih0aGlzLl9wYW5lbFJlY3QuaGVpZ2h0KTpudWxsKX19fSkucmVuZGVyKCksdGhpcy5fY29udGVudFBhbmVsPW5ldyBSZih7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1zdGlja3ktcGFuZWxfX2NvbnRlbnQnLHQuaWYoJ2lzU3RpY2t5JywnY2stc3RpY2t5LXBhbmVsX19jb250ZW50X3N0aWNreScpLHQuaWYoJ19pc1N0aWNreVRvVGhlTGltaXRlcicsJ2NrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3lfYm90dG9tLWxpbWl0JyldLHN0eWxlOnt3aWR0aDp0LnRvKCdpc1N0aWNreScsKGUpPT5lP1FmKHRoaXMuX2NvbnRlbnRQYW5lbFBsYWNlaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTpudWxsKSx0b3A6dC50bygnX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0JywoZSk9PmU/UWYodGhpcy52aWV3cG9ydFRvcE9mZnNldCk6bnVsbCksYm90dG9tOnQudG8oJ19pc1N0aWNreVRvVGhlTGltaXRlcicsKGUpPT5lP1FmKHRoaXMubGltaXRlckJvdHRvbU9mZnNldCk6bnVsbCksbWFyZ2luTGVmdDp0LnRvKCdfbWFyZ2luTGVmdCcpfX0sY2hpbGRyZW46dGhpcy5jb250ZW50fSkucmVuZGVyKCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1zdGlja3ktcGFuZWwnXX0sY2hpbGRyZW46W3RoaXMuX2NvbnRlbnRQYW5lbFBsYWNlaG9sZGVyLHRoaXMuX2NvbnRlbnRQYW5lbF19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLl9jaGVja0lmU2hvdWxkQmVTdGlja3koKSx0aGlzLmxpc3RlblRvKGdtLndpbmRvdywnc2Nyb2xsJywoKT0+e3RoaXMuX2NoZWNrSWZTaG91bGRCZVN0aWNreSgpfSksdGhpcy5saXN0ZW5Ubyh0aGlzLCdjaGFuZ2U6aXNBY3RpdmUnLCgpPT57dGhpcy5fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCl9KX1fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCl7Y29uc3QgZT10aGlzLl9wYW5lbFJlY3Q9dGhpcy5fY29udGVudFBhbmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2xldCB0O3RoaXMubGltaXRlckVsZW1lbnQ/KHQ9dGhpcy5fbGltaXRlclJlY3Q9dGhpcy5saW1pdGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLmlzU3RpY2t5PXRoaXMuaXNBY3RpdmUmJnQudG9wPHRoaXMudmlld3BvcnRUb3BPZmZzZXQmJnRoaXMuX3BhbmVsUmVjdC5oZWlnaHQrdGhpcy5saW1pdGVyQm90dG9tT2Zmc2V0PHQuaGVpZ2h0KTp0aGlzLmlzU3RpY2t5PSExLHRoaXMuaXNTdGlja3k/KHRoaXMuX2lzU3RpY2t5VG9UaGVMaW1pdGVyPXQuYm90dG9tPGUuaGVpZ2h0K3RoaXMubGltaXRlckJvdHRvbU9mZnNldCt0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0LHRoaXMuX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0PSF0aGlzLl9pc1N0aWNreVRvVGhlTGltaXRlciYmISF0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0LHRoaXMuX21hcmdpbkxlZnQ9dGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXI/bnVsbDpRZigtZ20ud2luZG93LnNjcm9sbFgpKToodGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXI9ITEsdGhpcy5faGFzVmlld3BvcnRUb3BPZmZzZXQ9ITEsdGhpcy5fbWFyZ2luTGVmdD1udWxsKX19Y2xhc3MgWGZ7Y29uc3RydWN0b3IoZSl7aWYoT2JqZWN0LmFzc2lnbih0aGlzLGUpLGUuYWN0aW9ucyYmZS5rZXlzdHJva2VIYW5kbGVyKWZvcihjb25zdCB0IGluIGUuYWN0aW9ucyl7bGV0IG89ZS5hY3Rpb25zW3RdOydzdHJpbmcnPT10eXBlb2YgbyYmKG89W29dKTtmb3IoY29uc3QgbiBvZiBvKWUua2V5c3Ryb2tlSGFuZGxlci5zZXQobiwoZSxvKT0+e3RoaXNbdF0oKSxvKCl9KX19Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuZm9jdXNhYmxlcy5maW5kKGtpKXx8bnVsbH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZXMuZmlsdGVyKGtpKS5zbGljZSgtMSlbMF18fG51bGx9Z2V0IG5leHQoKXtyZXR1cm4gdGhpcy5fZ2V0Rm9jdXNhYmxlSXRlbSgxKX1nZXQgcHJldmlvdXMoKXtyZXR1cm4gdGhpcy5fZ2V0Rm9jdXNhYmxlSXRlbSgtMSl9Z2V0IGN1cnJlbnQoKXtsZXQgZT1udWxsO3JldHVybiBudWxsPT09dGhpcy5mb2N1c1RyYWNrZXIuZm9jdXNlZEVsZW1lbnQ/bnVsbDoodGhpcy5mb2N1c2FibGVzLmZpbmQoKHQsbyk9Pntjb25zdCBuPXQuZWxlbWVudD09PXRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50O3JldHVybiBuJiYoZT1vKSxufSksZSl9Zm9jdXNGaXJzdCgpe3RoaXMuX2ZvY3VzKHRoaXMuZmlyc3QpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzKHRoaXMubGFzdCl9Zm9jdXNOZXh0KCl7dGhpcy5fZm9jdXModGhpcy5uZXh0KX1mb2N1c1ByZXZpb3VzKCl7dGhpcy5fZm9jdXModGhpcy5wcmV2aW91cyl9X2ZvY3VzKGUpe2UmJmUuZm9jdXMoKX1fZ2V0Rm9jdXNhYmxlSXRlbShlKXtjb25zdCB0PXRoaXMuY3VycmVudCxvPXRoaXMuZm9jdXNhYmxlcy5sZW5ndGg7aWYoIW8pcmV0dXJuIG51bGw7aWYobnVsbD09PXQpcmV0dXJuIHRoaXNbMT09PWU/J2ZpcnN0JzonbGFzdCddO2xldCBuPSh0K28rZSklbztkb3tjb25zdCB0PXRoaXMuZm9jdXNhYmxlcy5nZXQobik7aWYoa2kodCkpcmV0dXJuIHQ7bj0obitvK2UpJW99d2hpbGUobiE9PXQpO3JldHVybiBudWxsfX1jbGFzcyBaZiBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonc3BhbicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXRvb2xiYXJfX3NlcGFyYXRvciddfX0pfX12YXIgZWg9bygyMCksdGg9by5uKGVoKTtjbGFzcyBvaCBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IHQ9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5pdGVtcz10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLmZvY3VzVHJhY2tlcj1uZXcgRWYsdGhpcy5rZXlzdHJva2VzPW5ldyB3Zix0aGlzLnNldCgnaXNWZXJ0aWNhbCcsITEpLHRoaXMuc2V0KCdjbGFzc05hbWUnKSx0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgWGYoe2ZvY3VzYWJsZXM6dGhpcy5pdGVtcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpbJ2Fycm93bGVmdCcsJ2Fycm93dXAnXSxmb2N1c05leHQ6WydhcnJvd3JpZ2h0JywnYXJyb3dkb3duJ119fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay10b29sYmFyJyx0LmlmKCdpc1ZlcnRpY2FsJywnY2stdG9vbGJhcl92ZXJ0aWNhbCcpLHQudG8oJ2NsYXNzTmFtZScpXX0sY2hpbGRyZW46dGhpcy5pdGVtcyxvbjp7bW91c2Vkb3duOl9pKHRoaXMpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2Zvcihjb25zdCBlIG9mIHRoaXMuaXRlbXMpdGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCk7dGhpcy5pdGVtcy5vbignYWRkJywoZSx0KT0+e3RoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfSksdGhpcy5pdGVtcy5vbigncmVtb3ZlJywoZSx0KT0+e3RoaXMuZm9jdXNUcmFja2VyLnJlbW92ZSh0LmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9Zm9jdXNMYXN0KCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNMYXN0KCl9ZmlsbEZyb21Db25maWcoZSx0KXtlLm1hcCgoZSk9PnsnfCc9PWU/dGhpcy5pdGVtcy5hZGQobmV3IFpmKTp0LmhhcyhlKT90aGlzLml0ZW1zLmFkZCh0LmNyZWF0ZShlKSk6WG0ud2FybigndG9vbGJhcnZpZXctaXRlbS11bmF2YWlsYWJsZTogVGhlIHJlcXVlc3RlZCB0b29sYmFyIGl0ZW0gaXMgdW5hdmFpbGFibGUuJyx7bmFtZTplfSl9KX19dmFyIG5oPW8oMjIpLGloPW8ubihuaCk7Y2xhc3MgcmggZXh0ZW5kcyBIZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnN0aWNreVBhbmVsPW5ldyBZZihlKSx0aGlzLnRvb2xiYXI9bmV3IG9oKGUpLHRoaXMuZWRpdGFibGU9bmV3IEdmKGUpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuc3RpY2t5UGFuZWwuY29udGVudC5hZGQodGhpcy50b29sYmFyKSx0aGlzLnRvcC5hZGQodGhpcy5zdGlja3lQYW5lbCksdGhpcy5tYWluLmFkZCh0aGlzLmVkaXRhYmxlKX1nZXQgZWRpdGFibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWRpdGFibGUuZWxlbWVudH19Y2xhc3MgYWh7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzPVtdfXJlcGxhY2UoZSx0KXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzLnB1c2goe2VsZW1lbnQ6ZSxuZXdFbGVtZW50OnR9KSxlLnN0eWxlLmRpc3BsYXk9J25vbmUnLHQmJmUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlLm5leHRTaWJsaW5nKX1yZXN0b3JlKCl7dGhpcy5fcmVwbGFjZWRFbGVtZW50cy5mb3JFYWNoKCh7ZWxlbWVudDplLG5ld0VsZW1lbnQ6dH0pPT57ZS5zdHlsZS5kaXNwbGF5PScnLHQmJnQucmVtb3ZlKCl9KSx0aGlzLl9yZXBsYWNlZEVsZW1lbnRzPVtdfX1jbGFzcyBzaCBleHRlbmRzIHlme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5fZWxlbWVudFJlcGxhY2VyPW5ldyBhaCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmRhdGEucHJvY2Vzc29yPW5ldyBUZix0aGlzLm1vZGVsLmRvY3VtZW50LmNyZWF0ZVJvb3QoKSx0aGlzLnVpPW5ldyBTZih0aGlzLG5ldyByaCh0aGlzLmxvY2FsZSkpLFVuKHRoaXMpfWRlc3Ryb3koKXtyZXR1cm4gdGhpcy51cGRhdGVFbGVtZW50KCksdGhpcy5fZWxlbWVudFJlcGxhY2VyLnJlc3RvcmUoKSx0aGlzLnVpLmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KCl9c3RhdGljIGNyZWF0ZShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgobyk9Pntjb25zdCBuPW5ldyB0aGlzKGUsdCk7byhuLmluaXRQbHVnaW5zKCkudGhlbigoKT0+bi51aS5pbml0KCkpLnRoZW4oKCk9PntuLl9lbGVtZW50UmVwbGFjZXIucmVwbGFjZShlLG4udWkudmlldy5lbGVtZW50KSxuLmZpcmUoJ3VpUmVhZHknKX0pLnRoZW4oKCk9Pm4uZWRpdGluZy52aWV3LmF0dGFjaERvbVJvb3Qobi51aS52aWV3LmVkaXRhYmxlRWxlbWVudCkpLnRoZW4oKCk9Pm4uZGF0YS5pbml0KHdpKGUpKSkudGhlbigoKT0+e24uZmlyZSgnZGF0YVJlYWR5Jyksbi5maXJlKCdyZWFkeScpfSkudGhlbigoKT0+bikpfSl9fWYoc2gseGYpLGYoc2gsQ2YpO2NsYXNzIGxoe2NvbnN0cnVjdG9yKGUpe3RoaXMuZWRpdG9yPWV9ZGVzdHJveSgpe3RoaXMuc3RvcExpc3RlbmluZygpfX1mKGxoLE1jKTtjbGFzcyBkaHtjb25zdHJ1Y3RvcihlKXt0aGlzLmZpbGVzPXZpKGUpLHRoaXMuX25hdGl2ZT1lfWdldCB0eXBlcygpe3JldHVybiB0aGlzLl9uYXRpdmUudHlwZXN9Z2V0RGF0YShlKXtyZXR1cm4gdGhpcy5fbmF0aXZlLmdldERhdGEoZSl9c2V0RGF0YShlLHQpe3RoaXMuX25hdGl2ZS5zZXREYXRhKGUsdCl9fWNsYXNzIGNoIGV4dGVuZHMgcW17Y29uc3RydWN0b3IoZSl7ZnVuY3Rpb24gdChlLHQpe3QucHJldmVudERlZmF1bHQoKTtjb25zdCBuPXQuZHJvcFJhbmdlP1t0LmRyb3BSYW5nZV06QXJyYXkuZnJvbShvLnNlbGVjdGlvbi5nZXRSYW5nZXMoKSk7by5maXJlKCdjbGlwYm9hcmRJbnB1dCcse2RhdGFUcmFuc2Zlcjp0LmRhdGFUcmFuc2Zlcix0YXJnZXRSYW5nZXM6bn0pfXN1cGVyKGUpO2NvbnN0IG89dGhpcy5kb2N1bWVudDt0aGlzLmRvbUV2ZW50VHlwZT1bJ3Bhc3RlJywnY29weScsJ2N1dCcsJ2Ryb3AnLCdkcmFnb3ZlciddLHRoaXMubGlzdGVuVG8obywncGFzdGUnLHQse3ByaW9yaXR5Oidsb3cnfSksdGhpcy5saXN0ZW5UbyhvLCdkcm9wJyx0LHtwcmlvcml0eTonbG93J30pfW9uRG9tRXZlbnQoZSl7Y29uc3QgdD17ZGF0YVRyYW5zZmVyOm5ldyBkaChlLmNsaXBib2FyZERhdGE/ZS5jbGlwYm9hcmREYXRhOmUuZGF0YVRyYW5zZmVyKX07J2Ryb3AnPT1lLnR5cGUmJih0LmRyb3BSYW5nZT15aSh0aGlzLnZpZXcsZSkpLHRoaXMuZmlyZShlLnR5cGUsZSx0KX19Y29uc3QgbWg9WydmaWdjYXB0aW9uJywnbGknXTtjbGFzcyB1aCBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidDbGlwYm9hcmQnfWluaXQoKXtmdW5jdGlvbiBlKGUsbil7Y29uc3Qgcj1uLmRhdGFUcmFuc2ZlcjtuLnByZXZlbnREZWZhdWx0KCk7Y29uc3QgYT10LmRhdGEudG9WaWV3KHQubW9kZWwuZ2V0U2VsZWN0ZWRDb250ZW50KG8uc2VsZWN0aW9uKSk7aS5maXJlKCdjbGlwYm9hcmRPdXRwdXQnLHtkYXRhVHJhbnNmZXI6cixjb250ZW50OmEsbWV0aG9kOmUubmFtZX0pfWNvbnN0IHQ9dGhpcy5lZGl0b3Isbz10Lm1vZGVsLmRvY3VtZW50LG49dC5lZGl0aW5nLnZpZXcsaT1uLmRvY3VtZW50O3RoaXMuX2h0bWxEYXRhUHJvY2Vzc29yPW5ldyBUZixuLmFkZE9ic2VydmVyKGNoKSx0aGlzLmxpc3RlblRvKGksJ2NsaXBib2FyZElucHV0JywoZSk9Pnt0LmlzUmVhZE9ubHkmJmUuc3RvcCgpfSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5saXN0ZW5UbyhpLCdjbGlwYm9hcmRJbnB1dCcsKGUsdCk9Pntjb25zdCBvPXQuZGF0YVRyYW5zZmVyO2xldCBpPScnO28uZ2V0RGF0YSgndGV4dC9odG1sJyk/aT1DaShvLmdldERhdGEoJ3RleHQvaHRtbCcpKTpvLmdldERhdGEoJ3RleHQvcGxhaW4nKSYmKGk9eGkoby5nZXREYXRhKCd0ZXh0L3BsYWluJykpKSxpPXRoaXMuX2h0bWxEYXRhUHJvY2Vzc29yLnRvVmlldyhpKSx0aGlzLmZpcmUoJ2lucHV0VHJhbnNmb3JtYXRpb24nLHtjb250ZW50Oml9KSxuLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9LHtwcmlvcml0eTonbG93J30pLHRoaXMubGlzdGVuVG8odGhpcywnaW5wdXRUcmFuc2Zvcm1hdGlvbicsKGUsdCk9PntpZighdC5jb250ZW50LmlzRW1wdHkpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZGF0YSxuPXRoaXMuZWRpdG9yLm1vZGVsLGk9ZS50b01vZGVsKHQuY29udGVudCwnJGNsaXBib2FyZEhvbGRlcicpO2lmKDA9PWkuY2hpbGRDb3VudClyZXR1cm47bi5pbnNlcnRDb250ZW50KGksby5zZWxlY3Rpb24pfX0se3ByaW9yaXR5Oidsb3cnfSksdGhpcy5saXN0ZW5UbyhpLCdjb3B5JyxlLHtwcmlvcml0eTonbG93J30pLHRoaXMubGlzdGVuVG8oaSwnY3V0JywobyxuKT0+e3QuaXNSZWFkT25seT9uLnByZXZlbnREZWZhdWx0KCk6ZShvLG4pfSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmxpc3RlblRvKGksJ2NsaXBib2FyZE91dHB1dCcsKGUsbik9PntuLmNvbnRlbnQuaXNFbXB0eXx8KG4uZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvaHRtbCcsdGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9EYXRhKG4uY29udGVudCkpLG4uZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvcGxhaW4nLEFpKG4uY29udGVudCkpKSwnY3V0Jz09bi5tZXRob2QmJnQubW9kZWwuZGVsZXRlQ29udGVudChvLnNlbGVjdGlvbil9LHtwcmlvcml0eTonbG93J30pfX1jbGFzcyBwaHtjb25zdHJ1Y3RvcihlKXt0aGlzLmVkaXRvcj1lLHRoaXMuc2V0KCd2YWx1ZScsdm9pZCAwKSx0aGlzLnNldCgnaXNFbmFibGVkJywhMSksdGhpcy5kZWNvcmF0ZSgnZXhlY3V0ZScpLHRoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsJ2NoYW5nZScsKCk9Pnt0aGlzLnJlZnJlc2goKX0pLHRoaXMub24oJ2V4ZWN1dGUnLChlKT0+e3RoaXMuaXNFbmFibGVkfHxlLnN0b3AoKX0se3ByaW9yaXR5OidoaWdoJ30pLHRoaXMubGlzdGVuVG8oZSwnY2hhbmdlOmlzUmVhZE9ubHknLChlLHQsbyk9PntvPyh0aGlzLm9uKCdzZXQ6aXNFbmFibGVkJyxUaSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5pc0VuYWJsZWQ9ITEpOih0aGlzLm9mZignc2V0OmlzRW5hYmxlZCcsVGkpLHRoaXMucmVmcmVzaCgpKX0pfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD0hMH1leGVjdXRlKCl7fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19ZihwaCxNYyk7Y2xhc3MgZ2ggZXh0ZW5kcyBwaHtleGVjdXRlKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQ7ZS5jaGFuZ2UoKG8pPT57UGkodGhpcy5lZGl0b3IubW9kZWwsbyx0LnNlbGVjdGlvbixlLnNjaGVtYSksdGhpcy5maXJlKCdhZnRlckV4ZWN1dGUnLHt3cml0ZXI6b30pfSl9fWNsYXNzIGZoIGV4dGVuZHMgd217Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD10aGlzLmRvY3VtZW50O3Qub24oJ2tleWRvd24nLChlLG8pPT57aWYodGhpcy5pc0VuYWJsZWQmJm8ua2V5Q29kZT09bm0uZW50ZXIpe2xldCBuO3Qub25jZSgnZW50ZXInLChlKT0+bj1lLHtwcmlvcml0eTonaGlnaGVzdCd9KSx0LmZpcmUoJ2VudGVyJyxuZXcgam0odCxvLmRvbUV2ZW50LHtpc1NvZnQ6by5zaGlmdEtleX0pKSxuJiZuLnN0b3AuY2FsbGVkJiZlLnN0b3AoKX19KX1vYnNlcnZlKCl7fX1jbGFzcyBoaCBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidFbnRlcid9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmVkaXRpbmcudmlldyxvPXQuZG9jdW1lbnQ7dC5hZGRPYnNlcnZlcihmaCksZS5jb21tYW5kcy5hZGQoJ2VudGVyJyxuZXcgZ2goZSkpLHRoaXMubGlzdGVuVG8obywnZW50ZXInLChvLG4pPT57bi5pc1NvZnR8fChlLmV4ZWN1dGUoJ2VudGVyJyksbi5wcmV2ZW50RGVmYXVsdCgpLHQuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKSl9LHtwcmlvcml0eTonbG93J30pfX1jbGFzcyBiaCBleHRlbmRzIHBoe2V4ZWN1dGUoKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLHQ9ZS5kb2N1bWVudDtlLmNoYW5nZSgobyk9PntPaShlLG8sdC5zZWxlY3Rpb24pLHRoaXMuZmlyZSgnYWZ0ZXJFeGVjdXRlJyx7d3JpdGVyOm99KX0pfXJlZnJlc2goKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLHQ9ZS5kb2N1bWVudDt0aGlzLmlzRW5hYmxlZD1TaShlLnNjaGVtYSx0LnNlbGVjdGlvbil9fWNsYXNzIGtoIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1NoaWZ0RW50ZXInfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5tb2RlbC5zY2hlbWEsbz1lLmNvbnZlcnNpb24sbj1lLmVkaXRpbmcudmlldyxpPW4uZG9jdW1lbnQ7dC5yZWdpc3Rlcignc29mdEJyZWFrJyx7YWxsb3dXaGVyZTonJHRleHQnfSksby5mb3IoJ3VwY2FzdCcpLmFkZChpbyh7bW9kZWw6J3NvZnRCcmVhaycsdmlldzonYnInfSkpLG8uZm9yKCdkb3duY2FzdCcpLmFkZCh4dCh7bW9kZWw6J3NvZnRCcmVhaycsdmlldzooZSx0KT0+dC5jcmVhdGVFbXB0eUVsZW1lbnQoJ2JyJyl9KSksbi5hZGRPYnNlcnZlcihmaCksZS5jb21tYW5kcy5hZGQoJ3NoaWZ0RW50ZXInLG5ldyBiaChlKSksdGhpcy5saXN0ZW5UbyhpLCdlbnRlcicsKHQsbyk9PntvLmlzU29mdCYmKGUuZXhlY3V0ZSgnc2hpZnRFbnRlcicpLG8ucHJldmVudERlZmF1bHQoKSxuLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCkpfSx7cHJpb3JpdHk6J2xvdyd9KX19Y2xhc3MgX2h7Y29uc3RydWN0b3IoZSx0PTIwKXt0aGlzLm1vZGVsPWUsdGhpcy5zaXplPTAsdGhpcy5saW1pdD10LHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fY2hhbmdlQ2FsbGJhY2s9KGUsdCk9PnsndHJhbnNwYXJlbnQnIT10LnR5cGUmJnQhPT10aGlzLl9iYXRjaCYmdGhpcy5fcmVzZXQoITApfSx0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjaz0oKT0+e3RoaXMuX3Jlc2V0KCl9LHRoaXMubW9kZWwuZG9jdW1lbnQub24oJ2NoYW5nZScsdGhpcy5fY2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9uKCdjaGFuZ2U6cmFuZ2UnLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vbignY2hhbmdlOmF0dHJpYnV0ZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfWdldCBiYXRjaCgpe3JldHVybiB0aGlzLl9iYXRjaHx8KHRoaXMuX2JhdGNoPW5ldyByZiksdGhpcy5fYmF0Y2h9aW5wdXQoZSl7dGhpcy5zaXplKz1lLHRoaXMuc2l6ZT49dGhpcy5saW1pdCYmdGhpcy5fcmVzZXQoITApfWxvY2soKXt0aGlzLmlzTG9ja2VkPSEwfXVubG9jaygpe3RoaXMuaXNMb2NrZWQ9ITF9ZGVzdHJveSgpe3RoaXMubW9kZWwuZG9jdW1lbnQub2ZmKCdjaGFuZ2UnLHRoaXMuX2NoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vZmYoJ2NoYW5nZTpyYW5nZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9mZignY2hhbmdlOmF0dHJpYnV0ZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfV9yZXNldChlKXsoIXRoaXMuaXNMb2NrZWR8fGUpJiYodGhpcy5fYmF0Y2g9bnVsbCx0aGlzLnNpemU9MCl9fWNsYXNzIHdoIGV4dGVuZHMgcGh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLl9idWZmZXI9bmV3IF9oKGUubW9kZWwsdCl9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9idWZmZXIuZGVzdHJveSgpfWV4ZWN1dGUoZT17fSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQsbj1lLnRleHR8fCcnLGk9bi5sZW5ndGgscj1lLnJhbmdlfHxvLnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCksYT1lLnJlc3VsdFJhbmdlO3QuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsKGUpPT57Y29uc3QgdD1yLmlzQ29sbGFwc2VkO3RoaXMuX2J1ZmZlci5sb2NrKCksdHx8ZS5yZW1vdmUociksbiYmZS5pbnNlcnRUZXh0KG4sby5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlcygpLHIuc3RhcnQpLGE/ZS5zZXRTZWxlY3Rpb24oYSk6dCYmZS5zZXRTZWxlY3Rpb24oci5zdGFydC5nZXRTaGlmdGVkQnkoaSkpLHRoaXMuX2J1ZmZlci51bmxvY2soKSx0aGlzLl9idWZmZXIuaW5wdXQoaSl9KX19Y2xhc3MgdmggZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW5wdXQnfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5lZGl0aW5nLnZpZXcsbz1uZXcgd2goZSxlLmNvbmZpZy5nZXQoJ3R5cGluZy51bmRvU3RlcCcpfHwyMCk7ZS5jb21tYW5kcy5hZGQoJ2lucHV0JyxvKSx0aGlzLmxpc3RlblRvKHQuZG9jdW1lbnQsJ2tleWRvd24nLChlLHQpPT57dGhpcy5faGFuZGxlS2V5ZG93bih0LG8pfSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLmxpc3RlblRvKHQuZG9jdW1lbnQsJ211dGF0aW9ucycsKGUsdCxvKT0+e3RoaXMuX2hhbmRsZU11dGF0aW9ucyh0LG8pfSl9X2hhbmRsZUtleWRvd24oZSx0KXtjb25zdCBvPXRoaXMuZWRpdG9yLm1vZGVsLG49by5kb2N1bWVudCxpPXQuYnVmZmVyOyF0LmlzRW5hYmxlZHx8RmkoZSl8fG4uc2VsZWN0aW9uLmlzQ29sbGFwc2VkfHwoaS5sb2NrKCksby5lbnF1ZXVlQ2hhbmdlKGkuYmF0Y2gsKCk9Pnt0aGlzLmVkaXRvci5tb2RlbC5kZWxldGVDb250ZW50KG4uc2VsZWN0aW9uKX0pLGkudW5sb2NrKCkpfV9oYW5kbGVNdXRhdGlvbnMoZSx0KXtuZXcgeWgodGhpcy5lZGl0b3IpLmhhbmRsZShlLHQpfX1jbGFzcyB5aHtjb25zdHJ1Y3RvcihlKXt0aGlzLmVkaXRvcj1lLHRoaXMuZWRpdGluZz10aGlzLmVkaXRvci5lZGl0aW5nfWhhbmRsZShlLHQpe2lmKEJpKGUpKXRoaXMuX2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKGUsdCk7ZWxzZSBmb3IoY29uc3QgbyBvZiBlKXRoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihvLHQpLHRoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKG8pfV9oYW5kbGVDb250YWluZXJDaGlsZHJlbk11dGF0aW9ucyhlLHQpe2NvbnN0IG89TWkoZSk7aWYoIW8pcmV0dXJuO2NvbnN0IG49dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvbUNvbnZlcnRlcixpPW4ubWFwVmlld1RvRG9tKG8pLHI9bmV3IGhtLGE9dGhpcy5lZGl0b3IuZGF0YS50b01vZGVsKHIuZG9tVG9WaWV3KGkpKS5nZXRDaGlsZCgwKSxzPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KG8pO2lmKCFzKXJldHVybjtjb25zdCBsPUFycmF5LmZyb20oYS5nZXRDaGlsZHJlbigpKSxkPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKSxjPWxbbC5sZW5ndGgtMV0sbT1kW2QubGVuZ3RoLTFdO2lmKGMmJmMuaXMoJ3NvZnRCcmVhaycpJiZtJiYhbS5pcygnc29mdEJyZWFrJykmJmwucG9wKCksIUxpKGwpfHwhTGkoZCkpcmV0dXJuO2NvbnN0IHU9bC5tYXAoKGUpPT5lLmlzKCd0ZXh0Jyk/ZS5kYXRhOidAJykuam9pbignJykucmVwbGFjZSgvXFx1MDBBMC9nLCcgJykscD1kLm1hcCgoZSk9PmUuaXMoJ3RleHQnKT9lLmRhdGE6J0AnKS5qb2luKCcnKTtpZihwPT09dSlyZXR1cm47Y29uc3QgZz1UZShwLHUpLHtmaXJzdENoYW5nZUF0OmYsaW5zZXJ0aW9uczpoLGRlbGV0aW9uczpifT16aShnKTtsZXQgaz1udWxsO3QmJihrPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFJhbmdlKHQuZ2V0Rmlyc3RSYW5nZSgpKSk7Y29uc3QgXz11LnN1YnN0cihmLGgpLHc9cHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHMsZixzLGYrYik7dGhpcy5lZGl0b3IuZXhlY3V0ZSgnaW5wdXQnLHt0ZXh0Ol8scmFuZ2U6dyxyZXN1bHRSYW5nZTprfSl9X2hhbmRsZVRleHRNdXRhdGlvbihlLHQpe2lmKCd0ZXh0JyE9ZS50eXBlKXJldHVybjtjb25zdCBvPWUubmV3VGV4dC5yZXBsYWNlKC9cXHUwMEEwL2csJyAnKSxuPWUub2xkVGV4dC5yZXBsYWNlKC9cXHUwMEEwL2csJyAnKSxpPVRlKG4sbykse2ZpcnN0Q2hhbmdlQXQ6cixpbnNlcnRpb25zOmEsZGVsZXRpb25zOnN9PXppKGkpO2xldCBsPW51bGw7dCYmKGw9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UodC5nZXRGaXJzdFJhbmdlKCkpKTtjb25zdCBkPW5ldyBXYyhlLm5vZGUsciksYz10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxQb3NpdGlvbihkKSxtPXB1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGMscyksdT1vLnN1YnN0cihyLGEpO3RoaXMuZWRpdG9yLmV4ZWN1dGUoJ2lucHV0Jyx7dGV4dDp1LHJhbmdlOm0scmVzdWx0UmFuZ2U6bH0pfV9oYW5kbGVUZXh0Tm9kZUluc2VydGlvbihlKXtpZignY2hpbGRyZW4nPT1lLnR5cGUpe2NvbnN0IHQ9RGkoZSksbz1uZXcgV2MoZS5ub2RlLHQuaW5kZXgpLG49dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUG9zaXRpb24obyksaT10LnZhbHVlc1swXS5kYXRhO3RoaXMuZWRpdG9yLmV4ZWN1dGUoJ2lucHV0Jyx7dGV4dDppLnJlcGxhY2UoL1xcdTAwQTAvZywnICcpLHJhbmdlOm5ldyBwdShuKX0pfX19Y29uc3QgeGg9W3RlKCdhcnJvd1VwJyksdGUoJ2Fycm93UmlnaHQnKSx0ZSgnYXJyb3dEb3duJyksdGUoJ2Fycm93TGVmdCcpLDksMTYsMTcsMTgsMjAsMjcsMzMsMzQsMzUsMzYsMjI5XTtmb3IobGV0IG49MTEyOzEzNT49bjtuKyspeGgucHVzaChuKTtjbGFzcyBDaCBleHRlbmRzIHBoe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5kaXJlY3Rpb249dCx0aGlzLl9idWZmZXI9bmV3IF9oKGUubW9kZWwsZS5jb25maWcuZ2V0KCd0eXBpbmcudW5kb1N0ZXAnKSl9ZXhlY3V0ZShlPXt9KXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5kb2N1bWVudDt0LmVucXVldWVDaGFuZ2UodGhpcy5fYnVmZmVyLmJhdGNoLChuKT0+e3RoaXMuX2J1ZmZlci5sb2NrKCk7Y29uc3QgaT1uZXcgYnUoby5zZWxlY3Rpb24pLHI9aS5pc0NvbGxhcHNlZDtpZihpLmlzQ29sbGFwc2VkJiZ0Lm1vZGlmeVNlbGVjdGlvbihpLHtkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb24sdW5pdDplLnVuaXR9KSx0aGlzLl9zaG91bGRFbnRpcmVDb250ZW50QmVSZXBsYWNlZFdpdGhQYXJhZ3JhcGgoZS5zZXF1ZW5jZXx8MSkpcmV0dXJuIHZvaWQgdGhpcy5fcmVwbGFjZUVudGlyZUNvbnRlbnRXaXRoUGFyYWdyYXBoKG4pO2lmKGkuaXNDb2xsYXBzZWQpcmV0dXJuO2xldCBhPTA7aS5nZXRGaXJzdFJhbmdlKCkuZ2V0TWluaW1hbEZsYXRSYW5nZXMoKS5mb3JFYWNoKChlKT0+e2ErPVkoZS5nZXRXYWxrZXIoe3NpbmdsZUNoYXJhY3RlcnM6ITAsaWdub3JlRWxlbWVudEVuZDohMCxzaGFsbG93OiEwfSkpfSksdC5kZWxldGVDb250ZW50KGkse2RvTm90UmVzZXRFbnRpcmVDb250ZW50OnJ9KSx0aGlzLl9idWZmZXIuaW5wdXQoYSksbi5zZXRTZWxlY3Rpb24oaSksdGhpcy5fYnVmZmVyLnVubG9jaygpfSl9X3Nob3VsZEVudGlyZUNvbnRlbnRCZVJlcGxhY2VkV2l0aFBhcmFncmFwaChlKXtpZigxPGUpcmV0dXJuITE7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQsbj1vLnNlbGVjdGlvbixpPXQuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKSxyPW4uaXNDb2xsYXBzZWQmJm4uY29udGFpbnNFbnRpcmVDb250ZW50KGkpO2lmKCFyKXJldHVybiExO2lmKCF0LnNjaGVtYS5jaGVja0NoaWxkKGksJ3BhcmFncmFwaCcpKXJldHVybiExO2NvbnN0IGE9aS5nZXRDaGlsZCgwKTtyZXR1cm4hKGEmJidwYXJhZ3JhcGgnPT09YS5uYW1lKX1fcmVwbGFjZUVudGlyZUNvbnRlbnRXaXRoUGFyYWdyYXBoKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LG49by5zZWxlY3Rpb24saT10LnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQobikscj1uZXcgZHUoJ3BhcmFncmFwaCcpO2UucmVtb3ZlKHB1LmNyZWF0ZUluKGkpKSxlLmluc2VydChyLGkpLGUuc2V0U2VsZWN0aW9uKHIsMCl9fWNsYXNzIEFoIGV4dGVuZHMgd217Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD1lLmRvY3VtZW50O2xldCBvPTA7dC5vbigna2V5dXAnLChlLHQpPT57KHQua2V5Q29kZT09bm0uZGVsZXRlfHx0LmtleUNvZGU9PW5tLmJhY2tzcGFjZSkmJihvPTApfSksdC5vbigna2V5ZG93bicsKGUsbik9Pntjb25zdCBpPXt9O2lmKG4ua2V5Q29kZT09bm0uZGVsZXRlKWkuZGlyZWN0aW9uPSdmb3J3YXJkJyxpLnVuaXQ9J2NoYXJhY3Rlcic7ZWxzZSBpZihuLmtleUNvZGU9PW5tLmJhY2tzcGFjZSlpLmRpcmVjdGlvbj0nYmFja3dhcmQnLGkudW5pdD0nY29kZVBvaW50JztlbHNlIHJldHVybjtjb25zdCByPWVtLmlzTWFjP24uYWx0S2V5Om4uY3RybEtleTtpLnVuaXQ9cj8nd29yZCc6aS51bml0LGkuc2VxdWVuY2U9KytvO2xldCBhO3Qub25jZSgnZGVsZXRlJywoZSk9PmE9ZSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdC5maXJlKCdkZWxldGUnLG5ldyBqbSh0LG4uZG9tRXZlbnQsaSkpLGEmJmEuc3RvcC5jYWxsZWQmJmUuc3RvcCgpfSl9b2JzZXJ2ZSgpe319Y2xhc3MgVGggZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nRGVsZXRlJ31pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuZWRpdGluZy52aWV3LG89dC5kb2N1bWVudDt0LmFkZE9ic2VydmVyKEFoKSxlLmNvbW1hbmRzLmFkZCgnZm9yd2FyZERlbGV0ZScsbmV3IENoKGUsJ2ZvcndhcmQnKSksZS5jb21tYW5kcy5hZGQoJ2RlbGV0ZScsbmV3IENoKGUsJ2JhY2t3YXJkJykpLHRoaXMubGlzdGVuVG8obywnZGVsZXRlJywobyxuKT0+e2UuZXhlY3V0ZSgnZm9yd2FyZCc9PW4uZGlyZWN0aW9uPydmb3J3YXJkRGVsZXRlJzonZGVsZXRlJyx7dW5pdDpuLnVuaXQsc2VxdWVuY2U6bi5zZXF1ZW5jZX0pLG4ucHJldmVudERlZmF1bHQoKSx0LnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9KX19Y2xhc3MgUGggZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3ZoLFRoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nVHlwaW5nJ319Y2xhc3MgRWggZXh0ZW5kcyBwaHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9zdGFjaz1bXSx0aGlzLl9jcmVhdGVkQmF0Y2hlcz1uZXcgV2Vha1NldCx0aGlzLnJlZnJlc2goKX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9MDx0aGlzLl9zdGFjay5sZW5ndGh9YWRkQmF0Y2goZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sbz17cmFuZ2VzOnQuaGFzT3duUmFuZ2U/QXJyYXkuZnJvbSh0LmdldFJhbmdlcygpKTpbXSxpc0JhY2t3YXJkOnQuaXNCYWNrd2FyZH07dGhpcy5fc3RhY2sucHVzaCh7YmF0Y2g6ZSxzZWxlY3Rpb246b30pLHRoaXMucmVmcmVzaCgpfWNsZWFyU3RhY2soKXt0aGlzLl9zdGFjaz1bXSx0aGlzLnJlZnJlc2goKX1fcmVzdG9yZVNlbGVjdGlvbihlLHQsbyl7Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbCxpPW4uZG9jdW1lbnQscj1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPWppKG4sbyksdD1lLmZpbmQoKGUpPT5lLnN0YXJ0LnJvb3QhPWkuZ3JhdmV5YXJkKTt0JiZyLnB1c2godCl9ci5sZW5ndGgmJm4uY2hhbmdlKChlKT0+e2Uuc2V0U2VsZWN0aW9uKHIse2JhY2t3YXJkOnR9KX0pfV91bmRvKGUsdCl7Y29uc3Qgbz10aGlzLmVkaXRvci5tb2RlbCxuPW8uZG9jdW1lbnQ7dGhpcy5fY3JlYXRlZEJhdGNoZXMuYWRkKHQpO2NvbnN0IGk9ZS5kZWx0YXMuc2xpY2UoKTtpLnJldmVyc2UoKTtmb3IoY29uc3QgciBvZiBpKWlmKHIub3BlcmF0aW9ucy5zb21lKChlKT0+ZS5pc0RvY3VtZW50T3BlcmF0aW9uKSl7Y29uc3QgZT1yLmJhc2VWZXJzaW9uK3Iub3BlcmF0aW9ucy5sZW5ndGgsaT1BcnJheS5mcm9tKG4uaGlzdG9yeS5nZXREZWx0YXMoZSkpLGE9by50cmFuc2Zvcm1EZWx0YXMoW3IuZ2V0UmV2ZXJzZWQoKV0saSwhMCkscz1hLmRlbHRhc0E7Zm9yKGNvbnN0IGUgb2Ygcyl7ZS5iYXNlVmVyc2lvbj1uLnZlcnNpb24sdC5hZGREZWx0YShlKTtmb3IoY29uc3QgdCBvZiBlLm9wZXJhdGlvbnMpby5hcHBseU9wZXJhdGlvbih0KTtuLmhpc3Rvcnkuc2V0RGVsdGFBc1VuZG9uZShyLGUpfX19fWNsYXNzIFNoIGV4dGVuZHMgRWh7ZXhlY3V0ZShlPW51bGwpe2NvbnN0IHQ9ZT90aGlzLl9zdGFjay5maW5kSW5kZXgoKHQpPT50LmJhdGNoPT1lKTp0aGlzLl9zdGFjay5sZW5ndGgtMSxvPXRoaXMuX3N0YWNrLnNwbGljZSh0LDEpWzBdLG49bmV3IHJmO3RoaXMuZWRpdG9yLm1vZGVsLmVucXVldWVDaGFuZ2UobiwoKT0+e3RoaXMuX3VuZG8oby5iYXRjaCxuKTtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50Lmhpc3RvcnkuZ2V0RGVsdGFzKG8uYmF0Y2guYmFzZVZlcnNpb24pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24oby5zZWxlY3Rpb24ucmFuZ2VzLG8uc2VsZWN0aW9uLmlzQmFja3dhcmQsZSksdGhpcy5maXJlKCdyZXZlcnQnLG8uYmF0Y2gsbil9KSx0aGlzLnJlZnJlc2goKX19Y2xhc3MgT2ggZXh0ZW5kcyBFaHtleGVjdXRlKCl7Y29uc3QgZT10aGlzLl9zdGFjay5wb3AoKSx0PW5ldyByZjt0aGlzLmVkaXRvci5tb2RlbC5lbnF1ZXVlQ2hhbmdlKHQsKCk9Pntjb25zdCBvPWUuYmF0Y2guZGVsdGFzW2UuYmF0Y2guZGVsdGFzLmxlbmd0aC0xXSxuPW8uYmFzZVZlcnNpb24rby5vcGVyYXRpb25zLmxlbmd0aCxpPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50Lmhpc3RvcnkuZ2V0RGVsdGFzKG4pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24oZS5zZWxlY3Rpb24ucmFuZ2VzLGUuc2VsZWN0aW9uLmlzQmFja3dhcmQsaSksdGhpcy5fdW5kbyhlLmJhdGNoLHQpfSksdGhpcy5yZWZyZXNoKCl9fWNsYXNzIEloIGV4dGVuZHMgbGh7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fYmF0Y2hSZWdpc3RyeT1uZXcgV2Vha1NldH1pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcjt0aGlzLl91bmRvQ29tbWFuZD1uZXcgU2goZSksdGhpcy5fcmVkb0NvbW1hbmQ9bmV3IE9oKGUpLGUuY29tbWFuZHMuYWRkKCd1bmRvJyx0aGlzLl91bmRvQ29tbWFuZCksZS5jb21tYW5kcy5hZGQoJ3JlZG8nLHRoaXMuX3JlZG9Db21tYW5kKSx0aGlzLmxpc3RlblRvKGUubW9kZWwsJ2FwcGx5T3BlcmF0aW9uJywoZSx0KT0+e2NvbnN0IG89dFswXTtpZihvLmlzRG9jdW1lbnRPcGVyYXRpb24pe2NvbnN0IGU9by5kZWx0YS5iYXRjaDt0aGlzLl9iYXRjaFJlZ2lzdHJ5LmhhcyhlKXx8J3RyYW5zcGFyZW50Jz09ZS50eXBlfHwodGhpcy5fcmVkb0NvbW1hbmQuX2NyZWF0ZWRCYXRjaGVzLmhhcyhlKT90aGlzLl91bmRvQ29tbWFuZC5hZGRCYXRjaChlKTohdGhpcy5fdW5kb0NvbW1hbmQuX2NyZWF0ZWRCYXRjaGVzLmhhcyhlKSYmKHRoaXMuX3VuZG9Db21tYW5kLmFkZEJhdGNoKGUpLHRoaXMuX3JlZG9Db21tYW5kLmNsZWFyU3RhY2soKSksdGhpcy5fYmF0Y2hSZWdpc3RyeS5hZGQoZSkpfX0se3ByaW9yaXR5OidoaWdoZXN0J30pLHRoaXMubGlzdGVuVG8odGhpcy5fdW5kb0NvbW1hbmQsJ3JldmVydCcsKGUsdCxvKT0+e3RoaXMuX3JlZG9Db21tYW5kLmFkZEJhdGNoKG8pfSksZS5rZXlzdHJva2VzLnNldCgnQ1RSTCtaJywndW5kbycpLGUua2V5c3Ryb2tlcy5zZXQoJ0NUUkwrWScsJ3JlZG8nKSxlLmtleXN0cm9rZXMuc2V0KCdDVFJMK1NISUZUK1onLCdyZWRvJyl9fXZhciBSaD1vKDI0KSxWaD1vLm4oUmgpO2NsYXNzIEZoIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoJ2NvbnRlbnQnLCcnKSx0aGlzLnNldCgndmlld0JveCcsJzAgMCAyMCAyMCcpLHRoaXMuc2V0KCdmaWxsQ29sb3InLCcnKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J3N2ZycsbnM6J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2staWNvbiddLHZpZXdCb3g6ZS50bygndmlld0JveCcpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX3VwZGF0ZVhNTENvbnRlbnQoKSx0aGlzLl9jb2xvckZpbGxQYXRocygpLHRoaXMub24oJ2NoYW5nZTpjb250ZW50JywoKT0+e3RoaXMuX3VwZGF0ZVhNTENvbnRlbnQoKSx0aGlzLl9jb2xvckZpbGxQYXRocygpfSksdGhpcy5vbignY2hhbmdlOmZpbGxDb2xvcicsKCk9Pnt0aGlzLl9jb2xvckZpbGxQYXRocygpfSl9X3VwZGF0ZVhNTENvbnRlbnQoKXtpZih0aGlzLmNvbnRlbnQpe2NvbnN0IGU9bmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0aGlzLmNvbnRlbnQudHJpbSgpLCdpbWFnZS9zdmcreG1sJyksdD1lLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLG89dC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKTtmb3IobyYmKHRoaXMudmlld0JveD1vKSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPScnOzA8dC5jaGlsZE5vZGVzLmxlbmd0aDspdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQuY2hpbGROb2Rlc1swXSl9fV9jb2xvckZpbGxQYXRocygpe3RoaXMuZmlsbENvbG9yJiZ0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNrLWljb25fX2ZpbGwnKS5mb3JFYWNoKChlKT0+e2Uuc3R5bGUuZmlsbD10aGlzLmZpbGxDb2xvcn0pfX12YXIgTmg9bygyNiksRGg9by5uKE5oKTtjbGFzcyBNaCBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2V0KCd0ZXh0JywnJyksdGhpcy5zZXQoJ3Bvc2l0aW9uJywncycpO2NvbnN0IHQ9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidzcGFuJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stdG9vbHRpcCcsdC50bygncG9zaXRpb24nLChlKT0+J2NrLXRvb2x0aXBfJytlKSx0LmlmKCd0ZXh0JywnY2staGlkZGVuJywoZSk9PiFlLnRyaW0oKSldfSxjaGlsZHJlbjpbe3RhZzonc3BhbicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXRvb2x0aXBfX3RleHQnXX0sY2hpbGRyZW46W3t0ZXh0OnQudG8oJ3RleHQnKX1dfV19KX19dmFyIEJoPW8oMjgpLExoPW8ubihCaCk7Y2xhc3MgemggZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlLG89aSgpO3RoaXMuc2V0KCdpY29uJyksdGhpcy5zZXQoJ2lzRW5hYmxlZCcsITApLHRoaXMuc2V0KCdpc09uJywhMSksdGhpcy5zZXQoJ2lzVmlzaWJsZScsITApLHRoaXMuc2V0KCdrZXlzdHJva2UnKSx0aGlzLnNldCgnbGFiZWwnKSx0aGlzLnNldCgndGFiaW5kZXgnLC0xKSx0aGlzLnNldCgndG9vbHRpcCcpLHRoaXMuc2V0KCd0b29sdGlwUG9zaXRpb24nLCdzJyksdGhpcy5zZXQoJ3R5cGUnLCdidXR0b24nKSx0aGlzLnNldCgnd2l0aFRleHQnLCExKSx0aGlzLmNoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMudG9vbHRpcFZpZXc9dGhpcy5fY3JlYXRlVG9vbHRpcFZpZXcoKSx0aGlzLmxhYmVsVmlldz10aGlzLl9jcmVhdGVMYWJlbFZpZXcobyksdGhpcy5pY29uVmlldz1uZXcgRmgsdGhpcy5pY29uVmlldy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6J2NrLWJ1dHRvbl9faWNvbid9fSksdGhpcy5iaW5kKCdfdG9vbHRpcFN0cmluZycpLnRvKHRoaXMsJ3Rvb2x0aXAnLHRoaXMsJ2xhYmVsJyx0aGlzLCdrZXlzdHJva2UnLHRoaXMuX2dldFRvb2x0aXBTdHJpbmcuYmluZCh0aGlzKSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOididXR0b24nLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1idXR0b24nLHQuaWYoJ2lzRW5hYmxlZCcsJ2NrLWRpc2FibGVkJywoZSk9PiFlKSx0LmlmKCdpc1Zpc2libGUnLCdjay1oaWRkZW4nLChlKT0+IWUpLHQudG8oJ2lzT24nLChlKT0+ZT8nY2stb24nOidjay1vZmYnKSx0LmlmKCd3aXRoVGV4dCcsJ2NrLWJ1dHRvbl93aXRoLXRleHQnKV0sdHlwZTp0LnRvKCd0eXBlJywoZSk9PmU/ZTonYnV0dG9uJyksdGFiaW5kZXg6dC50bygndGFiaW5kZXgnKSxcImFyaWEtbGFiZWxsZWRieVwiOmBjay1lZGl0b3JfX2FyaWEtbGFiZWxfJHtvfWAsXCJhcmlhLWRpc2FibGVkXCI6dC5pZignaXNFbmFibGVkJywhMCwoZSk9PiFlKSxcImFyaWEtcHJlc3NlZFwiOnQuaWYoJ2lzT24nLCEwKX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbixvbjp7bW91c2Vkb3duOnQudG8oKGUpPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSksY2xpY2s6dC50bygoZSk9Pnt0aGlzLmlzRW5hYmxlZD90aGlzLmZpcmUoJ2V4ZWN1dGUnKTplLnByZXZlbnREZWZhdWx0KCl9KX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmljb24mJih0aGlzLmljb25WaWV3LmJpbmQoJ2NvbnRlbnQnKS50byh0aGlzLCdpY29uJyksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5pY29uVmlldykpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMudG9vbHRpcFZpZXcpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMubGFiZWxWaWV3KX1mb2N1cygpe3RoaXMuZWxlbWVudC5mb2N1cygpfV9jcmVhdGVUb29sdGlwVmlldygpe2NvbnN0IGU9bmV3IE1oO3JldHVybiBlLmJpbmQoJ3RleHQnKS50byh0aGlzLCdfdG9vbHRpcFN0cmluZycpLGUuYmluZCgncG9zaXRpb24nKS50byh0aGlzLCd0b29sdGlwUG9zaXRpb24nKSxlfV9jcmVhdGVMYWJlbFZpZXcoZSl7Y29uc3QgdD1uZXcgQmY7cmV0dXJuIHQuc2V0VGVtcGxhdGUoe3RhZzonc3BhbicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWJ1dHRvbl9fbGFiZWwnXSxpZDpgY2stZWRpdG9yX19hcmlhLWxhYmVsXyR7ZX1gfSxjaGlsZHJlbjpbe3RleHQ6dGhpcy5iaW5kVGVtcGxhdGUudG8oJ2xhYmVsJyl9XX0pLHR9X2dldFRvb2x0aXBTdHJpbmcoZSx0LG8pe3JldHVybiBlPydzdHJpbmcnPT10eXBlb2YgZT9lOihvJiYobz1uZShvKSksZSBpbnN0YW5jZW9mIEZ1bmN0aW9uP2UodCxvKTpgJHt0fSR7bz9gICgke299KWA6Jyd9YCk6Jyd9fXZhciBqaD1vKDMwKSxxaD1vLm4oamgpLFdoPW8oMzEpLFVoPW8ubihXaCk7Y2xhc3MgSGggZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDt0aGlzLl9hZGRCdXR0b24oJ3VuZG8nLG8oJ2FpJyksJ0NUUkwrWicscWguYSksdGhpcy5fYWRkQnV0dG9uKCdyZWRvJyxvKCdhaicpLCdDVFJMK1knLFVoLmEpfV9hZGRCdXR0b24oZSx0LG8sbil7Y29uc3QgaT10aGlzLmVkaXRvcjtpLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGUsKHIpPT57Y29uc3QgYT1pLmNvbW1hbmRzLmdldChlKSxzPW5ldyB6aChyKTtyZXR1cm4gcy5zZXQoe2xhYmVsOnQsaWNvbjpuLGtleXN0cm9rZTpvLHRvb2x0aXA6ITB9KSxzLmJpbmQoJ2lzRW5hYmxlZCcpLnRvKGEsJ2lzRW5hYmxlZCcpLHRoaXMubGlzdGVuVG8ocywnZXhlY3V0ZScsKCk9PmkuZXhlY3V0ZShlKSksc30pfX1jbGFzcyBLaCBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bSWgsSGhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidVbmRvJ319Y2xhc3MgR2ggZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3VoLGhoLGtoLFBoLEtoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nRXNzZW50aWFscyd9fWNsYXNzICRoIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1BlbmRpbmdBY3Rpb25zJ31pbml0KCl7dGhpcy5zZXQoJ2lzUGVuZGluZycsITEpLHRoaXMuX2FjdGlvbnM9bmV3IEdjKHtpZFByb3BlcnR5OidfaWQnfSksdGhpcy5fYWN0aW9ucy5kZWxlZ2F0ZSgnYWRkJywncmVtb3ZlJykudG8odGhpcyl9YWRkKGUpe2lmKCdzdHJpbmcnIT10eXBlb2YgZSl0aHJvdyBuZXcgX3MoJ3BlbmRpbmdhY3Rpb25zLWFkZC1pbnZhbGlkLW1lc3NhZ2U6IFRoZSBtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmcuJyk7Y29uc3QgdD1PYmplY3QuY3JlYXRlKE1jKTtyZXR1cm4gdC5zZXQoJ21lc3NhZ2UnLGUpLHRoaXMuX2FjdGlvbnMuYWRkKHQpLHRoaXMuaXNQZW5kaW5nPSEwLHR9cmVtb3ZlKGUpe3RoaXMuX2FjdGlvbnMucmVtb3ZlKGUpLHRoaXMuaXNQZW5kaW5nPSEhdGhpcy5fYWN0aW9ucy5sZW5ndGh9Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMuZ2V0KDApfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpfX1jbGFzcyBKaHtjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9bmV3IHdpbmRvdy5GaWxlUmVhZGVyO3RoaXMuX3JlYWRlcj1lLHRoaXMuc2V0KCdsb2FkZWQnLDApLGUub25wcm9ncmVzcz0oZSk9Pnt0aGlzLmxvYWRlZD1lLmxvYWRlZH19Z2V0IGVycm9yKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5lcnJvcn1yZWFkKGUpe2NvbnN0IHQ9dGhpcy5fcmVhZGVyO3JldHVybiB0aGlzLnRvdGFsPWUuc2l6ZSxuZXcgUHJvbWlzZSgobyxuKT0+e3Qub25sb2FkPSgpPT57byh0LnJlc3VsdCl9LHQub25lcnJvcj0oKT0+e24oJ2Vycm9yJyl9LHQub25hYm9ydD0oKT0+e24oJ2Fib3J0ZWQnKX0sdGhpcy5fcmVhZGVyLnJlYWRBc0RhdGFVUkwoZSl9KX1hYm9ydCgpe3RoaXMuX3JlYWRlci5hYm9ydCgpfX1mKEpoLE1jKTtjbGFzcyBRaCBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidGaWxlUmVwb3NpdG9yeSd9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblskaF19aW5pdCgpe3RoaXMubG9hZGVycz1uZXcgR2MsdGhpcy5sb2FkZXJzLm9uKCdhZGQnLCgpPT50aGlzLl91cGRhdGVQZW5kaW5nQWN0aW9uKCkpLHRoaXMubG9hZGVycy5vbigncmVtb3ZlJywoKT0+dGhpcy5fdXBkYXRlUGVuZGluZ0FjdGlvbigpKSx0aGlzLl9wZW5kaW5nQWN0aW9uPW51bGwsdGhpcy5zZXQoJ3VwbG9hZGVkJywwKSx0aGlzLnNldCgndXBsb2FkVG90YWwnLG51bGwpLHRoaXMuYmluZCgndXBsb2FkZWRQZXJjZW50JykudG8odGhpcywndXBsb2FkZWQnLHRoaXMsJ3VwbG9hZFRvdGFsJywoZSx0KT0+dD8xMDAqKGUvdCk6MCl9Z2V0TG9hZGVyKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMubG9hZGVycylpZih0LmZpbGU9PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Y3JlYXRlTG9hZGVyKGUpe2lmKCF0aGlzLmNyZWF0ZVVwbG9hZEFkYXB0ZXIpcmV0dXJuIFhtLmVycm9yKCdmaWxlcmVwb3NpdG9yeS1uby11cGxvYWQtYWRhcHRlcjogVXBsb2FkIGFkYXB0ZXIgaXMgbm90IGRlZmluZWQuJyksbnVsbDtjb25zdCB0PW5ldyBZaChlKTtyZXR1cm4gdC5fYWRhcHRlcj10aGlzLmNyZWF0ZVVwbG9hZEFkYXB0ZXIodCksdGhpcy5sb2FkZXJzLmFkZCh0KSx0Lm9uKCdjaGFuZ2U6dXBsb2FkZWQnLCgpPT57bGV0IGU9MDtmb3IoY29uc3QgdCBvZiB0aGlzLmxvYWRlcnMpZSs9dC51cGxvYWRlZDt0aGlzLnVwbG9hZGVkPWV9KSx0Lm9uKCdjaGFuZ2U6dXBsb2FkVG90YWwnLCgpPT57bGV0IGU9MDtmb3IoY29uc3QgdCBvZiB0aGlzLmxvYWRlcnMpdC51cGxvYWRUb3RhbCYmKGUrPXQudXBsb2FkVG90YWwpO3RoaXMudXBsb2FkVG90YWw9ZX0pLHR9ZGVzdHJveUxvYWRlcihlKXtjb25zdCB0PWUgaW5zdGFuY2VvZiBZaD9lOnRoaXMuZ2V0TG9hZGVyKGUpO3QuX2Rlc3Ryb3koKSx0aGlzLmxvYWRlcnMucmVtb3ZlKHQpfV91cGRhdGVQZW5kaW5nQWN0aW9uKCl7Y29uc3QgZT10aGlzLmVkaXRvci5wbHVnaW5zLmdldCgkaCk7aWYoIXRoaXMubG9hZGVycy5sZW5ndGgpZS5yZW1vdmUodGhpcy5fcGVuZGluZ0FjdGlvbiksdGhpcy5fcGVuZGluZ0FjdGlvbj1udWxsO2Vsc2UgaWYoIXRoaXMuX3BlbmRpbmdBY3Rpb24pe2NvbnN0IG89dGhpcy5lZGl0b3IudCx0PShlKT0+YCR7bygnYWUnKX0gJHtwYXJzZUludChlKX0lLmA7dGhpcy5fcGVuZGluZ0FjdGlvbj1lLmFkZCh0KHRoaXMudXBsb2FkZWRQZXJjZW50KSksdGhpcy5fcGVuZGluZ0FjdGlvbi5iaW5kKCdtZXNzYWdlJykudG8odGhpcywndXBsb2FkZWRQZXJjZW50Jyx0KX19fWYoUWgsTWMpO2NsYXNzIFloe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5pZD1pKCksdGhpcy5maWxlPWUsdGhpcy5fYWRhcHRlcj10LHRoaXMuX3JlYWRlcj1uZXcgSmgsdGhpcy5zZXQoJ3N0YXR1cycsJ2lkbGUnKSx0aGlzLnNldCgndXBsb2FkZWQnLDApLHRoaXMuc2V0KCd1cGxvYWRUb3RhbCcsbnVsbCksdGhpcy5iaW5kKCd1cGxvYWRlZFBlcmNlbnQnKS50byh0aGlzLCd1cGxvYWRlZCcsdGhpcywndXBsb2FkVG90YWwnLChlLHQpPT50PzEwMCooZS90KTowKSx0aGlzLnNldCgndXBsb2FkUmVzcG9uc2UnLG51bGwpfXJlYWQoKXtpZignaWRsZSchPXRoaXMuc3RhdHVzKXRocm93IG5ldyBfcygnZmlsZXJlcG9zaXRvcnktcmVhZC13cm9uZy1zdGF0dXM6IFlvdSBjYW5ub3QgY2FsbCByZWFkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS4nKTtyZXR1cm4gdGhpcy5zdGF0dXM9J3JlYWRpbmcnLHRoaXMuX3JlYWRlci5yZWFkKHRoaXMuZmlsZSkudGhlbigoZSk9Pih0aGlzLnN0YXR1cz0naWRsZScsZSkpLmNhdGNoKChlKT0+e2lmKCdhYm9ydGVkJz09PWUpdGhyb3cgdGhpcy5zdGF0dXM9J2Fib3J0ZWQnLCdhYm9ydGVkJzt0aHJvdyB0aGlzLnN0YXR1cz0nZXJyb3InLHRoaXMuX3JlYWRlci5lcnJvcn0pfXVwbG9hZCgpe2lmKCdpZGxlJyE9dGhpcy5zdGF0dXMpdGhyb3cgbmV3IF9zKCdmaWxlcmVwb3NpdG9yeS11cGxvYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgdXBsb2FkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS4nKTtyZXR1cm4gdGhpcy5zdGF0dXM9J3VwbG9hZGluZycsdGhpcy5fYWRhcHRlci51cGxvYWQoKS50aGVuKChlKT0+KHRoaXMudXBsb2FkUmVzcG9uc2U9ZSx0aGlzLnN0YXR1cz0naWRsZScsZSkpLmNhdGNoKChlKT0+e2lmKCdhYm9ydGVkJz09PXRoaXMuc3RhdHVzKXRocm93J2Fib3J0ZWQnO3Rocm93IHRoaXMuc3RhdHVzPSdlcnJvcicsZX0pfWFib3J0KCl7Y29uc3QgZT10aGlzLnN0YXR1czt0aGlzLnN0YXR1cz0nYWJvcnRlZCcsJ3JlYWRpbmcnPT1lJiZ0aGlzLl9yZWFkZXIuYWJvcnQoKSwndXBsb2FkaW5nJz09ZSYmdGhpcy5fYWRhcHRlci5hYm9ydCYmdGhpcy5fYWRhcHRlci5hYm9ydCgpLHRoaXMuX2Rlc3Ryb3koKX1fZGVzdHJveSgpe3RoaXMuX3JlYWRlcj12b2lkIDAsdGhpcy5fYWRhcHRlcj12b2lkIDAsdGhpcy5kYXRhPXZvaWQgMCx0aGlzLnVwbG9hZFJlc3BvbnNlPXZvaWQgMCx0aGlzLmZpbGU9dm9pZCAwfX1mKFloLE1jKTtjb25zdCBYaD0nY2tDc3JmVG9rZW4nLFpoPTQwLGViPSdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO2NsYXNzIHRiIGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltRaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0NLRmluZGVyVXBsb2FkQWRhcHRlcid9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuY29uZmlnLmdldCgnY2tmaW5kZXIudXBsb2FkVXJsJyk7ZSYmKHRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFFoKS5jcmVhdGVVcGxvYWRBZGFwdGVyPSh0KT0+bmV3IG9iKHQsZSx0aGlzLmVkaXRvci50KSl9fWNsYXNzIG9ie2NvbnN0cnVjdG9yKGUsbyxuKXt0aGlzLmxvYWRlcj1lLHRoaXMudXJsPW8sdGhpcy50PW59dXBsb2FkKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57dGhpcy5faW5pdFJlcXVlc3QoKSx0aGlzLl9pbml0TGlzdGVuZXJzKGUsdCksdGhpcy5fc2VuZFJlcXVlc3QoKX0pfWFib3J0KCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9X2luaXRSZXF1ZXN0KCl7Y29uc3QgZT10aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKCdQT1NUJyx0aGlzLnVybCwhMCksZS5yZXNwb25zZVR5cGU9J2pzb24nfV9pbml0TGlzdGVuZXJzKGUsbyl7Y29uc3Qgbj10aGlzLnhocixpPXRoaXMubG9hZGVyLHI9dGhpcy50LHQ9cignYScpK2AgJHtpLmZpbGUubmFtZX0uYDtuLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywoKT0+byh0KSksbi5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsKCk9Pm8oKSksbi5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGk9bi5yZXNwb25zZTtyZXR1cm4gaSYmaS51cGxvYWRlZD92b2lkIGUoe2RlZmF1bHQ6aS51cmx9KTpvKGkmJmkuZXJyb3ImJmkuZXJyb3IubWVzc2FnZT9pLmVycm9yLm1lc3NhZ2U6dCl9KSxuLnVwbG9hZCYmbi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLChlKT0+e2UubGVuZ3RoQ29tcHV0YWJsZSYmKGkudXBsb2FkVG90YWw9ZS50b3RhbCxpLnVwbG9hZGVkPWUubG9hZGVkKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IGU9bmV3IEZvcm1EYXRhO2UuYXBwZW5kKCd1cGxvYWQnLHRoaXMubG9hZGVyLmZpbGUpLGUuYXBwZW5kKCdja0NzcmZUb2tlbicsV2koKSksdGhpcy54aHIuc2VuZChlKX19Y2xhc3MgbmJ7Y29uc3RydWN0b3IoZSx0LG8pe2xldCBuO2lmKCdmdW5jdGlvbic9PXR5cGVvZiBvKW49bztlbHNle249KCk9PntlLmV4ZWN1dGUobyl9fWUubW9kZWwuZG9jdW1lbnQub24oJ2NoYW5nZScsKG8saSk9PntpZigndHJhbnNwYXJlbnQnPT1pLnR5cGUpcmV0dXJuO2NvbnN0IHI9QXJyYXkuZnJvbShlLm1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCkpLGE9clswXTtpZigxIT1yLmxlbmd0aHx8J2luc2VydCchPT1hLnR5cGV8fCckdGV4dCchPWEubmFtZXx8MSE9YS5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9YS5wb3NpdGlvbi50ZXh0Tm9kZXx8YS5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoIXMucGFyZW50LmlzKCdwYXJhZ3JhcGgnKSlyZXR1cm47Y29uc3QgbD10LmV4ZWMocy5kYXRhKTtsJiZlLm1vZGVsLmVucXVldWVDaGFuZ2UoKGUpPT57Y29uc3QgdD1wdS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMocy5wYXJlbnQsMCxzLnBhcmVudCxsWzBdLmxlbmd0aCk7ZS5yZW1vdmUodCksbih7bWF0Y2g6bH0pfSl9KX19Y2xhc3MgaWJ7Y29uc3RydWN0b3IoZSx0LG8pe2xldCBuLGkscixhO3QgaW5zdGFuY2VvZiBSZWdFeHA/bj10OnI9dCwnc3RyaW5nJz09dHlwZW9mIG8/aT1vOmE9byxyPXJ8fCgoZSk9PntsZXQgdDtjb25zdCBvPVtdLGk9W107Zm9yKDtudWxsIT09KHQ9bi5leGVjKGUpKSYmISh0JiY0PnQubGVuZ3RoKTspe2xldHtpbmRleDplLDE6biwyOnIsMzphfT10O2UrPXRbMF0ubGVuZ3RoLShuK3IrYSkubGVuZ3RoO2NvbnN0IHM9W2UsZStuLmxlbmd0aF0sbD1bZStuLmxlbmd0aCtyLmxlbmd0aCxlK24ubGVuZ3RoK3IubGVuZ3RoK2EubGVuZ3RoXTtvLnB1c2gocyksby5wdXNoKGwpLGkucHVzaChbZStuLmxlbmd0aCxlK24ubGVuZ3RoK3IubGVuZ3RoXSl9cmV0dXJue3JlbW92ZTpvLGZvcm1hdDppfX0pLGE9YXx8KChlLHQpPT57Zm9yKGNvbnN0IG8gb2YgdCllLnNldEF0dHJpYnV0ZShpLCEwLG8pO2UucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKGkpfSksZS5tb2RlbC5kb2N1bWVudC5vbignY2hhbmdlJywodCxvKT0+e2lmKCd0cmFuc3BhcmVudCc9PW8udHlwZSlyZXR1cm47Y29uc3Qgbj1lLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighbi5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3Qgcz1BcnJheS5mcm9tKGUubW9kZWwuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSksbD1zWzBdO2lmKDEhPXMubGVuZ3RofHwnaW5zZXJ0JyE9PWwudHlwZXx8JyR0ZXh0JyE9bC5uYW1lfHwxIT1sLmxlbmd0aClyZXR1cm47Y29uc3QgZD1uLmZvY3VzLnBhcmVudCxjPUdpKGQpLnNsaWNlKDAsbi5mb2N1cy5vZmZzZXQpLG09cihjKSx1PSRpKGQsbS5mb3JtYXQpLHA9JGkoZCxtLnJlbW92ZSk7dS5sZW5ndGgmJnAubGVuZ3RoJiZlLm1vZGVsLmVucXVldWVDaGFuZ2UoKHQpPT57Y29uc3Qgbz1lLm1vZGVsLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyh1LGkpO2EodCxvKTtmb3IoY29uc3QgZSBvZiBwLnJldmVyc2UoKSl0LnJlbW92ZShlKX0pfSl9fWNsYXNzIHJiIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0F1dG9mb3JtYXQnfWFmdGVySW5pdCgpe3RoaXMuX2FkZExpc3RBdXRvZm9ybWF0cygpLHRoaXMuX2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRIZWFkaW5nQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRCbG9ja1F1b3RlQXV0b2Zvcm1hdHMoKX1fYWRkTGlzdEF1dG9mb3JtYXRzKCl7Y29uc3QgZT10aGlzLmVkaXRvci5jb21tYW5kcztlLmdldCgnYnVsbGV0ZWRMaXN0JykmJm5ldyBuYih0aGlzLmVkaXRvciwvXlsqLV1cXHMkLywnYnVsbGV0ZWRMaXN0JyksZS5nZXQoJ251bWJlcmVkTGlzdCcpJiZuZXcgbmIodGhpcy5lZGl0b3IsL15cXGQrWy58KV1cXHMkLywnbnVtYmVyZWRMaXN0Jyl9X2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKXtjb25zdCBlPXRoaXMuZWRpdG9yLmNvbW1hbmRzO2UuZ2V0KCdib2xkJykmJihuZXcgaWIodGhpcy5lZGl0b3IsLyhcXCpcXCopKFteKl0rKShcXCpcXCopJC9nLCdib2xkJyksbmV3IGliKHRoaXMuZWRpdG9yLC8oX18pKFteX10rKShfXykkL2csJ2JvbGQnKSksZS5nZXQoJ2l0YWxpYycpJiYobmV3IGliKHRoaXMuZWRpdG9yLC8oPzpefFteKl0pKFxcKikoW14qX10rKShcXCopJC9nLCdpdGFsaWMnKSxuZXcgaWIodGhpcy5lZGl0b3IsLyg/Ol58W15fXSkoXykoW15fXSspKF8pJC9nLCdpdGFsaWMnKSksZS5nZXQoJ2NvZGUnKSYmbmV3IGliKHRoaXMuZWRpdG9yLC8oYCkoW15gXSspKGApJC9nLCdjb2RlJyl9X2FkZEhlYWRpbmdBdXRvZm9ybWF0cygpe2NvbnN0IGU9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KCdoZWFkaW5nJyk7ZSYmZS5tb2RlbEVsZW1lbnRzLmZpbHRlcigoZSk9PmUubWF0Y2goL15oZWFkaW5nWzEtNl0kLykpLmZvckVhY2goKGUpPT57Y29uc3QgdD1lWzddLG89bmV3IFJlZ0V4cChgXigjeyR7dH19KVxcXFxzJGApO25ldyBuYih0aGlzLmVkaXRvcixvLCgpPT57dGhpcy5lZGl0b3IuZXhlY3V0ZSgnaGVhZGluZycse3ZhbHVlOmV9KX0pfSl9X2FkZEJsb2NrUXVvdGVBdXRvZm9ybWF0cygpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpJiZuZXcgbmIodGhpcy5lZGl0b3IsL14+XFxzJC8sJ2Jsb2NrUXVvdGUnKX19Y2xhc3MgYWIgZXh0ZW5kcyBwaHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuYXR0cmlidXRlS2V5PXR9cmVmcmVzaCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50O3RoaXMudmFsdWU9dC5zZWxlY3Rpb24uaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KSx0aGlzLmlzRW5hYmxlZD1lLnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQuc2VsZWN0aW9uLHRoaXMuYXR0cmlidXRlS2V5KX1leGVjdXRlKGU9e30pe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LG49by5zZWxlY3Rpb24saT1lLmZvcmNlVmFsdWU9PT12b2lkIDA/IXRoaXMudmFsdWU6ZS5mb3JjZVZhbHVlO3QuY2hhbmdlKChlKT0+e2lmKG4uaXNDb2xsYXBzZWQpaT9lLnNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSwhMCk6ZS5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO2Vsc2V7Y29uc3Qgbz10LnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLmdldFJhbmdlcygpLHRoaXMuYXR0cmlidXRlS2V5KTtmb3IoY29uc3QgdCBvZiBvKWk/ZS5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksaSx0KTplLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSx0KX19KX19Y29uc3Qgc2I9J2JvbGQnO2NsYXNzIGxiIGV4dGVuZHMgbGh7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5zY2hlbWEuZXh0ZW5kKCckdGV4dCcse2FsbG93QXR0cmlidXRlczpzYn0pLGUuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOnNiLHZpZXc6J3N0cm9uZycsdXBjYXN0QWxzbzpbJ2InLHtzdHlsZXM6e1wiZm9udC13ZWlnaHRcIjonYm9sZCd9fV19KSxlLmNvbW1hbmRzLmFkZChzYixuZXcgYWIoZSxzYikpLGUua2V5c3Ryb2tlcy5zZXQoJ0NUUkwrQicsc2IpfX12YXIgZGI9bygzMiksY2I9by5uKGRiKTtjb25zdCBtYj0nYm9sZCc7Y2xhc3MgdWIgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKG1iLCh0KT0+e2NvbnN0IG49ZS5jb21tYW5kcy5nZXQobWIpLGk9bmV3IHpoKHQpO3JldHVybiBpLnNldCh7bGFiZWw6bygnZCcpLGljb246Y2IuYSxrZXlzdHJva2U6J0NUUkwrQicsdG9vbHRpcDohMH0pLGkuYmluZCgnaXNPbicsJ2lzRW5hYmxlZCcpLnRvKG4sJ3ZhbHVlJywnaXNFbmFibGVkJyksdGhpcy5saXN0ZW5UbyhpLCdleGVjdXRlJywoKT0+ZS5leGVjdXRlKG1iKSksaX0pfX1jbGFzcyBwYiBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bbGIsdWJdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidCb2xkJ319Y29uc3QgZ2I9J2l0YWxpYyc7Y2xhc3MgZmIgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLm1vZGVsLnNjaGVtYS5leHRlbmQoJyR0ZXh0Jyx7YWxsb3dBdHRyaWJ1dGVzOmdifSksZS5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6Z2IsdmlldzonaScsdXBjYXN0QWxzbzpbJ2VtJyx7c3R5bGVzOntcImZvbnQtc3R5bGVcIjonaXRhbGljJ319XX0pLGUuY29tbWFuZHMuYWRkKGdiLG5ldyBhYihlLGdiKSksZS5rZXlzdHJva2VzLnNldCgnQ1RSTCtJJyxnYil9fXZhciBoYj1vKDMzKSxiYj1vLm4oaGIpO2NvbnN0IGtiPSdpdGFsaWMnO2NsYXNzIF9iIGV4dGVuZHMgbGh7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChrYiwodCk9Pntjb25zdCBuPWUuY29tbWFuZHMuZ2V0KGtiKSxpPW5ldyB6aCh0KTtyZXR1cm4gaS5zZXQoe2xhYmVsOm8oJ2MnKSxpY29uOmJiLmEsa2V5c3Ryb2tlOidDVFJMK0knLHRvb2x0aXA6ITB9KSxpLmJpbmQoJ2lzT24nLCdpc0VuYWJsZWQnKS50byhuLCd2YWx1ZScsJ2lzRW5hYmxlZCcpLHRoaXMubGlzdGVuVG8oaSwnZXhlY3V0ZScsKCk9PmUuZXhlY3V0ZShrYikpLGl9KX19Y2xhc3Mgd2IgZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2ZiLF9iXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSXRhbGljJ319Y2xhc3MgdmIgZXh0ZW5kcyBwaHtyZWZyZXNoKCl7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZSgpLHRoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLHQ9ZS5kb2N1bWVudCxvPWUuc2NoZW1hLG49QXJyYXkuZnJvbSh0LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtlLmNoYW5nZSgoZSk9PntpZih0aGlzLnZhbHVlKXRoaXMuX3JlbW92ZVF1b3RlKGUsbi5maWx0ZXIoUWkpKTtlbHNle2NvbnN0IHQ9bi5maWx0ZXIoKGUpPT5RaShlKXx8WGkobyxlKSk7dGhpcy5fYXBwbHlRdW90ZShlLHQpfX0pfV9nZXRWYWx1ZSgpe2NvbnN0IGU9SmkodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhKGUmJlFpKGUpKX1fY2hlY2tFbmFibGVkKCl7aWYodGhpcy52YWx1ZSlyZXR1cm4hMDtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbix0PXRoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYSxvPUppKGUuZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7cmV0dXJuISFvJiZYaSh0LG8pfV9yZW1vdmVRdW90ZShlLHQpe1lpKHQpLnJldmVyc2UoKS5mb3JFYWNoKCh0KT0+e2lmKHQuc3RhcnQuaXNBdFN0YXJ0JiZ0LmVuZC5pc0F0RW5kKXJldHVybiB2b2lkIGUudW53cmFwKHQuc3RhcnQucGFyZW50KTtpZih0LnN0YXJ0LmlzQXRTdGFydCl7Y29uc3Qgbz11dS5jcmVhdGVCZWZvcmUodC5zdGFydC5wYXJlbnQpO3JldHVybiB2b2lkIGUubW92ZSh0LG8pfXQuZW5kLmlzQXRFbmR8fGUuc3BsaXQodC5lbmQpO2NvbnN0IG89dXUuY3JlYXRlQWZ0ZXIodC5lbmQucGFyZW50KTtlLm1vdmUodCxvKX0pfV9hcHBseVF1b3RlKGUsdCl7Y29uc3Qgbz1bXTtZaSh0KS5yZXZlcnNlKCkuZm9yRWFjaCgodCk9PntsZXQgbj1RaSh0LnN0YXJ0KTtufHwobj1uZXcgZHUoJ2Jsb2NrUXVvdGUnKSxlLndyYXAodCxuKSksby5wdXNoKG4pfSksby5yZXZlcnNlKCkucmVkdWNlKCh0LG8pPT50Lm5leHRTaWJsaW5nPT1vPyhlLm1lcmdlKHV1LmNyZWF0ZUFmdGVyKHQpKSx0KTpvKX19Y2xhc3MgeWIgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUubW9kZWwuc2NoZW1hO2UuY29tbWFuZHMuYWRkKCdibG9ja1F1b3RlJyxuZXcgdmIoZSkpLHQucmVnaXN0ZXIoJ2Jsb2NrUXVvdGUnLHthbGxvd1doZXJlOickYmxvY2snLGFsbG93Q29udGVudE9mOickcm9vdCd9KSx0LmFkZENoaWxkQ2hlY2soKGUsdCk9PntpZihlLmVuZHNXaXRoKCdibG9ja1F1b3RlJykmJidibG9ja1F1b3RlJz09dC5uYW1lKXJldHVybiExfSksZS5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOidibG9ja1F1b3RlJyx2aWV3OidibG9ja3F1b3RlJ30pfWFmdGVySW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpO3RoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LCdlbnRlcicsKGUsbyk9Pntjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LGk9bi5zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCkucGFyZW50O24uc2VsZWN0aW9uLmlzQ29sbGFwc2VkJiZpLmlzRW1wdHkmJnQudmFsdWUmJih0aGlzLmVkaXRvci5leGVjdXRlKCdibG9ja1F1b3RlJyksdGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LnNjcm9sbFRvVGhlU2VsZWN0aW9uKCksby5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcCgpKX0pfX12YXIgeGI9bygzNCksQ2I9by5uKHhiKSxBYj1vKDM1KSxUYj1vLm4oQWIpO2NsYXNzIFBiIGV4dGVuZHMgbGh7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCgnYmxvY2tRdW90ZScsKHQpPT57Y29uc3Qgbj1lLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpLGk9bmV3IHpoKHQpO3JldHVybiBpLnNldCh7bGFiZWw6bygnYicpLGljb246Q2IuYSx0b29sdGlwOiEwfSksaS5iaW5kKCdpc09uJywnaXNFbmFibGVkJykudG8obiwndmFsdWUnLCdpc0VuYWJsZWQnKSx0aGlzLmxpc3RlblRvKGksJ2V4ZWN1dGUnLCgpPT5lLmV4ZWN1dGUoJ2Jsb2NrUXVvdGUnKSksaX0pfX1jbGFzcyBFYiBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5beWIsUGJdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidCbG9ja1F1b3RlJ319Y29uc3QgU2I9L15kYXRhOihcXFMqPyk7YmFzZTY0LC87Y2xhc3MgT2J7Y29uc3RydWN0b3IoZSx0LG8pe2lmKCFlKXRocm93IG5ldyBFcnJvcignRmlsZSBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCdBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkJyk7dGhpcy5maWxlPWVyKGUpP1ppKGUpOmUsdGhpcy5fdG9rZW49dCx0aGlzLl9hcGlBZGRyZXNzPW99b25Qcm9ncmVzcyhlKXtyZXR1cm4gdGhpcy5vbigncHJvZ3Jlc3MnLCh0LG8pPT5lKG8pKSx0aGlzfW9uRXJyb3IoZSl7cmV0dXJuIHRoaXMub25jZSgnZXJyb3InLCh0LG8pPT5lKG8pKSx0aGlzfWFib3J0KCl7dGhpcy54aHIuYWJvcnQoKX1zZW5kKCl7cmV0dXJuIHRoaXMuX3ByZXBhcmVSZXF1ZXN0KCksdGhpcy5fYXR0YWNoWEhSTGlzdGVuZXJzKCksdGhpcy5fc2VuZFJlcXVlc3QoKX1fcHJlcGFyZVJlcXVlc3QoKXtjb25zdCBlPW5ldyBYTUxIdHRwUmVxdWVzdDtlLm9wZW4oJ1BPU1QnLHRoaXMuX2FwaUFkZHJlc3MpLGUuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsdGhpcy5fdG9rZW4udmFsdWUpLGUucmVzcG9uc2VUeXBlPSdqc29uJyx0aGlzLnhocj1lfV9hdHRhY2hYSFJMaXN0ZW5lcnMoKXtmdW5jdGlvbiBlKGUpe3JldHVybigpPT50LmZpcmUoJ2Vycm9yJyxlKX1jb25zdCB0PXRoaXMsbz10aGlzLnhocjtvLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxlKCdOZXR3b3JrIEVycm9yJykpLG8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLGUoJ0Fib3J0JykpLG8udXBsb2FkJiZvLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsKGUpPT57ZS5sZW5ndGhDb21wdXRhYmxlJiZ0aGlzLmZpcmUoJ3Byb2dyZXNzJyx7dG90YWw6ZS50b3RhbCx1cGxvYWRlZDplLmxvYWRlZH0pfSksby5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGU9by5zdGF0dXMsdD1vLnJlc3BvbnNlO2lmKDIwMD5lfHwyOTk8ZSlyZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsdC5tZXNzYWdlfHx0LmVycm9yKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IGU9bmV3IEZvcm1EYXRhLHQ9dGhpcy54aHI7cmV0dXJuIGUuYXBwZW5kKCdmaWxlJyx0aGlzLmZpbGUpLG5ldyBQcm9taXNlKChvLG4pPT57dC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGU9dC5zdGF0dXMsaT10LnJlc3BvbnNlO3JldHVybiAyMDA+ZXx8Mjk5PGU/bihpLm1lc3NhZ2V8fGkuZXJyb3IpOm8oaSl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywoKT0+bignTmV0d29yayBFcnJvcicpKSx0LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywoKT0+bignQWJvcnQnKSksdC5zZW5kKGUpfSl9fWYoT2IsUHMpO2NvbnN0IEliPXtyZWZyZXNoSW50ZXJ2YWw6MzZlNSxhdXRvUmVmcmVzaDohMH07Y2xhc3MgUmJ7Y29uc3RydWN0b3IoZSx0PUliKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ2B0b2tlblVybGAgbXVzdCBiZSBwcm92aWRlZCcpO3RoaXMuc2V0KCd2YWx1ZScsdC5pbml0VmFsdWUpLHRoaXMuX3Rva2VuVXJsPWUsdGhpcy5fb3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LEliLHQpfWluaXQoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9Pih0aGlzLl9vcHRpb25zLmF1dG9SZWZyZXNoJiZ0aGlzLl9zdGFydFJlZnJlc2hpbmcoKSx0aGlzLnZhbHVlP3ZvaWQgZSh0aGlzKTp2b2lkIHRoaXMuX3JlZnJlc2hUb2tlbigpLnRoZW4oZSkuY2F0Y2godCkpKX1fcmVmcmVzaFRva2VuKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57Y29uc3Qgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKCdHRVQnLHRoaXMuX3Rva2VuVXJsKSxvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCgpPT57Y29uc3Qgbj1vLnN0YXR1cyxpPW8ucmVzcG9uc2U7cmV0dXJuIDIwMD5ufHwyOTk8bj90KCdDYW5ub3QgZG93bmxvYWQgbmV3IHRva2VuIScpOih0aGlzLnNldCgndmFsdWUnLGkpLGUodGhpcykpfSksby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsKCk9PnQoJ05ldHdvcmsgRXJyb3InKSksby5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsKCk9PnQoJ0Fib3J0JykpLG8uc2VuZCgpfSl9X3N0YXJ0UmVmcmVzaGluZygpe3RoaXMuX3JlZnJlc2hJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLl9yZWZyZXNoVG9rZW4uYmluZCh0aGlzKSx0aGlzLl9vcHRpb25zLnJlZnJlc2hJbnRlcnZhbCl9X3N0b3BSZWZyZXNoaW5nKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl9yZWZyZXNoSW50ZXJ2YWwpfXN0YXRpYyBjcmVhdGUoZSx0PUliKXtjb25zdCBvPW5ldyBSYihlLHQpO3JldHVybiBvLmluaXQoKX19ZihSYixNYyk7Y2xhc3MgVmIgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29uZmlnLG89dC5nZXQoJ2Nsb3VkU2VydmljZXMnKXx8e307Zm9yKGNvbnN0IGUgaW4gbyl0aGlzW2VdPW9bZV07cmV0dXJuIHRoaXMudG9rZW5Vcmw/KHRoaXMudG9rZW49bmV3IFZiLlRva2VuKHRoaXMudG9rZW5VcmwpLHRoaXMudG9rZW4uaW5pdCgpKTp2b2lkKHRoaXMudG9rZW49bnVsbCl9fVZiLlRva2VuPVJiO2NsYXNzIEZiIGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltRaCxWYl19aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLnBsdWdpbnMuZ2V0KFZiKSxvPXQudG9rZW4sbj10LnVwbG9hZFVybDtvJiYodGhpcy5fdXBsb2FkR2F0ZXdheT1uZXcgRmIuX1VwbG9hZEdhdGV3YXkobyxuKSxlLnBsdWdpbnMuZ2V0KFFoKS5jcmVhdGVVcGxvYWRBZGFwdGVyPShlKT0+bmV3IE5iKHRoaXMuX3VwbG9hZEdhdGV3YXksZSkpfX1jbGFzcyBOYntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudXBsb2FkR2F0ZXdheT1lLHRoaXMubG9hZGVyPXR9dXBsb2FkKCl7cmV0dXJuIHRoaXMuZmlsZVVwbG9hZGVyPXRoaXMudXBsb2FkR2F0ZXdheS51cGxvYWQodGhpcy5sb2FkZXIuZmlsZSksdGhpcy5maWxlVXBsb2FkZXIub24oJ3Byb2dyZXNzJywoZSx0KT0+e3RoaXMubG9hZGVyLnVwbG9hZFRvdGFsPXQudG90YWwsdGhpcy5sb2FkZXIudXBsb2FkZWQ9dC51cGxvYWRlZH0pLHRoaXMuZmlsZVVwbG9hZGVyLnNlbmQoKX1hYm9ydCgpe3RoaXMuZmlsZVVwbG9hZGVyLmFib3J0KCl9fUZiLl9VcGxvYWRHYXRld2F5PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkJyk7dGhpcy5fdG9rZW49ZSx0aGlzLl9hcGlBZGRyZXNzPXR9dXBsb2FkKGUpe3JldHVybiBuZXcgT2IoZSx0aGlzLl90b2tlbix0aGlzLl9hcGlBZGRyZXNzKX19O2NsYXNzIERie2NvbnN0cnVjdG9yKCl7dGhpcy5fc3RhY2s9W119YWRkKGUsdCl7Y29uc3Qgbz10aGlzLl9zdGFjayxuPW9bMF07dGhpcy5faW5zZXJ0RGVzY3JpcHRvcihlKTtjb25zdCBpPW9bMF07bj09PWl8fGlyKG4saSl8fHRoaXMuZmlyZSgnY2hhbmdlOnRvcCcse29sZERlc2NyaXB0b3I6bixuZXdEZXNjcmlwdG9yOmksd3JpdGVyOnR9KX1yZW1vdmUoZSx0KXtjb25zdCBvPXRoaXMuX3N0YWNrLG49b1swXTt0aGlzLl9yZW1vdmVEZXNjcmlwdG9yKGUpO2NvbnN0IGk9b1swXTtuPT09aXx8aXIobixpKXx8dGhpcy5maXJlKCdjaGFuZ2U6dG9wJyx7b2xkRGVzY3JpcHRvcjpuLG5ld0Rlc2NyaXB0b3I6aSx3cml0ZXI6dH0pfV9pbnNlcnREZXNjcmlwdG9yKGUpe2NvbnN0IHQ9dGhpcy5fc3RhY2ssbz10LmZpbmRJbmRleCgodCk9PnQuaWQ9PT1lLmlkKTtpZighaXIoZSx0W29dKSl7LTE8byYmdC5zcGxpY2UobywxKTtsZXQgbj0wO2Zvcig7dFtuXSYmcnIodFtuXSxlKTspbisrO3Quc3BsaWNlKG4sMCxlKX19X3JlbW92ZURlc2NyaXB0b3IoZSl7Y29uc3QgdD10aGlzLl9zdGFjayxvPXQuZmluZEluZGV4KCh0KT0+dC5pZD09PWUpOy0xPG8mJnQuc3BsaWNlKG8sMSl9fWYoRGIsUHMpO2NvbnN0IE1iPVN5bWJvbCgnaXNXaWRnZXQnKSxCYj1TeW1ib2woJ2xhYmVsJyksTGI9J2NrLXdpZGdldCcsemI9J2NrLXdpZGdldF9zZWxlY3RlZCcsamI9U3ltYm9sKCdpc0ltYWdlJyk7Y2xhc3MgcWIgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUubW9kZWwuc2NoZW1hLG49ZS50LHQ9ZS5jb252ZXJzaW9uO28ucmVnaXN0ZXIoJ2ltYWdlJyx7aXNPYmplY3Q6ITAsaXNCbG9jazohMCxhbGxvd1doZXJlOickYmxvY2snLGFsbG93QXR0cmlidXRlczpbJ2FsdCcsJ3NyYycsJ3NyY3NldCddfSksdC5mb3IoJ2RhdGFEb3duY2FzdCcpLmFkZCh4dCh7bW9kZWw6J2ltYWdlJyx2aWV3OihlLHQpPT5rcih0KX0pKSx0LmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKHh0KHttb2RlbDonaW1hZ2UnLHZpZXc6KGUsdCk9PmdyKGtyKHQpLHQsbignZycpKX0pKSx0LmZvcignZG93bmNhc3QnKS5hZGQobnIoJ3NyYycpKS5hZGQobnIoJ2FsdCcpKS5hZGQob3IoKSksdC5mb3IoJ3VwY2FzdCcpLmFkZChpbyh7dmlldzp7bmFtZTonaW1nJyxhdHRyaWJ1dGVzOntzcmM6ITB9fSxtb2RlbDooZSx0KT0+dC5jcmVhdGVFbGVtZW50KCdpbWFnZScse3NyYzplLmdldEF0dHJpYnV0ZSgnc3JjJyl9KX0pKS5hZGQoYW8oe3ZpZXc6e25hbWU6J2ltZycsa2V5OidhbHQnfSxtb2RlbDonYWx0J30pKS5hZGQoYW8oe3ZpZXc6e25hbWU6J2ltZycsa2V5OidzcmNzZXQnfSxtb2RlbDp7a2V5OidzcmNzZXQnLHZhbHVlOihlKT0+e2NvbnN0IHQ9e2RhdGE6ZS5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpfTtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUoJ3dpZHRoJykmJih0LndpZHRoPWUuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSx0fX19KSkuYWRkKHRyKCkpfX1jbGFzcyBXYiBleHRlbmRzIHFte2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPSdtb3VzZWRvd24nfW9uRG9tRXZlbnQoZSl7dGhpcy5maXJlKGUudHlwZSxlKX19dmFyIFViPW8oMzcpLEhiPW8ubihVYik7Y29uc3QgS2I9b2UoJ0N0cmwrQScpO2NsYXNzIEdiIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1dpZGdldCd9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LHQ9ZS5kb2N1bWVudDt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQ9bmV3IFNldCx0aGlzLmVkaXRvci5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJywoZSx0LG8pPT57dGhpcy5fY2xlYXJQcmV2aW91c2x5U2VsZWN0ZWRXaWRnZXRzKG8ud3JpdGVyKTtjb25zdCBuPW8ud3JpdGVyLGk9bi5kb2N1bWVudC5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2Zvcihjb25zdCBhIG9mIGkuZ2V0UmFuZ2VzKCkpZm9yKGNvbnN0IGUgb2YgYSl7Y29uc3QgdD1lLml0ZW07dC5pcygnZWxlbWVudCcpJiZzcih0KSYmKG4uYWRkQ2xhc3MoemIsdCksdGhpcy5fcHJldmlvdXNseVNlbGVjdGVkLmFkZCh0KSx0PT1yJiZuLnNldFNlbGVjdGlvbihpLmdldFJhbmdlcygpLHtmYWtlOiEwLGxhYmVsOm1yKHIpfSkpfX0se3ByaW9yaXR5Oidsb3cnfSksZS5hZGRPYnNlcnZlcihXYiksdGhpcy5saXN0ZW5Ubyh0LCdtb3VzZWRvd24nLCguLi5lKT0+dGhpcy5fb25Nb3VzZWRvd24oLi4uZSkpLHRoaXMubGlzdGVuVG8odCwna2V5ZG93bicsKC4uLmUpPT50aGlzLl9vbktleWRvd24oLi4uZSkse3ByaW9yaXR5OidoaWdoJ30pLHRoaXMubGlzdGVuVG8odCwnZGVsZXRlJywoZSx0KT0+e3RoaXMuX2hhbmRsZURlbGV0ZSgnZm9yd2FyZCc9PXQuZGlyZWN0aW9uKSYmKHQucHJldmVudERlZmF1bHQoKSxlLnN0b3AoKSl9LHtwcmlvcml0eTonaGlnaCd9KX1fb25Nb3VzZWRvd24oZSx0KXtjb25zdCBvPXRoaXMuZWRpdG9yLG49by5lZGl0aW5nLnZpZXcsaT1uLmRvY3VtZW50O2xldCByPXQudGFyZ2V0O2lmKCF2cihyKSYmKHNyKHIpfHwocj1yLmZpbmRBbmNlc3RvcihzciksISFyKSkpe3QucHJldmVudERlZmF1bHQoKSxpLmlzRm9jdXNlZHx8bi5mb2N1cygpO2NvbnN0IGU9by5lZGl0aW5nLm1hcHBlci50b01vZGVsRWxlbWVudChyKTt0aGlzLl9zZXRTZWxlY3Rpb25PdmVyRWxlbWVudChlKX19X29uS2V5ZG93bihlLHQpe2NvbnN0IG89dC5rZXlDb2RlLG49bz09bm0uZGVsZXRlfHxvPT1ubS5hcnJvd2Rvd258fG89PW5tLmFycm93cmlnaHQ7bGV0IGk9ITE7X3Iobyk/aT10aGlzLl9oYW5kbGVBcnJvd0tleXMobik6d3IodCk/aT10aGlzLl9zZWxlY3RBbGxOZXN0ZWRFZGl0YWJsZUNvbnRlbnQoKXx8dGhpcy5fc2VsZWN0QWxsQ29udGVudCgpOm89PT1ubS5lbnRlciYmKGk9dGhpcy5faGFuZGxlRW50ZXJLZXkodC5zaGlmdEtleSkpLGkmJih0LnByZXZlbnREZWZhdWx0KCksZS5zdG9wKCkpfV9oYW5kbGVEZWxldGUoZSl7aWYodGhpcy5lZGl0b3IuaXNSZWFkT25seSlyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxvPXQuc2VsZWN0aW9uO2lmKCFvLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBuPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24oZSk7aWYobilyZXR1cm4gdGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKChlKT0+e2ZvcihsZXQgdD1vLmFuY2hvci5wYXJlbnQ7dC5pc0VtcHR5Oyl7Y29uc3Qgbz10O3Q9by5wYXJlbnQsZS5yZW1vdmUobyl9dGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQobil9KSwhMH1faGFuZGxlQXJyb3dLZXlzKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LnNjaGVtYSxuPXQuZG9jdW1lbnQsaT1uLnNlbGVjdGlvbixyPWkuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYociYmby5pc09iamVjdChyKSl7Y29uc3Qgbj1lP2kuZ2V0TGFzdFBvc2l0aW9uKCk6aS5nZXRGaXJzdFBvc2l0aW9uKCkscj1vLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuLGU/J2ZvcndhcmQnOidiYWNrd2FyZCcpO3JldHVybiByJiZ0LmNoYW5nZSgoZSk9PntlLnNldFNlbGVjdGlvbihyKX0pLCEwfWlmKGkuaXNDb2xsYXBzZWQpe2NvbnN0IHQ9dGhpcy5fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbihlKTtpZih0IGluc3RhbmNlb2YgZHUmJm8uaXNPYmplY3QodCkpcmV0dXJuIHRoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHQpLCEwfX1faGFuZGxlRW50ZXJLZXkoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQuc2VsZWN0aW9uLG49by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihuJiZ0LnNjaGVtYS5pc09iamVjdChuKSlyZXR1cm4gdC5jaGFuZ2UoKHQpPT57Y29uc3Qgbz10LmNyZWF0ZUVsZW1lbnQoJ3BhcmFncmFwaCcpO3QuaW5zZXJ0KG8sbixlPydiZWZvcmUnOidhZnRlcicpLHQuc2V0U2VsZWN0aW9uKG8sJ2luJyl9KSwhMH1fc2VsZWN0QWxsTmVzdGVkRWRpdGFibGVDb250ZW50KCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89ZS5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KHQpO3JldHVybiB0LmdldEZpcnN0UmFuZ2UoKS5yb290IT1vJiYoZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb24ocHUuY3JlYXRlSW4obykpfSksITApfV9zZWxlY3RBbGxDb250ZW50KCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PXRoaXMuZWRpdG9yLmVkaXRpbmcsbz10LnZpZXcsbj1vLmRvY3VtZW50LGk9bi5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKHImJnNyKHIpKXtjb25zdCBvPXQubWFwcGVyLnRvTW9kZWxFbGVtZW50KHIucGFyZW50KTtyZXR1cm4gZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb24ocHUuY3JlYXRlSW4obykpfSksITB9cmV0dXJuITF9X3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KGUpe3RoaXMuZWRpdG9yLm1vZGVsLmNoYW5nZSgodCk9Pnt0LnNldFNlbGVjdGlvbihwdS5jcmVhdGVPbihlKSl9KX1fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbihlKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5zY2hlbWEsbj10LmRvY3VtZW50LnNlbGVjdGlvbixpPW5ldyBidShuKTt0Lm1vZGlmeVNlbGVjdGlvbihpLHtkaXJlY3Rpb246ZT8nZm9yd2FyZCc6J2JhY2t3YXJkJ30pO2NvbnN0IHI9ZT9pLmZvY3VzLm5vZGVCZWZvcmU6aS5mb2N1cy5ub2RlQWZ0ZXI7cmV0dXJuIHIgaW5zdGFuY2VvZiBkdSYmby5pc09iamVjdChyKT9yOm51bGx9X2NsZWFyUHJldmlvdXNseVNlbGVjdGVkV2lkZ2V0cyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQpZS5yZW1vdmVDbGFzcyh6Yix0KTt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuY2xlYXIoKX19Y2xhc3MgJGIgZXh0ZW5kcyBwaHtyZWZyZXNoKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5pc0VuYWJsZWQ9YnIoZSksdGhpcy52YWx1ZT0hIShicihlKSYmZS5oYXNBdHRyaWJ1dGUoJ2FsdCcpKSYmZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpfWV4ZWN1dGUoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO3QuY2hhbmdlKCh0KT0+e3Quc2V0QXR0cmlidXRlKCdhbHQnLGUubmV3VmFsdWUsbyl9KX19Y2xhc3MgSmIgZXh0ZW5kcyBsaHtpbml0KCl7dGhpcy5lZGl0b3IuY29tbWFuZHMuYWRkKCdpbWFnZVRleHRBbHRlcm5hdGl2ZScsbmV3ICRiKHRoaXMuZWRpdG9yKSl9fWNsYXNzIFFiIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKTtjb25zdCBvPWBjay1pbnB1dC0ke2koKX1gO3RoaXMuc2V0KCdsYWJlbCcpLHRoaXMuc2V0KCd2YWx1ZScpLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KG8pLHRoaXMuaW5wdXRWaWV3PXRoaXMuX2NyZWF0ZUlucHV0Vmlldyh0LG8pO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1sYWJlbGVkLWlucHV0JyxuLmlmKCdpc1JlYWRPbmx5JywnY2stZGlzYWJsZWQnKV19LGNoaWxkcmVuOlt0aGlzLmxhYmVsVmlldyx0aGlzLmlucHV0Vmlld119KX1fY3JlYXRlTGFiZWxWaWV3KGUpe2NvbnN0IHQ9bmV3IFVmKHRoaXMubG9jYWxlKTtyZXR1cm4gdC5mb3I9ZSx0LmJpbmQoJ3RleHQnKS50byh0aGlzLCdsYWJlbCcpLHR9X2NyZWF0ZUlucHV0VmlldyhlLHQpe2NvbnN0IG89bmV3IGUodGhpcy5sb2NhbGUpO3JldHVybiBvLmlkPXQsby5iaW5kKCd2YWx1ZScpLnRvKHRoaXMpLG8uYmluZCgnaXNSZWFkT25seScpLnRvKHRoaXMpLG99c2VsZWN0KCl7dGhpcy5pbnB1dFZpZXcuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmlucHV0Vmlldy5mb2N1cygpfX12YXIgWWI9bygzOSksWGI9by5uKFliKTtjbGFzcyBaYiBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2V0KCd2YWx1ZScpLHRoaXMuc2V0KCdpZCcpLHRoaXMuc2V0KCdwbGFjZWhvbGRlcicpLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2lucHV0JyxhdHRyaWJ1dGVzOnt0eXBlOid0ZXh0JyxjbGFzczpbJ2NrJywnY2staW5wdXQnLCdjay1pbnB1dC10ZXh0J10saWQ6dC50bygnaWQnKSxwbGFjZWhvbGRlcjp0LnRvKCdwbGFjZWhvbGRlcicpLHJlYWRvbmx5OnQudG8oJ2lzUmVhZE9ubHknKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCBlPShlKT0+e3RoaXMuZWxlbWVudC52YWx1ZT1lfHwwPT09ZT9lOicnfTtlKHRoaXMudmFsdWUpLHRoaXMub24oJ2NoYW5nZTp2YWx1ZScsKHQsbyxuKT0+e2Uobil9KX1zZWxlY3QoKXt0aGlzLmVsZW1lbnQuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmVsZW1lbnQuZm9jdXMoKX19dmFyIGVrPW8oMyksdGs9by5uKGVrKSxvaz1vKDQpLG5rPW8ubihvayksaWs9byg0MSkscms9by5uKGlrKTtjbGFzcyBhayBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IG89dGhpcy5sb2NhbGUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgRWYsdGhpcy5rZXlzdHJva2VzPW5ldyB3Zix0aGlzLmxhYmVsZWRJbnB1dD10aGlzLl9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24obygnYWInKSx0ay5hLCdjay1idXR0b24tc2F2ZScpLHRoaXMuc2F2ZUJ1dHRvblZpZXcudHlwZT0nc3VibWl0Jyx0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG8oJ2FjJyksbmsuYSwnY2stYnV0dG9uLWNhbmNlbCcsJ2NhbmNlbCcpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IE9mLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBYZih7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOidzaGlmdCArIHRhYicsZm9jdXNOZXh0Oid0YWInfX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZm9ybScsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSddLHRhYmluZGV4OictMSd9LGNoaWxkcmVuOlt0aGlzLmxhYmVsZWRJbnB1dCx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSx4cih7dmlldzp0aGlzfSksW3RoaXMubGFiZWxlZElucHV0LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKChlKT0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKGUpLHRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSl9X2NyZWF0ZUJ1dHRvbihlLHQsbyxuKXtjb25zdCBpPW5ldyB6aCh0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDplLGljb246dCx0b29sdGlwOiEwfSksaS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6b319KSxuJiZpLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcyxuKSxpfV9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCl7Y29uc3QgZT10aGlzLmxvY2FsZS50LHQ9bmV3IFFiKHRoaXMubG9jYWxlLFpiKTtyZXR1cm4gdC5sYWJlbD1lKCdhaCcpLHQuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPWUoJ2FoJyksdH19dmFyIHNrPW8oNDMpLGxrPW8ubihzayk7Y29uc3QgZGs9YmkoJ3B4JyksY2s9Z20uZG9jdW1lbnQuYm9keTtjbGFzcyBtayBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IHQ9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoJ3RvcCcsMCksdGhpcy5zZXQoJ2xlZnQnLDApLHRoaXMuc2V0KCdwb3NpdGlvbicsJ2Fycm93X253JyksdGhpcy5zZXQoJ2lzVmlzaWJsZScsITEpLHRoaXMuc2V0KCd3aXRoQXJyb3cnLCEwKSx0aGlzLnNldCgnY2xhc3NOYW1lJyksdGhpcy5jb250ZW50PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stYmFsbG9vbi1wYW5lbCcsdC50bygncG9zaXRpb24nLChlKT0+YGNrLWJhbGxvb24tcGFuZWxfJHtlfWApLHQuaWYoJ2lzVmlzaWJsZScsJ2NrLWJhbGxvb24tcGFuZWxfdmlzaWJsZScpLHQuaWYoJ3dpdGhBcnJvdycsJ2NrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdycpLHQudG8oJ2NsYXNzTmFtZScpXSxzdHlsZTp7dG9wOnQudG8oJ3RvcCcsZGspLGxlZnQ6dC50bygnbGVmdCcsZGspfX0sY2hpbGRyZW46dGhpcy5jb250ZW50fSl9c2hvdygpe3RoaXMuaXNWaXNpYmxlPSEwfWhpZGUoKXt0aGlzLmlzVmlzaWJsZT0hMX1hdHRhY2hUbyhlKXt0aGlzLnNob3coKTtjb25zdCB0PW1rLmRlZmF1bHRQb3NpdGlvbnMsbz1PYmplY3QuYXNzaWduKHt9LHtlbGVtZW50OnRoaXMuZWxlbWVudCxwb3NpdGlvbnM6W3Quc291dGhBcnJvd05vcnRoLHQuc291dGhBcnJvd05vcnRoV2VzdCx0LnNvdXRoQXJyb3dOb3J0aEVhc3QsdC5ub3J0aEFycm93U291dGgsdC5ub3J0aEFycm93U291dGhXZXN0LHQubm9ydGhBcnJvd1NvdXRoRWFzdF0sbGltaXRlcjpjayxmaXRJblZpZXdwb3J0OiEwfSxlKSx7dG9wOm4sbGVmdDppLG5hbWU6cn09QXIobyk7T2JqZWN0LmFzc2lnbih0aGlzLHt0b3A6bixsZWZ0OmkscG9zaXRpb246cn0pfXBpbihlKXt0aGlzLnVucGluKCksdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrPSgpPT57dGhpcy5pc1Zpc2libGU/dGhpcy5fc3RhcnRQaW5uaW5nKGUpOnRoaXMuX3N0b3BQaW5uaW5nKCl9LHRoaXMuX3N0YXJ0UGlubmluZyhlKSx0aGlzLmxpc3RlblRvKHRoaXMsJ2NoYW5nZTppc1Zpc2libGUnLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayl9dW5waW4oKXt0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2smJih0aGlzLl9zdG9wUGlubmluZygpLHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLCdjaGFuZ2U6aXNWaXNpYmxlJyx0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2spLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjaz1udWxsLHRoaXMuaGlkZSgpKX1fc3RhcnRQaW5uaW5nKGUpe3RoaXMuYXR0YWNoVG8oZSk7Y29uc3QgdD1TcihlLnRhcmdldCksbz1lLmxpbWl0ZXI/U3IoZS5saW1pdGVyKTpjazt0aGlzLmxpc3RlblRvKGdtLmRvY3VtZW50LCdzY3JvbGwnLChuLGkpPT57Y29uc3Qgcj1pLnRhcmdldCxhPXQmJnIuY29udGFpbnModCkscz1vJiZyLmNvbnRhaW5zKG8pOyhhfHxzfHwhdHx8IW8pJiZ0aGlzLmF0dGFjaFRvKGUpfSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMubGlzdGVuVG8oZ20ud2luZG93LCdyZXNpemUnLCgpPT57dGhpcy5hdHRhY2hUbyhlKX0pfV9zdG9wUGlubmluZygpe3RoaXMuc3RvcExpc3RlbmluZyhnbS5kb2N1bWVudCwnc2Nyb2xsJyksdGhpcy5zdG9wTGlzdGVuaW5nKGdtLndpbmRvdywncmVzaXplJyl9fW1rLmFycm93SG9yaXpvbnRhbE9mZnNldD0yNSxtay5hcnJvd1ZlcnRpY2FsT2Zmc2V0PTEwLG1rLmRlZmF1bHRQb3NpdGlvbnM9e25vcnRoQXJyb3dTb3V0aDooZSx0KT0+KHt0b3A6T3IoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aC8yLG5hbWU6J2Fycm93X3MnfSksbm9ydGhBcnJvd1NvdXRoRWFzdDooZSx0KT0+KHt0b3A6T3IoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aCttay5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTonYXJyb3dfc2UnfSksbm9ydGhBcnJvd1NvdXRoV2VzdDooZSx0KT0+KHt0b3A6T3IoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLG5vcnRoV2VzdEFycm93U291dGg6KGUsdCk9Pih7dG9wOk9yKGUsdCksbGVmdDplLmxlZnQtdC53aWR0aC8yLG5hbWU6J2Fycm93X3MnfSksbm9ydGhXZXN0QXJyb3dTb3V0aFdlc3Q6KGUsdCk9Pih7dG9wOk9yKGUsdCksbGVmdDplLmxlZnQtbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLG5vcnRoV2VzdEFycm93U291dGhFYXN0OihlLHQpPT4oe3RvcDpPcihlLHQpLGxlZnQ6ZS5sZWZ0LXQud2lkdGgrbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3NlJ30pLG5vcnRoRWFzdEFycm93U291dGg6KGUsdCk9Pih7dG9wOk9yKGUsdCksbGVmdDplLnJpZ2h0LXQud2lkdGgvMixuYW1lOidhcnJvd19zJ30pLG5vcnRoRWFzdEFycm93U291dGhFYXN0OihlLHQpPT4oe3RvcDpPcihlLHQpLGxlZnQ6ZS5yaWdodC10LndpZHRoK21rLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOidhcnJvd19zZSd9KSxub3J0aEVhc3RBcnJvd1NvdXRoV2VzdDooZSx0KT0+KHt0b3A6T3IoZSx0KSxsZWZ0OmUucmlnaHQtbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLHNvdXRoQXJyb3dOb3J0aDooZSx0KT0+KHt0b3A6SXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aC8yLG5hbWU6J2Fycm93X24nfSksc291dGhBcnJvd05vcnRoRWFzdDooZSx0KT0+KHt0b3A6SXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aCttay5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTonYXJyb3dfbmUnfSksc291dGhBcnJvd05vcnRoV2VzdDooZSx0KT0+KHt0b3A6SXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pLHNvdXRoV2VzdEFycm93Tm9ydGg6KGUsdCk9Pih7dG9wOklyKGUsdCksbGVmdDplLmxlZnQtdC53aWR0aC8yLG5hbWU6J2Fycm93X24nfSksc291dGhXZXN0QXJyb3dOb3J0aFdlc3Q6KGUsdCk9Pih7dG9wOklyKGUsdCksbGVmdDplLmxlZnQtbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pLHNvdXRoV2VzdEFycm93Tm9ydGhFYXN0OihlLHQpPT4oe3RvcDpJcihlLHQpLGxlZnQ6ZS5sZWZ0LXQud2lkdGgrbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X25lJ30pLHNvdXRoRWFzdEFycm93Tm9ydGg6KGUsdCk9Pih7dG9wOklyKGUsdCksbGVmdDplLnJpZ2h0LXQud2lkdGgvMixuYW1lOidhcnJvd19uJ30pLHNvdXRoRWFzdEFycm93Tm9ydGhFYXN0OihlLHQpPT4oe3RvcDpJcihlLHQpLGxlZnQ6ZS5yaWdodC10LndpZHRoK21rLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOidhcnJvd19uZSd9KSxzb3V0aEVhc3RBcnJvd05vcnRoV2VzdDooZSx0KT0+KHt0b3A6SXIoZSx0KSxsZWZ0OmUucmlnaHQtbWsuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pfTtjbGFzcyB1ayBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidDb250ZXh0dWFsQmFsbG9vbid9aW5pdCgpe3RoaXMudmlldz1uZXcgbWssdGhpcy5wb3NpdGlvbkxpbWl0ZXI9KCk9Pntjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldyx0PWUuZG9jdW1lbnQsbz10LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7cmV0dXJuIG8/ZS5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG8ucm9vdCk6bnVsbH0sdGhpcy5fc3RhY2s9bmV3IE1hcCx0aGlzLmVkaXRvci51aS52aWV3LmJvZHkuYWRkKHRoaXMudmlldyksdGhpcy5lZGl0b3IudWkuZm9jdXNUcmFja2VyLmFkZCh0aGlzLnZpZXcuZWxlbWVudCl9Z2V0IHZpc2libGVWaWV3KCl7Y29uc3QgZT10aGlzLl9zdGFjay5nZXQodGhpcy52aWV3LmNvbnRlbnQuZ2V0KDApKTtyZXR1cm4gZT9lLnZpZXc6bnVsbH1oYXNWaWV3KGUpe3JldHVybiB0aGlzLl9zdGFjay5oYXMoZSl9YWRkKGUpe2lmKHRoaXMuaGFzVmlldyhlLnZpZXcpKXRocm93IG5ldyBfcygnY29udGV4dHVhbGJhbGxvb24tYWRkLXZpZXctZXhpc3Q6IENhbm5vdCBhZGQgY29uZmlndXJhdGlvbiBvZiB0aGUgc2FtZSB2aWV3IHR3aWNlLicpO3RoaXMudmlzaWJsZVZpZXcmJnRoaXMudmlldy5jb250ZW50LnJlbW92ZSh0aGlzLnZpc2libGVWaWV3KSx0aGlzLl9zdGFjay5zZXQoZS52aWV3LGUpLHRoaXMuX3Nob3coZSl9cmVtb3ZlKGUpe2lmKCF0aGlzLmhhc1ZpZXcoZSkpdGhyb3cgbmV3IF9zKCdjb250ZXh0dWFsYmFsbG9vbi1yZW1vdmUtdmlldy1ub3QtZXhpc3Q6IENhbm5vdCByZW1vdmUgY29uZmlndXJhdGlvbiBvZiBub3QgZXhpc3Rpbmcgdmlldy4nKTtpZih0aGlzLnZpc2libGVWaWV3PT09ZSl7dGhpcy52aWV3LmNvbnRlbnQucmVtb3ZlKGUpLHRoaXMuX3N0YWNrLmRlbGV0ZShlKTtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fc3RhY2sudmFsdWVzKCkpLnBvcCgpO3Q/dGhpcy5fc2hvdyh0KTp0aGlzLnZpZXcuaGlkZSgpfWVsc2UgdGhpcy5fc3RhY2suZGVsZXRlKGUpfXVwZGF0ZVBvc2l0aW9uKGUpe2UmJih0aGlzLl9zdGFjay5nZXQodGhpcy52aXNpYmxlVmlldykucG9zaXRpb249ZSksdGhpcy52aWV3LnBpbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb24oKSl9X3Nob3coe3ZpZXc6ZSxiYWxsb29uQ2xhc3NOYW1lOnQ9Jyd9KXt0aGlzLnZpZXcuY2xhc3NOYW1lPXQsdGhpcy52aWV3LmNvbnRlbnQuYWRkKGUpLHRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpfV9nZXRCYWxsb29uUG9zaXRpb24oKXtsZXQgZT1BcnJheS5mcm9tKHRoaXMuX3N0YWNrLnZhbHVlcygpKS5wb3AoKS5wb3NpdGlvbjtyZXR1cm4gZSYmIWUubGltaXRlciYmKGU9T2JqZWN0LmFzc2lnbih7fSxlLHtsaW1pdGVyOnRoaXMucG9zaXRpb25MaW1pdGVyfSkpLGV9fXZhciBwaz1vKDQ1KSxnaz1vLm4ocGspO2NsYXNzIGZrIGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt1a119aW5pdCgpe3RoaXMuX2NyZWF0ZUJ1dHRvbigpLHRoaXMuX2NyZWF0ZUZvcm0oKX1fY3JlYXRlQnV0dG9uKCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKCdpbWFnZVRleHRBbHRlcm5hdGl2ZScsKHQpPT57Y29uc3Qgbj1lLmNvbW1hbmRzLmdldCgnaW1hZ2VUZXh0QWx0ZXJuYXRpdmUnKSxpPW5ldyB6aCh0KTtyZXR1cm4gaS5zZXQoe2xhYmVsOm8oJ3cnKSxpY29uOmdrLmEsdG9vbHRpcDohMH0pLGkuYmluZCgnaXNFbmFibGVkJykudG8obiwnaXNFbmFibGVkJyksdGhpcy5saXN0ZW5UbyhpLCdleGVjdXRlJywoKT0+dGhpcy5fc2hvd0Zvcm0oKSksaX0pfV9jcmVhdGVGb3JtKCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuZWRpdGluZy52aWV3LG89dC5kb2N1bWVudDt0aGlzLl9iYWxsb29uPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KCdDb250ZXh0dWFsQmFsbG9vbicpLHRoaXMuX2Zvcm09bmV3IGFrKGUubG9jYWxlKSx0aGlzLl9mb3JtLnJlbmRlcigpLHRoaXMubGlzdGVuVG8odGhpcy5fZm9ybSwnc3VibWl0JywoKT0+e2UuZXhlY3V0ZSgnaW1hZ2VUZXh0QWx0ZXJuYXRpdmUnLHtuZXdWYWx1ZTp0aGlzLl9mb3JtLmxhYmVsZWRJbnB1dC5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZX0pLHRoaXMuX2hpZGVGb3JtKCEwKX0pLHRoaXMubGlzdGVuVG8odGhpcy5fZm9ybSwnY2FuY2VsJywoKT0+e3RoaXMuX2hpZGVGb3JtKCEwKX0pLHRoaXMuX2Zvcm0ua2V5c3Ryb2tlcy5zZXQoJ0VzYycsKGUsdCk9Pnt0aGlzLl9oaWRlRm9ybSghMCksdCgpfSksdGhpcy5saXN0ZW5Ubyh0LCdyZW5kZXInLCgpPT57aHIoby5zZWxlY3Rpb24pP3RoaXMuX2lzVmlzaWJsZSYmUnIoZSk6dGhpcy5faGlkZUZvcm0oITApfSkseXIoe2VtaXR0ZXI6dGhpcy5fZm9ybSxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2Zvcm0uZWxlbWVudF0sY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVGb3JtKCl9KX1fc2hvd0Zvcm0oKXtpZighdGhpcy5faXNWaXNpYmxlKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5jb21tYW5kcy5nZXQoJ2ltYWdlVGV4dEFsdGVybmF0aXZlJyksbz10aGlzLl9mb3JtLmxhYmVsZWRJbnB1dDt0aGlzLl9iYWxsb29uLmhhc1ZpZXcodGhpcy5fZm9ybSl8fHRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuX2Zvcm0scG9zaXRpb246VnIoZSl9KSxvLnZhbHVlPW8uaW5wdXRWaWV3LmVsZW1lbnQudmFsdWU9dC52YWx1ZXx8JycsdGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQuc2VsZWN0KCl9fV9oaWRlRm9ybShlKXt0aGlzLl9pc1Zpc2libGUmJih0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLl9mb3JtKSxlJiZ0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKSl9Z2V0IF9pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09dGhpcy5fZm9ybX19Y2xhc3MgaGsgZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0piLGZrXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2VUZXh0QWx0ZXJuYXRpdmUnfX12YXIgYms9byg0Niksa2s9by5uKGJrKTtjbGFzcyBfayBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bcWIsR2IsaGtdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidJbWFnZSd9fWNsYXNzIHdrIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5idXR0b25WaWV3PW5ldyB6aChlKSx0aGlzLl9maWxlSW5wdXRWaWV3PW5ldyB2ayhlKSx0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoJ2FjY2VwdGVkVHlwZScpLnRvKHRoaXMpLHRoaXMuX2ZpbGVJbnB1dFZpZXcuYmluZCgnYWxsb3dNdWx0aXBsZUZpbGVzJykudG8odGhpcyksdGhpcy5fZmlsZUlucHV0Vmlldy5kZWxlZ2F0ZSgnZG9uZScpLnRvKHRoaXMpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonc3BhbicsYXR0cmlidXRlczp7Y2xhc3M6J2NrLWZpbGUtZGlhbG9nLWJ1dHRvbid9LGNoaWxkcmVuOlt0aGlzLmJ1dHRvblZpZXcsdGhpcy5fZmlsZUlucHV0Vmlld119KSx0aGlzLmJ1dHRvblZpZXcub24oJ2V4ZWN1dGUnLCgpPT57dGhpcy5fZmlsZUlucHV0Vmlldy5vcGVuKCl9KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1jbGFzcyB2ayBleHRlbmRzIEJme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2V0KCdhY2NlcHRlZFR5cGUnKSx0aGlzLnNldCgnYWxsb3dNdWx0aXBsZUZpbGVzJywhMSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2lucHV0JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrLWhpZGRlbiddLHR5cGU6J2ZpbGUnLHRhYmluZGV4OictMScsYWNjZXB0OnQudG8oJ2FjY2VwdGVkVHlwZScpLG11bHRpcGxlOnQudG8oJ2FsbG93TXVsdGlwbGVGaWxlcycpfSxvbjp7Y2hhbmdlOnQudG8oKCk9Pnt0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5maWxlcyYmdGhpcy5lbGVtZW50LmZpbGVzLmxlbmd0aCYmdGhpcy5maXJlKCdkb25lJyx0aGlzLmVsZW1lbnQuZmlsZXMpLHRoaXMuZWxlbWVudC52YWx1ZT0nJ30pfX0pfW9wZW4oKXt0aGlzLmVsZW1lbnQuY2xpY2soKX19dmFyIHlrPW8oNDgpLHhrPW8ubih5ayk7Y2xhc3MgQ2sgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKCdpbWFnZVVwbG9hZCcsKHQpPT57Y29uc3Qgbj1uZXcgd2sodCksaT1lLmNvbW1hbmRzLmdldCgnaW1hZ2VVcGxvYWQnKTtyZXR1cm4gbi5zZXQoe2FjY2VwdGVkVHlwZTonaW1hZ2UvKicsYWxsb3dNdWx0aXBsZUZpbGVzOiEwfSksbi5idXR0b25WaWV3LnNldCh7bGFiZWw6bygnbicpLGljb246eGsuYSx0b29sdGlwOiEwfSksbi5idXR0b25WaWV3LmJpbmQoJ2lzRW5hYmxlZCcpLnRvKGkpLG4ub24oJ2RvbmUnLCh0LG8pPT57Zm9yKGNvbnN0IG4gb2YgQXJyYXkuZnJvbShvKSl7Y29uc3QgdD1OcihlLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbik7RnIobikmJmUuZXhlY3V0ZSgnaW1hZ2VVcGxvYWQnLHtmaWxlOm4saW5zZXJ0QXQ6dH0pfX0pLG59KX19dmFyIEFrPW8oNDkpLFRrPW8ubihBayksUGs9byg1MCksRWs9by5uKFBrKSxTaz1vKDUyKSxPaz1vLm4oU2spO2NsYXNzIElrIGV4dGVuZHMgbGh7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5wbGFjZWhvbGRlcj0nZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJytlbmNvZGVVUklDb21wb25lbnQoVGsuYSl9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbignYXR0cmlidXRlOnVwbG9hZFN0YXR1czppbWFnZScsKC4uLmUpPT50aGlzLnVwbG9hZFN0YXR1c0NoYW5nZSguLi5lKSl9dXBsb2FkU3RhdHVzQ2hhbmdlKGUsdCxvKXtjb25zdCBuPXRoaXMuZWRpdG9yLGk9dC5pdGVtLHI9aS5nZXRBdHRyaWJ1dGUoJ3VwbG9hZElkJyk7aWYoby5jb25zdW1hYmxlLmNvbnN1bWUodC5pdGVtLGUubmFtZSkpe2NvbnN0IGU9bi5wbHVnaW5zLmdldChRaCksYT1yP3QuYXR0cmlidXRlTmV3VmFsdWU6bnVsbCxzPXRoaXMucGxhY2Vob2xkZXIsbD1uLmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQoaSksZD1vLndyaXRlcjtpZigncmVhZGluZyc9PWEpcmV0dXJuIERyKGwsZCksdm9pZCBCcihzLGwsZCk7aWYoJ3VwbG9hZGluZyc9PWEpe2NvbnN0IHQ9ZS5sb2FkZXJzLmdldChyKTtyZXR1cm4gRHIobCxkKSx2b2lkKHQ/KExyKGwsZCksenIobCxkLHQsbi5lZGl0aW5nLnZpZXcpKTpCcihzLGwsZCkpfSdjb21wbGV0ZSc9PWEmJmUubG9hZGVycy5nZXQocikmJnFyKGwsZCxuLmVkaXRpbmcudmlldyksanIobCxkKSxMcihsLGQpLE1yKGwsZCl9fX1jb25zdCBSaz1TeW1ib2woJ3Byb2dyZXNzLWJhcicpO2NsYXNzIFZrIGV4dGVuZHMgcGh7ZXhlY3V0ZShlKXtjb25zdCB0PXRoaXMuZWRpdG9yLG89dC5tb2RlbC5kb2N1bWVudCxuPWUuZmlsZSxpPXQucGx1Z2lucy5nZXQoUWgpO3QubW9kZWwuY2hhbmdlKChyKT0+e2NvbnN0IGE9aS5jcmVhdGVMb2FkZXIobik7aWYoIWEpcmV0dXJuO2NvbnN0IHM9ci5jcmVhdGVFbGVtZW50KCdpbWFnZScse3VwbG9hZElkOmEuaWR9KTtsZXQgbDtsPWUuaW5zZXJ0QXQ/bmV3IGJ1KFtuZXcgcHUoZS5pbnNlcnRBdCldKTpvLnNlbGVjdGlvbix0Lm1vZGVsLmluc2VydENvbnRlbnQocyxsKSxzLnBhcmVudCYmci5zZXRTZWxlY3Rpb24ocywnb24nKX0pfX1jbGFzcyBGayBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidOb3RpZmljYXRpb24nfWluaXQoKXt0aGlzLm9uKCdzaG93Ondhcm5pbmcnLChlLHQpPT57d2luZG93LmFsZXJ0KHQubWVzc2FnZSl9LHtwcmlvcml0eTonbG93ZXN0J30pfXNob3dTdWNjZXNzKGUsdD17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTplLHR5cGU6J3N1Y2Nlc3MnLG5hbWVzcGFjZTp0Lm5hbWVzcGFjZSx0aXRsZTp0LnRpdGxlfSl9c2hvd0luZm8oZSx0PXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOmUsdHlwZTonaW5mbycsbmFtZXNwYWNlOnQubmFtZXNwYWNlLHRpdGxlOnQudGl0bGV9KX1zaG93V2FybmluZyhlLHQ9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6ZSx0eXBlOid3YXJuaW5nJyxuYW1lc3BhY2U6dC5uYW1lc3BhY2UsdGl0bGU6dC50aXRsZX0pfV9zaG93Tm90aWZpY2F0aW9uKGUpe2NvbnN0IHQ9YHNob3c6JHtlLnR5cGV9YCsoZS5uYW1lc3BhY2U/YDoke2UubmFtZXNwYWNlfWA6JycpO3RoaXMuZmlyZSh0LHttZXNzYWdlOmUubWVzc2FnZSx0eXBlOmUudHlwZSx0aXRsZTplLnRpdGxlfHwnJ30pfX1jbGFzcyBOayBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bUWgsRmtdfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5tb2RlbC5kb2N1bWVudCxvPWUubW9kZWwuc2NoZW1hLG49ZS5wbHVnaW5zLmdldChRaCk7by5leHRlbmQoJ2ltYWdlJyx7YWxsb3dBdHRyaWJ1dGVzOlsndXBsb2FkSWQnLCd1cGxvYWRTdGF0dXMnXX0pLGUuY29tbWFuZHMuYWRkKCdpbWFnZVVwbG9hZCcsbmV3IFZrKGUpKSx0aGlzLmxpc3RlblRvKGUuZWRpdGluZy52aWV3LmRvY3VtZW50LCdjbGlwYm9hcmRJbnB1dCcsKG8saSk9PntpZihIcihpLmRhdGFUcmFuc2ZlcikpcmV0dXJuO2xldCByPW5ldyBidShpLnRhcmdldFJhbmdlcy5tYXAoKHQpPT5lLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZSh0KSkpO2Zvcihjb25zdCBhIG9mIGkuZGF0YVRyYW5zZmVyLmZpbGVzKXtpZihGcihhKSl7Y29uc3QgdD1OcihyKTtlLm1vZGVsLmNoYW5nZSgobyk9Pntjb25zdCBpPW4uY3JlYXRlTG9hZGVyKGEpO2lmKGkpe2NvbnN0IG49by5jcmVhdGVFbGVtZW50KCdpbWFnZScse3VwbG9hZElkOmkuaWR9KSxyPW5ldyBidShbbmV3IHB1KHQpXSk7ZS5tb2RlbC5pbnNlcnRDb250ZW50KG4sciksbi5wYXJlbnQmJm8uc2V0U2VsZWN0aW9uKG4sJ29uJyl9fSksby5zdG9wKCl9cj10LnNlbGVjdGlvbn19KSxlLmVkaXRpbmcudmlldy5kb2N1bWVudC5vbignZHJhZ292ZXInLChlLHQpPT57dC5wcmV2ZW50RGVmYXVsdCgpfSksdC5vbignY2hhbmdlJywoKT0+e2NvbnN0IGU9dC5kaWZmZXIuZ2V0Q2hhbmdlcyh7aW5jbHVkZUNoYW5nZXNJbkdyYXZleWFyZDohMH0pO2Zvcihjb25zdCB0IG9mIGUpaWYoJ2luc2VydCc9PXQudHlwZSYmJ2ltYWdlJz09dC5uYW1lKXtjb25zdCBlPXQucG9zaXRpb24ubm9kZUFmdGVyLG89JyRncmF2ZXlhcmQnPT10LnBvc2l0aW9uLnJvb3Qucm9vdE5hbWUsaT1lLmdldEF0dHJpYnV0ZSgndXBsb2FkSWQnKTtpZighaSljb250aW51ZTtjb25zdCByPW4ubG9hZGVycy5nZXQoaSk7aWYoIXIpY29udGludWU7bz9yLmFib3J0KCk6J2lkbGUnPT1yLnN0YXR1cyYmdGhpcy5fbG9hZChyLGUpfX0pfV9sb2FkKGUsbyl7ZnVuY3Rpb24gbigpe3IuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLChlKT0+e2UucmVtb3ZlQXR0cmlidXRlKCd1cGxvYWRJZCcsbyksZS5yZW1vdmVBdHRyaWJ1dGUoJ3VwbG9hZFN0YXR1cycsbyl9KSx0LmRlc3Ryb3lMb2FkZXIoZSl9Y29uc3QgaT10aGlzLmVkaXRvcixyPWkubW9kZWwsYT1pLmxvY2FsZS50LHQ9aS5wbHVnaW5zLmdldChRaCkscz1pLnBsdWdpbnMuZ2V0KEZrKTtyZXR1cm4gci5lbnF1ZXVlQ2hhbmdlKCd0cmFuc3BhcmVudCcsKGUpPT57ZS5zZXRBdHRyaWJ1dGUoJ3VwbG9hZFN0YXR1cycsJ3JlYWRpbmcnLG8pfSksZS5yZWFkKCkudGhlbigodCk9Pntjb25zdCBuPWkuZWRpdGluZy5tYXBwZXIudG9WaWV3RWxlbWVudChvKSxhPW4uZ2V0Q2hpbGQoMCkscz1lLnVwbG9hZCgpO3JldHVybiBpLmVkaXRpbmcudmlldy5jaGFuZ2UoKGUpPT57ZS5zZXRBdHRyaWJ1dGUoJ3NyYycsdCxhKX0pLHIuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLChlKT0+e2Uuc2V0QXR0cmlidXRlKCd1cGxvYWRTdGF0dXMnLCd1cGxvYWRpbmcnLG8pfSksc30pLnRoZW4oKGUpPT57ci5lbnF1ZXVlQ2hhbmdlKCd0cmFuc3BhcmVudCcsKHQpPT57dC5zZXRBdHRyaWJ1dGVzKHt1cGxvYWRTdGF0dXM6J2NvbXBsZXRlJyxzcmM6ZS5kZWZhdWx0fSxvKTtsZXQgbj0wO2NvbnN0IGk9T2JqZWN0LmtleXMoZSkuZmlsdGVyKChlKT0+e2NvbnN0IHQ9cGFyc2VJbnQoZSwxMCk7aWYoIWlzTmFOKHQpKXJldHVybiBuPWlzKG4sdCksITB9KS5tYXAoKHQpPT5gJHtlW3RdfSAke3R9d2ApLmpvaW4oJywgJyk7JychPWkmJnQuc2V0QXR0cmlidXRlKCdzcmNzZXQnLHtkYXRhOmksd2lkdGg6bn0sbyl9KSxuKCl9KS5jYXRjaCgodCk9PntpZignZXJyb3InIT09ZS5zdGF0dXMmJidhYm9ydGVkJyE9PWUuc3RhdHVzKXRocm93IHQ7J2Vycm9yJz09ZS5zdGF0dXMmJnMuc2hvd1dhcm5pbmcodCx7dGl0bGU6YSgnbycpLG5hbWVzcGFjZTondXBsb2FkJ30pLG4oKSxyLmVucXVldWVDaGFuZ2UoJ3RyYW5zcGFyZW50JywoZSk9PntlLnJlbW92ZShvKX0pfSl9fWNsYXNzIERrIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0ltYWdlVXBsb2FkJ31zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW05rLENrLElrXX19Y2xhc3MgTWsgZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0ZiLF9rLERrXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nRWFzeUltYWdlJ319Y2xhc3MgQmsgZXh0ZW5kcyBwaHtyZWZyZXNoKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQsbz1KaSh0LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhbyYmby5pcygncGFyYWdyYXBoJyksdGhpcy5pc0VuYWJsZWQ9ISFvJiZLcihvLGUuc2NoZW1hKX1leGVjdXRlKGU9e30pe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50O3QuY2hhbmdlKChuKT0+e2NvbnN0IGk9KGUuc2VsZWN0aW9ufHxvLnNlbGVjdGlvbikuZ2V0U2VsZWN0ZWRCbG9ja3MoKTtmb3IoY29uc3QgZSBvZiBpKSFlLmlzKCdwYXJhZ3JhcGgnKSYmS3IoZSx0LnNjaGVtYSkmJm4ucmVuYW1lKGUsJ3BhcmFncmFwaCcpfSl9fWNsYXNzIExrIGV4dGVuZHMgbGh7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1BhcmFncmFwaCd9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLm1vZGVsLG89ZS5kYXRhO2UuY29tbWFuZHMuYWRkKCdwYXJhZ3JhcGgnLG5ldyBCayhlKSksdC5zY2hlbWEucmVnaXN0ZXIoJ3BhcmFncmFwaCcse2luaGVyaXRBbGxGcm9tOickYmxvY2snfSksZS5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOidwYXJhZ3JhcGgnLHZpZXc6J3AnfSksby51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50JywoZSx0LG8pPT57aWYoby5jb25zdW1hYmxlLnRlc3QodC52aWV3SXRlbSx7bmFtZTp0LnZpZXdJdGVtLm5hbWV9KSlpZihMay5wYXJhZ3JhcGhMaWtlRWxlbWVudHMuaGFzKHQudmlld0l0ZW0ubmFtZSkpe2lmKHQudmlld0l0ZW0uaXNFbXB0eSlyZXR1cm47Y29uc3QgZT1vLndyaXRlci5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKSxuPW8uc3BsaXRUb0FsbG93ZWRQYXJlbnQoZSx0Lm1vZGVsQ3Vyc29yKTtpZighbilyZXR1cm47by53cml0ZXIuaW5zZXJ0KGUsbi5wb3NpdGlvbik7Y29uc3R7bW9kZWxSYW5nZTppfT1vLmNvbnZlcnRDaGlsZHJlbih0LnZpZXdJdGVtLHV1LmNyZWF0ZUF0KGUpKTt0Lm1vZGVsUmFuZ2U9bmV3IHB1KHV1LmNyZWF0ZUJlZm9yZShlKSxpLmVuZCksdC5tb2RlbEN1cnNvcj10Lm1vZGVsUmFuZ2UuZW5kfWVsc2UgJHIodC52aWV3SXRlbSx0Lm1vZGVsQ3Vyc29yLG8uc2NoZW1hKSYmKHQ9T2JqZWN0LmFzc2lnbih0LEdyKHQudmlld0l0ZW0sdC5tb2RlbEN1cnNvcixvKSkpfSx7cHJpb3JpdHk6J2xvdyd9KSxvLnVwY2FzdERpc3BhdGNoZXIub24oJ3RleHQnLChlLHQsbyk9Pnt0Lm1vZGVsUmFuZ2V8fCRyKHQudmlld0l0ZW0sdC5tb2RlbEN1cnNvcixvLnNjaGVtYSkmJih0PU9iamVjdC5hc3NpZ24odCxHcih0LnZpZXdJdGVtLHQubW9kZWxDdXJzb3IsbykpKX0se3ByaW9yaXR5Oidsb3dlc3QnfSksdC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcigoZSk9PnRoaXMuX2F1dG9wYXJhZ3JhcGhFbXB0eVJvb3RzKGUpKSxlLm9uKCdkYXRhUmVhZHknLCgpPT57dC5lbnF1ZXVlQ2hhbmdlKCd0cmFuc3BhcmVudCcsKGUpPT50aGlzLl9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyhlKSl9LHtwcmlvcml0eTonbG93ZXN0J30pfV9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyhlKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsO2Zvcihjb25zdCBvIG9mIHQuZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkpe2NvbnN0IG49dC5kb2N1bWVudC5nZXRSb290KG8pO2lmKG4uaXNFbXB0eSYmJyRncmF2ZXlhcmQnIT1uLnJvb3ROYW1lJiZ0LnNjaGVtYS5jaGVja0NoaWxkKG4sJ3BhcmFncmFwaCcpKXJldHVybiBlLmluc2VydEVsZW1lbnQoJ3BhcmFncmFwaCcsbiksITB9fX1May5wYXJhZ3JhcGhMaWtlRWxlbWVudHM9bmV3IFNldChbJ2Jsb2NrcXVvdGUnLCdkZCcsJ2RpdicsJ2R0JywnaDEnLCdoMicsJ2gzJywnaDQnLCdoNScsJ2g2JywnbGknLCdwJywndGQnXSk7Y2xhc3MgemsgZXh0ZW5kcyBwaHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMubW9kZWxFbGVtZW50cz10fXJlZnJlc2goKXtjb25zdCBlPUppKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhZSYmdGhpcy5tb2RlbEVsZW1lbnRzLmluY2x1ZGVzKGUubmFtZSkmJmUubmFtZSx0aGlzLmlzRW5hYmxlZD0hIWUmJnRoaXMubW9kZWxFbGVtZW50cy5zb21lKCh0KT0+SnIoZSx0LHRoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYSkpfWV4ZWN1dGUoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQsbj1lLnZhbHVlO3QuY2hhbmdlKChlKT0+e2NvbnN0IGk9QXJyYXkuZnJvbShvLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKS5maWx0ZXIoKGUpPT5KcihlLG4sdC5zY2hlbWEpKTtmb3IoY29uc3QgdCBvZiBpKXQuaXMobil8fGUucmVuYW1lKHQsbil9KX19Y29uc3Qgams9J3BhcmFncmFwaCc7Y2xhc3MgcWsgZXh0ZW5kcyBsaHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxlLmNvbmZpZy5kZWZpbmUoJ2hlYWRpbmcnLHtvcHRpb25zOlt7bW9kZWw6J3BhcmFncmFwaCcsdGl0bGU6J1BhcmFncmFwaCcsY2xhc3M6J2NrLWhlYWRpbmdfcGFyYWdyYXBoJ30se21vZGVsOidoZWFkaW5nMScsdmlldzonaDInLHRpdGxlOidIZWFkaW5nIDEnLGNsYXNzOidjay1oZWFkaW5nX2hlYWRpbmcxJ30se21vZGVsOidoZWFkaW5nMicsdmlldzonaDMnLHRpdGxlOidIZWFkaW5nIDInLGNsYXNzOidjay1oZWFkaW5nX2hlYWRpbmcyJ30se21vZGVsOidoZWFkaW5nMycsdmlldzonaDQnLHRpdGxlOidIZWFkaW5nIDMnLGNsYXNzOidjay1oZWFkaW5nX2hlYWRpbmczJ31dfSl9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltMa119aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbmZpZy5nZXQoJ2hlYWRpbmcub3B0aW9ucycpLG89W107Zm9yKGNvbnN0IG4gb2YgdCluLm1vZGVsIT09amsmJihlLm1vZGVsLnNjaGVtYS5yZWdpc3RlcihuLm1vZGVsLHtpbmhlcml0QWxsRnJvbTonJGJsb2NrJ30pLGUuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KG4pLG8ucHVzaChuLm1vZGVsKSk7ZS5jb21tYW5kcy5hZGQoJ2hlYWRpbmcnLG5ldyB6ayhlLG8pKX1hZnRlckluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5jb21tYW5kcy5nZXQoJ2VudGVyJyksbz1lLmNvbmZpZy5nZXQoJ2hlYWRpbmcub3B0aW9ucycpO3QmJnRoaXMubGlzdGVuVG8odCwnYWZ0ZXJFeGVjdXRlJywodCxuKT0+e2NvbnN0IGk9ZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudCxyPW8uc29tZSgoZSk9PmkuaXMoZS5tb2RlbCkpO3ImJiFpLmlzKGprKSYmMD09PWkuY2hpbGRDb3VudCYmbi53cml0ZXIucmVuYW1lKGksamspfSl9fWNsYXNzIFdre2NvbnN0cnVjdG9yKGUsdCl7dCYmUmModGhpcyx0KSxlJiZ0aGlzLnNldChlKX19ZihXayxNYyk7Y2xhc3MgVWsgZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KCdpc1Zpc2libGUnLCExKSx0aGlzLmNoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stcmVzZXQnLCdjay1kcm9wZG93bl9fcGFuZWwnLHQuaWYoJ2lzVmlzaWJsZScsJ2NrLWRyb3Bkb3duX19wYW5lbC12aXNpYmxlJyldfSxjaGlsZHJlbjp0aGlzLmNoaWxkcmVuLG9uOntzZWxlY3RzdGFydDp0LnRvKChlKT0+ZS5wcmV2ZW50RGVmYXVsdCgpKX19KX1mb2N1cygpe3RoaXMuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmNoaWxkcmVuLmZpcnN0LmZvY3VzKCl9Zm9jdXNMYXN0KCl7aWYodGhpcy5jaGlsZHJlbi5sZW5ndGgpe2NvbnN0IGU9dGhpcy5jaGlsZHJlbi5sYXN0OydmdW5jdGlvbic9PXR5cGVvZiBlLmZvY3VzTGFzdD9lLmZvY3VzTGFzdCgpOmUuZm9jdXMoKX19fXZhciBIaz1vKDU0KSxLaz1vLm4oSGspO2NsYXNzIEdrIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoZSx0LG8pe3N1cGVyKGUpO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5idXR0b25WaWV3PXQsdGhpcy5wYW5lbFZpZXc9byx0aGlzLnNldCgnaXNPcGVuJywhMSksdGhpcy5zZXQoJ2lzRW5hYmxlZCcsITApLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBFZix0aGlzLmtleXN0cm9rZXM9bmV3IHdmLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stZHJvcGRvd24nLG4uaWYoJ2lzRW5hYmxlZCcsJ2NrLWRpc2FibGVkJywoZSk9PiFlKV19LGNoaWxkcmVuOlt0LG9dfSksdC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6Wydjay1kcm9wZG93bl9fYnV0dG9uJ119fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5saXN0ZW5Ubyh0aGlzLmJ1dHRvblZpZXcsJ29wZW4nLCgpPT57dGhpcy5pc09wZW49IXRoaXMuaXNPcGVufSksdGhpcy5wYW5lbFZpZXcuYmluZCgnaXNWaXNpYmxlJykudG8odGhpcywnaXNPcGVuJyksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMuZWxlbWVudCk7Y29uc3QgZT0oZSx0KT0+e3RoaXMuaXNPcGVuJiYodGhpcy5idXR0b25WaWV3LmZvY3VzKCksdGhpcy5pc09wZW49ITEsdCgpKX07dGhpcy5rZXlzdHJva2VzLnNldCgnYXJyb3dkb3duJywoZSx0KT0+e3RoaXMuYnV0dG9uVmlldy5pc0VuYWJsZWQmJiF0aGlzLmlzT3BlbiYmKHRoaXMuaXNPcGVuPSEwLHQoKSl9KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdhcnJvd3JpZ2h0JywoZSx0KT0+e3RoaXMuaXNPcGVuJiZ0KCl9KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdhcnJvd2xlZnQnLGUpLHRoaXMua2V5c3Ryb2tlcy5zZXQoJ2VzYycsZSl9Zm9jdXMoKXt0aGlzLmJ1dHRvblZpZXcuZm9jdXMoKX19dmFyICRrPW8oNTYpLEprPW8ubigkayk7Y2xhc3MgUWsgZXh0ZW5kcyB6aHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFycm93Vmlldz10aGlzLl9jcmVhdGVBcnJvd1ZpZXcoKSx0aGlzLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntcImFyaWEtaGFzcG9wdXBcIjohMH19KSx0aGlzLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcywnb3BlbicpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMuYXJyb3dWaWV3KX1fY3JlYXRlQXJyb3dWaWV3KCl7Y29uc3QgZT1uZXcgRmg7cmV0dXJuIGUuY29udGVudD1Kay5hLGUuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOidjay1kcm9wZG93bl9fYXJyb3cnfX0pLGV9fXZhciBZaz1vKDU3KSxYaz1vLm4oWWspO2NsYXNzIFprIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaXRlbXM9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IEVmLHRoaXMua2V5c3Ryb2tlcz1uZXcgd2YsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IFhmKHtmb2N1c2FibGVzOnRoaXMuaXRlbXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6J2Fycm93dXAnLGZvY3VzTmV4dDonYXJyb3dkb3duJ319KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J3VsJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stcmVzZXQnLCdjay1saXN0J119LGNoaWxkcmVuOnRoaXMuaXRlbXN9KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtmb3IoY29uc3QgZSBvZiB0aGlzLml0ZW1zKXRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpO3RoaXMuaXRlbXMub24oJ2FkZCcsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMuaXRlbXMub24oJ3JlbW92ZScsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfX1jbGFzcyBlXyBleHRlbmRzIEJme2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnNldCgndGFiaW5kZXgnLC0xKSx0aGlzLmtleXN0cm9rZXM9bmV3IHdmO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidsaScsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWxpc3RfX2l0ZW0nLGUudG8oJ2NsYXNzJyksZS5pZignaXNBY3RpdmUnLCdjay1saXN0X19pdGVtX2FjdGl2ZScpLGUuaWYoJ2lzRW5hYmxlZCcsJ2NrLWRpc2FibGVkJywoZSk9PiFlKV0sc3R5bGU6ZS50bygnc3R5bGUnKSx0YWJpbmRleDplLnRvKCd0YWJpbmRleCcpfSxjaGlsZHJlbjpbe3RleHQ6ZS50bygnbGFiZWwnKX1dLG9uOntjbGljazplLnRvKChlKT0+e3RoaXMuaXNFbmFibGVkP3RoaXMuZmlyZSgnZXhlY3V0ZScpOmUucHJldmVudERlZmF1bHQoKX0pfX0pLHRoaXMuc2V0KCdpc0VuYWJsZWQnLCEwKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCBlPShlLHQpPT57dGhpcy5maXJlKCdleGVjdXRlJyksdCgpfTt0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdFbnRlcicsZSksdGhpcy5rZXlzdHJva2VzLnNldCgnU3BhY2UnLGUpfWZvY3VzKCl7dGhpcy5lbGVtZW50LmZvY3VzKCl9fWNsYXNzIHRfIGV4dGVuZHMgQmZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidsaScsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWxpc3RfX3NlcGFyYXRvciddfX0pfX12YXIgb189byg1OSksbl89by5uKG9fKSxpXz1vKDYxKSxyXz1vLm4oaV8pLGFfPW8oNSksc189by5uKGFfKTtjbGFzcyBsXyBleHRlbmRzIGxoe2luaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLG89ZS50LHQ9b2EoZSksbj1vKCdlJyksaT1vKCdmJyk7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCgnaGVhZGluZycsKG8pPT57Y29uc3Qgcj17fSxhPW5ldyBHYyxzPWUuY29tbWFuZHMuZ2V0KCdoZWFkaW5nJyksbD1lLmNvbW1hbmRzLmdldCgncGFyYWdyYXBoJyksZD1bc107Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1uZXcgV2soe2xhYmVsOmUudGl0bGUsY2xhc3M6ZS5jbGFzc30pOydwYXJhZ3JhcGgnPT09ZS5tb2RlbD8odC5iaW5kKCdpc0FjdGl2ZScpLnRvKGwsJ3ZhbHVlJyksdC5zZXQoJ2NvbW1hbmROYW1lJywncGFyYWdyYXBoJyksZC5wdXNoKGwpKToodC5iaW5kKCdpc0FjdGl2ZScpLnRvKHMsJ3ZhbHVlJywodCk9PnQ9PT1lLm1vZGVsKSx0LnNldCh7Y29tbWFuZE5hbWU6J2hlYWRpbmcnLGNvbW1hbmRWYWx1ZTplLm1vZGVsfSkpLGEuYWRkKHQpLHJbZS5tb2RlbF09ZS50aXRsZX1jb25zdCBjPVFyKG8pO3JldHVybiBZcihjLGEpLGMuYnV0dG9uVmlldy5zZXQoe2lzT246ITEsd2l0aFRleHQ6ITAsdG9vbHRpcDppfSksYy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6Wydjay1oZWFkaW5nLWRyb3Bkb3duJ119fSksYy5iaW5kKCdpc0VuYWJsZWQnKS50b01hbnkoZCwnaXNFbmFibGVkJywoLi4uZSk9PmUuc29tZSgoZSk9PmUpKSxjLmJ1dHRvblZpZXcuYmluZCgnbGFiZWwnKS50byhzLCd2YWx1ZScsbCwndmFsdWUnLChlLHQpPT57Y29uc3Qgbz1lfHx0JiYncGFyYWdyYXBoJztyZXR1cm4gcltvXT9yW29dOm59KSx0aGlzLmxpc3RlblRvKGMsJ2V4ZWN1dGUnLCh0KT0+e2UuZXhlY3V0ZSh0LnNvdXJjZS5jb21tYW5kTmFtZSx0LnNvdXJjZS5jb21tYW5kVmFsdWU/e3ZhbHVlOnQuc291cmNlLmNvbW1hbmRWYWx1ZX06dm9pZCAwKSxlLmVkaXRpbmcudmlldy5mb2N1cygpfSksY30pfX1jbGFzcyBkXyBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bcWssbF9dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidIZWFkaW5nJ319dmFyIGNfPW8oNjQpLG1fPW8ubihjXyk7Y29uc3QgdV89bmV3IFdlYWtNYXAscF89U3ltYm9sKCdpbWFnZUNhcHRpb24nKTtjbGFzcyBnXyBleHRlbmRzIGxoe2luaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLG89ZS5lZGl0aW5nLnZpZXcsbj1lLm1vZGVsLnNjaGVtYSxpPWUuZGF0YSxyPWUuZWRpdGluZyxhPWUudDtuLnJlZ2lzdGVyKCdjYXB0aW9uJyx7YWxsb3dJbjonaW1hZ2UnLGFsbG93Q29udGVudE9mOickYmxvY2snLGlzTGltaXQ6ITB9KSxlLm1vZGVsLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKChlKT0+dGhpcy5faW5zZXJ0TWlzc2luZ01vZGVsQ2FwdGlvbkVsZW1lbnQoZSkpLGUuY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmFkZChpbyh7dmlldzpsYSxtb2RlbDonY2FwdGlvbid9KSk7aS5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDpjYXB0aW9uJyxkYSgoZSk9PmUuY3JlYXRlQ29udGFpbmVyRWxlbWVudCgnZmlnY2FwdGlvbicpLCExKSk7Y29uc3QgdD1hYShvLGEoJ2gnKSk7ci5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDpjYXB0aW9uJyxkYSh0KSksci5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydCcsdGhpcy5fZml4Q2FwdGlvblZpc2liaWxpdHkoKGUpPT5lLml0ZW0pLHtwcmlvcml0eTonaGlnaCd9KSxyLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlJyx0aGlzLl9maXhDYXB0aW9uVmlzaWJpbGl0eSgoZSk9PmUucG9zaXRpb24ucGFyZW50KSx7cHJpb3JpdHk6J2hpZ2gnfSksby5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcigoZSk9PnRoaXMuX3VwZGF0ZUNhcHRpb25WaXNpYmlsaXR5KGUpKX1fdXBkYXRlQ2FwdGlvblZpc2liaWxpdHkoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLm1hcHBlcixvPXRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb247bGV0IG47Y29uc3QgaT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKHImJnIuaXMoJ2ltYWdlJykpe2NvbnN0IGU9c2Eocik7bj10LnRvVmlld0VsZW1lbnQoZSl9Y29uc3QgYT1pLmdldEZpcnN0UG9zaXRpb24oKSxzPW1hKGEucGFyZW50KTtpZihzJiYobj10LnRvVmlld0VsZW1lbnQocykpLG4pcmV0dXJuIG8/bz09PW4/cGEobixlKToodWEobyxlKSx0aGlzLl9sYXN0U2VsZWN0ZWRDYXB0aW9uPW4scGEobixlKSk6KHRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb249bixwYShuLGUpKTtpZihvKXtjb25zdCB0PXVhKG8sZSk7cmV0dXJuIHRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb249bnVsbCx0fXJldHVybiExfV9maXhDYXB0aW9uVmlzaWJpbGl0eShlKXtyZXR1cm4odCxvLG4pPT57Y29uc3QgaT1lKG8pLHI9bWEoaSksYT10aGlzLmVkaXRvci5lZGl0aW5nLm1hcHBlcixzPW4ud3JpdGVyO2lmKHIpe2NvbnN0IGU9YS50b1ZpZXdFbGVtZW50KHIpO2UmJihyLmNoaWxkQ291bnQ/cy5yZW1vdmVDbGFzcygnY2staGlkZGVuJyxlKTpzLmFkZENsYXNzKCdjay1oaWRkZW4nLGUpKX19fV9pbnNlcnRNaXNzaW5nTW9kZWxDYXB0aW9uRWxlbWVudChlKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2Zvcihjb25zdCB0IG9mIG8paWYoJ2luc2VydCc9PXQudHlwZSYmJ2ltYWdlJz09dC5uYW1lKXtjb25zdCBvPXQucG9zaXRpb24ubm9kZUFmdGVyO2lmKCFzYShvKSlyZXR1cm4gZS5hcHBlbmRFbGVtZW50KCdjYXB0aW9uJyxvKSwhMH19fXZhciBmXz1vKDY2KSxoXz1vLm4oZl8pO2NsYXNzIGJfIGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltnX119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0ltYWdlQ2FwdGlvbid9fWNsYXNzIGtfIGV4dGVuZHMgcGh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLl9kZWZhdWx0U3R5bGU9ITEsdGhpcy5zdHlsZXM9dC5yZWR1Y2UoKGUsdCk9PihlW3QubmFtZV09dCx0LmlzRGVmYXVsdCYmKHRoaXMuX2RlZmF1bHRTdHlsZT10Lm5hbWUpLGUpLHt9KX1yZWZyZXNoKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYodGhpcy5pc0VuYWJsZWQ9YnIoZSksIWUpdGhpcy52YWx1ZT0hMTtlbHNlIGlmKGUuaGFzQXR0cmlidXRlKCdpbWFnZVN0eWxlJykpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnKTt0aGlzLnZhbHVlPSEhdGhpcy5zdHlsZXNbdF0mJnR9ZWxzZSB0aGlzLnZhbHVlPXRoaXMuX2RlZmF1bHRTdHlsZX1leGVjdXRlKGUpe2NvbnN0IHQ9ZS52YWx1ZSxvPXRoaXMuZWRpdG9yLm1vZGVsLG49by5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7by5jaGFuZ2UoKGUpPT57dGhpcy5zdHlsZXNbdF0uaXNEZWZhdWx0P2UucmVtb3ZlQXR0cmlidXRlKCdpbWFnZVN0eWxlJyxuKTplLnNldEF0dHJpYnV0ZSgnaW1hZ2VTdHlsZScsdCxuKX0pfX12YXIgX189byg2OCksd189by5uKF9fKSx2Xz1vKDY5KSx5Xz1vLm4odl8pLHhfPW8oNzApLENfPW8ubih4XyksQV89byg3MSksVF89by5uKEFfKTtjb25zdCBQXz17ZnVsbDp7bmFtZTonZnVsbCcsdGl0bGU6J0Z1bGwgc2l6ZSBpbWFnZScsaWNvbjp3Xy5hLGlzRGVmYXVsdDohMH0sc2lkZTp7bmFtZTonc2lkZScsdGl0bGU6J1NpZGUgaW1hZ2UnLGljb246VF8uYSxjbGFzc05hbWU6J2ltYWdlLXN0eWxlLXNpZGUnfSxhbGlnbkxlZnQ6e25hbWU6J2FsaWduTGVmdCcsdGl0bGU6J0xlZnQgYWxpZ25lZCBpbWFnZScsaWNvbjp5Xy5hLGNsYXNzTmFtZTonaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdCd9LGFsaWduQ2VudGVyOntuYW1lOidhbGlnbkNlbnRlcicsdGl0bGU6J0NlbnRlcmVkIGltYWdlJyxpY29uOkNfLmEsY2xhc3NOYW1lOidpbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXInfSxhbGlnblJpZ2h0OntuYW1lOidhbGlnblJpZ2h0Jyx0aXRsZTonUmlnaHQgYWxpZ25lZCBpbWFnZScsaWNvbjpUXy5hLGNsYXNzTmFtZTonaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHQnfX0sRV89e2Z1bGw6d18uYSxsZWZ0OnlfLmEscmlnaHQ6VF8uYSxjZW50ZXI6Q18uYX07Y2xhc3MgU18gZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3FiXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2VTdHlsZUVkaXRpbmcnfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5tb2RlbC5zY2hlbWEsbz1lLmRhdGEsbj1lLmVkaXRpbmc7ZS5jb25maWcuZGVmaW5lKCdpbWFnZS5zdHlsZXMnLFsnZnVsbCcsJ3NpZGUnXSk7Y29uc3QgaT1iYShlLmNvbmZpZy5nZXQoJ2ltYWdlLnN0eWxlcycpKTt0LmV4dGVuZCgnaW1hZ2UnLHthbGxvd0F0dHJpYnV0ZXM6J2ltYWdlU3R5bGUnfSk7Y29uc3Qgcj1nYShpKTtuLmRvd25jYXN0RGlzcGF0Y2hlci5vbignYXR0cmlidXRlOmltYWdlU3R5bGU6aW1hZ2UnLHIpLG8uZG93bmNhc3REaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZScsciksby51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50OmZpZ3VyZScsZmEoaSkse3ByaW9yaXR5Oidsb3cnfSksZS5jb21tYW5kcy5hZGQoJ2ltYWdlU3R5bGUnLG5ldyBrXyhlLGkpKX19dmFyIE9fPW8oNzIpLElfPW8ubihPXyk7Y2xhc3MgUl8gZXh0ZW5kcyBsaHtnZXQgbG9jYWxpemVkRGVmYXVsdFN0eWxlc1RpdGxlcygpe2NvbnN0IGU9dGhpcy5lZGl0b3IudDtyZXR1cm57XCJGdWxsIHNpemUgaW1hZ2VcIjplKCdpJyksXCJTaWRlIGltYWdlXCI6ZSgnaicpLFwiTGVmdCBhbGlnbmVkIGltYWdlXCI6ZSgnaycpLFwiQ2VudGVyZWQgaW1hZ2VcIjplKCdsJyksXCJSaWdodCBhbGlnbmVkIGltYWdlXCI6ZSgnbScpfX1pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29uZmlnLmdldCgnaW1hZ2Uuc3R5bGVzJyksbz1fYShiYSh0KSx0aGlzLmxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMpO2Zvcihjb25zdCBlIG9mIG8pdGhpcy5fY3JlYXRlQnV0dG9uKGUpfV9jcmVhdGVCdXR0b24oZSl7Y29uc3QgdD10aGlzLmVkaXRvcixvPWBpbWFnZVN0eWxlOiR7ZS5uYW1lfWA7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChvLChvKT0+e2NvbnN0IG49dC5jb21tYW5kcy5nZXQoJ2ltYWdlU3R5bGUnKSxpPW5ldyB6aChvKTtyZXR1cm4gaS5zZXQoe2xhYmVsOmUudGl0bGUsaWNvbjplLmljb24sdG9vbHRpcDohMH0pLGkuYmluZCgnaXNFbmFibGVkJykudG8obiwnaXNFbmFibGVkJyksaS5iaW5kKCdpc09uJykudG8obiwndmFsdWUnLCh0KT0+dD09PWUubmFtZSksdGhpcy5saXN0ZW5UbyhpLCdleGVjdXRlJywoKT0+dC5leGVjdXRlKCdpbWFnZVN0eWxlJyx7dmFsdWU6ZS5uYW1lfSkpLGl9KX19Y2xhc3MgVl8gZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1NfLFJfXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2VTdHlsZSd9fWNsYXNzIEZfIGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt1a119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0ltYWdlVG9vbGJhcid9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLnBsdWdpbnMuZ2V0KCdCYWxsb29uVG9vbGJhcicpO3QmJnRoaXMubGlzdGVuVG8odCwnc2hvdycsKHQpPT57aHIoZS5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uKSYmdC5zdG9wKCl9LHtwcmlvcml0eTonaGlnaCd9KX1hZnRlckluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5jb25maWcuZ2V0KCdpbWFnZS50b29sYmFyJyk7dCYmdC5sZW5ndGgmJih0aGlzLl9iYWxsb29uPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KCdDb250ZXh0dWFsQmFsbG9vbicpLHRoaXMuX3Rvb2xiYXI9bmV3IG9oLHRoaXMuX3Rvb2xiYXIuZmlsbEZyb21Db25maWcodCxlLnVpLmNvbXBvbmVudEZhY3RvcnkpLHRoaXMubGlzdGVuVG8oZS5lZGl0aW5nLnZpZXcsJ3JlbmRlcicsKCk9Pnt0aGlzLl9jaGVja0lzVmlzaWJsZSgpfSksdGhpcy5saXN0ZW5UbyhlLnVpLmZvY3VzVHJhY2tlciwnY2hhbmdlOmlzRm9jdXNlZCcsKCk9Pnt0aGlzLl9jaGVja0lzVmlzaWJsZSgpfSx7cHJpb3JpdHk6J2xvdyd9KSl9X2NoZWNrSXNWaXNpYmxlKCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLnVpLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQ/aHIoZS5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uKT90aGlzLl9zaG93VG9vbGJhcigpOnRoaXMuX2hpZGVUb29sYmFyKCk6dGhpcy5faGlkZVRvb2xiYXIoKX1fc2hvd1Rvb2xiYXIoKXtjb25zdCBlPXRoaXMuZWRpdG9yO3RoaXMuX2lzVmlzaWJsZT9ScihlKTohdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuX3Rvb2xiYXIpJiZ0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLl90b29sYmFyLHBvc2l0aW9uOlZyKGUpLGJhbGxvb25DbGFzc05hbWU6J2NrLXRvb2xiYXItY29udGFpbmVyJ30pfV9oaWRlVG9vbGJhcigpe3RoaXMuX2lzVmlzaWJsZSYmdGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy5fdG9vbGJhcil9Z2V0IF9pc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09dGhpcy5fdG9vbGJhcn19Y2xhc3MgTl8gZXh0ZW5kcyBwaHtyZWZyZXNoKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQ7dGhpcy52YWx1ZT10LnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJyksdGhpcy5pc0VuYWJsZWQ9ZS5zY2hlbWEuY2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbih0LnNlbGVjdGlvbiwnbGlua0hyZWYnKX1leGVjdXRlKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LnNlbGVjdGlvbjt0LmNoYW5nZSgobik9PntpZihvLmlzQ29sbGFwc2VkKXtjb25zdCB0PW8uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKG8uaGFzQXR0cmlidXRlKCdsaW5rSHJlZicpKXtjb25zdCB0PXdhKG8uZ2V0Rmlyc3RQb3NpdGlvbigpLG8uZ2V0QXR0cmlidXRlKCdsaW5rSHJlZicpKTtuLnNldEF0dHJpYnV0ZSgnbGlua0hyZWYnLGUsdCksbi5zZXRTZWxlY3Rpb24odCl9ZWxzZSBpZignJyE9PWUpe2NvbnN0IGk9dXQoby5nZXRBdHRyaWJ1dGVzKCkpO2kuc2V0KCdsaW5rSHJlZicsZSk7Y29uc3Qgcj1uLmNyZWF0ZVRleHQoZSxpKTtuLmluc2VydChyLHQpLG4uc2V0U2VsZWN0aW9uKHB1LmNyZWF0ZU9uKHIpKX19ZWxzZXtjb25zdCBpPXQuc2NoZW1hLmdldFZhbGlkUmFuZ2VzKG8uZ2V0UmFuZ2VzKCksJ2xpbmtIcmVmJyk7Zm9yKGNvbnN0IHQgb2YgaSluLnNldEF0dHJpYnV0ZSgnbGlua0hyZWYnLGUsdCl9fSl9fWNsYXNzIERfIGV4dGVuZHMgcGh7cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJyl9ZXhlY3V0ZSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50LnNlbGVjdGlvbjtlLmNoYW5nZSgoZSk9Pntjb25zdCBvPXQuaXNDb2xsYXBzZWQ/W3dhKHQuZ2V0Rmlyc3RQb3NpdGlvbigpLHQuZ2V0QXR0cmlidXRlKCdsaW5rSHJlZicpKV06dC5nZXRSYW5nZXMoKTtmb3IoY29uc3QgdCBvZiBvKWUucmVtb3ZlQXR0cmlidXRlKCdsaW5rSHJlZicsdCl9KX19Y29uc3QgTV89U3ltYm9sKCdsaW5rRWxlbWVudCcpLEJfPS9bXFx1MDAwMC1cXHUwMDIwXFx1MDBBMFxcdTE2ODBcXHUxODBFXFx1MjAwMC1cXHUyMDI5XFx1MjA1ZlxcdTMwMDBdL2csTF89L14oPzooPzpodHRwcz98ZnRwcz98bWFpbHRvKTp8W15hLXpdfFthLXorLi1dKyg/OlteYS16Ky46LV18JCkpL2k7Y2xhc3Mgel97Y29uc3RydWN0b3IoZSx0LG8pe3RoaXMubW9kZWw9ZSx0aGlzLmF0dHJpYnV0ZT1vLHRoaXMuX21vZGVsU2VsZWN0aW9uPWUuZG9jdW1lbnQuc2VsZWN0aW9uLHRoaXMuX292ZXJyaWRlVWlkPW51bGwsdGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMSx0Lmxpc3RlblRvKHRoaXMuX21vZGVsU2VsZWN0aW9uLCdjaGFuZ2U6cmFuZ2UnLChlLHQpPT50aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkP3ZvaWQodGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMSk6dm9pZCghdGhpcy5faXNHcmF2aXR5T3ZlcnJpZGRlbnx8IXQuZGlyZWN0Q2hhbmdlJiZQYSh0aGlzLl9tb2RlbFNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksbyl8fHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCkpKX1oYW5kbGVGb3J3YXJkTW92ZW1lbnQoZSx0KXtjb25zdCBvPXRoaXMuYXR0cmlidXRlO3JldHVybiB0aGlzLl9pc0dyYXZpdHlPdmVycmlkZGVufHxlLmlzQXRTdGFydCYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlP3ZvaWQgMDpPYShlLG8pJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KHQpLHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTpFYShlLG8pPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6U2EoZSxvKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6dm9pZCAwfWhhbmRsZUJhY2t3YXJkTW92ZW1lbnQoZSx0KXtjb25zdCBvPXRoaXMuYXR0cmlidXRlO2lmKHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4pcmV0dXJuIE9hKGUsbykmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQodCksdGhpcy5fcmVzdG9yZUdyYXZpdHkoKSx0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKSwhMCk6KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KHQpLHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCksZS5pc0F0U3RhcnQmJnRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTtyZXR1cm4gT2EoZSxvKSYmIXRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQodCksdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUoZSksITApOmUuaXNBdEVuZCYmU2EoZSxvKT90aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/dm9pZChJYShlLG8pJiYodGhpcy5fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSkpOih0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZShlKSwhMCk6ZS5pc0F0U3RhcnQ/dGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKSx0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSwhMCk6dm9pZCAwOnZvaWQoSWEoZSxvKSYmKHRoaXMuX3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCksdGhpcy5fb3ZlcnJpZGVHcmF2aXR5KCkpKX1nZXQgX2lzR3Jhdml0eU92ZXJyaWRkZW4oKXtyZXR1cm4hIXRoaXMuX292ZXJyaWRlVWlkfWdldCBfaGFzU2VsZWN0aW9uQXR0cmlidXRlKCl7cmV0dXJuIHRoaXMuX21vZGVsU2VsZWN0aW9uLmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSl9X292ZXJyaWRlR3Jhdml0eSgpe3RoaXMuX292ZXJyaWRlVWlkPXRoaXMubW9kZWwuY2hhbmdlKChlKT0+ZS5vdmVycmlkZVNlbGVjdGlvbkdyYXZpdHkoKSl9X3Jlc3RvcmVHcmF2aXR5KCl7dGhpcy5tb2RlbC5jaGFuZ2UoKGUpPT57ZS5yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0aGlzLl9vdmVycmlkZVVpZCksdGhpcy5fb3ZlcnJpZGVVaWQ9bnVsbH0pfV9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKXtlLnByZXZlbnREZWZhdWx0KCl9X3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpe3RoaXMubW9kZWwuY2hhbmdlKChlKT0+e2UucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKX0pfV9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZShlKXtjb25zdCB0PXRoaXMuYXR0cmlidXRlO3RoaXMubW9kZWwuY2hhbmdlKChvKT0+e28uc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLGUubm9kZUJlZm9yZS5nZXRBdHRyaWJ1dGUodCkpfSl9X3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCl7dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMH19dmFyIGpfPW8oNzQpLHFfPW8ubihqXyk7Y29uc3QgV189J2NrLWxpbmtfc2VsZWN0ZWQnO2NsYXNzIFVfIGV4dGVuZHMgbGh7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5zY2hlbWEuZXh0ZW5kKCckdGV4dCcse2FsbG93QXR0cmlidXRlczonbGlua0hyZWYnfSksZS5jb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuYWRkKEN0KHttb2RlbDonbGlua0hyZWYnLHZpZXc6eGF9KSksZS5jb252ZXJzaW9uLmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKEN0KHttb2RlbDonbGlua0hyZWYnLHZpZXc6KGUsdCk9PnhhKENhKGUpLHQpfSkpLGUuY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmFkZChybyh7dmlldzp7bmFtZTonYScsYXR0cmlidXRlczp7aHJlZjohMH19LG1vZGVsOntrZXk6J2xpbmtIcmVmJyx2YWx1ZTooZSk9PmUuZ2V0QXR0cmlidXRlKCdocmVmJyl9fSkpLGUuY29tbWFuZHMuYWRkKCdsaW5rJyxuZXcgTl8oZSkpLGUuY29tbWFuZHMuYWRkKCd1bmxpbmsnLG5ldyBEXyhlKSksVGEoZS5lZGl0aW5nLnZpZXcsZS5tb2RlbCx0aGlzLCdsaW5rSHJlZicpLHRoaXMuX3NldHVwTGlua0hpZ2hsaWdodCgpfV9zZXR1cExpbmtIaWdobGlnaHQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5lZGl0aW5nLnZpZXcsbz1uZXcgU2V0O3QuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoKHQpPT57Y29uc3Qgbj1lLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihuLmhhc0F0dHJpYnV0ZSgnbGlua0hyZWYnKSl7Y29uc3QgaT13YShuLmdldEZpcnN0UG9zaXRpb24oKSxuLmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKSkscj1lLmVkaXRpbmcubWFwcGVyLnRvVmlld1JhbmdlKGkpO2Zvcihjb25zdCBlIG9mIHIuZ2V0SXRlbXMoKSllLmlzKCdhJykmJih0LmFkZENsYXNzKFdfLGUpLG8uYWRkKGUpKX19KSxlLmNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5hZGQoKGUpPT57ZnVuY3Rpb24gbigpe3QuY2hhbmdlKChlKT0+e2Zvcihjb25zdCB0IG9mIG8udmFsdWVzKCkpZS5yZW1vdmVDbGFzcyhXXyx0KSxvLmRlbGV0ZSh0KX0pfWUub24oJ2luc2VydCcsbix7cHJpb3JpdHk6J2hpZ2hlc3QnfSksZS5vbigncmVtb3ZlJyxuLHtwcmlvcml0eTonaGlnaGVzdCd9KSxlLm9uKCdhdHRyaWJ1dGUnLG4se3ByaW9yaXR5OidoaWdoZXN0J30pLGUub24oJ3NlbGVjdGlvbicsbix7cHJpb3JpdHk6J2hpZ2hlc3QnfSl9KX19Y2xhc3MgSF8gZXh0ZW5kcyBxbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRvbUV2ZW50VHlwZT0nY2xpY2snfW9uRG9tRXZlbnQoZSl7dGhpcy5maXJlKGUudHlwZSxlKX19dmFyIEtfPW8oNzYpLEdfPW8ubihLXyk7Y2xhc3MgJF8gZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCBvPWUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgRWYsdGhpcy5rZXlzdHJva2VzPW5ldyB3Zix0aGlzLnVybElucHV0Vmlldz10aGlzLl9jcmVhdGVVcmxJbnB1dCgpLHRoaXMuc2F2ZUJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG8oJ2FiJyksdGsuYSwnY2stYnV0dG9uLXNhdmUnKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9J3N1Ym1pdCcsdGhpcy5jYW5jZWxCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihvKCdhYycpLG5rLmEsJ2NrLWJ1dHRvbi1jYW5jZWwnLCdjYW5jZWwnKSx0aGlzLl9mb2N1c2FibGVzPW5ldyBPZix0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgWGYoe2ZvY3VzYWJsZXM6dGhpcy5fZm9jdXNhYmxlcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czonc2hpZnQgKyB0YWInLGZvY3VzTmV4dDondGFiJ319KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2Zvcm0nLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1saW5rLWZvcm0nXSx0YWJpbmRleDonLTEnfSxjaGlsZHJlbjpbdGhpcy51cmxJbnB1dFZpZXcsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCkseHIoe3ZpZXc6dGhpc30pO2NvbnN0IGU9W3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XTtlLmZvckVhY2goKGUpPT57dGhpcy5fZm9jdXNhYmxlcy5hZGQoZSksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlVXJsSW5wdXQoKXtjb25zdCBlPXRoaXMubG9jYWxlLnQsdD1uZXcgUWIodGhpcy5sb2NhbGUsWmIpO3JldHVybiB0LmxhYmVsPWUoJ2FkJyksdC5pbnB1dFZpZXcucGxhY2Vob2xkZXI9J2h0dHBzOi8vZXhhbXBsZS5jb20nLHR9X2NyZWF0ZUJ1dHRvbihlLHQsbyxuKXtjb25zdCBpPW5ldyB6aCh0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDplLGljb246dCx0b29sdGlwOiEwfSksaS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6b319KSxuJiZpLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcyxuKSxpfX12YXIgSl89byg3OCksUV89by5uKEpfKSxZXz1vKDc5KSxYXz1vLm4oWV8pLFpfPW8oODApLGV3PW8ubihaXyk7Y2xhc3MgdHcgZXh0ZW5kcyBCZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCBvPWUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgRWYsdGhpcy5rZXlzdHJva2VzPW5ldyB3Zix0aGlzLnByZXZpZXdCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZVByZXZpZXdCdXR0b24oKSx0aGlzLnVubGlua0J1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG8oJ3gnKSxRXy5hLCd1bmxpbmsnKSx0aGlzLmVkaXRCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihvKCd5JyksWF8uYSwnZWRpdCcpLHRoaXMuc2V0KCdocmVmJyksdGhpcy5fZm9jdXNhYmxlcz1uZXcgT2YsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IFhmKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6J3NoaWZ0ICsgdGFiJyxmb2N1c05leHQ6J3RhYid9fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1saW5rLWFjdGlvbnMnXSx0YWJpbmRleDonLTEnfSxjaGlsZHJlbjpbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCBlPVt0aGlzLnByZXZpZXdCdXR0b25WaWV3LHRoaXMuZWRpdEJ1dHRvblZpZXcsdGhpcy51bmxpbmtCdXR0b25WaWV3XTtlLmZvckVhY2goKGUpPT57dGhpcy5fZm9jdXNhYmxlcy5hZGQoZSksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlQnV0dG9uKGUsdCxvKXtjb25zdCBuPW5ldyB6aCh0aGlzLmxvY2FsZSk7cmV0dXJuIG4uc2V0KHtsYWJlbDplLGljb246dCx0b29sdGlwOiEwfSksbi5kZWxlZ2F0ZSgnZXhlY3V0ZScpLnRvKHRoaXMsbyksbn1fY3JlYXRlUHJldmlld0J1dHRvbigpe2NvbnN0IGU9bmV3IHpoKHRoaXMubG9jYWxlKSxvPXRoaXMuYmluZFRlbXBsYXRlLG49dGhpcy50O3JldHVybiBlLnNldCh7d2l0aFRleHQ6ITAsdG9vbHRpcDpuKCd6Jyl9KSxlLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stbGluay1hY3Rpb25zX19wcmV2aWV3J10saHJlZjpvLnRvKCdocmVmJywoZSk9PmUmJkNhKGUpKSx0YXJnZXQ6J19ibGFuayd9fSksZS5iaW5kKCdsYWJlbCcpLnRvKHRoaXMsJ2hyZWYnLChlKT0+ZXx8bignYWEnKSksZS5iaW5kKCdpc0VuYWJsZWQnKS50byh0aGlzLCdocmVmJywoZSk9PiEhZSksZS50ZW1wbGF0ZS50YWc9J2EnLGUudGVtcGxhdGUuZXZlbnRMaXN0ZW5lcnM9e30sZX19dmFyIG93PW8oODIpLG53PW8ubihvdyk7Y29uc3QgaXc9J0N0cmwrSyc7Y2xhc3MgcncgZXh0ZW5kcyBsaHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3VrXX1pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLmVkaXRpbmcudmlldy5hZGRPYnNlcnZlcihIXyksdGhpcy5hY3Rpb25zVmlldz10aGlzLl9jcmVhdGVBY3Rpb25zVmlldygpLHRoaXMuZm9ybVZpZXc9dGhpcy5fY3JlYXRlRm9ybVZpZXcoKSx0aGlzLl9iYWxsb29uPWUucGx1Z2lucy5nZXQodWspLHRoaXMuX2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCksdGhpcy5fZW5hYmxlVXNlckJhbGxvb25JbnRlcmFjdGlvbnMoKX1fY3JlYXRlQWN0aW9uc1ZpZXcoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9bmV3IHR3KGUubG9jYWxlKSxvPWUuY29tbWFuZHMuZ2V0KCdsaW5rJyksbj1lLmNvbW1hbmRzLmdldCgndW5saW5rJyk7cmV0dXJuIHQuYmluZCgnaHJlZicpLnRvKG8sJ3ZhbHVlJyksdC5lZGl0QnV0dG9uVmlldy5iaW5kKCdpc0VuYWJsZWQnKS50byhvKSx0LnVubGlua0J1dHRvblZpZXcuYmluZCgnaXNFbmFibGVkJykudG8obiksdGhpcy5saXN0ZW5Ubyh0LCdlZGl0JywoKT0+e3RoaXMuX2FkZEZvcm1WaWV3KCl9KSx0aGlzLmxpc3RlblRvKHQsJ3VubGluaycsKCk9PntlLmV4ZWN1dGUoJ3VubGluaycpLHRoaXMuX2hpZGVVSSgpfSksdC5rZXlzdHJva2VzLnNldCgnRXNjJywoZSx0KT0+e3RoaXMuX2hpZGVVSSgpLHQoKX0pLHQua2V5c3Ryb2tlcy5zZXQoaXcsKGUsdCk9Pnt0aGlzLl9hZGRGb3JtVmlldygpLHQoKX0pLHR9X2NyZWF0ZUZvcm1WaWV3KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PW5ldyAkXyhlLmxvY2FsZSksbz1lLmNvbW1hbmRzLmdldCgnbGluaycpO3JldHVybiB0LnVybElucHV0Vmlldy5iaW5kKCd2YWx1ZScpLnRvKG8sJ3ZhbHVlJyksdC51cmxJbnB1dFZpZXcuYmluZCgnaXNSZWFkT25seScpLnRvKG8sJ2lzRW5hYmxlZCcsKGUpPT4hZSksdC5zYXZlQnV0dG9uVmlldy5iaW5kKCdpc0VuYWJsZWQnKS50byhvKSx0aGlzLmxpc3RlblRvKHQsJ3N1Ym1pdCcsKCk9PntlLmV4ZWN1dGUoJ2xpbmsnLHQudXJsSW5wdXRWaWV3LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlKSx0aGlzLl9yZW1vdmVGb3JtVmlldygpfSksdGhpcy5saXN0ZW5Ubyh0LCdjYW5jZWwnLCgpPT57dGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX0pLHQua2V5c3Ryb2tlcy5zZXQoJ0VzYycsKGUsdCk9Pnt0aGlzLl9yZW1vdmVGb3JtVmlldygpLHQoKX0pLHR9X2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUuY29tbWFuZHMuZ2V0KCdsaW5rJyksbj1lLnQ7ZS5rZXlzdHJva2VzLnNldChpdywoZSx0KT0+e3QoKSxvLmlzRW5hYmxlZCYmdGhpcy5fc2hvd1VJKCl9KSxlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKCdsaW5rJywoZSk9Pntjb25zdCB0PW5ldyB6aChlKTtyZXR1cm4gdC5pc0VuYWJsZWQ9ITAsdC5sYWJlbD1uKCdwJyksdC5pY29uPW53LmEsdC5rZXlzdHJva2U9aXcsdC50b29sdGlwPSEwLHQuYmluZCgnaXNFbmFibGVkJykudG8obywnaXNFbmFibGVkJyksdGhpcy5saXN0ZW5Ubyh0LCdleGVjdXRlJywoKT0+dGhpcy5fc2hvd1VJKCkpLHR9KX1fZW5hYmxlVXNlckJhbGxvb25JbnRlcmFjdGlvbnMoKXtjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLmxpc3RlblRvKGUsJ2NsaWNrJywoKT0+e2NvbnN0IGU9dGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpO2UmJnRoaXMuX3Nob3dVSSgpfSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ1RhYicsKGUsdCk9Pnt0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZSYmIXRoaXMuYWN0aW9uc1ZpZXcuZm9jdXNUcmFja2VyLmlzRm9jdXNlZCYmKHRoaXMuYWN0aW9uc1ZpZXcuZm9jdXMoKSx0KCkpfSx7cHJpb3JpdHk6J2hpZ2gnfSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ0VzYycsKGUsdCk9Pnt0aGlzLl9pc1VJVmlzaWJsZSYmKHRoaXMuX2hpZGVVSSgpLHQoKSl9KSx5cih7ZW1pdHRlcjp0aGlzLmZvcm1WaWV3LGFjdGl2YXRvcjooKT0+dGhpcy5faXNVSVZpc2libGUsY29udGV4dEVsZW1lbnRzOlt0aGlzLl9iYWxsb29uLnZpZXcuZWxlbWVudF0sY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVVSSgpfSl9X2FkZEFjdGlvbnNWaWV3KCl7dGhpcy5fYXJlQWN0aW9uc0luUGFuZWx8fHRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuYWN0aW9uc1ZpZXcscG9zaXRpb246dGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpfSl9X2FkZEZvcm1WaWV3KCl7aWYoIXRoaXMuX2lzRm9ybUluUGFuZWwpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbW1hbmRzLmdldCgnbGluaycpO3RoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuZm9ybVZpZXcscG9zaXRpb246dGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpfSksdGhpcy5mb3JtVmlldy51cmxJbnB1dFZpZXcuc2VsZWN0KCksdGhpcy5mb3JtVmlldy51cmxJbnB1dFZpZXcuaW5wdXRWaWV3LmVsZW1lbnQudmFsdWU9dC52YWx1ZXx8Jyd9fV9yZW1vdmVGb3JtVmlldygpe3RoaXMuX2lzRm9ybUluUGFuZWwmJih0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmZvcm1WaWV3KSx0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKSl9X3Nob3dVSSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbW1hbmRzLmdldCgnbGluaycpO3QuaXNFbmFibGVkJiYodGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpP3RoaXMuX2FyZUFjdGlvbnNWaXNpYmxlP3RoaXMuX2FkZEZvcm1WaWV3KCk6dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKToodGhpcy5fYWRkQWN0aW9uc1ZpZXcoKSx0aGlzLl9hZGRGb3JtVmlldygpKSx0aGlzLl9zdGFydFVwZGF0aW5nVUlPblZpZXdSZW5kZXIoKSl9X2hpZGVVSSgpe2lmKHRoaXMuX2lzVUlJblBhbmVsKXtjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldzt0aGlzLnN0b3BMaXN0ZW5pbmcoZSwncmVuZGVyJyksdGhpcy5fcmVtb3ZlRm9ybVZpZXcoKSx0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmFjdGlvbnNWaWV3KSxlLmZvY3VzKCl9fV9zdGFydFVwZGF0aW5nVUlPblZpZXdSZW5kZXIoKXtmdW5jdGlvbiBlKCl7cmV0dXJuIG4uZG9jdW1lbnQuc2VsZWN0aW9uLmZvY3VzLmdldEFuY2VzdG9ycygpLnJldmVyc2UoKS5maW5kKChlKT0+ZS5pcygnZWxlbWVudCcpKX1jb25zdCB0PXRoaXMuZWRpdG9yLG89dC5lZGl0aW5nLG49by52aWV3O2xldCBpPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxyPWUoKTt0aGlzLmxpc3RlblRvKG4sJ3JlbmRlcicsKCk9Pntjb25zdCB0PXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxvPWUoKTsoIWl8fHQpJiYoaXx8bz09PXIpP3RoaXMuX2JhbGxvb24udXBkYXRlUG9zaXRpb24odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpKTp0aGlzLl9oaWRlVUkoKSxpPXQscj1vfSl9Z2V0IF9pc0Zvcm1JblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmZvcm1WaWV3KX1nZXQgX2FyZUFjdGlvbnNJblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmFjdGlvbnNWaWV3KX1nZXQgX2FyZUFjdGlvbnNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLmFjdGlvbnNWaWV3fWdldCBfaXNVSUluUGFuZWwoKXtyZXR1cm4gdGhpcy5faXNGb3JtSW5QYW5lbHx8dGhpcy5fYXJlQWN0aW9uc0luUGFuZWx9Z2V0IF9pc1VJVmlzaWJsZSgpe2NvbnN0IGU9dGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldztyZXR1cm4gZT09dGhpcy5mb3JtVmlld3x8dGhpcy5fYXJlQWN0aW9uc1Zpc2libGV9X2dldEJhbGxvb25Qb3NpdGlvbkRhdGEoKXtjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldyx0PWUuZG9jdW1lbnQsbz10aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCksbj1vP2UuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShvKTplLmRvbUNvbnZlcnRlci52aWV3UmFuZ2VUb0RvbSh0LnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCkpO3JldHVybnt0YXJnZXQ6bn19X2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb247aWYoZS5pc0NvbGxhcHNlZClyZXR1cm4gUmEoZS5nZXRGaXJzdFBvc2l0aW9uKCkpO2Vsc2V7Y29uc3QgdD1lLmdldEZpcnN0UmFuZ2UoKS5nZXRUcmltbWVkKCksbz1SYSh0LnN0YXJ0KSxuPVJhKHQuZW5kKTtyZXR1cm4gbyYmbz09bj9VYy5jcmVhdGVJbihvKS5nZXRUcmltbWVkKCkuaXNFcXVhbCh0KT9vOm51bGw6bnVsbH19fWNsYXNzIGF3IGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltVXyxyd119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0xpbmsnfX1jbGFzcyBzdyBleHRlbmRzIHBoe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy50eXBlPSdidWxsZXRlZCc9PXQ/J2J1bGxldGVkJzonbnVtYmVyZWQnfXJlZnJlc2goKXt0aGlzLnZhbHVlPXRoaXMuX2dldFZhbHVlKCksdGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50LG89QXJyYXkuZnJvbSh0LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKS5maWx0ZXIoKHQpPT5GYSh0LGUuc2NoZW1hKSksbj0hMD09PXRoaXMudmFsdWU7ZS5jaGFuZ2UoKGUpPT57aWYobil7bGV0IHQ9b1tvLmxlbmd0aC0xXS5uZXh0U2libGluZyxuPW5zLGk9W107Zm9yKDt0JiYnbGlzdEl0ZW0nPT10Lm5hbWUmJjAhPT10LmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpOyl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpO2U8biYmKG49ZSk7Y29uc3Qgbz1lLW47aS5wdXNoKHtlbGVtZW50OnQsbGlzdEluZGVudDpvfSksdD10Lm5leHRTaWJsaW5nfWk9aS5yZXZlcnNlKCk7Zm9yKGNvbnN0IHQgb2YgaSllLnNldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcsdC5saXN0SW5kZW50LHQuZWxlbWVudCl9aWYoIW4pe2xldCBlPW5zO2Zvcihjb25zdCB0IG9mIG8pdC5pcygnbGlzdEl0ZW0nKSYmdC5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKTxlJiYoZT10LmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpKTtlPTA9PT1lPzE6ZSxWYShvLCEwLGUpLFZhKG8sITEsZSl9Zm9yKGNvbnN0IHQgb2Ygby5yZXZlcnNlKCkpbiYmJ2xpc3RJdGVtJz09dC5uYW1lP2UucmVuYW1lKHQsJ3BhcmFncmFwaCcpOm58fCdsaXN0SXRlbSc9PXQubmFtZT9ufHwnbGlzdEl0ZW0nIT10Lm5hbWV8fHQuZ2V0QXR0cmlidXRlKCdsaXN0VHlwZScpPT10aGlzLnR5cGV8fGUuc2V0QXR0cmlidXRlKCdsaXN0VHlwZScsdGhpcy50eXBlLHQpOihlLnNldEF0dHJpYnV0ZXMoe2xpc3RUeXBlOnRoaXMudHlwZSxsaXN0SW5kZW50OjB9LHQpLGUucmVuYW1lKHQsJ2xpc3RJdGVtJykpfSl9X2dldFZhbHVlKCl7Y29uc3QgZT1KaSh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7cmV0dXJuISFlJiZlLmlzKCdsaXN0SXRlbScpJiZlLmdldEF0dHJpYnV0ZSgnbGlzdFR5cGUnKT09dGhpcy50eXBlfV9jaGVja0VuYWJsZWQoKXtpZih0aGlzLnZhbHVlKXJldHVybiEwO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLHQ9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLG89SmkoZS5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIW8mJkZhKG8sdCl9fWNsYXNzIGx3IGV4dGVuZHMgcGh7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLl9pbmRlbnRCeT0nZm9yd2FyZCc9PXQ/MTotMX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50O2xldCBvPUFycmF5LmZyb20odC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7ZS5jaGFuZ2UoKGUpPT57Y29uc3QgdD1vW28ubGVuZ3RoLTFdO2ZvcihsZXQgbj10Lm5leHRTaWJsaW5nO24mJidsaXN0SXRlbSc9PW4ubmFtZSYmbi5nZXRBdHRyaWJ1dGUoJ2xpc3RJbmRlbnQnKT50LmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpOylvLnB1c2gobiksbj1uLm5leHRTaWJsaW5nOzA+dGhpcy5faW5kZW50QnkmJihvPW8ucmV2ZXJzZSgpKTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBvPXQuZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50JykrdGhpcy5faW5kZW50Qnk7MD5vP2UucmVuYW1lKHQsJ3BhcmFncmFwaCcpOmUuc2V0QXR0cmlidXRlKCdsaXN0SW5kZW50JyxvLHQpfX0pfV9jaGVja0VuYWJsZWQoKXtjb25zdCBlPUppKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtpZighZXx8IWUuaXMoJ2xpc3RJdGVtJykpcmV0dXJuITE7aWYoMDx0aGlzLl9pbmRlbnRCeSl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpLG89ZS5nZXRBdHRyaWJ1dGUoJ2xpc3RUeXBlJyk7Zm9yKGxldCBuPWUucHJldmlvdXNTaWJsaW5nO24mJm4uaXMoJ2xpc3RJdGVtJykmJm4uZ2V0QXR0cmlidXRlKCdsaXN0SW5kZW50Jyk+PXQ7KXtpZihuLmdldEF0dHJpYnV0ZSgnbGlzdEluZGVudCcpPT10KXJldHVybiBuLmdldEF0dHJpYnV0ZSgnbGlzdFR5cGUnKT09bztuPW4ucHJldmlvdXNTaWJsaW5nfXJldHVybiExfXJldHVybiEwfX1jbGFzcyBkdyBleHRlbmRzIGxoe3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bTGtdfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yO2UubW9kZWwuc2NoZW1hLnJlZ2lzdGVyKCdsaXN0SXRlbScse2luaGVyaXRBbGxGcm9tOickYmxvY2snLGFsbG93QXR0cmlidXRlczpbJ2xpc3RUeXBlJywnbGlzdEluZGVudCddfSk7Y29uc3QgdD1lLmRhdGEsbz1lLmVkaXRpbmc7ZS5tb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcigodCk9PiRhKGUubW9kZWwsdCkpLG8ubWFwcGVyLnJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgoJ2xpJyxvcyksdC5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCgnbGknLG9zKSxvLm1hcHBlci5vbignbW9kZWxUb1ZpZXdQb3NpdGlvbicsS2EpLG8ubWFwcGVyLm9uKCd2aWV3VG9Nb2RlbFBvc2l0aW9uJyxHYSksdC5tYXBwZXIub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLEthKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0JyxqYSx7cHJpb3JpdHk6J2hpZ2gnfSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDpsaXN0SXRlbScsTWEpLHQuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdpbnNlcnQnLGphLHtwcmlvcml0eTonaGlnaCd9KSx0LmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0Omxpc3RJdGVtJyxNYSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTpsaXN0VHlwZTpsaXN0SXRlbScsTGEpLHQuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6bGlzdFR5cGU6bGlzdEl0ZW0nLExhKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbignYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW0nLHphKSx0LmRvd25jYXN0RGlzcGF0Y2hlci5vbignYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW0nLHphKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlOmxpc3RJdGVtJyxCYSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ3JlbW92ZScscWEse3ByaW9yaXR5Oidsb3cnfSksdC5kb3duY2FzdERpc3BhdGNoZXIub24oJ3JlbW92ZTpsaXN0SXRlbScsQmEpLHQuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdyZW1vdmUnLHFhLHtwcmlvcml0eTonbG93J30pLHQudXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudDp1bCcsVWEse3ByaW9yaXR5OidoaWdoJ30pLHQudXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudDpvbCcsVWEse3ByaW9yaXR5OidoaWdoJ30pLHQudXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudDpsaScsSGEse3ByaW9yaXR5OidoaWdoJ30pLHQudXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudDpsaScsV2EpLGUubW9kZWwub24oJ2luc2VydENvbnRlbnQnLEphLHtwcmlvcml0eTonaGlnaCd9KSxlLmNvbW1hbmRzLmFkZCgnbnVtYmVyZWRMaXN0JyxuZXcgc3coZSwnbnVtYmVyZWQnKSksZS5jb21tYW5kcy5hZGQoJ2J1bGxldGVkTGlzdCcsbmV3IHN3KGUsJ2J1bGxldGVkJykpLGUuY29tbWFuZHMuYWRkKCdpbmRlbnRMaXN0JyxuZXcgbHcoZSwnZm9yd2FyZCcpKSxlLmNvbW1hbmRzLmFkZCgnb3V0ZGVudExpc3QnLG5ldyBsdyhlLCdiYWNrd2FyZCcpKTtjb25zdCBuPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLmxpc3RlblRvKG4sJ2VudGVyJywoZSx0KT0+e2NvbnN0IG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsbj1vLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7by5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJidsaXN0SXRlbSc9PW4ubmFtZSYmbi5pc0VtcHR5JiYodGhpcy5lZGl0b3IuZXhlY3V0ZSgnb3V0ZGVudExpc3QnKSx0LnByZXZlbnREZWZhdWx0KCksZS5zdG9wKCkpfSksdGhpcy5saXN0ZW5UbyhuLCdkZWxldGUnLChlLHQpPT57aWYoJ2JhY2t3YXJkJz09PXQuZGlyZWN0aW9uKXtjb25zdCBvPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihvLmlzQ29sbGFwc2VkKXtjb25zdCBuPW8uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKG4uaXNBdFN0YXJ0KXtjb25zdCBvPW4ucGFyZW50O2lmKCdsaXN0SXRlbSc9PT1vLm5hbWUpe2NvbnN0IG49by5wcmV2aW91c1NpYmxpbmcmJidsaXN0SXRlbSc9PT1vLnByZXZpb3VzU2libGluZy5uYW1lO258fCh0aGlzLmVkaXRvci5leGVjdXRlKCdvdXRkZW50TGlzdCcpLHQucHJldmVudERlZmF1bHQoKSxlLnN0b3AoKSl9fX19fSx7cHJpb3JpdHk6J2hpZ2gnfSk7Y29uc3QgaT0oZSk9Pih0LG8pPT57Y29uc3Qgbj10aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoZSk7bi5pc0VuYWJsZWQmJih0aGlzLmVkaXRvci5leGVjdXRlKGUpLG8oKSl9O3RoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KCdUYWInLGkoJ2luZGVudExpc3QnKSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ1NoaWZ0K1RhYicsaSgnb3V0ZGVudExpc3QnKSl9fXZhciBjdz1vKDgzKSxtdz1vLm4oY3cpLHV3PW8oODQpLHB3PW8ubih1dyk7Y2xhc3MgZ3cgZXh0ZW5kcyBsaHtpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvci50O3RoaXMuX2FkZEJ1dHRvbignbnVtYmVyZWRMaXN0JyxlKCdxJyksbXcuYSksdGhpcy5fYWRkQnV0dG9uKCdidWxsZXRlZExpc3QnLGUoJ3InKSxwdy5hKX1fYWRkQnV0dG9uKGUsdCxvKXtjb25zdCBuPXRoaXMuZWRpdG9yO24udWkuY29tcG9uZW50RmFjdG9yeS5hZGQoZSwoaSk9Pntjb25zdCByPW4uY29tbWFuZHMuZ2V0KGUpLGE9bmV3IHpoKGkpO3JldHVybiBhLnNldCh7bGFiZWw6dCxpY29uOm8sdG9vbHRpcDohMH0pLGEuYmluZCgnaXNPbicsJ2lzRW5hYmxlZCcpLnRvKHIsJ3ZhbHVlJywnaXNFbmFibGVkJyksdGhpcy5saXN0ZW5UbyhhLCdleGVjdXRlJywoKT0+bi5leGVjdXRlKGUpKSxhfSl9fWNsYXNzIGZ3IGV4dGVuZHMgbGh7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltkdyxnd119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0xpc3QnfX1jbGFzcyBodyBleHRlbmRzIHNoe310WydkZWZhdWx0J109aHcsaHcuYnVpbGQ9e3BsdWdpbnM6W0doLHRiLHJiLHBiLHdiLEViLE1rLGRfLF9rLGJfLFZfLEZfLERrLGF3LGZ3LExrXSxjb25maWc6e3Rvb2xiYXI6e2l0ZW1zOlsnaGVhZGluZycsJ3wnLCdib2xkJywnaXRhbGljJywnbGluaycsJ2J1bGxldGVkTGlzdCcsJ251bWJlcmVkTGlzdCcsJ2ltYWdlVXBsb2FkJywnYmxvY2tRdW90ZScsJ3VuZG8nLCdyZWRvJ119LGltYWdlOnt0b29sYmFyOlsnaW1hZ2VTdHlsZTpmdWxsJywnaW1hZ2VTdHlsZTpzaWRlJywnfCcsJ2ltYWdlVGV4dEFsdGVybmF0aXZlJ119LGxhbmd1YWdlOidlbid9fX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7dD10fHxGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpfHwoMSxldmFsKSgndGhpcycpfWNhdGNoKG8peydvYmplY3QnPT10eXBlb2Ygd2luZG93JiYodD13aW5kb3cpfWUuZXhwb3J0cz10fSxmdW5jdGlvbihlLHQpeyd1c2Ugc3RyaWN0Jzt0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuT2JqZWN0PT09T2JqZWN0P2U6bnVsbH19LGZ1bmN0aW9uKGUsdCxvKXsndXNlIHN0cmljdCc7KGZ1bmN0aW9uKGUpe3ZhciBuPW8oMTApLGk9bygxKSxyPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9LGE9clt0eXBlb2YgZXhwb3J0c10mJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlP2V4cG9ydHM6dm9pZCAwLHM9clt0eXBlb2YgZV0mJmUmJiFlLm5vZGVUeXBlP2U6dm9pZCAwLGw9cyYmcy5leHBvcnRzPT09YT9hOnZvaWQgMCxkPWw/aS5hLkJ1ZmZlcjp2b2lkIDAsYz1kP2Z1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZH06T2JqZWN0KG4uYSkoITEpO3QuYT1jfSkuY2FsbCh0LG8oMikoZSkpfSxmdW5jdGlvbihlLHQpeyd1c2Ugc3RyaWN0Jzt0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMTIpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2staGlkZGVue2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmNrLmNrLXJlc2V0LC5jay5jay1yZXNldF9hbGwsLmNrLmNrLXJlc2V0X2FsbCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aWR0aDphdXRvO2hlaWdodDphdXRvO3Bvc2l0aW9uOnN0YXRpY306cm9vdHstLWNrLXotZGVmYXVsdDoxOy0tY2stei1tb2RhbDo5OTk7LS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQ6I2ZhZmFmYTstLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZDojZmZmOy0tY2stY29sb3ItYmFzZS1ib3JkZXI6I2M0YzRjNDstLWNrLWNvbG9yLWJhc2UtYWN0aW9uOiM2MWIwNDU7LS1jay1jb2xvci1iYXNlLWZvY3VzOiM2Y2I1Zjk7LS1jay1jb2xvci1iYXNlLXRleHQ6IzMzMzstLWNrLWNvbG9yLWJhc2UtYWN0aXZlOiMxOThjZjA7LS1jay1jb2xvci1iYXNlLWFjdGl2ZS1mb2N1czojMGU3ZmUxOy0tY2stY29sb3ItZm9jdXMtYm9yZGVyOiM0N2E0ZjU7LS1jay1jb2xvci1mb2N1cy1zaGFkb3c6Izc3YmFmODstLWNrLWNvbG9yLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLXNoYWRvdy1kcm9wOnJnYmEoMCwwLDAsLjE1KTstLWNrLWNvbG9yLXNoYWRvdy1pbm5lcjpyZ2JhKDAsMCwwLC4xKTstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1mb2N1cy1iYWNrZ3JvdW5kOiNlNmU2ZTY7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtYmFja2dyb3VuZDojZDlkOWQ5Oy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLXNoYWRvdzojYmZiZmJmOy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kOiNkZWRlZGU7LS1jay1jb2xvci1idXR0b24tb24tZm9jdXMtYmFja2dyb3VuZDojYzRjNGM0Oy0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiNiYWJhYmE7LS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLXNoYWRvdzojYTFhMWExOy0tY2stY29sb3ItYnV0dG9uLW9uLWRpc2FibGVkLWJhY2tncm91bmQ6I2RlZGVkZTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGlvbik7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWZvY3VzLWJhY2tncm91bmQ6IzU3OWUzZDstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLWJhY2tncm91bmQ6IzUzOTczYjstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLXNoYWRvdzojNDk4NDMzOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1kaXNhYmxlZC1iYWNrZ3JvdW5kOiM3ZWMzNjU7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWJ1dHRvbi1zYXZlOiMwMDhhMDA7LS1jay1jb2xvci1idXR0b24tY2FuY2VsOiNkYjM3MDA7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItaW5wdXQtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItaW5wdXQtYm9yZGVyOiNjN2M3Yzc7LS1jay1jb2xvci1pbnB1dC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCk7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1iYWNrZ3JvdW5kOiNmMmYyZjI7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXI6I2M3YzdjNzstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLXRleHQ6IzVjNWM1YzstLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItbGlzdC1pdGVtLWJhY2tncm91bmQtaG92ZXI6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKTstLWNrLWNvbG9yLWxpc3QtaXRlbS1iYWNrZ3JvdW5kLWFjdGl2ZTp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZSk7LS1jay1jb2xvci1saXN0LWl0ZW0tYmFja2dyb3VuZC1hY3RpdmUtZm9jdXM6dmFyKC0tY2stY29sb3ItYmFzZS1hY3RpdmUtZm9jdXMpOy0tY2stY29sb3ItbGlzdC1pdGVtLXRleHQtYWN0aXZlOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItdG9vbGJhci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCk7LS1jay1jb2xvci10b29sYmFyLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLXRvb2x0aXAtdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQ6I2MyYzJjMjstLWNrLWNvbG9yLXVwbG9hZC1iYXItYmFja2dyb3VuZDojNmNiNWY5Oy0tY2stY29sb3ItdXBsb2FkLWluZmluaXRlLWJhY2tncm91bmQ6cmdiYSgwLDAsMCwuMSk7LS1jay1jb2xvci1saW5rLWRlZmF1bHQ6IzAwMDBmMDstLWNrLWNvbG9yLWxpbmstc2VsZWN0ZWQtYmFja2dyb3VuZDojZWJmOGZmOy0tY2stZGlzYWJsZWQtb3BhY2l0eTouNTstLWNrLWZvY3VzLW91dGVyLXNoYWRvdzowIDAgM3B4IHZhcigtLWNrLWNvbG9yLWZvY3VzLXNoYWRvdyk7LS1jay1mb2N1cy1yaW5nOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpOy0tY2stZm9udC1zaXplLWJhc2U6MTNweDstLWNrLWxpbmUtaGVpZ2h0LWJhc2U6MS44NDYxNTstLWNrLWZvbnQtZmFjZTpIZWx2ZXRpY2EsQXJpYWwsVGFob21hLFZlcmRhbmEsU2Fucy1TZXJpZjstLWNrLWZvbnQtc2l6ZS10aW55OjAuN2VtOy0tY2stZm9udC1zaXplLXNtYWxsOjAuNzVlbTstLWNrLWZvbnQtc2l6ZS1ub3JtYWw6MWVtOy0tY2stZm9udC1zaXplLWJpZzoxLjRlbTstLWNrLWZvbnQtc2l6ZS1sYXJnZToxLjhlbTstLWNrLXVpLWNvbXBvbmVudC1taW4taGVpZ2h0OjIuM2VtfS5jay5jay1yZXNldCwuY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKnttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDt0ZXh0LWRlY29yYXRpb246bm9uZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7dHJhbnNpdGlvbjpub25lO3dvcmQtd3JhcDpicmVhay13b3JkfS5jay5jay1yZXNldF9hbGwsLmNrLmNrLXJlc2V0X2FsbCAqe2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtmb250Om5vcm1hbCBub3JtYWwgbm9ybWFsIHZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKS92YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSB2YXIoLS1jay1mb250LWZhY2UpO2NvbG9yOnZhcigtLWNrLWNvbG9yLXRleHQpO3RleHQtYWxpZ246bGVmdDt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOmF1dG87ZmxvYXQ6bm9uZX0uY2suY2stcmVzZXRfYWxsIC5jay1ydGwgKnt0ZXh0LWFsaWduOnJpZ2h0fS5jay5jay1yZXNldF9hbGwgaWZyYW1le3ZlcnRpY2FsLWFsaWduOmluaGVyaXR9LmNrLmNrLXJlc2V0X2FsbCB0ZXh0YXJlYXt3aGl0ZS1zcGFjZTpwcmUtd3JhcH0uY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9cGFzc3dvcmRdLC5jay5jay1yZXNldF9hbGwgaW5wdXRbdHlwZT10ZXh0XSwuY2suY2stcmVzZXRfYWxsIHRleHRhcmVhe2N1cnNvcjp0ZXh0fS5jay5jay1yZXNldF9hbGwgaW5wdXRbdHlwZT1wYXNzd29yZF1bZGlzYWJsZWRdLC5jay5jay1yZXNldF9hbGwgaW5wdXRbdHlwZT10ZXh0XVtkaXNhYmxlZF0sLmNrLmNrLXJlc2V0X2FsbCB0ZXh0YXJlYVtkaXNhYmxlZF17Y3Vyc29yOmRlZmF1bHR9LmNrLmNrLXJlc2V0X2FsbCBmaWVsZHNldHtwYWRkaW5nOjEwcHg7Ym9yZGVyOjJweCBncm9vdmUgI2RmZGVlM30uY2suY2stcmVzZXRfYWxsIGJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcntwYWRkaW5nOjA7Ym9yZGVyOjB9OnJvb3R7LS1jay1ib3JkZXItcmFkaXVzOjJweDstLWNrLWlubmVyLXNoYWRvdzoycHggMnB4IDNweCB2YXIoLS1jay1jb2xvci1zaGFkb3ctaW5uZXIpIGluc2V0Oy0tY2stZHJvcC1zaGFkb3c6MCAxcHggMnB4IDFweCB2YXIoLS1jay1jb2xvci1zaGFkb3ctZHJvcCk7LS1jay1zcGFjaW5nLXVuaXQ6MC42ZW07LS1jay1zcGFjaW5nLWxhcmdlOmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDEuNSk7LS1jay1zcGFjaW5nLXN0YW5kYXJkOnZhcigtLWNrLXNwYWNpbmctdW5pdCk7LS1jay1zcGFjaW5nLW1lZGl1bTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAwLjgpOy0tY2stc3BhY2luZy1zbWFsbDpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAwLjUpOy0tY2stc3BhY2luZy10aW55OmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDAuMyk7LS1jay1zcGFjaW5nLWV4dHJhLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC4xNil9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSd1bmRlZmluZWQnIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvbicpO2lmKCFlfHwnc3RyaW5nJyE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIG89dC5wcm90b2NvbCsnLy8nK3QuaG9zdCxuPW8rdC5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sJy8nKSxpPWUucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksZnVuY3Rpb24oZSx0KXt2YXIgaT10LnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbihlLHQpe3JldHVybiB0fSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KTtpZigvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KGkpKXJldHVybiBlO3ZhciByO3JldHVybiByPTA9PT1pLmluZGV4T2YoJy8vJyk/aTowPT09aS5pbmRleE9mKCcvJyk/bytpOm4raS5yZXBsYWNlKC9eXFwuXFwvLywnJyksJ3VybCgnK0pTT04uc3RyaW5naWZ5KHIpKycpJ30pO3JldHVybiBpfX0sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMTUpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKXtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKSwuY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlKS5jay1mb2N1c2Vke291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMH0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmV7b3ZlcmZsb3c6YXV0bztwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudH0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmU+OmZpcnN0LWNoaWxke21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1sYXJnZSl9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lPjpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206dmFyKC0tY2stc3BhY2luZy1sYXJnZSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stdG9vbGJhci1jb250YWluZXJbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay10b29sYmFyLWNvbnRhaW5lcltjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7Ym9yZGVyLXRvcC1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDE3KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWxhYmVse2Rpc3BsYXk6YmxvY2t9LmNrLmNrLXZvaWNlLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGFiZWx7Zm9udC13ZWlnaHQ6NzAwfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDE5KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXN0aWNreS1wYW5lbCAuY2stc3RpY2t5LXBhbmVsX19jb250ZW50X3N0aWNreXt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpO3Bvc2l0aW9uOmZpeGVkO3RvcDowfS5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3lfYm90dG9tLWxpbWl0e3RvcDphdXRvO3Bvc2l0aW9uOmFic29sdXRlfS5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3l7Ym94LXNoYWRvdzp2YXIoLS1jay1kcm9wLXNoYWRvdyksMCAwO2JvcmRlci13aWR0aDowIDFweCAxcHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMjEpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stdG9vbGJhcnstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3cgd3JhcDthbGlnbi1pdGVtczpjZW50ZXJ9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl9mbG9hdGluZ3tmbGV4LXdyYXA6bm93cmFwfS5jay5jay10b29sYmFyX19zZXBhcmF0b3J7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLXRvb2xiYXJfX25ld2xpbmV7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlfS5jay5jay10b29sYmFye2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay10b29sYmFyLC5jay5jay10b29sYmFyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay10b29sYmFye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbGJhci1iYWNrZ3JvdW5kKTtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zbWFsbCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci10b29sYmFyLWJvcmRlcil9LmNrLmNrLXRvb2xiYXI+KnttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTttYXJnaW4tYm90dG9tOnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfdmVydGljYWx7cGFkZGluZzowfS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfdmVydGljYWw+Knt3aWR0aDoxMDAlO21hcmdpbjowO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MH0uY2suY2stdG9vbGJhcj46bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MH0uY2stdG9vbGJhci1jb250YWluZXIgLmNrLmNrLXRvb2xiYXJ7Ym9yZGVyOjB9LmNrLmNrLXRvb2xiYXJfX3NlcGFyYXRvcnthbGlnbi1zZWxmOnN0cmV0Y2g7d2lkdGg6MXB4O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sYmFyLWJvcmRlcil9LmNrLmNrLXRvb2xiYXJfX25ld2xpbmV7bWFyZ2luOjB9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMjMpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stZWRpdG9ye3Bvc2l0aW9uOnJlbGF0aXZlfS5jay5jay1lZGl0b3IgLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXJ7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKX0uY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhcntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhciwuY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhci5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhcntib3JkZXItYm90dG9tLXdpZHRoOjB9LmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXJ7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXIsLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXJhZGl1czowfS5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpO2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGUsLmNrLmNrLWVkaXRvcl9fbWFpbj4uY2stZWRpdG9yX19lZGl0YWJsZS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZm9jdXNlZCl7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygyNSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1pY29ue3ZlcnRpY2FsLWFsaWduOm1pZGRsZX06cm9vdHstLWNrLWljb24tc2l6ZTpjYWxjKHZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpICogdmFyKC0tY2stZm9udC1zaXplLW5vcm1hbCkpfS5jay5jay1pY29ue3dpZHRoOnZhcigtLWNrLWljb24tc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLWljb24tc2l6ZSk7Zm9udC1zaXplOi44MzMzMzUwNjk0ZW07d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5jay5jay1pY29uLC5jay5jay1pY29uICp7Y29sb3I6aW5oZXJpdDtjdXJzb3I6aW5oZXJpdH0uY2suY2staWNvbiAqe2ZpbGw6Y3VycmVudENvbG9yfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDI3KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXRvb2x0aXAsLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7cG9pbnRlci1ldmVudHM6bm9uZTstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufS5jay10b29sdGlwe3Zpc2liaWxpdHk6aGlkZGVuO29wYWNpdHk6MDtkaXNwbGF5Om5vbmU7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKX0uY2stdG9vbHRpcCAuY2stdG9vbHRpcF9fdGV4dHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2stdG9vbHRpcCAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntjb250ZW50OlwiXCI7d2lkdGg6MDtoZWlnaHQ6MH06cm9vdHstLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZTo1cHh9LmNrLmNrLXRvb2x0aXB7bGVmdDo1MCV9LmNrLmNrLXRvb2x0aXAuY2stdG9vbHRpcF9ze2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSl9LmNrLmNrLXRvb2x0aXAuY2stdG9vbHRpcF9zIC5jay10b29sdGlwX190ZXh0OmFmdGVye3RvcDpjYWxjKC0xICogdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHZhcigtLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZCk7Ym9yZGVyLXdpZHRoOjAgdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSB2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfbnt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMDAlKX0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX24gLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Ym90dG9tOmNhbGMoLTEgKiB2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTtib3JkZXItY29sb3I6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudDtib3JkZXItd2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSB2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpIDB9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQsLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7Zm9udC1zaXplOi45ZW07bGluZS1oZWlnaHQ6MS41O2NvbG9yOnZhcigtLWNrLWNvbG9yLXRvb2x0aXAtdGV4dCk7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKSB2YXIoLS1jay1zcGFjaW5nLW1lZGl1bSk7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQpO3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6LTUwJX0uY2suY2stdG9vbHRpcCAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntib3JkZXItc3R5bGU6c29saWQ7bGVmdDo1MCV9LmNrLmNrLXRvb2x0aXAsLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dCAuMnN9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMjkpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9uey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uY2suY2stYnV0dG9uIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay10b29sdGlwe2Rpc3BsYXk6YmxvY2t9QG1lZGlhIChob3Zlcjpub25lKXsuY2suY2stYnV0dG9uIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX19LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntwb3NpdGlvbjpyZWxhdGl2ZX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19sYWJlbHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stYnV0dG9uOmhvdmVyIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uOmhvdmVyIC5jay10b29sdGlwe3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjF9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCwuY2suY2stYnV0dG9uOmZvY3VzOm5vdCg6aG92ZXIpIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uOmZvY3VzOm5vdCg6aG92ZXIpIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpmb2N1cywuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmZvY3VzLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZm9jdXMtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24sLmNrLXJvdW5kZWQtY29ybmVycyBhLmNrLmNrLWJ1dHRvbiwuY2suY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVycyxhLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6ZGVmYXVsdDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXRpbnkpO3RleHQtYWxpZ246Y2VudGVyO21pbi13aWR0aDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bGluZS1oZWlnaHQ6MTtmb250LXNpemU6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jay5jay1idXR0b246YWN0aXZlLC5jay5jay1idXR0b246Zm9jdXMsYS5jay5jay1idXR0b246YWN0aXZlLGEuY2suY2stYnV0dG9uOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3cpLDAgMDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19pY29uLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2ljb257b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2xhYmVse29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0LGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHR7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXRpbnkpIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19pY29uLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9faWNvbnttYXJnaW4tbGVmdDpjYWxjKC0xICogdmFyKC0tY2stc3BhY2luZy1zbWFsbCkpO21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stYnV0dG9uLmNrLW9uLGEuY2suY2stYnV0dG9uLmNrLW9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6Zm9jdXMsLmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTpmb2N1cyxhLmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1mb2N1cy1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtc2hhZG93KX0uY2suY2stYnV0dG9uLmNrLW9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLmNrLW9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWRpc2FibGVkLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stYnV0dG9uLXNhdmUsYS5jay5jay1idXR0b24uY2stYnV0dG9uLXNhdmV7Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLXNhdmUpfS5jay5jay1idXR0b24uY2stYnV0dG9uLWNhbmNlbCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b24tY2FuY2Vse2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1jYW5jZWwpfS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UsLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSAqLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlICp7Y29sb3I6aW5oZXJpdH0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVse2ZvbnQtc2l6ZTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXQ7Y29sb3I6aW5oZXJpdDtjdXJzb3I6aW5oZXJpdDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmNrLmNrLWJ1dHRvbi1hY3Rpb24sYS5jay5jay1idXR0b24tYWN0aW9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpmb2N1cywuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6Zm9jdXMsYS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1mb2N1cy1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLXNoYWRvdyl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24tYWN0aW9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbixhLmNrLmNrLWJ1dHRvbi1hY3Rpb257Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi10ZXh0KX0uY2suY2stYnV0dG9uLWJvbGQsYS5jay5jay1idXR0b24tYm9sZHtmb250LXdlaWdodDo3MDB9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk01LjA0MiA5LjM2N2wyLjE4OSAxLjgzN2EuNzUuNzUgMCAwIDEtLjk2NSAxLjE0OWwtMy43ODgtMy4xOGEuNzQ3Ljc0NyAwIDAgMS0uMjEtLjI4NC43NS43NSAwIDAgMSAuMTctLjk0NUw2LjIzIDQuNzYyYS43NS43NSAwIDEgMSAuOTY0IDEuMTVMNC44NjMgNy44NjZoOC45MTdBLjc1Ljc1IDAgMCAxIDE0IDcuOWE0IDQgMCAxIDEtMS40NzcgNy43MThsLjM0NC0xLjQ4OWEyLjUgMi41IDAgMSAwIDEuMDk0LTQuNzNsLjAwOC0uMDMySDUuMDQyelwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE0Ljk1OCA5LjM2N2wtMi4xODkgMS44MzdhLjc1Ljc1IDAgMCAwIC45NjUgMS4xNDlsMy43ODgtMy4xOGEuNzQ3Ljc0NyAwIDAgMCAuMjEtLjI4NC43NS43NSAwIDAgMC0uMTctLjk0NUwxMy43NyA0Ljc2MmEuNzUuNzUgMCAxIDAtLjk2NCAxLjE1bDIuMzMxIDEuOTU1SDYuMjJBLjc1Ljc1IDAgMCAwIDYgNy45YTQgNCAwIDEgMCAxLjQ3NyA3LjcxOGwtLjM0NC0xLjQ4OUEyLjUgMi41IDAgMSAxIDYuMDM5IDkuNGwtLjAwOC0uMDMyaDguOTI3elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTAuMTg3IDE3SDUuNzczYy0uNjM3IDAtMS4wOTItLjEzOC0xLjM2NC0uNDE1LS4yNzMtLjI3Ny0uNDA5LS43MTgtLjQwOS0xLjMyM1Y0LjczOGMwLS42MTcuMTQtMS4wNjIuNDE5LTEuMzMyLjI3OS0uMjcuNzMtLjQwNiAxLjM1NC0uNDA2aDQuNjhjLjY5IDAgMS4yODguMDQxIDEuNzkzLjEyNC41MDYuMDgzLjk2LjI0MiAxLjM2LjQ3OC4zNDEuMTk3LjY0NC40NDcuOTA2Ljc1YTMuMjYyIDMuMjYyIDAgMCAxIC44MDggMi4xNjJjMCAxLjQwMS0uNzIyIDIuNDI2LTIuMTY3IDMuMDc1QzE1LjA1IDEwLjE3NSAxNiAxMS4zMTUgMTYgMTMuMDFhMy43NTYgMy43NTYgMCAwIDEtMi4yOTYgMy41MDQgNi4xIDYuMSAwIDAgMS0xLjUxNy4zNzdjLS41NzEuMDczLTEuMjM4LjExLTIgLjExem0tLjIxNy02LjIxN0g3djQuMDg3aDMuMDY5YzEuOTc3IDAgMi45NjUtLjY5IDIuOTY1LTIuMDcyIDAtLjcwNy0uMjU2LTEuMjItLjc2OC0xLjUzNy0uNTEyLS4zMTktMS4yNzctLjQ3OC0yLjI5Ni0uNDc4ek03IDUuMTN2My42MTloMi42MDZjLjcyOSAwIDEuMjkyLS4wNjcgMS42OS0uMmExLjYgMS42IDAgMCAwIC45MS0uNzY1Yy4xNjUtLjI2Ny4yNDctLjU2Ni4yNDctLjg5NyAwLS43MDctLjI2LTEuMTc2LS43NzgtMS40MDktLjUxOS0uMjMyLTEuMzEtLjM0OC0yLjM3NS0uMzQ4SDd6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNOS41ODYgMTQuNjMzbC4wMjEuMDA0Yy0uMDM2LjMzNS4wOTUuNjU1LjM5My45NjIuMDgyLjA4My4xNzMuMTUuMjc0LjIwMWgxLjQ3NGEuNi42IDAgMSAxIDAgMS4ySDUuMzA0YS42LjYgMCAwIDEgMC0xLjJoMS4xNWMuNDc0LS4wNy44MDktLjE4MiAxLjAwNS0uMzM0LjE1Ny0uMTIyLjI5MS0uMzIuNDA0LS41OTdsMi40MTYtOS41NWExLjA1MyAxLjA1MyAwIDAgMC0uMjgxLS44MjMgMS4xMiAxLjEyIDAgMCAwLS40NDItLjI5Nkg4LjE1YS42LjYgMCAwIDEgMC0xLjJoNi40NDNhLjYuNiAwIDEgMSAwIDEuMmgtMS4xOTVjLS4zNzYuMDU2LS42NS4xNTUtLjgyMy4yOTYtLjIxNS4xNzUtLjQyMy40MzktLjYyMy43OWwtMi4zNjYgOS4zNDd6XCIgZmlsbD1cIiMzMzNcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMyAxMC40MjNhNi41IDYuNSAwIDAgMSA2LjA1Ni02LjQwOGwuMDM4LjY3QzYuNDQ4IDUuNDIzIDUuMzU0IDcuNjYzIDUuMjIgMTBIOWMuNTUyIDAgLjUuNDMyLjUuOTg2djQuNTExYzAgLjU1NC0uNDQ4LjUwMy0xIC41MDNoLTVjLS41NTIgMC0uNS0uNDQ5LS41LTEuMDAzdi00LjAxMS0uNTYzek0xMSAxMC40MjNhNi41IDYuNSAwIDAgMSA2LjA1Ni02LjQwOGwuMDM4LjY3Yy0yLjY0Ni43MzktMy43NCAyLjk3OS0zLjg3MyA1LjMxNUgxN2MuNTUyIDAgLjUuNDMyLjUuOTg2djQuNTExYzAgLjU1NC0uNDQ4LjUwMy0xIC41MDNoLTVjLS41NTIgMC0uNS0uNDQ5LS41LTEuMDAzdi00LjAxMS0uNTYzelwiLz48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMzYpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2stY29udGVudCBibG9ja3F1b3Rle292ZXJmbG93OmhpZGRlbjtwYWRkaW5nLXJpZ2h0OjEuNWVtO3BhZGRpbmctbGVmdDoxLjVlbTttYXJnaW4tbGVmdDowO2ZvbnQtc3R5bGU6aXRhbGljO2JvcmRlci1sZWZ0OjVweCBzb2xpZCAjY2NjfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDM4KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nOnJvb3R7LS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3M6M3B4Oy0tY2stY29sb3Itd2lkZ2V0LWJvcmRlci1ibHVycmVkOiNkZWRlZGU7LS1jay1jb2xvci13aWRnZXQtYm9yZGVyLWhvdmVyOiNmZmQxNWM7LS1jay1jb2xvci13aWRnZXQtZWRpdGFibGUtZm9jdXNlZC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCksfS5jayAuY2std2lkZ2V0e21hcmdpbjp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSAwO3BhZGRpbmc6MH0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVye291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVke291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci13aWRnZXQtYm9yZGVyLWJsdXJyZWQpfS5jayAuY2std2lkZ2V0OmhvdmVye291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci13aWRnZXQtYm9yZGVyLWhvdmVyKX0uY2sgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxle2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNrIC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZS5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkLC5jayAuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGU6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWVkaXRhYmxlLWZvY3VzZWQtYmFja2dyb3VuZCl9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNDApOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc6cm9vdHstLWNrLWlucHV0LXRleHQtd2lkdGg6MThlbX0uY2suY2staW5wdXQtdGV4dHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2staW5wdXQtdGV4dCwuY2suY2staW5wdXQtdGV4dC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2staW5wdXQtdGV4dHtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW5wdXQtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1ib3JkZXIpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1leHRyYS10aW55KSB2YXIoLS1jay1zcGFjaW5nLW1lZGl1bSk7bWluLXdpZHRoOnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpO21pbi1oZWlnaHQ6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO3RyYW5zaXRpb24tcHJvcGVydHk6Ym94LXNoYWRvdyxib3JkZXI7dHJhbnNpdGlvbjouMnMgZWFzZS1pbi1vdXR9LmNrLmNrLWlucHV0LXRleHQ6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdyksdmFyKC0tY2staW5uZXItc2hhZG93KX0uY2suY2staW5wdXQtdGV4dFtyZWFkb25seV17Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtdGV4dCl9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNDIpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNDQpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stYmFsbG9vbi1wYW5lbHtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGV9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmJlZm9yZXt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVye3otaW5kZXg6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgMSl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVye3otaW5kZXg6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgMSl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVye3otaW5kZXg6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgMSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF92aXNpYmxle2Rpc3BsYXk6YmxvY2t9OnJvb3R7LS1jay1iYWxsb29uLWFycm93LW9mZnNldDoycHg7LS1jay1iYWxsb29uLWFycm93LWhlaWdodDoxMHB4Oy0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoOjhweH0uY2suY2stYmFsbG9vbi1wYW5lbHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stYmFsbG9vbi1wYW5lbCwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stYmFsbG9vbi1wYW5lbHtib3gtc2hhZG93OnZhcigtLWNrLWRyb3Atc2hhZG93KSwwIDA7bWluLWhlaWdodDoxNXB4O2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1wYW5lbC1ib3JkZXIpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle3dpZHRoOjA7aGVpZ2h0OjA7Ym9yZGVyLXN0eWxlOnNvbGlkfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle2JvcmRlci13aWR0aDowIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkgdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKTttYXJnaW4tdG9wOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXtib3JkZXItd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkgMH0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle2JvcmRlci1jb2xvcjp2YXIoLS1jay1jb2xvci1wYW5lbC1ib3JkZXIpIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50fS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTphZnRlcntib3JkZXItY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCkgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbjpiZWZvcmV7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO3RvcDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X253OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbnc6YmVmb3Jle2xlZnQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbmU6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uZTpiZWZvcmV7cmlnaHQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfczphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3M6YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0OmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTtib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3N3OmJlZm9yZXtsZWZ0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc2U6YmVmb3Jle3JpZ2h0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTUuMDg1IDYuMjJMMi45NDMgNC4wNzhhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwyLjU5MiAyLjU5QTExLjA5NCAxMS4wOTQgMCAwIDEgMTAgNS4wNjhjNC43MzggMCA4LjU3OCAzLjEwMSA4LjU3OCA1LjA4MyAwIDEuMTk3LTEuNDAxIDIuODAzLTMuNTU1IDMuODg3bDEuNzE0IDEuNzEzYS43NS43NSAwIDAgMS0uMDkgMS4xMzguNDg4LjQ4OCAwIDAgMS0uMTUuMDg0Ljc1Ljc1IDAgMCAxLS44MjEtLjE2TDYuMTcgNy4zMDRjLS4yNTguMTEtLjUxLjIzMy0uNzU3LjM2NWw2LjIzOSA2LjI0LS4wMDYuMDA1Ljc4Ljc4Yy0uMzg4LjA5NC0uNzguMTY2LTEuMTc0LjIxNWwtMS4xMS0xLjExaC4wMTFMNC41NSA4LjE5N2E3LjIgNy4yIDAgMCAwLS42NjUuNTE0bC0uMTEyLjA5OCA0Ljg5NyA0Ljg5Ny0uMDA1LjAwNiAxLjI3NiAxLjI3NmExMC4xNjQgMTAuMTY0IDAgMCAxLTEuNDc3LS4xMTdsLS40NzktLjQ3OS0uMDA5LjAwOS00Ljg2My00Ljg2My0uMDIyLjAzMWEyLjU2MyAyLjU2MyAwIDAgMC0uMTI0LjJjLS4wNDMuMDc3LS4wOC4xNTgtLjEwOC4yNDFhLjUzNC41MzQgMCAwIDAtLjAyOC4xMzMuMjkuMjkgMCAwIDAgLjAwOC4wNzIuOTI3LjkyNyAwIDAgMCAuMDgyLjIyNmMuMDY3LjEzMy4xNDUuMjYuMjM0LjM3OWwzLjI0MiAzLjM2NS4wMjUuMDEuNTkuNjIzYy0zLjI2NS0uOTE4LTUuNTktMy4xNTUtNS41OS00LjY2OCAwLTEuMTk0IDEuNDQ4LTIuODM4IDMuNjYzLTMuOTN6bTcuMDcuNTMxYTQuNjMyIDQuNjMyIDAgMCAxIDEuMTA4IDUuOTkybC4zNDUuMzQ0LjA0Ni0uMDE4YTkuMzEzIDkuMzEzIDAgMCAwIDItMS4xMTJjLjI1Ni0uMTg3LjUtLjM5Mi43MjctLjYxMy4xMzctLjEzNC4yNy0uMjc3LjM5Mi0uNDMxLjA3Mi0uMDkxLjE0MS0uMTg1LjIwMy0uMjg2LjA1Ny0uMDkzLjEwNy0uMTkuMTQ4LS4yOTJhLjcyLjcyIDAgMCAwIC4wMzYtLjEyLjI5LjI5IDAgMCAwIC4wMDgtLjA3Mi40OTIuNDkyIDAgMCAwLS4wMjgtLjEzMy45OTkuOTk5IDAgMCAwLS4wMzYtLjA5NiAyLjE2NSAyLjE2NSAwIDAgMC0uMDcxLS4xNDUgMi45MTcgMi45MTcgMCAwIDAtLjEyNS0uMiAzLjU5MiAzLjU5MiAwIDAgMC0uMjYzLS4zMzUgNS40NDQgNS40NDQgMCAwIDAtLjUzLS41MjMgNy45NTUgNy45NTUgMCAwIDAtMS4wNTQtLjc2OCA5Ljc2NiA5Ljc2NiAwIDAgMC0xLjg3OS0uODkxYy0uMzM3LS4xMTgtLjY4LS4yMTktMS4wMjctLjMwMXptLTIuODUuMjFsLS4wNjkuMDAyYS41MDguNTA4IDAgMCAwLS4yNTQuMDk3LjQ5Ni40OTYgMCAwIDAtLjEwNC42NzkuNDk4LjQ5OCAwIDAgMCAuMzI2LjE5OWwuMDQ1LjAwNWMuMDkxLjAwMy4xODEuMDAzLjI3Mi4wMTIuOS4wOTMgMS42NzYuNjc1IDIuMDE3IDEuNTEzLjAyNC4wNjEuMDQzLjEyNS4wNjkuMTg1YS40OTQuNDk0IDAgMCAwIC40NS4yODdoLjAwOGEuNDk2LjQ5NiAwIDAgMCAuMzUtLjE1OC40ODIuNDgyIDAgMCAwIC4xMy0uMzM1LjYzOC42MzggMCAwIDAtLjA0OC0uMjE5IDMuMzc5IDMuMzc5IDAgMCAwLS4zNi0uNzIzIDMuNDM4IDMuNDM4IDAgMCAwLTIuNzkxLTEuNTQzbC0uMDI4LS4wMDFoLS4wMTN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDQ3KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLWNvbnRlbnQgLmltYWdle2NsZWFyOmJvdGg7dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLWNvbnRlbnQgLmltYWdlPmltZ3tkaXNwbGF5OmJsb2NrO21hcmdpbjowIGF1dG87bWF4LXdpZHRoOjEwMCV9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTYuOTEgMTAuNTRjLjI2LS4yMy42NC0uMjEuODguMDNsMy4zNiAzLjE0IDIuMjMtMi4wNmEuNjQuNjQgMCAwIDEgLjg3IDBsMi41MiAyLjk3VjQuNUgzLjJ2MTAuMTJsMy43MS00LjA4em0xMC4yNy03LjUxYy42IDAgMS4wOS40NyAxLjA5IDEuMDV2MTEuODRjMCAuNTktLjQ5IDEuMDYtMS4wOSAxLjA2SDIuNzljLS42IDAtMS4wOS0uNDctMS4wOS0xLjA2VjQuMDhjMC0uNTguNDktMS4wNSAxLjEtMS4wNWgxNC4zOHptLTUuMjIgNS41NmExLjk2IDEuOTYgMCAxIDEgMy40LTEuOTYgMS45NiAxLjk2IDAgMCAxLTMuNCAxLjk2elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz5cXG4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNzAwIDI1MFwiPjxnIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxyZWN0IHdpZHRoPVwiNzAwXCIgaGVpZ2h0PVwiMjUwXCIgZmlsbD1cIiNGQUZBRkFcIiByeD1cIjRcIi8+PHRleHQgZmlsbD1cIiM1RjZGNzdcIiBmb250LWZhbWlseT1cIkFyaWFsLHNhbnMtc2VyaWZcIiBmb250LXNpemU9XCIyNFwiPjx0c3BhbiB4PVwiMjQ3LjlcIiB5PVwiMTM1XCI+VXBsb2FkaW5nIGltYWdlXFx1MjAyNjwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg1MSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay1jb250ZW50IC5pbWFnZXtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW59LmNrLWNvbnRlbnQgLmltYWdlLmNrLWluZmluaXRlLXByb2dyZXNzOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MH0uY2stY29udGVudCAuaW1hZ2UgLmNrLXByb2dyZXNzLWJhcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjB9OnJvb3R7LS1jay1pbWFnZS11cGxvYWQtcHJvZ3Jlc3MtbGluZS13aWR0aDozMHB4fS5jay1jb250ZW50IC5pbWFnZS5jay1hcHBlYXJ7YW5pbWF0aW9uOmZhZGVJbiAuN3N9LmNrLWNvbnRlbnQgLmltYWdlLmNrLWluZmluaXRlLXByb2dyZXNzOmJlZm9yZXt3aWR0aDp2YXIoLS1jay1pbWFnZS11cGxvYWQtcHJvZ3Jlc3MtbGluZS13aWR0aCk7aGVpZ2h0OjJweDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXVwbG9hZC1pbmZpbml0ZS1iYWNrZ3JvdW5kKTthbmltYXRpb24tbmFtZTpyZWFkaW5nUHJvZ3Jlc3NBbmltYXRpb247YW5pbWF0aW9uLWR1cmF0aW9uOjEuNXM7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXJ9LmNrLWNvbnRlbnQgLmltYWdlLmNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcj5pbWd7d2lkdGg6MTAwJX0uY2stY29udGVudCAuaW1hZ2UgLmNrLXByb2dyZXNzLWJhcntoZWlnaHQ6MnB4O3dpZHRoOjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci11cGxvYWQtYmFyLWJhY2tncm91bmQpO3RyYW5zaXRpb246d2lkdGggLjFzfUBrZXlmcmFtZXMgZmFkZUluezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fUBrZXlmcmFtZXMgcmVhZGluZ1Byb2dyZXNzQW5pbWF0aW9uezAle3dpZHRoOnZhcigtLWNrLWltYWdlLXVwbG9hZC1wcm9ncmVzcy1saW5lLXdpZHRoKTtyaWdodDowfTUwJXt3aWR0aDpjYWxjKHZhcigtLWNrLWltYWdlLXVwbG9hZC1wcm9ncmVzcy1saW5lLXdpZHRoKSAqIDEuNSl9dG97cmlnaHQ6MTAwJX19J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNTMpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb257ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtyaWdodDoxMHB4O2JvcmRlci1yYWRpdXM6NTAlfS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbjphZnRlcntjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGV9OnJvb3R7LS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbjojZmZmOy0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24tYmFja2dyb3VuZDojMDA4YTAwOy0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZToxLjI1ZW07LS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aDoycHh9LmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29ue3dpZHRoOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplKTtvcGFjaXR5OjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbi1iYWNrZ3JvdW5kKTthbmltYXRpb24tbmFtZTpjay11cGxvYWQtY29tcGxldGUtaWNvbi1zaG93LGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWhpZGU7YW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkcyxmb3J3YXJkczthbmltYXRpb24tZHVyYXRpb246LjVzLC41czthbmltYXRpb24tZGVsYXk6MG1zLDNzfS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbjphZnRlcntsZWZ0OjI1JTt0b3A6NTAlO29wYWNpdHk6MDtoZWlnaHQ6MDt3aWR0aDowO3RyYW5zZm9ybTpzY2FsZVgoLTEpIHJvdGF0ZSgxMzVkZWcpO3RyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7Ym9yZGVyLXRvcDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aCkgc29saWQgdmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24pO2JvcmRlci1yaWdodDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aCkgc29saWQgdmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24pO2FuaW1hdGlvbi1uYW1lOmNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWNoZWNrO2FuaW1hdGlvbi1kdXJhdGlvbjouNXM7YW5pbWF0aW9uLWRlbGF5Oi41czthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfUBrZXlmcmFtZXMgY2stdXBsb2FkLWNvbXBsZXRlLWljb24tc2hvd3swJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWhpZGV7MCV7b3BhY2l0eToxfXRve29wYWNpdHk6MH19QGtleWZyYW1lcyBjay11cGxvYWQtY29tcGxldGUtaWNvbi1jaGVja3swJXtvcGFjaXR5OjE7aGVpZ2h0OjA7d2lkdGg6MH0zMyV7d2lkdGg6LjI1ZW07aGVpZ2h0OjB9dG97d2lkdGg6LjI1ZW07aGVpZ2h0Oi40MTZlbTtvcGFjaXR5OjF9fSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDU1KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWRyb3Bkb3due2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTUwJSwwKX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9ue3dpZHRoOjEwMCV9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbi5jay1vbiAuY2stdG9vbHRpcHtkaXNwbGF5Om5vbmV9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWx7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjtkaXNwbGF5Om5vbmU7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKTtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWwtdmlzaWJsZXtkaXNwbGF5OmlubGluZS1ibG9jazt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19OnJvb3R7LS1jay1kcm9wZG93bi1hcnJvdy1zaXplOmNhbGMoMC41ICogdmFyKC0tY2staWNvbi1zaXplKSl9LmNrLmNrLWRyb3Bkb3due2ZvbnQtc2l6ZTppbmhlcml0fS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e3JpZ2h0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO3dpZHRoOnZhcigtLWNrLWRyb3Bkb3duLWFycm93LXNpemUpfS5jay5jay1kcm9wZG93bi5jay1kaXNhYmxlZCAuY2stZHJvcGRvd25fX2Fycm93e29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbntwYWRkaW5nLXJpZ2h0OmNhbGMoMi41ICogdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtwYWRkaW5nLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stb257Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbiAuY2stYnV0dG9uX19sYWJlbHt3aWR0aDo3ZW07b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmNrLmNrLWRyb3Bkb3duX19wYW5lbHtib3JkZXItcmFkaXVzOjA7Ym94LXNoYWRvdzp2YXIoLS1jay1kcm9wLXNoYWRvdyksMCAwfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duX19wYW5lbCwuY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd25fX3BhbmVse2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXIpO2JvdHRvbTowO21pbi13aWR0aDoxMDAlfSd9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNLjk0MSA0LjUyM2EuNzUuNzUgMCAxIDEgMS4wNi0xLjA2bDMuMDA2IDMuMDA1IDMuMDA1LTMuMDA1YS43NS43NSAwIDEgMSAxLjA2IDEuMDZsLTMuNTQ5IDMuNTVhLjc1Ljc1IDAgMCAxLTEuMTY4LS4xMzZMLjk0MSA0LjUyM3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNTgpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stbGlzdHstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3ZlcmZsb3c6aGlkZGVufS5jay5jay1saXN0IC5jay1saXN0X19pdGVtLC5jay5jay1saXN0IC5jay1saXN0X19zZXBhcmF0b3J7ZGlzcGxheTpibG9ja30uY2suY2stbGlzdCAuY2stbGlzdF9faXRlbTpmb2N1c3twb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWxpc3R7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWxpc3QsLmNrLmNrLWxpc3QuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWxpc3R7bGlzdC1zdHlsZS10eXBlOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJhY2tncm91bmQpfS5jay5jay1saXN0X19pdGVte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2N1cnNvcjpkZWZhdWx0O21pbi13aWR0aDoxMmVtfS5jay5jay1saXN0X19pdGVtOmZvY3VzLC5jay5jay1saXN0X19pdGVtOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1pdGVtLWJhY2tncm91bmQtaG92ZXIpfS5jay5jay1saXN0X19pdGVtOmZvY3Vze2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93KSwwIDA7b3V0bGluZTpub25lfS5jay5jay1saXN0X19pdGVtLmNrLWRpc2FibGVke29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWxpc3RfX2l0ZW1fYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1pdGVtLWJhY2tncm91bmQtYWN0aXZlKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saXN0LWl0ZW0tdGV4dC1hY3RpdmUpfS5jay5jay1saXN0X19pdGVtX2FjdGl2ZTpmb2N1cywuY2suY2stbGlzdF9faXRlbV9hY3RpdmU6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWl0ZW0tYmFja2dyb3VuZC1hY3RpdmUtZm9jdXMpfS5jay5jay1saXN0X19zZXBhcmF0b3J7aGVpZ2h0OjFweDt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDYwKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLXRvb2xiYXJ7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1idXR0b246Zm9jdXN7ei1pbmRleDpjYWxjKHZhcigtLWNrLXotZGVmYXVsdCkgKyAxKX0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stdG9vbGJhcntib3JkZXI6MH0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg2Mik7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdD4uY2stbGlzdF9faXRlbXtsaW5lLWhlaWdodDpjYWxjKC44KnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSk7cGFkZGluZzpjYWxjKC40KnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2staGVhZGluZ19oZWFkaW5nMXtmb250LXNpemU6MjBweH0uY2suY2staGVhZGluZ19oZWFkaW5nMntmb250LXNpemU6MTdweH0uY2suY2staGVhZGluZ19oZWFkaW5nM3tmb250LXNpemU6MTRweH0uY2tbY2xhc3MqPWNrLWhlYWRpbmdfaGVhZGluZ117Zm9udC13ZWlnaHQ6NzAwfS5jay5jay1kcm9wZG93bi5jay1oZWFkaW5nLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fYnV0dG9uIC5jay1idXR0b25fX2xhYmVse3dpZHRoOjhlbX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg2NSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1wbGFjZWhvbGRlcjpiZWZvcmUsLmNrIC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO3BvaW50ZXItZXZlbnRzOm5vbmU7Y3Vyc29yOnRleHQ7Y29sb3I6dmFyKC0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDY3KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLWNvbnRlbnQgLmltYWdlPmZpZ2NhcHRpb257Y29sb3I6IzMzMztiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjc7cGFkZGluZzouNmVtO2ZvbnQtc2l6ZTouNzVlbTtvdXRsaW5lLW9mZnNldDotMXB4fSd9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCI+PHBhdGggZD1cIk0yIDQuNVYzaDE2djEuNXpNNC41IDcuNVYxMmgxMVY3LjVoLTExek00LjA2MSA2SDE1Ljk0Yy41ODYgMCAxLjA2MS40MDcgMS4wNjEuOTF2NS42OGMwIC41MDMtLjQ3NS45MS0xLjA2MS45MUg0LjA2QzMuNDc1IDEzLjUgMyAxMy4wOTMgMyAxMi41OVY2LjkxQzMgNi40MDYgMy40NzUgNiA0LjA2MSA2ek0yIDE2LjVWMTVoMTZ2MS41elwiLz48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMS40MTRcIj48cGF0aCBkPVwiTTE4IDQuNVYzSDJ2MS41aDE2em0wIDNWNmgtNS42NzR2MS41SDE4em0wIDNWOWgtNS42NzR2MS41SDE4em0wIDNWMTJoLTUuNjc0djEuNUgxOHptLTguNS02VjEyaC02VjcuNWg2em0uODE4LTEuNUgyLjY4MkMyLjMwNSA2IDIgNi40MDcgMiA2LjkxdjUuNjhjMCAuNTAzLjMwNS45MS42ODIuOTFoNy42MzZjLjM3NyAwIC42ODItLjQwNy42ODItLjkxVjYuOTFjMC0uNTAzLS4zMDUtLjkxLS42ODItLjkxek0xOCAxNi41VjE1SDJ2MS41aDE2elwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj48cGF0aCBkPVwiTTIgNC41VjNoMTZ2MS41ek02LjUgNy41VjEyaDdWNy41aC03ek01Ljc1OCA2aDguNDg0Yy40MTkgMCAuNzU4LjQwNy43NTguOTF2NS42ODFjMCAuNTAyLS4zNC45MDktLjc1OC45MDlINS43NThjLS40MTkgMC0uNzU4LS40MDctLjc1OC0uOTFWNi45MWMwLS41MDMuMzQtLjkxLjc1OC0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6TTIgNy41VjZoNS42NzR2MS41ek0yIDEwLjVWOWg1LjY3NHYxLjV6TTIgMTMuNVYxMmg1LjY3NHYxLjV6TTEwLjUgNy41VjEyaDZWNy41aC02ek05LjY4MiA2aDcuNjM2Yy4zNzcgMCAuNjgyLjQwNy42ODIuOTF2NS42OGMwIC41MDMtLjMwNS45MS0uNjgyLjkxSDkuNjgyYy0uMzc3IDAtLjY4Mi0uNDA3LS42ODItLjkxVjYuOTFjMC0uNTAzLjMwNS0uOTEuNjgyLS45MXpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDczKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nOnJvb3R7LS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nOjEuNWVtfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXIsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnQsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLXJpZ2h0LC5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1zaWRle21heC13aWR0aDo1MCV9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLXNpZGV7ZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnR7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWNlbnRlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1yaWdodHtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg3NSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jayAuY2stbGlua19zZWxlY3RlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpbmstc2VsZWN0ZWQtYmFja2dyb3VuZCl9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNzcpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGluay1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLWxpbmstZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTVjLjAyLS4wOTUuMDYtLjE4OS4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6TTE2LjkyNyAxNy42OTVsLTEuNDE0IDEuNDE0YS43NS43NSAwIDEgMS0xLjA2LTEuMDZsMS40MTQtMS40MTUtMS40MTUtMS40MTRhLjc1Ljc1IDAgMCAxIDEuMDYxLTEuMDZsMS40MTQgMS40MTQgMS40MTQtMS40MTVhLjc1Ljc1IDAgMCAxIDEuMDYxIDEuMDYxbC0xLjQxNCAxLjQxNCAxLjQxNCAxLjQxNWEuNzUuNzUgMCAwIDEtMS4wNiAxLjA2bC0xLjQxNS0xLjQxNHpcIi8+PC9nPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNy4zIDE3LjM3bC0uMDYxLjA4OGExLjUxOCAxLjUxOCAwIDAgMS0uOTM0LjUzNWwtNC4xNzguNjYzLS44MDYtNC4xNTNhMS40OTUgMS40OTUgMCAwIDEgLjE4Ny0xLjA1OGwuMDU2LS4wODZMOC43NyAyLjYzOWMuOTU4LTEuMzUxIDIuODAzLTEuMDc2IDQuMjk2LS4wMyAxLjQ5NyAxLjA0NyAyLjM4NyAyLjY5MyAxLjQzMyA0LjA1NUw3LjMgMTcuMzd6TTkuMTQgNC43MjhsLTUuNTQ1IDguMzQ2IDMuMjc3IDIuMjk0IDUuNTQ0LTguMzQ2TDkuMTQgNC43Mjh6TTYuMDcgMTYuNTEybC0zLjI3Ni0yLjI5NS41MyAyLjczIDIuNzQ2LS40MzV6TTkuOTk0IDMuNTA2TDEzLjI3MSA1LjhjLjMxNi0uNDUyLS4xNi0xLjMzMy0xLjA2NS0xLjk2Ni0uOTA1LS42MzQtMS44OTUtLjc4LTIuMjEyLS4zMjh6TTggMTguNUw5LjM3NSAxN0gxOXYxLjVIOHpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oODEpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stbGluay1hY3Rpb25zIC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVse292ZXJmbG93OmhpZGRlbn0uY2suY2stbGluay1hY3Rpb25ze3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlld3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjB9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZSwuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzLC5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6aG92ZXJ7YmFja2dyb3VuZDpub25lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6YWN0aXZle2JveC1zaGFkb3c6bm9uZX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzIC5jay1idXR0b25fX2xhYmVse3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbHtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2NvbG9yOnZhcigtLWNrLWNvbG9yLWxpbmstZGVmYXVsdCk7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztjdXJzb3I6cG9pbnRlcjttYXgtd2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCk7bWluLXdpZHRoOjNlbTt0ZXh0LWFsaWduOmNlbnRlcn0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVsOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLmNrLWxpbmstYWN0aW9uczpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLWxpbmstYWN0aW9ucz46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTVjLjAyLS4wOTUuMDYtLjE4OS4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6TTMuNSAzdjVIMlYzLjdIMXYtMWgyLjVWM3pNLjM0MyAxNy44NTdsMi41OS0zLjI1N0gyLjkyYS42LjYgMCAxIDAtMS4wNCAwSC4zMDJhMiAyIDAgMSAxIDMuOTk1IDBoLS4wMDFjLS4wNDguNDA1LS4xNi43MzQtLjMzMy45ODgtLjE3NS4yNTQtLjU5LjY5Mi0xLjI0NCAxLjMxMkg0LjN2MWgtNGwuMDQzLS4wNDN6TTcgMTQuNzVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoOS41YS43NS43NSAwIDEgMSAwIDEuNWgtOS41YS43NS43NSAwIDAgMS0uNzUtLjc1elwiIGZpbGw9XCIjNDU0NTQ1XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcgNS43NWMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuNWEuNzUuNzUgMCAxIDAgMC0xLjVoLTkuNWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0tNiAwQzEgNC43ODQgMS43NzcgNCAyLjc1IDRjLjk2NiAwIDEuNzUuNzc3IDEuNzUgMS43NSAwIC45NjYtLjc3NyAxLjc1LTEuNzUgMS43NUMxLjc4NCA3LjUgMSA2LjcyMyAxIDUuNzV6bTYgOWMwIC40MTQuMzM2Ljc1Ljc1Ljc1aDkuNWEuNzUuNzUgMCAxIDAgMC0xLjVoLTkuNWEuNzUuNzUgMCAwIDAtLjc1Ljc1em0tNiAwYzAtLjk2Ni43NzctMS43NSAxLjc1LTEuNzUuOTY2IDAgMS43NS43NzcgMS43NSAxLjc1IDAgLjk2Ni0uNzc3IDEuNzUtMS43NSAxLjc1LS45NjYgMC0xLjc1LS43NzctMS43NS0xLjc1elwiIGZpbGw9XCIjNDU0NTQ1XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfV0pWydkZWZhdWx0J119KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNrZWRpdG9yLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYy9idWlsZC9ja2VkaXRvci5qc1xuLy8gbW9kdWxlIGlkID0gLi9ub2RlX21vZHVsZXMvQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljL2J1aWxkL2NrZWRpdG9yLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gNCJdLCJzb3VyY2VSb290IjoiIn0=